function mH(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ha(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function gH(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var i=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,i.get?i:{enumerable:!0,get:function(){return r[n]}})}),t}var x1={exports:{}},gg={},_1={exports:{}},Jr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vP;function vH(){if(vP)return Jr;vP=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),h=Symbol.iterator;function f(ee){return ee===null||typeof ee!="object"?null:(ee=h&&ee[h]||ee["@@iterator"],typeof ee=="function"?ee:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function _(ee,pe,ve){this.props=ee,this.context=pe,this.refs=y,this.updater=ve||g}_.prototype.isReactComponent={},_.prototype.setState=function(ee,pe){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,pe,"setState")},_.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function C(){}C.prototype=_.prototype;function k(ee,pe,ve){this.props=ee,this.context=pe,this.refs=y,this.updater=ve||g}var D=k.prototype=new C;D.constructor=k,v(D,_.prototype),D.isPureReactComponent=!0;var I=Array.isArray,A=Object.prototype.hasOwnProperty,R={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function U(ee,pe,ve){var _e,Le={},Re=null,ot=null;if(pe!=null)for(_e in pe.ref!==void 0&&(ot=pe.ref),pe.key!==void 0&&(Re=""+pe.key),pe)A.call(pe,_e)&&!N.hasOwnProperty(_e)&&(Le[_e]=pe[_e]);var ze=arguments.length-2;if(ze===1)Le.children=ve;else if(1<ze){for(var mt=Array(ze),Je=0;Je<ze;Je++)mt[Je]=arguments[Je+2];Le.children=mt}if(ee&&ee.defaultProps)for(_e in ze=ee.defaultProps,ze)Le[_e]===void 0&&(Le[_e]=ze[_e]);return{$$typeof:r,type:ee,key:Re,ref:ot,props:Le,_owner:R.current}}function F(ee,pe){return{$$typeof:r,type:ee.type,key:pe,ref:ee.ref,props:ee.props,_owner:ee._owner}}function w(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===r}function $(ee){var pe={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(ve){return pe[ve]})}var H=/\/+/g;function W(ee,pe){return typeof ee=="object"&&ee!==null&&ee.key!=null?$(""+ee.key):pe.toString(36)}function Q(ee,pe,ve,_e,Le){var Re=typeof ee;(Re==="undefined"||Re==="boolean")&&(ee=null);var ot=!1;if(ee===null)ot=!0;else switch(Re){case"string":case"number":ot=!0;break;case"object":switch(ee.$$typeof){case r:case e:ot=!0}}if(ot)return ot=ee,Le=Le(ot),ee=_e===""?"."+W(ot,0):_e,I(Le)?(ve="",ee!=null&&(ve=ee.replace(H,"$&/")+"/"),Q(Le,pe,ve,"",function(Je){return Je})):Le!=null&&(w(Le)&&(Le=F(Le,ve+(!Le.key||ot&&ot.key===Le.key?"":(""+Le.key).replace(H,"$&/")+"/")+ee)),pe.push(Le)),1;if(ot=0,_e=_e===""?".":_e+":",I(ee))for(var ze=0;ze<ee.length;ze++){Re=ee[ze];var mt=_e+W(Re,ze);ot+=Q(Re,pe,ve,mt,Le)}else if(mt=f(ee),typeof mt=="function")for(ee=mt.call(ee),ze=0;!(Re=ee.next()).done;)Re=Re.value,mt=_e+W(Re,ze++),ot+=Q(Re,pe,ve,mt,Le);else if(Re==="object")throw pe=String(ee),Error("Objects are not valid as a React child (found: "+(pe==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":pe)+"). If you meant to render a collection of children, use an array instead.");return ot}function te(ee,pe,ve){if(ee==null)return ee;var _e=[],Le=0;return Q(ee,_e,"","",function(Re){return pe.call(ve,Re,Le++)}),_e}function oe(ee){if(ee._status===-1){var pe=ee._result;pe=pe(),pe.then(function(ve){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=ve)},function(ve){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=ve)}),ee._status===-1&&(ee._status=0,ee._result=pe)}if(ee._status===1)return ee._result.default;throw ee._result}var de={current:null},le={transition:null},ae={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:le,ReactCurrentOwner:R};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Jr.Children={map:te,forEach:function(ee,pe,ve){te(ee,function(){pe.apply(this,arguments)},ve)},count:function(ee){var pe=0;return te(ee,function(){pe++}),pe},toArray:function(ee){return te(ee,function(pe){return pe})||[]},only:function(ee){if(!w(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}},Jr.Component=_,Jr.Fragment=t,Jr.Profiler=i,Jr.PureComponent=k,Jr.StrictMode=n,Jr.Suspense=l,Jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Jr.act=ie,Jr.cloneElement=function(ee,pe,ve){if(ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+ee+".");var _e=v({},ee.props),Le=ee.key,Re=ee.ref,ot=ee._owner;if(pe!=null){if(pe.ref!==void 0&&(Re=pe.ref,ot=R.current),pe.key!==void 0&&(Le=""+pe.key),ee.type&&ee.type.defaultProps)var ze=ee.type.defaultProps;for(mt in pe)A.call(pe,mt)&&!N.hasOwnProperty(mt)&&(_e[mt]=pe[mt]===void 0&&ze!==void 0?ze[mt]:pe[mt])}var mt=arguments.length-2;if(mt===1)_e.children=ve;else if(1<mt){ze=Array(mt);for(var Je=0;Je<mt;Je++)ze[Je]=arguments[Je+2];_e.children=ze}return{$$typeof:r,type:ee.type,key:Le,ref:Re,props:_e,_owner:ot}},Jr.createContext=function(ee){return ee={$$typeof:a,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},ee.Provider={$$typeof:s,_context:ee},ee.Consumer=ee},Jr.createElement=U,Jr.createFactory=function(ee){var pe=U.bind(null,ee);return pe.type=ee,pe},Jr.createRef=function(){return{current:null}},Jr.forwardRef=function(ee){return{$$typeof:o,render:ee}},Jr.isValidElement=w,Jr.lazy=function(ee){return{$$typeof:c,_payload:{_status:-1,_result:ee},_init:oe}},Jr.memo=function(ee,pe){return{$$typeof:u,type:ee,compare:pe===void 0?null:pe}},Jr.startTransition=function(ee){var pe=le.transition;le.transition={};try{ee()}finally{le.transition=pe}},Jr.unstable_act=ie,Jr.useCallback=function(ee,pe){return de.current.useCallback(ee,pe)},Jr.useContext=function(ee){return de.current.useContext(ee)},Jr.useDebugValue=function(){},Jr.useDeferredValue=function(ee){return de.current.useDeferredValue(ee)},Jr.useEffect=function(ee,pe){return de.current.useEffect(ee,pe)},Jr.useId=function(){return de.current.useId()},Jr.useImperativeHandle=function(ee,pe,ve){return de.current.useImperativeHandle(ee,pe,ve)},Jr.useInsertionEffect=function(ee,pe){return de.current.useInsertionEffect(ee,pe)},Jr.useLayoutEffect=function(ee,pe){return de.current.useLayoutEffect(ee,pe)},Jr.useMemo=function(ee,pe){return de.current.useMemo(ee,pe)},Jr.useReducer=function(ee,pe,ve){return de.current.useReducer(ee,pe,ve)},Jr.useRef=function(ee){return de.current.useRef(ee)},Jr.useState=function(ee){return de.current.useState(ee)},Jr.useSyncExternalStore=function(ee,pe,ve){return de.current.useSyncExternalStore(ee,pe,ve)},Jr.useTransition=function(){return de.current.useTransition()},Jr.version="18.3.1",Jr}var yP;function IE(){return yP||(yP=1,_1.exports=vH()),_1.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function yH(){if(xP)return gg;xP=1;var r=IE(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,u){var c,h={},f=null,g=null;u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),l.ref!==void 0&&(g=l.ref);for(c in l)n.call(l,c)&&!s.hasOwnProperty(c)&&(h[c]=l[c]);if(o&&o.defaultProps)for(c in l=o.defaultProps,l)h[c]===void 0&&(h[c]=l[c]);return{$$typeof:e,type:o,key:f,ref:g,props:h,_owner:i.current}}return gg.Fragment=t,gg.jsx=a,gg.jsxs=a,gg}var _P;function xH(){return _P||(_P=1,x1.exports=yH()),x1.exports}var P=xH(),M=IE();const Yr=ha(M),b_=mH({__proto__:null,default:Yr},[M]);var Cy={},b1={exports:{}},Ia={},S1={exports:{}},T1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bP;function _H(){return bP||(bP=1,(function(r){function e(le,ae){var ie=le.length;le.push(ae);e:for(;0<ie;){var ee=ie-1>>>1,pe=le[ee];if(0<i(pe,ae))le[ee]=ae,le[ie]=pe,ie=ee;else break e}}function t(le){return le.length===0?null:le[0]}function n(le){if(le.length===0)return null;var ae=le[0],ie=le.pop();if(ie!==ae){le[0]=ie;e:for(var ee=0,pe=le.length,ve=pe>>>1;ee<ve;){var _e=2*(ee+1)-1,Le=le[_e],Re=_e+1,ot=le[Re];if(0>i(Le,ie))Re<pe&&0>i(ot,Le)?(le[ee]=ot,le[Re]=ie,ee=Re):(le[ee]=Le,le[_e]=ie,ee=_e);else if(Re<pe&&0>i(ot,ie))le[ee]=ot,le[Re]=ie,ee=Re;else break e}}return ae}function i(le,ae){var ie=le.sortIndex-ae.sortIndex;return ie!==0?ie:le.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,f=3,g=!1,v=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(le){for(var ae=t(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=le)n(u),ae.sortIndex=ae.expirationTime,e(l,ae);else break;ae=t(u)}}function I(le){if(y=!1,D(le),!v)if(t(l)!==null)v=!0,oe(A);else{var ae=t(u);ae!==null&&de(I,ae.startTime-le)}}function A(le,ae){v=!1,y&&(y=!1,C(U),U=-1),g=!0;var ie=f;try{for(D(ae),h=t(l);h!==null&&(!(h.expirationTime>ae)||le&&!$());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var pe=ee(h.expirationTime<=ae);ae=r.unstable_now(),typeof pe=="function"?h.callback=pe:h===t(l)&&n(l),D(ae)}else n(l);h=t(l)}if(h!==null)var ve=!0;else{var _e=t(u);_e!==null&&de(I,_e.startTime-ae),ve=!1}return ve}finally{h=null,f=ie,g=!1}}var R=!1,N=null,U=-1,F=5,w=-1;function $(){return!(r.unstable_now()-w<F)}function H(){if(N!==null){var le=r.unstable_now();w=le;var ae=!0;try{ae=N(!0,le)}finally{ae?W():(R=!1,N=null)}}else R=!1}var W;if(typeof k=="function")W=function(){k(H)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,te=Q.port2;Q.port1.onmessage=H,W=function(){te.postMessage(null)}}else W=function(){_(H,0)};function oe(le){N=le,R||(R=!0,W())}function de(le,ae){U=_(function(){le(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(le){le.callback=null},r.unstable_continueExecution=function(){v||g||(v=!0,oe(A))},r.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<le?Math.floor(1e3/le):5},r.unstable_getCurrentPriorityLevel=function(){return f},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(le){switch(f){case 1:case 2:case 3:var ae=3;break;default:ae=f}var ie=f;f=ae;try{return le()}finally{f=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(le,ae){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ie=f;f=le;try{return ae()}finally{f=ie}},r.unstable_scheduleCallback=function(le,ae,ie){var ee=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ee+ie:ee):ie=ee,le){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ie+pe,le={id:c++,callback:ae,priorityLevel:le,startTime:ie,expirationTime:pe,sortIndex:-1},ie>ee?(le.sortIndex=ie,e(u,le),t(l)===null&&le===t(u)&&(y?(C(U),U=-1):y=!0,de(I,ie-ee))):(le.sortIndex=pe,e(l,le),v||g||(v=!0,oe(A))),le},r.unstable_shouldYield=$,r.unstable_wrapCallback=function(le){var ae=f;return function(){var ie=f;f=ae;try{return le.apply(this,arguments)}finally{f=ie}}}})(T1)),T1}var SP;function bH(){return SP||(SP=1,S1.exports=_H()),S1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TP;function SH(){if(TP)return Ia;TP=1;var r=IE(),e=bH();function t(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,T=1;T<arguments.length;T++)m+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,m){a(d,m),a(d+"Capture",m)}function a(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c={},h={};function f(d){return l.call(h,d)?!0:l.call(c,d)?!1:u.test(d)?h[d]=!0:(c[d]=!0,!1)}function g(d,m,T,O){if(T!==null&&T.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return O?!1:T!==null?!T.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function v(d,m,T,O){if(m===null||typeof m>"u"||g(d,m,T,O))return!0;if(O)return!1;if(T!==null)switch(T.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,T,O,j,K,ce){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=O,this.attributeNamespace=j,this.mustUseProperty=T,this.propertyName=d,this.type=m,this.sanitizeURL=K,this.removeEmptyString=ce}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];_[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(C,k);_[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(C,k);_[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(C,k);_[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function D(d,m,T,O){var j=_.hasOwnProperty(m)?_[m]:null;(j!==null?j.type!==0:O||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(v(m,T,j,O)&&(T=null),O||j===null?f(m)&&(T===null?d.removeAttribute(m):d.setAttribute(m,""+T)):j.mustUseProperty?d[j.propertyName]=T===null?j.type===3?!1:"":T:(m=j.attributeName,O=j.attributeNamespace,T===null?d.removeAttribute(m):(j=j.type,T=j===3||j===4&&T===!0?"":""+T,O?d.setAttributeNS(O,m,T):d.setAttribute(m,T))))}var I=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),$=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),le=Symbol.iterator;function ae(d){return d===null||typeof d!="object"?null:(d=le&&d[le]||d["@@iterator"],typeof d=="function"?d:null)}var ie=Object.assign,ee;function pe(d){if(ee===void 0)try{throw Error()}catch(T){var m=T.stack.trim().match(/\n( *(at )?)/);ee=m&&m[1]||""}return`
`+ee+d}var ve=!1;function _e(d,m){if(!d||ve)return"";ve=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(rt){var O=rt}Reflect.construct(d,[],m)}else{try{m.call()}catch(rt){O=rt}d.call(m.prototype)}else{try{throw Error()}catch(rt){O=rt}d()}}catch(rt){if(rt&&O&&typeof rt.stack=="string"){for(var j=rt.stack.split(`
`),K=O.stack.split(`
`),ce=j.length-1,Ce=K.length-1;1<=ce&&0<=Ce&&j[ce]!==K[Ce];)Ce--;for(;1<=ce&&0<=Ce;ce--,Ce--)if(j[ce]!==K[Ce]){if(ce!==1||Ce!==1)do if(ce--,Ce--,0>Ce||j[ce]!==K[Ce]){var Ie=`
`+j[ce].replace(" at new "," at ");return d.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",d.displayName)),Ie}while(1<=ce&&0<=Ce);break}}}finally{ve=!1,Error.prepareStackTrace=T}return(d=d?d.displayName||d.name:"")?pe(d):""}function Le(d){switch(d.tag){case 5:return pe(d.type);case 16:return pe("Lazy");case 13:return pe("Suspense");case 19:return pe("SuspenseList");case 0:case 2:case 15:return d=_e(d.type,!1),d;case 11:return d=_e(d.type.render,!1),d;case 1:return d=_e(d.type,!0),d;default:return""}}function Re(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case N:return"Fragment";case R:return"Portal";case F:return"Profiler";case U:return"StrictMode";case W:return"Suspense";case Q:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case $:return(d.displayName||"Context")+".Consumer";case w:return(d._context.displayName||"Context")+".Provider";case H:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case te:return m=d.displayName||null,m!==null?m:Re(d.type)||"Memo";case oe:m=d._payload,d=d._init;try{return Re(d(m))}catch{}}return null}function ot(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(m);case 8:return m===U?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ze(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function mt(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Je(d){var m=mt(d)?"checked":"value",T=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),O=""+d[m];if(!d.hasOwnProperty(m)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var j=T.get,K=T.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return j.call(this)},set:function(ce){O=""+ce,K.call(this,ce)}}),Object.defineProperty(d,m,{enumerable:T.enumerable}),{getValue:function(){return O},setValue:function(ce){O=""+ce},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Pt(d){d._valueTracker||(d._valueTracker=Je(d))}function Rt(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var T=m.getValue(),O="";return d&&(O=mt(d)?d.checked?"true":"false":d.value),d=O,d!==T?(m.setValue(d),!0):!1}function Ve(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Ne(d,m){var T=m.checked;return ie({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:T??d._wrapperState.initialChecked})}function et(d,m){var T=m.defaultValue==null?"":m.defaultValue,O=m.checked!=null?m.checked:m.defaultChecked;T=ze(m.value!=null?m.value:T),d._wrapperState={initialChecked:O,initialValue:T,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function at(d,m){m=m.checked,m!=null&&D(d,"checked",m,!1)}function Me(d,m){at(d,m);var T=ze(m.value),O=m.type;if(T!=null)O==="number"?(T===0&&d.value===""||d.value!=T)&&(d.value=""+T):d.value!==""+T&&(d.value=""+T);else if(O==="submit"||O==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?qe(d,m.type,T):m.hasOwnProperty("defaultValue")&&qe(d,m.type,ze(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function $e(d,m,T){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var O=m.type;if(!(O!=="submit"&&O!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,T||m===d.value||(d.value=m),d.defaultValue=m}T=d.name,T!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,T!==""&&(d.name=T)}function qe(d,m,T){(m!=="number"||Ve(d.ownerDocument)!==d)&&(T==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+T&&(d.defaultValue=""+T))}var Ye=Array.isArray;function vt(d,m,T,O){if(d=d.options,m){m={};for(var j=0;j<T.length;j++)m["$"+T[j]]=!0;for(T=0;T<d.length;T++)j=m.hasOwnProperty("$"+d[T].value),d[T].selected!==j&&(d[T].selected=j),j&&O&&(d[T].defaultSelected=!0)}else{for(T=""+ze(T),m=null,j=0;j<d.length;j++){if(d[j].value===T){d[j].selected=!0,O&&(d[j].defaultSelected=!0);return}m!==null||d[j].disabled||(m=d[j])}m!==null&&(m.selected=!0)}}function ut(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function gr(d,m){var T=m.value;if(T==null){if(T=m.children,m=m.defaultValue,T!=null){if(m!=null)throw Error(t(92));if(Ye(T)){if(1<T.length)throw Error(t(93));T=T[0]}m=T}m==null&&(m=""),T=m}d._wrapperState={initialValue:ze(T)}}function hr(d,m){var T=ze(m.value),O=ze(m.defaultValue);T!=null&&(T=""+T,T!==d.value&&(d.value=T),m.defaultValue==null&&d.defaultValue!==T&&(d.defaultValue=T)),O!=null&&(d.defaultValue=""+O)}function Rr(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function nr(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qt(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?nr(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var fr,xr=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,T,O,j){MSApp.execUnsafeLocalFunction(function(){return d(m,T,O,j)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(fr=fr||document.createElement("div"),fr.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=fr.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function Lr(d,m){if(m){var T=d.firstChild;if(T&&T===d.lastChild&&T.nodeType===3){T.nodeValue=m;return}}d.textContent=m}var xt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ut=["Webkit","ms","Moz","O"];Object.keys(xt).forEach(function(d){Ut.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),xt[m]=xt[d]})});function rn(d,m,T){return m==null||typeof m=="boolean"||m===""?"":T||typeof m!="number"||m===0||xt.hasOwnProperty(d)&&xt[d]?(""+m).trim():m+"px"}function jt(d,m){d=d.style;for(var T in m)if(m.hasOwnProperty(T)){var O=T.indexOf("--")===0,j=rn(T,m[T],O);T==="float"&&(T="cssFloat"),O?d.setProperty(T,j):d[T]=j}}var Tr=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Or(d,m){if(m){if(Tr[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(t(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(t(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(t(61))}if(m.style!=null&&typeof m.style!="object")throw Error(t(62))}}function Hr(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ln=null;function Cn(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var wn=null,Fr=null,se=null;function fe(d){if(d=gi(d)){if(typeof wn!="function")throw Error(t(280));var m=d.stateNode;m&&(m=ou(m),wn(d.stateNode,d.type,m))}}function Te(d){Fr?se?se.push(d):se=[d]:Fr=d}function je(){if(Fr){var d=Fr,m=se;if(se=Fr=null,fe(d),m)for(d=0;d<m.length;d++)fe(m[d])}}function gt(d,m){return d(m)}function Tt(){}var be=!1;function ye(d,m,T){if(be)return d(m,T);be=!0;try{return gt(d,m,T)}finally{be=!1,(Fr!==null||se!==null)&&(Tt(),je())}}function Ae(d,m){var T=d.stateNode;if(T===null)return null;var O=ou(T);if(O===null)return null;T=O[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(d=d.type,O=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!O;break e;default:d=!1}if(d)return null;if(T&&typeof T!="function")throw Error(t(231,m,typeof T));return T}var Xe=!1;if(o)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Xe=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch{Xe=!1}function St(d,m,T,O,j,K,ce,Ce,Ie){var rt=Array.prototype.slice.call(arguments,3);try{m.apply(T,rt)}catch(It){this.onError(It)}}var Lt=!1,dt=null,_t=!1,Vt=null,Kt={onError:function(d){Lt=!0,dt=d}};function Nt(d,m,T,O,j,K,ce,Ce,Ie){Lt=!1,dt=null,St.apply(Kt,arguments)}function vr(d,m,T,O,j,K,ce,Ce,Ie){if(Nt.apply(this,arguments),Lt){if(Lt){var rt=dt;Lt=!1,dt=null}else throw Error(t(198));_t||(_t=!0,Vt=rt)}}function Ct(d){var m=d,T=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(T=m.return),d=m.return;while(d)}return m.tag===3?T:null}function _r(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function Zr(d){if(Ct(d)!==d)throw Error(t(188))}function Br(d){var m=d.alternate;if(!m){if(m=Ct(d),m===null)throw Error(t(188));return m!==d?null:d}for(var T=d,O=m;;){var j=T.return;if(j===null)break;var K=j.alternate;if(K===null){if(O=j.return,O!==null){T=O;continue}break}if(j.child===K.child){for(K=j.child;K;){if(K===T)return Zr(j),d;if(K===O)return Zr(j),m;K=K.sibling}throw Error(t(188))}if(T.return!==O.return)T=j,O=K;else{for(var ce=!1,Ce=j.child;Ce;){if(Ce===T){ce=!0,T=j,O=K;break}if(Ce===O){ce=!0,O=j,T=K;break}Ce=Ce.sibling}if(!ce){for(Ce=K.child;Ce;){if(Ce===T){ce=!0,T=K,O=j;break}if(Ce===O){ce=!0,O=K,T=j;break}Ce=Ce.sibling}if(!ce)throw Error(t(189))}}if(T.alternate!==O)throw Error(t(190))}if(T.tag!==3)throw Error(t(188));return T.stateNode.current===T?d:m}function jr(d){return d=Br(d),d!==null?Pn(d):null}function Pn(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Pn(d);if(m!==null)return m;d=d.sibling}return null}var ir=e.unstable_scheduleCallback,Ci=e.unstable_cancelCallback,yn=e.unstable_shouldYield,Cs=e.unstable_requestPaint,nn=e.unstable_now,ws=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,si=e.unstable_UserBlockingPriority,Mr=e.unstable_NormalPriority,ke=e.unstable_LowPriority,Ue=e.unstable_IdlePriority,tt=null,nt=null;function bt(d){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(tt,d,void 0,(d.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:Wr,Bt=Math.log,Er=Math.LN2;function Wr(d){return d>>>=0,d===0?32:31-(Bt(d)/Er|0)|0}var xn=64,Dr=4194304;function fi(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function zr(d,m){var T=d.pendingLanes;if(T===0)return 0;var O=0,j=d.suspendedLanes,K=d.pingedLanes,ce=T&268435455;if(ce!==0){var Ce=ce&~j;Ce!==0?O=fi(Ce):(K&=ce,K!==0&&(O=fi(K)))}else ce=T&~j,ce!==0?O=fi(ce):K!==0&&(O=fi(K));if(O===0)return 0;if(m!==0&&m!==O&&(m&j)===0&&(j=O&-O,K=m&-m,j>=K||j===16&&(K&4194240)!==0))return m;if((O&4)!==0&&(O|=T&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=O;0<m;)T=31-At(m),j=1<<T,O|=d[T],m&=~j;return O}function Mn(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(d,m){for(var T=d.suspendedLanes,O=d.pingedLanes,j=d.expirationTimes,K=d.pendingLanes;0<K;){var ce=31-At(K),Ce=1<<ce,Ie=j[ce];Ie===-1?((Ce&T)===0||(Ce&O)!==0)&&(j[ce]=Mn(Ce,m)):Ie<=m&&(d.expiredLanes|=Ce),K&=~Ce}}function Es(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Wc(){var d=xn;return xn<<=1,(xn&4194240)===0&&(xn=64),d}function ks(d){for(var m=[],T=0;31>T;T++)m.push(d);return m}function Hi(d,m,T){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-At(m),d[m]=T}function Rn(d,m){var T=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var O=d.eventTimes;for(d=d.expirationTimes;0<T;){var j=31-At(T),K=1<<j;m[j]=0,O[j]=-1,d[j]=-1,T&=~K}}function Ju(d,m){var T=d.entangledLanes|=m;for(d=d.entanglements;T;){var O=31-At(T),j=1<<O;j&m|d[O]&m&&(d[O]|=m),T&=~j}}var qr=0;function ls(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var ma,Pi,qa,ql,wo,Zu=!1,Gl=[],ga=null,wi=null,Ri=null,va=new Map,Ga=new Map,ya=[],Kl="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qc(d,m){switch(d){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Ri=null;break;case"pointerover":case"pointerout":va.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ga.delete(m.pointerId)}}function Vi(d,m,T,O,j,K){return d===null||d.nativeEvent!==K?(d={blockedOn:m,domEventName:T,eventSystemFlags:O,nativeEvent:K,targetContainers:[j]},m!==null&&(m=gi(m),m!==null&&Pi(m)),d):(d.eventSystemFlags|=O,m=d.targetContainers,j!==null&&m.indexOf(j)===-1&&m.push(j),d)}function Ka(d,m,T,O,j){switch(m){case"focusin":return ga=Vi(ga,d,m,T,O,j),!0;case"dragenter":return wi=Vi(wi,d,m,T,O,j),!0;case"mouseover":return Ri=Vi(Ri,d,m,T,O,j),!0;case"pointerover":var K=j.pointerId;return va.set(K,Vi(va.get(K)||null,d,m,T,O,j)),!0;case"gotpointercapture":return K=j.pointerId,Ga.set(K,Vi(Ga.get(K)||null,d,m,T,O,j)),!0}return!1}function Xl(d){var m=pn(d.target);if(m!==null){var T=Ct(m);if(T!==null){if(m=T.tag,m===13){if(m=_r(T),m!==null){d.blockedOn=m,wo(d.priority,function(){qa(T)});return}}else if(m===3&&T.stateNode.current.memoizedState.isDehydrated){d.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Yl(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var T=tc(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(T===null){T=d.nativeEvent;var O=new T.constructor(T.type,T);ln=O,T.target.dispatchEvent(O),ln=null}else return m=gi(T),m!==null&&Pi(m),d.blockedOn=T,!1;m.shift()}return!0}function pl(d,m,T){Yl(d)&&T.delete(m)}function Xa(){Zu=!1,ga!==null&&Yl(ga)&&(ga=null),wi!==null&&Yl(wi)&&(wi=null),Ri!==null&&Yl(Ri)&&(Ri=null),va.forEach(pl),Ga.forEach(pl)}function As(d,m){d.blockedOn===m&&(d.blockedOn=null,Zu||(Zu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Xa)))}function us(d){function m(j){return As(j,d)}if(0<Gl.length){As(Gl[0],d);for(var T=1;T<Gl.length;T++){var O=Gl[T];O.blockedOn===d&&(O.blockedOn=null)}}for(ga!==null&&As(ga,d),wi!==null&&As(wi,d),Ri!==null&&As(Ri,d),va.forEach(m),Ga.forEach(m),T=0;T<ya.length;T++)O=ya[T],O.blockedOn===d&&(O.blockedOn=null);for(;0<ya.length&&(T=ya[0],T.blockedOn===null);)Xl(T),T.blockedOn===null&&ya.shift()}var xa=I.ReactCurrentBatchConfig,ml=!0;function Gc(d,m,T,O){var j=qr,K=xa.transition;xa.transition=null;try{qr=1,ec(d,m,T,O)}finally{qr=j,xa.transition=K}}function Kc(d,m,T,O){var j=qr,K=xa.transition;xa.transition=null;try{qr=4,ec(d,m,T,O)}finally{qr=j,xa.transition=K}}function ec(d,m,T,O){if(ml){var j=tc(d,m,T,O);if(j===null)Vn(d,m,O,Ql,T),qc(d,O);else if(Ka(j,d,m,T,O))O.stopPropagation();else if(qc(d,O),m&4&&-1<Kl.indexOf(d)){for(;j!==null;){var K=gi(j);if(K!==null&&ma(K),K=tc(d,m,T,O),K===null&&Vn(d,m,O,Ql,T),K===j)break;j=K}j!==null&&O.stopPropagation()}else Vn(d,m,O,null,T)}}var Ql=null;function tc(d,m,T,O){if(Ql=null,d=Cn(O),d=pn(d),d!==null)if(m=Ct(d),m===null)d=null;else if(T=m.tag,T===13){if(d=_r(m),d!==null)return d;d=null}else if(T===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Ql=d,null}function Vs(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ws()){case hi:return 1;case si:return 4;case Mr:case ke:return 16;case Ue:return 536870912;default:return 16}default:return 16}}var _a=null,cs=null,Ds=null;function Xc(){if(Ds)return Ds;var d,m=cs,T=m.length,O,j="value"in _a?_a.value:_a.textContent,K=j.length;for(d=0;d<T&&m[d]===j[d];d++);var ce=T-d;for(O=1;O<=ce&&m[T-O]===j[K-O];O++);return Ds=j.slice(d,1<O?1-O:void 0)}function un(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Jl(){return!0}function Yc(){return!1}function Li(d){function m(T,O,j,K,ce){this._reactName=T,this._targetInst=j,this.type=O,this.nativeEvent=K,this.target=ce,this.currentTarget=null;for(var Ce in d)d.hasOwnProperty(Ce)&&(T=d[Ce],this[Ce]=T?T(K):K[Ce]);return this.isDefaultPrevented=(K.defaultPrevented!=null?K.defaultPrevented:K.returnValue===!1)?Jl:Yc,this.isPropagationStopped=Yc,this}return ie(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),m}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=Li(Oi),Ei=ie({},Oi,{view:0,detail:0}),Ya=Li(Ei),En,Hn,Wi,Qa=ie({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Wi&&(Wi&&d.type==="mousemove"?(En=d.screenX-Wi.screenX,Hn=d.screenY-Wi.screenY):Hn=En=0,Wi=d),En)},movementY:function(d){return"movementY"in d?d.movementY:Hn}}),Eo=Li(Qa),gl=ie({},Qa,{dataTransfer:0}),oh=Li(gl),lh=ie({},Ei,{relatedTarget:0}),vl=Li(lh),rc=ie({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ja=Li(rc),Ws=ie({},Oi,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Za=Li(Ws),Mi=ie({},Oi,{data:0}),Qc=Li(Mi),ko={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jc(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=nc[d])?!!m[d]:!1}function Zl(){return Jc}var Zc=ie({},Ei,{key:function(d){if(d.key){var m=ko[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=un(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?eo[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(d){return d.type==="keypress"?un(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?un(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),ba=Li(Zc),ed=ie({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ao=Li(ed),td=ie({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),rd=Li(td),Do=ie({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Io=Li(Do),uh=ie({},Qa,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),ch=Li(uh),dh=[9,13,27,32],yl=o&&"CompositionEvent"in window,xl=null;o&&"documentMode"in document&&(xl=document.documentMode);var ic=o&&"TextEvent"in window&&!xl,eu=o&&(!yl||xl&&8<xl&&11>=xl),nd=" ",qs=!1;function sn(d,m){switch(d){case"keyup":return dh.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Is(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var cn=!1;function qi(d,m){switch(d){case"compositionend":return Is(m);case"keypress":return m.which!==32?null:(qs=!0,nd);case"textInput":return d=m.data,d===nd&&qs?null:d;default:return null}}function hh(d,m){if(cn)return d==="compositionend"||!yl&&sn(d,m)?(d=Xc(),Ds=cs=_a=null,cn=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return eu&&m.locale!=="ko"?null:m.data;default:return null}}var id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ps(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!id[d.type]:m==="textarea"}function sd(d,m,T,O){Te(O),m=su(m,"onChange"),0<m.length&&(T=new ds("onChange","change",null,T,O),d.push({event:T,listeners:m}))}var _l=null,bl=null;function sc(d){If(d,0)}function tu(d){var m=Oo(d);if(Rt(m))return d}function fh(d,m){if(d==="change")return m}var ac=!1;if(o){var ue;if(o){var B="oninput"in document;if(!B){var V=document.createElement("div");V.setAttribute("oninput","return;"),B=typeof V.oninput=="function"}ue=B}else ue=!1;ac=ue&&(!document.documentMode||9<document.documentMode)}function z(){_l&&(_l.detachEvent("onpropertychange",q),bl=_l=null)}function q(d){if(d.propertyName==="value"&&tu(bl)){var m=[];sd(m,bl,d,Cn(d)),ye(sc,m)}}function Z(d,m,T){d==="focusin"?(z(),_l=m,bl=T,_l.attachEvent("onpropertychange",q)):d==="focusout"&&z()}function re(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return tu(bl)}function me(d,m){if(d==="click")return tu(m)}function xe(d,m){if(d==="input"||d==="change")return tu(m)}function De(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var we=typeof Object.is=="function"?Object.is:De;function Pe(d,m){if(we(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var T=Object.keys(d),O=Object.keys(m);if(T.length!==O.length)return!1;for(O=0;O<T.length;O++){var j=T[O];if(!l.call(m,j)||!we(d[j],m[j]))return!1}return!0}function lt(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Mt(d,m){var T=lt(d);d=0;for(var O;T;){if(T.nodeType===3){if(O=d+T.textContent.length,d<=m&&O>=m)return{node:T,offset:m-d};d=O}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=lt(T)}}function zt(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?zt(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function st(){for(var d=window,m=Ve();m instanceof d.HTMLIFrameElement;){try{var T=typeof m.contentWindow.location.href=="string"}catch{T=!1}if(T)d=m.contentWindow;else break;m=Ve(d.document)}return m}function ar(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function In(d){var m=st(),T=d.focusedElem,O=d.selectionRange;if(m!==T&&T&&T.ownerDocument&&zt(T.ownerDocument.documentElement,T)){if(O!==null&&ar(T)){if(m=O.start,d=O.end,d===void 0&&(d=m),"selectionStart"in T)T.selectionStart=m,T.selectionEnd=Math.min(d,T.value.length);else if(d=(m=T.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var j=T.textContent.length,K=Math.min(O.start,j);O=O.end===void 0?K:Math.min(O.end,j),!d.extend&&K>O&&(j=O,O=K,K=j),j=Mt(T,K);var ce=Mt(T,O);j&&ce&&(d.rangeCount!==1||d.anchorNode!==j.node||d.anchorOffset!==j.offset||d.focusNode!==ce.node||d.focusOffset!==ce.offset)&&(m=m.createRange(),m.setStart(j.node,j.offset),d.removeAllRanges(),K>O?(d.addRange(m),d.extend(ce.node,ce.offset)):(m.setEnd(ce.node,ce.offset),d.addRange(m)))}}for(m=[],d=T;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<m.length;T++)d=m[T],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var pi=o&&"documentMode"in document&&11>=document.documentMode,Gi=null,Sl=null,Po=null,Ro=!1;function Tl(d,m,T){var O=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;Ro||Gi==null||Gi!==Ve(O)||(O=Gi,"selectionStart"in O&&ar(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),Po&&Pe(Po,O)||(Po=O,O=su(Sl,"onSelect"),0<O.length&&(m=new ds("onSelect","select",null,m,T),d.push({event:m,listeners:O}),m.target=Gi)))}function Sa(d,m){var T={};return T[d.toLowerCase()]=m.toLowerCase(),T["Webkit"+d]="webkit"+m,T["Moz"+d]="moz"+m,T}var Gs={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},_n={},to={};o&&(to=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function Ki(d){if(_n[d])return _n[d];if(!Gs[d])return d;var m=Gs[d],T;for(T in m)if(m.hasOwnProperty(T)&&T in to)return _n[d]=m[T];return d}var ru=Ki("animationend"),Af=Ki("animationiteration"),nu=Ki("animationstart"),iu=Ki("transitionend"),ad=new Map,Lo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(d,m){ad.set(d,m),s(m,[d])}for(var ph=0;ph<Lo.length;ph++){var mh=Lo[ph],Jm=mh.toLowerCase(),Zm=mh[0].toUpperCase()+mh.slice(1);Xi(Jm,"on"+Zm)}Xi(ru,"onAnimationEnd"),Xi(Af,"onAnimationIteration"),Xi(nu,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(iu,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lc=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function Df(d,m,T){var O=d.type||"unknown-event";d.currentTarget=T,vr(O,m,void 0,d),d.currentTarget=null}function If(d,m){m=(m&4)!==0;for(var T=0;T<d.length;T++){var O=d[T],j=O.event;O=O.listeners;e:{var K=void 0;if(m)for(var ce=O.length-1;0<=ce;ce--){var Ce=O[ce],Ie=Ce.instance,rt=Ce.currentTarget;if(Ce=Ce.listener,Ie!==K&&j.isPropagationStopped())break e;Df(j,Ce,rt),K=Ie}else for(ce=0;ce<O.length;ce++){if(Ce=O[ce],Ie=Ce.instance,rt=Ce.currentTarget,Ce=Ce.listener,Ie!==K&&j.isPropagationStopped())break e;Df(j,Ce,rt),K=Ie}}}if(_t)throw d=Vt,_t=!1,Vt=null,d}function bn(d,m){var T=m[wt];T===void 0&&(T=m[wt]=new Set);var O=d+"__bubble";T.has(O)||(dn(m,d,2,!1),T.add(O))}function hs(d,m,T){var O=0;m&&(O|=4),dn(T,d,O,m)}var or="_reactListening"+Math.random().toString(36).slice(2);function mi(d){if(!d[or]){d[or]=!0,n.forEach(function(T){T!=="selectionchange"&&(lc.has(T)||hs(T,!1,d),hs(T,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[or]||(m[or]=!0,hs("selectionchange",!1,m))}}function dn(d,m,T,O){switch(Vs(m)){case 1:var j=Gc;break;case 4:j=Kc;break;default:j=ec}T=j.bind(null,m,T,d),j=void 0,!Xe||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(j=!0),O?j!==void 0?d.addEventListener(m,T,{capture:!0,passive:j}):d.addEventListener(m,T,!0):j!==void 0?d.addEventListener(m,T,{passive:j}):d.addEventListener(m,T,!1)}function Vn(d,m,T,O,j){var K=O;if((m&1)===0&&(m&2)===0&&O!==null)e:for(;;){if(O===null)return;var ce=O.tag;if(ce===3||ce===4){var Ce=O.stateNode.containerInfo;if(Ce===j||Ce.nodeType===8&&Ce.parentNode===j)break;if(ce===4)for(ce=O.return;ce!==null;){var Ie=ce.tag;if((Ie===3||Ie===4)&&(Ie=ce.stateNode.containerInfo,Ie===j||Ie.nodeType===8&&Ie.parentNode===j))return;ce=ce.return}for(;Ce!==null;){if(ce=pn(Ce),ce===null)return;if(Ie=ce.tag,Ie===5||Ie===6){O=K=ce;continue e}Ce=Ce.parentNode}}O=O.return}ye(function(){var rt=K,It=Cn(T),Ft=[];e:{var Dt=ad.get(d);if(Dt!==void 0){var Qt=ds,lr=d;switch(d){case"keypress":if(un(T)===0)break e;case"keydown":case"keyup":Qt=ba;break;case"focusin":lr="focus",Qt=vl;break;case"focusout":lr="blur",Qt=vl;break;case"beforeblur":case"afterblur":Qt=vl;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qt=Eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qt=oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qt=rd;break;case ru:case Af:case nu:Qt=Ja;break;case iu:Qt=Io;break;case"scroll":Qt=Ya;break;case"wheel":Qt=ch;break;case"copy":case"cut":case"paste":Qt=Za;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qt=Ao}var dr=(m&4)!==0,vi=!dr&&d==="scroll",He=dr?Dt!==null?Dt+"Capture":null:Dt;dr=[];for(var Fe=rt,Ke;Fe!==null;){Ke=Fe;var $t=Ke.stateNode;if(Ke.tag===5&&$t!==null&&(Ke=$t,He!==null&&($t=Ae(Fe,He),$t!=null&&dr.push(uc(Fe,$t,Ke)))),vi)break;Fe=Fe.return}0<dr.length&&(Dt=new Qt(Dt,lr,null,T,It),Ft.push({event:Dt,listeners:dr}))}}if((m&7)===0){e:{if(Dt=d==="mouseover"||d==="pointerover",Qt=d==="mouseout"||d==="pointerout",Dt&&T!==ln&&(lr=T.relatedTarget||T.fromElement)&&(pn(lr)||lr[Ee]))break e;if((Qt||Dt)&&(Dt=It.window===It?It:(Dt=It.ownerDocument)?Dt.defaultView||Dt.parentWindow:window,Qt?(lr=T.relatedTarget||T.toElement,Qt=rt,lr=lr?pn(lr):null,lr!==null&&(vi=Ct(lr),lr!==vi||lr.tag!==5&&lr.tag!==6)&&(lr=null)):(Qt=null,lr=rt),Qt!==lr)){if(dr=Eo,$t="onMouseLeave",He="onMouseEnter",Fe="mouse",(d==="pointerout"||d==="pointerover")&&(dr=Ao,$t="onPointerLeave",He="onPointerEnter",Fe="pointer"),vi=Qt==null?Dt:Oo(Qt),Ke=lr==null?Dt:Oo(lr),Dt=new dr($t,Fe+"leave",Qt,T,It),Dt.target=vi,Dt.relatedTarget=Ke,$t=null,pn(It)===rt&&(dr=new dr(He,Fe+"enter",lr,T,It),dr.target=Ke,dr.relatedTarget=vi,$t=dr),vi=$t,Qt&&lr)t:{for(dr=Qt,He=lr,Fe=0,Ke=dr;Ke;Ke=au(Ke))Fe++;for(Ke=0,$t=He;$t;$t=au($t))Ke++;for(;0<Fe-Ke;)dr=au(dr),Fe--;for(;0<Ke-Fe;)He=au(He),Ke--;for(;Fe--;){if(dr===He||He!==null&&dr===He.alternate)break t;dr=au(dr),He=au(He)}dr=null}else dr=null;Qt!==null&&Pf(Ft,Dt,Qt,dr,!1),lr!==null&&vi!==null&&Pf(Ft,vi,lr,dr,!0)}}e:{if(Dt=rt?Oo(rt):window,Qt=Dt.nodeName&&Dt.nodeName.toLowerCase(),Qt==="select"||Qt==="input"&&Dt.type==="file")var pr=fh;else if(Ps(Dt))if(ac)pr=xe;else{pr=re;var kr=Z}else(Qt=Dt.nodeName)&&Qt.toLowerCase()==="input"&&(Dt.type==="checkbox"||Dt.type==="radio")&&(pr=me);if(pr&&(pr=pr(d,rt))){sd(Ft,pr,T,It);break e}kr&&kr(d,Dt,rt),d==="focusout"&&(kr=Dt._wrapperState)&&kr.controlled&&Dt.type==="number"&&qe(Dt,"number",Dt.value)}switch(kr=rt?Oo(rt):window,d){case"focusin":(Ps(kr)||kr.contentEditable==="true")&&(Gi=kr,Sl=rt,Po=null);break;case"focusout":Po=Sl=Gi=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,Tl(Ft,T,It);break;case"selectionchange":if(pi)break;case"keydown":case"keyup":Tl(Ft,T,It)}var Ar;if(yl)e:{switch(d){case"compositionstart":var Pr="onCompositionStart";break e;case"compositionend":Pr="onCompositionEnd";break e;case"compositionupdate":Pr="onCompositionUpdate";break e}Pr=void 0}else cn?sn(d,T)&&(Pr="onCompositionEnd"):d==="keydown"&&T.keyCode===229&&(Pr="onCompositionStart");Pr&&(eu&&T.locale!=="ko"&&(cn||Pr!=="onCompositionStart"?Pr==="onCompositionEnd"&&cn&&(Ar=Xc()):(_a=It,cs="value"in _a?_a.value:_a.textContent,cn=!0)),kr=su(rt,Pr),0<kr.length&&(Pr=new Qc(Pr,d,null,T,It),Ft.push({event:Pr,listeners:kr}),Ar?Pr.data=Ar:(Ar=Is(T),Ar!==null&&(Pr.data=Ar)))),(Ar=ic?qi(d,T):hh(d,T))&&(rt=su(rt,"onBeforeInput"),0<rt.length&&(It=new Qc("onBeforeInput","beforeinput",null,T,It),Ft.push({event:It,listeners:rt}),It.data=Ar))}If(Ft,m)})}function uc(d,m,T){return{instance:d,listener:m,currentTarget:T}}function su(d,m){for(var T=m+"Capture",O=[];d!==null;){var j=d,K=j.stateNode;j.tag===5&&K!==null&&(j=K,K=Ae(d,T),K!=null&&O.unshift(uc(d,K,j)),K=Ae(d,m),K!=null&&O.push(uc(d,K,j))),d=d.return}return O}function au(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function Pf(d,m,T,O,j){for(var K=m._reactName,ce=[];T!==null&&T!==O;){var Ce=T,Ie=Ce.alternate,rt=Ce.stateNode;if(Ie!==null&&Ie===O)break;Ce.tag===5&&rt!==null&&(Ce=rt,j?(Ie=Ae(T,K),Ie!=null&&ce.unshift(uc(T,Ie,Ce))):j||(Ie=Ae(T,K),Ie!=null&&ce.push(uc(T,Ie,Ce)))),T=T.return}ce.length!==0&&d.push({event:m,listeners:ce})}var eg=/\r\n?/g,tg=/\u0000|\uFFFD/g;function Rf(d){return(typeof d=="string"?d:""+d).replace(eg,`
`).replace(tg,"")}function od(d,m,T){if(m=Rf(m),Rf(d)!==m&&T)throw Error(t(425))}function ld(){}var cc=null,p=null;function x(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var S=typeof setTimeout=="function"?setTimeout:void 0,b=typeof clearTimeout=="function"?clearTimeout:void 0,E=typeof Promise=="function"?Promise:void 0,L=typeof queueMicrotask=="function"?queueMicrotask:typeof E<"u"?function(d){return E.resolve(null).then(d).catch(G)}:S;function G(d){setTimeout(function(){throw d})}function Y(d,m){var T=m,O=0;do{var j=T.nextSibling;if(d.removeChild(T),j&&j.nodeType===8)if(T=j.data,T==="/$"){if(O===0){d.removeChild(j),us(m);return}O--}else T!=="$"&&T!=="$?"&&T!=="$!"||O++;T=j}while(T);us(m)}function J(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function ne(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var T=d.data;if(T==="$"||T==="$!"||T==="$?"){if(m===0)return d;m--}else T==="/$"&&m++}d=d.previousSibling}return null}var he=Math.random().toString(36).slice(2),ge="__reactFiber$"+he,Ge="__reactProps$"+he,Ee="__reactContainer$"+he,wt="__reactEvents$"+he,Wt="__reactListeners$"+he,Gr="__reactHandles$"+he;function pn(d){var m=d[ge];if(m)return m;for(var T=d.parentNode;T;){if(m=T[Ee]||T[ge]){if(T=m.alternate,m.child!==null||T!==null&&T.child!==null)for(d=ne(d);d!==null;){if(T=d[ge])return T;d=ne(d)}return m}d=T,T=d.parentNode}return null}function gi(d){return d=d[ge]||d[Ee],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Oo(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(t(33))}function ou(d){return d[Ge]||null}var dc=[],Ta=-1;function Ca(d){return{current:d}}function er(d){0>Ta||(d.current=dc[Ta],dc[Ta]=null,Ta--)}function gn(d,m){Ta++,dc[Ta]=d.current,d.current=m}var Kn={},Rs=Ca(Kn),wa=Ca(!1),gh=Kn;function Lf(d,m){var T=d.type.contextTypes;if(!T)return Kn;var O=d.stateNode;if(O&&O.__reactInternalMemoizedUnmaskedChildContext===m)return O.__reactInternalMemoizedMaskedChildContext;var j={},K;for(K in T)j[K]=m[K];return O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=j),j}function Ea(d){return d=d.childContextTypes,d!=null}function $v(){er(wa),er(Rs)}function UD(d,m,T){if(Rs.current!==Kn)throw Error(t(168));gn(Rs,m),gn(wa,T)}function $D(d,m,T){var O=d.stateNode;if(m=m.childContextTypes,typeof O.getChildContext!="function")return T;O=O.getChildContext();for(var j in O)if(!(j in m))throw Error(t(108,ot(d)||"Unknown",j));return ie({},T,O)}function jv(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Kn,gh=Rs.current,gn(Rs,d),gn(wa,wa.current),!0}function jD(d,m,T){var O=d.stateNode;if(!O)throw Error(t(169));T?(d=$D(d,m,gh),O.__reactInternalMemoizedMergedChildContext=d,er(wa),er(Rs),gn(Rs,d)):er(wa),gn(wa,T)}var hc=null,zv=!1,vT=!1;function zD(d){hc===null?hc=[d]:hc.push(d)}function Oz(d){zv=!0,zD(d)}function ud(){if(!vT&&hc!==null){vT=!0;var d=0,m=qr;try{var T=hc;for(qr=1;d<T.length;d++){var O=T[d];do O=O(!0);while(O!==null)}hc=null,zv=!1}catch(j){throw hc!==null&&(hc=hc.slice(d+1)),ir(hi,ud),j}finally{qr=m,vT=!1}}return null}var Of=[],Mf=0,Hv=null,Vv=0,Mo=[],Fo=0,vh=null,fc=1,pc="";function yh(d,m){Of[Mf++]=Vv,Of[Mf++]=Hv,Hv=d,Vv=m}function HD(d,m,T){Mo[Fo++]=fc,Mo[Fo++]=pc,Mo[Fo++]=vh,vh=d;var O=fc;d=pc;var j=32-At(O)-1;O&=~(1<<j),T+=1;var K=32-At(m)+j;if(30<K){var ce=j-j%5;K=(O&(1<<ce)-1).toString(32),O>>=ce,j-=ce,fc=1<<32-At(m)+j|T<<j|O,pc=K+d}else fc=1<<K|T<<j|O,pc=d}function yT(d){d.return!==null&&(yh(d,1),HD(d,1,0))}function xT(d){for(;d===Hv;)Hv=Of[--Mf],Of[Mf]=null,Vv=Of[--Mf],Of[Mf]=null;for(;d===vh;)vh=Mo[--Fo],Mo[Fo]=null,pc=Mo[--Fo],Mo[Fo]=null,fc=Mo[--Fo],Mo[Fo]=null}var ro=null,no=null,Xn=!1,Cl=null;function VD(d,m){var T=$o(5,null,null,0);T.elementType="DELETED",T.stateNode=m,T.return=d,m=d.deletions,m===null?(d.deletions=[T],d.flags|=16):m.push(T)}function WD(d,m){switch(d.tag){case 5:var T=d.type;return m=m.nodeType!==1||T.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,ro=d,no=J(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,ro=d,no=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(T=vh!==null?{id:fc,overflow:pc}:null,d.memoizedState={dehydrated:m,treeContext:T,retryLane:1073741824},T=$o(18,null,null,0),T.stateNode=m,T.return=d,d.child=T,ro=d,no=null,!0):!1;default:return!1}}function _T(d){return(d.mode&1)!==0&&(d.flags&128)===0}function bT(d){if(Xn){var m=no;if(m){var T=m;if(!WD(d,m)){if(_T(d))throw Error(t(418));m=J(T.nextSibling);var O=ro;m&&WD(d,m)?VD(O,T):(d.flags=d.flags&-4097|2,Xn=!1,ro=d)}}else{if(_T(d))throw Error(t(418));d.flags=d.flags&-4097|2,Xn=!1,ro=d}}}function qD(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ro=d}function Wv(d){if(d!==ro)return!1;if(!Xn)return qD(d),Xn=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!x(d.type,d.memoizedProps)),m&&(m=no)){if(_T(d))throw GD(),Error(t(418));for(;m;)VD(d,m),m=J(m.nextSibling)}if(qD(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(t(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var T=d.data;if(T==="/$"){if(m===0){no=J(d.nextSibling);break e}m--}else T!=="$"&&T!=="$!"&&T!=="$?"||m++}d=d.nextSibling}no=null}}else no=ro?J(d.stateNode.nextSibling):null;return!0}function GD(){for(var d=no;d;)d=J(d.nextSibling)}function Ff(){no=ro=null,Xn=!1}function ST(d){Cl===null?Cl=[d]:Cl.push(d)}var Mz=I.ReactCurrentBatchConfig;function rg(d,m,T){if(d=T.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(t(309));var O=T.stateNode}if(!O)throw Error(t(147,d));var j=O,K=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===K?m.ref:(m=function(ce){var Ce=j.refs;ce===null?delete Ce[K]:Ce[K]=ce},m._stringRef=K,m)}if(typeof d!="string")throw Error(t(284));if(!T._owner)throw Error(t(290,d))}return d}function qv(d,m){throw d=Object.prototype.toString.call(m),Error(t(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function KD(d){var m=d._init;return m(d._payload)}function XD(d){function m(He,Fe){if(d){var Ke=He.deletions;Ke===null?(He.deletions=[Fe],He.flags|=16):Ke.push(Fe)}}function T(He,Fe){if(!d)return null;for(;Fe!==null;)m(He,Fe),Fe=Fe.sibling;return null}function O(He,Fe){for(He=new Map;Fe!==null;)Fe.key!==null?He.set(Fe.key,Fe):He.set(Fe.index,Fe),Fe=Fe.sibling;return He}function j(He,Fe){return He=vd(He,Fe),He.index=0,He.sibling=null,He}function K(He,Fe,Ke){return He.index=Ke,d?(Ke=He.alternate,Ke!==null?(Ke=Ke.index,Ke<Fe?(He.flags|=2,Fe):Ke):(He.flags|=2,Fe)):(He.flags|=1048576,Fe)}function ce(He){return d&&He.alternate===null&&(He.flags|=2),He}function Ce(He,Fe,Ke,$t){return Fe===null||Fe.tag!==6?(Fe=f1(Ke,He.mode,$t),Fe.return=He,Fe):(Fe=j(Fe,Ke),Fe.return=He,Fe)}function Ie(He,Fe,Ke,$t){var pr=Ke.type;return pr===N?It(He,Fe,Ke.props.children,$t,Ke.key):Fe!==null&&(Fe.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===oe&&KD(pr)===Fe.type)?($t=j(Fe,Ke.props),$t.ref=rg(He,Fe,Ke),$t.return=He,$t):($t=gy(Ke.type,Ke.key,Ke.props,null,He.mode,$t),$t.ref=rg(He,Fe,Ke),$t.return=He,$t)}function rt(He,Fe,Ke,$t){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Ke.containerInfo||Fe.stateNode.implementation!==Ke.implementation?(Fe=p1(Ke,He.mode,$t),Fe.return=He,Fe):(Fe=j(Fe,Ke.children||[]),Fe.return=He,Fe)}function It(He,Fe,Ke,$t,pr){return Fe===null||Fe.tag!==7?(Fe=Eh(Ke,He.mode,$t,pr),Fe.return=He,Fe):(Fe=j(Fe,Ke),Fe.return=He,Fe)}function Ft(He,Fe,Ke){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Fe=f1(""+Fe,He.mode,Ke),Fe.return=He,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case A:return Ke=gy(Fe.type,Fe.key,Fe.props,null,He.mode,Ke),Ke.ref=rg(He,null,Fe),Ke.return=He,Ke;case R:return Fe=p1(Fe,He.mode,Ke),Fe.return=He,Fe;case oe:var $t=Fe._init;return Ft(He,$t(Fe._payload),Ke)}if(Ye(Fe)||ae(Fe))return Fe=Eh(Fe,He.mode,Ke,null),Fe.return=He,Fe;qv(He,Fe)}return null}function Dt(He,Fe,Ke,$t){var pr=Fe!==null?Fe.key:null;if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return pr!==null?null:Ce(He,Fe,""+Ke,$t);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case A:return Ke.key===pr?Ie(He,Fe,Ke,$t):null;case R:return Ke.key===pr?rt(He,Fe,Ke,$t):null;case oe:return pr=Ke._init,Dt(He,Fe,pr(Ke._payload),$t)}if(Ye(Ke)||ae(Ke))return pr!==null?null:It(He,Fe,Ke,$t,null);qv(He,Ke)}return null}function Qt(He,Fe,Ke,$t,pr){if(typeof $t=="string"&&$t!==""||typeof $t=="number")return He=He.get(Ke)||null,Ce(Fe,He,""+$t,pr);if(typeof $t=="object"&&$t!==null){switch($t.$$typeof){case A:return He=He.get($t.key===null?Ke:$t.key)||null,Ie(Fe,He,$t,pr);case R:return He=He.get($t.key===null?Ke:$t.key)||null,rt(Fe,He,$t,pr);case oe:var kr=$t._init;return Qt(He,Fe,Ke,kr($t._payload),pr)}if(Ye($t)||ae($t))return He=He.get(Ke)||null,It(Fe,He,$t,pr,null);qv(Fe,$t)}return null}function lr(He,Fe,Ke,$t){for(var pr=null,kr=null,Ar=Fe,Pr=Fe=0,Ji=null;Ar!==null&&Pr<Ke.length;Pr++){Ar.index>Pr?(Ji=Ar,Ar=null):Ji=Ar.sibling;var vn=Dt(He,Ar,Ke[Pr],$t);if(vn===null){Ar===null&&(Ar=Ji);break}d&&Ar&&vn.alternate===null&&m(He,Ar),Fe=K(vn,Fe,Pr),kr===null?pr=vn:kr.sibling=vn,kr=vn,Ar=Ji}if(Pr===Ke.length)return T(He,Ar),Xn&&yh(He,Pr),pr;if(Ar===null){for(;Pr<Ke.length;Pr++)Ar=Ft(He,Ke[Pr],$t),Ar!==null&&(Fe=K(Ar,Fe,Pr),kr===null?pr=Ar:kr.sibling=Ar,kr=Ar);return Xn&&yh(He,Pr),pr}for(Ar=O(He,Ar);Pr<Ke.length;Pr++)Ji=Qt(Ar,He,Pr,Ke[Pr],$t),Ji!==null&&(d&&Ji.alternate!==null&&Ar.delete(Ji.key===null?Pr:Ji.key),Fe=K(Ji,Fe,Pr),kr===null?pr=Ji:kr.sibling=Ji,kr=Ji);return d&&Ar.forEach(function(yd){return m(He,yd)}),Xn&&yh(He,Pr),pr}function dr(He,Fe,Ke,$t){var pr=ae(Ke);if(typeof pr!="function")throw Error(t(150));if(Ke=pr.call(Ke),Ke==null)throw Error(t(151));for(var kr=pr=null,Ar=Fe,Pr=Fe=0,Ji=null,vn=Ke.next();Ar!==null&&!vn.done;Pr++,vn=Ke.next()){Ar.index>Pr?(Ji=Ar,Ar=null):Ji=Ar.sibling;var yd=Dt(He,Ar,vn.value,$t);if(yd===null){Ar===null&&(Ar=Ji);break}d&&Ar&&yd.alternate===null&&m(He,Ar),Fe=K(yd,Fe,Pr),kr===null?pr=yd:kr.sibling=yd,kr=yd,Ar=Ji}if(vn.done)return T(He,Ar),Xn&&yh(He,Pr),pr;if(Ar===null){for(;!vn.done;Pr++,vn=Ke.next())vn=Ft(He,vn.value,$t),vn!==null&&(Fe=K(vn,Fe,Pr),kr===null?pr=vn:kr.sibling=vn,kr=vn);return Xn&&yh(He,Pr),pr}for(Ar=O(He,Ar);!vn.done;Pr++,vn=Ke.next())vn=Qt(Ar,He,Pr,vn.value,$t),vn!==null&&(d&&vn.alternate!==null&&Ar.delete(vn.key===null?Pr:vn.key),Fe=K(vn,Fe,Pr),kr===null?pr=vn:kr.sibling=vn,kr=vn);return d&&Ar.forEach(function(pH){return m(He,pH)}),Xn&&yh(He,Pr),pr}function vi(He,Fe,Ke,$t){if(typeof Ke=="object"&&Ke!==null&&Ke.type===N&&Ke.key===null&&(Ke=Ke.props.children),typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case A:e:{for(var pr=Ke.key,kr=Fe;kr!==null;){if(kr.key===pr){if(pr=Ke.type,pr===N){if(kr.tag===7){T(He,kr.sibling),Fe=j(kr,Ke.props.children),Fe.return=He,He=Fe;break e}}else if(kr.elementType===pr||typeof pr=="object"&&pr!==null&&pr.$$typeof===oe&&KD(pr)===kr.type){T(He,kr.sibling),Fe=j(kr,Ke.props),Fe.ref=rg(He,kr,Ke),Fe.return=He,He=Fe;break e}T(He,kr);break}else m(He,kr);kr=kr.sibling}Ke.type===N?(Fe=Eh(Ke.props.children,He.mode,$t,Ke.key),Fe.return=He,He=Fe):($t=gy(Ke.type,Ke.key,Ke.props,null,He.mode,$t),$t.ref=rg(He,Fe,Ke),$t.return=He,He=$t)}return ce(He);case R:e:{for(kr=Ke.key;Fe!==null;){if(Fe.key===kr)if(Fe.tag===4&&Fe.stateNode.containerInfo===Ke.containerInfo&&Fe.stateNode.implementation===Ke.implementation){T(He,Fe.sibling),Fe=j(Fe,Ke.children||[]),Fe.return=He,He=Fe;break e}else{T(He,Fe);break}else m(He,Fe);Fe=Fe.sibling}Fe=p1(Ke,He.mode,$t),Fe.return=He,He=Fe}return ce(He);case oe:return kr=Ke._init,vi(He,Fe,kr(Ke._payload),$t)}if(Ye(Ke))return lr(He,Fe,Ke,$t);if(ae(Ke))return dr(He,Fe,Ke,$t);qv(He,Ke)}return typeof Ke=="string"&&Ke!==""||typeof Ke=="number"?(Ke=""+Ke,Fe!==null&&Fe.tag===6?(T(He,Fe.sibling),Fe=j(Fe,Ke),Fe.return=He,He=Fe):(T(He,Fe),Fe=f1(Ke,He.mode,$t),Fe.return=He,He=Fe),ce(He)):T(He,Fe)}return vi}var Bf=XD(!0),YD=XD(!1),Gv=Ca(null),Kv=null,Nf=null,TT=null;function CT(){TT=Nf=Kv=null}function wT(d){var m=Gv.current;er(Gv),d._currentValue=m}function ET(d,m,T){for(;d!==null;){var O=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,O!==null&&(O.childLanes|=m)):O!==null&&(O.childLanes&m)!==m&&(O.childLanes|=m),d===T)break;d=d.return}}function Uf(d,m){Kv=d,TT=Nf=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(ka=!0),d.firstContext=null)}function Bo(d){var m=d._currentValue;if(TT!==d)if(d={context:d,memoizedValue:m,next:null},Nf===null){if(Kv===null)throw Error(t(308));Nf=d,Kv.dependencies={lanes:0,firstContext:d}}else Nf=Nf.next=d;return m}var xh=null;function kT(d){xh===null?xh=[d]:xh.push(d)}function QD(d,m,T,O){var j=m.interleaved;return j===null?(T.next=T,kT(m)):(T.next=j.next,j.next=T),m.interleaved=T,mc(d,O)}function mc(d,m){d.lanes|=m;var T=d.alternate;for(T!==null&&(T.lanes|=m),T=d,d=d.return;d!==null;)d.childLanes|=m,T=d.alternate,T!==null&&(T.childLanes|=m),T=d,d=d.return;return T.tag===3?T.stateNode:null}var cd=!1;function AT(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JD(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function gc(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function dd(d,m,T){var O=d.updateQueue;if(O===null)return null;if(O=O.shared,(mn&2)!==0){var j=O.pending;return j===null?m.next=m:(m.next=j.next,j.next=m),O.pending=m,mc(d,T)}return j=O.interleaved,j===null?(m.next=m,kT(O)):(m.next=j.next,j.next=m),O.interleaved=m,mc(d,T)}function Xv(d,m,T){if(m=m.updateQueue,m!==null&&(m=m.shared,(T&4194240)!==0)){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,Ju(d,T)}}function ZD(d,m){var T=d.updateQueue,O=d.alternate;if(O!==null&&(O=O.updateQueue,T===O)){var j=null,K=null;if(T=T.firstBaseUpdate,T!==null){do{var ce={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};K===null?j=K=ce:K=K.next=ce,T=T.next}while(T!==null);K===null?j=K=m:K=K.next=m}else j=K=m;T={baseState:O.baseState,firstBaseUpdate:j,lastBaseUpdate:K,shared:O.shared,effects:O.effects},d.updateQueue=T;return}d=T.lastBaseUpdate,d===null?T.firstBaseUpdate=m:d.next=m,T.lastBaseUpdate=m}function Yv(d,m,T,O){var j=d.updateQueue;cd=!1;var K=j.firstBaseUpdate,ce=j.lastBaseUpdate,Ce=j.shared.pending;if(Ce!==null){j.shared.pending=null;var Ie=Ce,rt=Ie.next;Ie.next=null,ce===null?K=rt:ce.next=rt,ce=Ie;var It=d.alternate;It!==null&&(It=It.updateQueue,Ce=It.lastBaseUpdate,Ce!==ce&&(Ce===null?It.firstBaseUpdate=rt:Ce.next=rt,It.lastBaseUpdate=Ie))}if(K!==null){var Ft=j.baseState;ce=0,It=rt=Ie=null,Ce=K;do{var Dt=Ce.lane,Qt=Ce.eventTime;if((O&Dt)===Dt){It!==null&&(It=It.next={eventTime:Qt,lane:0,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null});e:{var lr=d,dr=Ce;switch(Dt=m,Qt=T,dr.tag){case 1:if(lr=dr.payload,typeof lr=="function"){Ft=lr.call(Qt,Ft,Dt);break e}Ft=lr;break e;case 3:lr.flags=lr.flags&-65537|128;case 0:if(lr=dr.payload,Dt=typeof lr=="function"?lr.call(Qt,Ft,Dt):lr,Dt==null)break e;Ft=ie({},Ft,Dt);break e;case 2:cd=!0}}Ce.callback!==null&&Ce.lane!==0&&(d.flags|=64,Dt=j.effects,Dt===null?j.effects=[Ce]:Dt.push(Ce))}else Qt={eventTime:Qt,lane:Dt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},It===null?(rt=It=Qt,Ie=Ft):It=It.next=Qt,ce|=Dt;if(Ce=Ce.next,Ce===null){if(Ce=j.shared.pending,Ce===null)break;Dt=Ce,Ce=Dt.next,Dt.next=null,j.lastBaseUpdate=Dt,j.shared.pending=null}}while(!0);if(It===null&&(Ie=Ft),j.baseState=Ie,j.firstBaseUpdate=rt,j.lastBaseUpdate=It,m=j.shared.interleaved,m!==null){j=m;do ce|=j.lane,j=j.next;while(j!==m)}else K===null&&(j.shared.lanes=0);Sh|=ce,d.lanes=ce,d.memoizedState=Ft}}function eI(d,m,T){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var O=d[m],j=O.callback;if(j!==null){if(O.callback=null,O=T,typeof j!="function")throw Error(t(191,j));j.call(O)}}}var ng={},lu=Ca(ng),ig=Ca(ng),sg=Ca(ng);function _h(d){if(d===ng)throw Error(t(174));return d}function DT(d,m){switch(gn(sg,m),gn(ig,d),gn(lu,ng),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:qt(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=qt(m,d)}er(lu),gn(lu,m)}function $f(){er(lu),er(ig),er(sg)}function tI(d){_h(sg.current);var m=_h(lu.current),T=qt(m,d.type);m!==T&&(gn(ig,d),gn(lu,T))}function IT(d){ig.current===d&&(er(lu),er(ig))}var ei=Ca(0);function Qv(d){for(var m=d;m!==null;){if(m.tag===13){var T=m.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||T.data==="$?"||T.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var PT=[];function RT(){for(var d=0;d<PT.length;d++)PT[d]._workInProgressVersionPrimary=null;PT.length=0}var Jv=I.ReactCurrentDispatcher,LT=I.ReactCurrentBatchConfig,bh=0,ti=null,Fi=null,Yi=null,Zv=!1,ag=!1,og=0,Fz=0;function Ls(){throw Error(t(321))}function OT(d,m){if(m===null)return!1;for(var T=0;T<m.length&&T<d.length;T++)if(!we(d[T],m[T]))return!1;return!0}function MT(d,m,T,O,j,K){if(bh=K,ti=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Jv.current=d===null||d.memoizedState===null?$z:jz,d=T(O,j),ag){K=0;do{if(ag=!1,og=0,25<=K)throw Error(t(301));K+=1,Yi=Fi=null,m.updateQueue=null,Jv.current=zz,d=T(O,j)}while(ag)}if(Jv.current=ry,m=Fi!==null&&Fi.next!==null,bh=0,Yi=Fi=ti=null,Zv=!1,m)throw Error(t(300));return d}function FT(){var d=og!==0;return og=0,d}function uu(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yi===null?ti.memoizedState=Yi=d:Yi=Yi.next=d,Yi}function No(){if(Fi===null){var d=ti.alternate;d=d!==null?d.memoizedState:null}else d=Fi.next;var m=Yi===null?ti.memoizedState:Yi.next;if(m!==null)Yi=m,Fi=d;else{if(d===null)throw Error(t(310));Fi=d,d={memoizedState:Fi.memoizedState,baseState:Fi.baseState,baseQueue:Fi.baseQueue,queue:Fi.queue,next:null},Yi===null?ti.memoizedState=Yi=d:Yi=Yi.next=d}return Yi}function lg(d,m){return typeof m=="function"?m(d):m}function BT(d){var m=No(),T=m.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=d;var O=Fi,j=O.baseQueue,K=T.pending;if(K!==null){if(j!==null){var ce=j.next;j.next=K.next,K.next=ce}O.baseQueue=j=K,T.pending=null}if(j!==null){K=j.next,O=O.baseState;var Ce=ce=null,Ie=null,rt=K;do{var It=rt.lane;if((bh&It)===It)Ie!==null&&(Ie=Ie.next={lane:0,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null}),O=rt.hasEagerState?rt.eagerState:d(O,rt.action);else{var Ft={lane:It,action:rt.action,hasEagerState:rt.hasEagerState,eagerState:rt.eagerState,next:null};Ie===null?(Ce=Ie=Ft,ce=O):Ie=Ie.next=Ft,ti.lanes|=It,Sh|=It}rt=rt.next}while(rt!==null&&rt!==K);Ie===null?ce=O:Ie.next=Ce,we(O,m.memoizedState)||(ka=!0),m.memoizedState=O,m.baseState=ce,m.baseQueue=Ie,T.lastRenderedState=O}if(d=T.interleaved,d!==null){j=d;do K=j.lane,ti.lanes|=K,Sh|=K,j=j.next;while(j!==d)}else j===null&&(T.lanes=0);return[m.memoizedState,T.dispatch]}function NT(d){var m=No(),T=m.queue;if(T===null)throw Error(t(311));T.lastRenderedReducer=d;var O=T.dispatch,j=T.pending,K=m.memoizedState;if(j!==null){T.pending=null;var ce=j=j.next;do K=d(K,ce.action),ce=ce.next;while(ce!==j);we(K,m.memoizedState)||(ka=!0),m.memoizedState=K,m.baseQueue===null&&(m.baseState=K),T.lastRenderedState=K}return[K,O]}function rI(){}function nI(d,m){var T=ti,O=No(),j=m(),K=!we(O.memoizedState,j);if(K&&(O.memoizedState=j,ka=!0),O=O.queue,UT(aI.bind(null,T,O,d),[d]),O.getSnapshot!==m||K||Yi!==null&&Yi.memoizedState.tag&1){if(T.flags|=2048,ug(9,sI.bind(null,T,O,j,m),void 0,null),Qi===null)throw Error(t(349));(bh&30)!==0||iI(T,m,j)}return j}function iI(d,m,T){d.flags|=16384,d={getSnapshot:m,value:T},m=ti.updateQueue,m===null?(m={lastEffect:null,stores:null},ti.updateQueue=m,m.stores=[d]):(T=m.stores,T===null?m.stores=[d]:T.push(d))}function sI(d,m,T,O){m.value=T,m.getSnapshot=O,oI(m)&&lI(d)}function aI(d,m,T){return T(function(){oI(m)&&lI(d)})}function oI(d){var m=d.getSnapshot;d=d.value;try{var T=m();return!we(d,T)}catch{return!0}}function lI(d){var m=mc(d,1);m!==null&&Al(m,d,1,-1)}function uI(d){var m=uu();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:d},m.queue=d,d=d.dispatch=Uz.bind(null,ti,d),[m.memoizedState,d]}function ug(d,m,T,O){return d={tag:d,create:m,destroy:T,deps:O,next:null},m=ti.updateQueue,m===null?(m={lastEffect:null,stores:null},ti.updateQueue=m,m.lastEffect=d.next=d):(T=m.lastEffect,T===null?m.lastEffect=d.next=d:(O=T.next,T.next=d,d.next=O,m.lastEffect=d)),d}function cI(){return No().memoizedState}function ey(d,m,T,O){var j=uu();ti.flags|=d,j.memoizedState=ug(1|m,T,void 0,O===void 0?null:O)}function ty(d,m,T,O){var j=No();O=O===void 0?null:O;var K=void 0;if(Fi!==null){var ce=Fi.memoizedState;if(K=ce.destroy,O!==null&&OT(O,ce.deps)){j.memoizedState=ug(m,T,K,O);return}}ti.flags|=d,j.memoizedState=ug(1|m,T,K,O)}function dI(d,m){return ey(8390656,8,d,m)}function UT(d,m){return ty(2048,8,d,m)}function hI(d,m){return ty(4,2,d,m)}function fI(d,m){return ty(4,4,d,m)}function pI(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function mI(d,m,T){return T=T!=null?T.concat([d]):null,ty(4,4,pI.bind(null,m,d),T)}function $T(){}function gI(d,m){var T=No();m=m===void 0?null:m;var O=T.memoizedState;return O!==null&&m!==null&&OT(m,O[1])?O[0]:(T.memoizedState=[d,m],d)}function vI(d,m){var T=No();m=m===void 0?null:m;var O=T.memoizedState;return O!==null&&m!==null&&OT(m,O[1])?O[0]:(d=d(),T.memoizedState=[d,m],d)}function yI(d,m,T){return(bh&21)===0?(d.baseState&&(d.baseState=!1,ka=!0),d.memoizedState=T):(we(T,m)||(T=Wc(),ti.lanes|=T,Sh|=T,d.baseState=!0),m)}function Bz(d,m){var T=qr;qr=T!==0&&4>T?T:4,d(!0);var O=LT.transition;LT.transition={};try{d(!1),m()}finally{qr=T,LT.transition=O}}function xI(){return No().memoizedState}function Nz(d,m,T){var O=md(d);if(T={lane:O,action:T,hasEagerState:!1,eagerState:null,next:null},_I(d))bI(m,T);else if(T=QD(d,m,T,O),T!==null){var j=Xs();Al(T,d,O,j),SI(T,m,O)}}function Uz(d,m,T){var O=md(d),j={lane:O,action:T,hasEagerState:!1,eagerState:null,next:null};if(_I(d))bI(m,j);else{var K=d.alternate;if(d.lanes===0&&(K===null||K.lanes===0)&&(K=m.lastRenderedReducer,K!==null))try{var ce=m.lastRenderedState,Ce=K(ce,T);if(j.hasEagerState=!0,j.eagerState=Ce,we(Ce,ce)){var Ie=m.interleaved;Ie===null?(j.next=j,kT(m)):(j.next=Ie.next,Ie.next=j),m.interleaved=j;return}}catch{}finally{}T=QD(d,m,j,O),T!==null&&(j=Xs(),Al(T,d,O,j),SI(T,m,O))}}function _I(d){var m=d.alternate;return d===ti||m!==null&&m===ti}function bI(d,m){ag=Zv=!0;var T=d.pending;T===null?m.next=m:(m.next=T.next,T.next=m),d.pending=m}function SI(d,m,T){if((T&4194240)!==0){var O=m.lanes;O&=d.pendingLanes,T|=O,m.lanes=T,Ju(d,T)}}var ry={readContext:Bo,useCallback:Ls,useContext:Ls,useEffect:Ls,useImperativeHandle:Ls,useInsertionEffect:Ls,useLayoutEffect:Ls,useMemo:Ls,useReducer:Ls,useRef:Ls,useState:Ls,useDebugValue:Ls,useDeferredValue:Ls,useTransition:Ls,useMutableSource:Ls,useSyncExternalStore:Ls,useId:Ls,unstable_isNewReconciler:!1},$z={readContext:Bo,useCallback:function(d,m){return uu().memoizedState=[d,m===void 0?null:m],d},useContext:Bo,useEffect:dI,useImperativeHandle:function(d,m,T){return T=T!=null?T.concat([d]):null,ey(4194308,4,pI.bind(null,m,d),T)},useLayoutEffect:function(d,m){return ey(4194308,4,d,m)},useInsertionEffect:function(d,m){return ey(4,2,d,m)},useMemo:function(d,m){var T=uu();return m=m===void 0?null:m,d=d(),T.memoizedState=[d,m],d},useReducer:function(d,m,T){var O=uu();return m=T!==void 0?T(m):m,O.memoizedState=O.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},O.queue=d,d=d.dispatch=Nz.bind(null,ti,d),[O.memoizedState,d]},useRef:function(d){var m=uu();return d={current:d},m.memoizedState=d},useState:uI,useDebugValue:$T,useDeferredValue:function(d){return uu().memoizedState=d},useTransition:function(){var d=uI(!1),m=d[0];return d=Bz.bind(null,d[1]),uu().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,T){var O=ti,j=uu();if(Xn){if(T===void 0)throw Error(t(407));T=T()}else{if(T=m(),Qi===null)throw Error(t(349));(bh&30)!==0||iI(O,m,T)}j.memoizedState=T;var K={value:T,getSnapshot:m};return j.queue=K,dI(aI.bind(null,O,K,d),[d]),O.flags|=2048,ug(9,sI.bind(null,O,K,T,m),void 0,null),T},useId:function(){var d=uu(),m=Qi.identifierPrefix;if(Xn){var T=pc,O=fc;T=(O&~(1<<32-At(O)-1)).toString(32)+T,m=":"+m+"R"+T,T=og++,0<T&&(m+="H"+T.toString(32)),m+=":"}else T=Fz++,m=":"+m+"r"+T.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},jz={readContext:Bo,useCallback:gI,useContext:Bo,useEffect:UT,useImperativeHandle:mI,useInsertionEffect:hI,useLayoutEffect:fI,useMemo:vI,useReducer:BT,useRef:cI,useState:function(){return BT(lg)},useDebugValue:$T,useDeferredValue:function(d){var m=No();return yI(m,Fi.memoizedState,d)},useTransition:function(){var d=BT(lg)[0],m=No().memoizedState;return[d,m]},useMutableSource:rI,useSyncExternalStore:nI,useId:xI,unstable_isNewReconciler:!1},zz={readContext:Bo,useCallback:gI,useContext:Bo,useEffect:UT,useImperativeHandle:mI,useInsertionEffect:hI,useLayoutEffect:fI,useMemo:vI,useReducer:NT,useRef:cI,useState:function(){return NT(lg)},useDebugValue:$T,useDeferredValue:function(d){var m=No();return Fi===null?m.memoizedState=d:yI(m,Fi.memoizedState,d)},useTransition:function(){var d=NT(lg)[0],m=No().memoizedState;return[d,m]},useMutableSource:rI,useSyncExternalStore:nI,useId:xI,unstable_isNewReconciler:!1};function wl(d,m){if(d&&d.defaultProps){m=ie({},m),d=d.defaultProps;for(var T in d)m[T]===void 0&&(m[T]=d[T]);return m}return m}function jT(d,m,T,O){m=d.memoizedState,T=T(O,m),T=T==null?m:ie({},m,T),d.memoizedState=T,d.lanes===0&&(d.updateQueue.baseState=T)}var ny={isMounted:function(d){return(d=d._reactInternals)?Ct(d)===d:!1},enqueueSetState:function(d,m,T){d=d._reactInternals;var O=Xs(),j=md(d),K=gc(O,j);K.payload=m,T!=null&&(K.callback=T),m=dd(d,K,j),m!==null&&(Al(m,d,j,O),Xv(m,d,j))},enqueueReplaceState:function(d,m,T){d=d._reactInternals;var O=Xs(),j=md(d),K=gc(O,j);K.tag=1,K.payload=m,T!=null&&(K.callback=T),m=dd(d,K,j),m!==null&&(Al(m,d,j,O),Xv(m,d,j))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var T=Xs(),O=md(d),j=gc(T,O);j.tag=2,m!=null&&(j.callback=m),m=dd(d,j,O),m!==null&&(Al(m,d,O,T),Xv(m,d,O))}};function TI(d,m,T,O,j,K,ce){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(O,K,ce):m.prototype&&m.prototype.isPureReactComponent?!Pe(T,O)||!Pe(j,K):!0}function CI(d,m,T){var O=!1,j=Kn,K=m.contextType;return typeof K=="object"&&K!==null?K=Bo(K):(j=Ea(m)?gh:Rs.current,O=m.contextTypes,K=(O=O!=null)?Lf(d,j):Kn),m=new m(T,K),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ny,d.stateNode=m,m._reactInternals=d,O&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=j,d.__reactInternalMemoizedMaskedChildContext=K),m}function wI(d,m,T,O){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(T,O),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(T,O),m.state!==d&&ny.enqueueReplaceState(m,m.state,null)}function zT(d,m,T,O){var j=d.stateNode;j.props=T,j.state=d.memoizedState,j.refs={},AT(d);var K=m.contextType;typeof K=="object"&&K!==null?j.context=Bo(K):(K=Ea(m)?gh:Rs.current,j.context=Lf(d,K)),j.state=d.memoizedState,K=m.getDerivedStateFromProps,typeof K=="function"&&(jT(d,m,K,T),j.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(m=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),m!==j.state&&ny.enqueueReplaceState(j,j.state,null),Yv(d,T,j,O),j.state=d.memoizedState),typeof j.componentDidMount=="function"&&(d.flags|=4194308)}function jf(d,m){try{var T="",O=m;do T+=Le(O),O=O.return;while(O);var j=T}catch(K){j=`
Error generating stack: `+K.message+`
`+K.stack}return{value:d,source:m,stack:j,digest:null}}function HT(d,m,T){return{value:d,source:null,stack:T??null,digest:m??null}}function VT(d,m){try{console.error(m.value)}catch(T){setTimeout(function(){throw T})}}var Hz=typeof WeakMap=="function"?WeakMap:Map;function EI(d,m,T){T=gc(-1,T),T.tag=3,T.payload={element:null};var O=m.value;return T.callback=function(){cy||(cy=!0,s1=O),VT(d,m)},T}function kI(d,m,T){T=gc(-1,T),T.tag=3;var O=d.type.getDerivedStateFromError;if(typeof O=="function"){var j=m.value;T.payload=function(){return O(j)},T.callback=function(){VT(d,m)}}var K=d.stateNode;return K!==null&&typeof K.componentDidCatch=="function"&&(T.callback=function(){VT(d,m),typeof O!="function"&&(fd===null?fd=new Set([this]):fd.add(this));var ce=m.stack;this.componentDidCatch(m.value,{componentStack:ce!==null?ce:""})}),T}function AI(d,m,T){var O=d.pingCache;if(O===null){O=d.pingCache=new Hz;var j=new Set;O.set(m,j)}else j=O.get(m),j===void 0&&(j=new Set,O.set(m,j));j.has(T)||(j.add(T),d=nH.bind(null,d,m,T),m.then(d,d))}function DI(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function II(d,m,T,O,j){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(m=gc(-1,1),m.tag=2,dd(T,m,1))),T.lanes|=1),d):(d.flags|=65536,d.lanes=j,d)}var Vz=I.ReactCurrentOwner,ka=!1;function Ks(d,m,T,O){m.child=d===null?YD(m,null,T,O):Bf(m,d.child,T,O)}function PI(d,m,T,O,j){T=T.render;var K=m.ref;return Uf(m,j),O=MT(d,m,T,O,K,j),T=FT(),d!==null&&!ka?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~j,vc(d,m,j)):(Xn&&T&&yT(m),m.flags|=1,Ks(d,m,O,j),m.child)}function RI(d,m,T,O,j){if(d===null){var K=T.type;return typeof K=="function"&&!h1(K)&&K.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(m.tag=15,m.type=K,LI(d,m,K,O,j)):(d=gy(T.type,null,O,m,m.mode,j),d.ref=m.ref,d.return=m,m.child=d)}if(K=d.child,(d.lanes&j)===0){var ce=K.memoizedProps;if(T=T.compare,T=T!==null?T:Pe,T(ce,O)&&d.ref===m.ref)return vc(d,m,j)}return m.flags|=1,d=vd(K,O),d.ref=m.ref,d.return=m,m.child=d}function LI(d,m,T,O,j){if(d!==null){var K=d.memoizedProps;if(Pe(K,O)&&d.ref===m.ref)if(ka=!1,m.pendingProps=O=K,(d.lanes&j)!==0)(d.flags&131072)!==0&&(ka=!0);else return m.lanes=d.lanes,vc(d,m,j)}return WT(d,m,T,O,j)}function OI(d,m,T){var O=m.pendingProps,j=O.children,K=d!==null?d.memoizedState:null;if(O.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(Hf,io),io|=T;else{if((T&1073741824)===0)return d=K!==null?K.baseLanes|T:T,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,gn(Hf,io),io|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},O=K!==null?K.baseLanes:T,gn(Hf,io),io|=O}else K!==null?(O=K.baseLanes|T,m.memoizedState=null):O=T,gn(Hf,io),io|=O;return Ks(d,m,j,T),m.child}function MI(d,m){var T=m.ref;(d===null&&T!==null||d!==null&&d.ref!==T)&&(m.flags|=512,m.flags|=2097152)}function WT(d,m,T,O,j){var K=Ea(T)?gh:Rs.current;return K=Lf(m,K),Uf(m,j),T=MT(d,m,T,O,K,j),O=FT(),d!==null&&!ka?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~j,vc(d,m,j)):(Xn&&O&&yT(m),m.flags|=1,Ks(d,m,T,j),m.child)}function FI(d,m,T,O,j){if(Ea(T)){var K=!0;jv(m)}else K=!1;if(Uf(m,j),m.stateNode===null)sy(d,m),CI(m,T,O),zT(m,T,O,j),O=!0;else if(d===null){var ce=m.stateNode,Ce=m.memoizedProps;ce.props=Ce;var Ie=ce.context,rt=T.contextType;typeof rt=="object"&&rt!==null?rt=Bo(rt):(rt=Ea(T)?gh:Rs.current,rt=Lf(m,rt));var It=T.getDerivedStateFromProps,Ft=typeof It=="function"||typeof ce.getSnapshotBeforeUpdate=="function";Ft||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Ce!==O||Ie!==rt)&&wI(m,ce,O,rt),cd=!1;var Dt=m.memoizedState;ce.state=Dt,Yv(m,O,ce,j),Ie=m.memoizedState,Ce!==O||Dt!==Ie||wa.current||cd?(typeof It=="function"&&(jT(m,T,It,O),Ie=m.memoizedState),(Ce=cd||TI(m,T,Ce,O,Dt,Ie,rt))?(Ft||typeof ce.UNSAFE_componentWillMount!="function"&&typeof ce.componentWillMount!="function"||(typeof ce.componentWillMount=="function"&&ce.componentWillMount(),typeof ce.UNSAFE_componentWillMount=="function"&&ce.UNSAFE_componentWillMount()),typeof ce.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ce.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=O,m.memoizedState=Ie),ce.props=O,ce.state=Ie,ce.context=rt,O=Ce):(typeof ce.componentDidMount=="function"&&(m.flags|=4194308),O=!1)}else{ce=m.stateNode,JD(d,m),Ce=m.memoizedProps,rt=m.type===m.elementType?Ce:wl(m.type,Ce),ce.props=rt,Ft=m.pendingProps,Dt=ce.context,Ie=T.contextType,typeof Ie=="object"&&Ie!==null?Ie=Bo(Ie):(Ie=Ea(T)?gh:Rs.current,Ie=Lf(m,Ie));var Qt=T.getDerivedStateFromProps;(It=typeof Qt=="function"||typeof ce.getSnapshotBeforeUpdate=="function")||typeof ce.UNSAFE_componentWillReceiveProps!="function"&&typeof ce.componentWillReceiveProps!="function"||(Ce!==Ft||Dt!==Ie)&&wI(m,ce,O,Ie),cd=!1,Dt=m.memoizedState,ce.state=Dt,Yv(m,O,ce,j);var lr=m.memoizedState;Ce!==Ft||Dt!==lr||wa.current||cd?(typeof Qt=="function"&&(jT(m,T,Qt,O),lr=m.memoizedState),(rt=cd||TI(m,T,rt,O,Dt,lr,Ie)||!1)?(It||typeof ce.UNSAFE_componentWillUpdate!="function"&&typeof ce.componentWillUpdate!="function"||(typeof ce.componentWillUpdate=="function"&&ce.componentWillUpdate(O,lr,Ie),typeof ce.UNSAFE_componentWillUpdate=="function"&&ce.UNSAFE_componentWillUpdate(O,lr,Ie)),typeof ce.componentDidUpdate=="function"&&(m.flags|=4),typeof ce.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ce.componentDidUpdate!="function"||Ce===d.memoizedProps&&Dt===d.memoizedState||(m.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Ce===d.memoizedProps&&Dt===d.memoizedState||(m.flags|=1024),m.memoizedProps=O,m.memoizedState=lr),ce.props=O,ce.state=lr,ce.context=Ie,O=rt):(typeof ce.componentDidUpdate!="function"||Ce===d.memoizedProps&&Dt===d.memoizedState||(m.flags|=4),typeof ce.getSnapshotBeforeUpdate!="function"||Ce===d.memoizedProps&&Dt===d.memoizedState||(m.flags|=1024),O=!1)}return qT(d,m,T,O,K,j)}function qT(d,m,T,O,j,K){MI(d,m);var ce=(m.flags&128)!==0;if(!O&&!ce)return j&&jD(m,T,!1),vc(d,m,K);O=m.stateNode,Vz.current=m;var Ce=ce&&typeof T.getDerivedStateFromError!="function"?null:O.render();return m.flags|=1,d!==null&&ce?(m.child=Bf(m,d.child,null,K),m.child=Bf(m,null,Ce,K)):Ks(d,m,Ce,K),m.memoizedState=O.state,j&&jD(m,T,!0),m.child}function BI(d){var m=d.stateNode;m.pendingContext?UD(d,m.pendingContext,m.pendingContext!==m.context):m.context&&UD(d,m.context,!1),DT(d,m.containerInfo)}function NI(d,m,T,O,j){return Ff(),ST(j),m.flags|=256,Ks(d,m,T,O),m.child}var GT={dehydrated:null,treeContext:null,retryLane:0};function KT(d){return{baseLanes:d,cachePool:null,transitions:null}}function UI(d,m,T){var O=m.pendingProps,j=ei.current,K=!1,ce=(m.flags&128)!==0,Ce;if((Ce=ce)||(Ce=d!==null&&d.memoizedState===null?!1:(j&2)!==0),Ce?(K=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(j|=1),gn(ei,j&1),d===null)return bT(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(ce=O.children,d=O.fallback,K?(O=m.mode,K=m.child,ce={mode:"hidden",children:ce},(O&1)===0&&K!==null?(K.childLanes=0,K.pendingProps=ce):K=vy(ce,O,0,null),d=Eh(d,O,T,null),K.return=m,d.return=m,K.sibling=d,m.child=K,m.child.memoizedState=KT(T),m.memoizedState=GT,d):XT(m,ce));if(j=d.memoizedState,j!==null&&(Ce=j.dehydrated,Ce!==null))return Wz(d,m,ce,O,Ce,j,T);if(K){K=O.fallback,ce=m.mode,j=d.child,Ce=j.sibling;var Ie={mode:"hidden",children:O.children};return(ce&1)===0&&m.child!==j?(O=m.child,O.childLanes=0,O.pendingProps=Ie,m.deletions=null):(O=vd(j,Ie),O.subtreeFlags=j.subtreeFlags&14680064),Ce!==null?K=vd(Ce,K):(K=Eh(K,ce,T,null),K.flags|=2),K.return=m,O.return=m,O.sibling=K,m.child=O,O=K,K=m.child,ce=d.child.memoizedState,ce=ce===null?KT(T):{baseLanes:ce.baseLanes|T,cachePool:null,transitions:ce.transitions},K.memoizedState=ce,K.childLanes=d.childLanes&~T,m.memoizedState=GT,O}return K=d.child,d=K.sibling,O=vd(K,{mode:"visible",children:O.children}),(m.mode&1)===0&&(O.lanes=T),O.return=m,O.sibling=null,d!==null&&(T=m.deletions,T===null?(m.deletions=[d],m.flags|=16):T.push(d)),m.child=O,m.memoizedState=null,O}function XT(d,m){return m=vy({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function iy(d,m,T,O){return O!==null&&ST(O),Bf(m,d.child,null,T),d=XT(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Wz(d,m,T,O,j,K,ce){if(T)return m.flags&256?(m.flags&=-257,O=HT(Error(t(422))),iy(d,m,ce,O)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(K=O.fallback,j=m.mode,O=vy({mode:"visible",children:O.children},j,0,null),K=Eh(K,j,ce,null),K.flags|=2,O.return=m,K.return=m,O.sibling=K,m.child=O,(m.mode&1)!==0&&Bf(m,d.child,null,ce),m.child.memoizedState=KT(ce),m.memoizedState=GT,K);if((m.mode&1)===0)return iy(d,m,ce,null);if(j.data==="$!"){if(O=j.nextSibling&&j.nextSibling.dataset,O)var Ce=O.dgst;return O=Ce,K=Error(t(419)),O=HT(K,O,void 0),iy(d,m,ce,O)}if(Ce=(ce&d.childLanes)!==0,ka||Ce){if(O=Qi,O!==null){switch(ce&-ce){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(O.suspendedLanes|ce))!==0?0:j,j!==0&&j!==K.retryLane&&(K.retryLane=j,mc(d,j),Al(O,d,j,-1))}return d1(),O=HT(Error(t(421))),iy(d,m,ce,O)}return j.data==="$?"?(m.flags|=128,m.child=d.child,m=iH.bind(null,d),j._reactRetry=m,null):(d=K.treeContext,no=J(j.nextSibling),ro=m,Xn=!0,Cl=null,d!==null&&(Mo[Fo++]=fc,Mo[Fo++]=pc,Mo[Fo++]=vh,fc=d.id,pc=d.overflow,vh=m),m=XT(m,O.children),m.flags|=4096,m)}function $I(d,m,T){d.lanes|=m;var O=d.alternate;O!==null&&(O.lanes|=m),ET(d.return,m,T)}function YT(d,m,T,O,j){var K=d.memoizedState;K===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:O,tail:T,tailMode:j}:(K.isBackwards=m,K.rendering=null,K.renderingStartTime=0,K.last=O,K.tail=T,K.tailMode=j)}function jI(d,m,T){var O=m.pendingProps,j=O.revealOrder,K=O.tail;if(Ks(d,m,O.children,T),O=ei.current,(O&2)!==0)O=O&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&$I(d,T,m);else if(d.tag===19)$I(d,T,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}O&=1}if(gn(ei,O),(m.mode&1)===0)m.memoizedState=null;else switch(j){case"forwards":for(T=m.child,j=null;T!==null;)d=T.alternate,d!==null&&Qv(d)===null&&(j=T),T=T.sibling;T=j,T===null?(j=m.child,m.child=null):(j=T.sibling,T.sibling=null),YT(m,!1,j,T,K);break;case"backwards":for(T=null,j=m.child,m.child=null;j!==null;){if(d=j.alternate,d!==null&&Qv(d)===null){m.child=j;break}d=j.sibling,j.sibling=T,T=j,j=d}YT(m,!0,T,null,K);break;case"together":YT(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function sy(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function vc(d,m,T){if(d!==null&&(m.dependencies=d.dependencies),Sh|=m.lanes,(T&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(t(153));if(m.child!==null){for(d=m.child,T=vd(d,d.pendingProps),m.child=T,T.return=m;d.sibling!==null;)d=d.sibling,T=T.sibling=vd(d,d.pendingProps),T.return=m;T.sibling=null}return m.child}function qz(d,m,T){switch(m.tag){case 3:BI(m),Ff();break;case 5:tI(m);break;case 1:Ea(m.type)&&jv(m);break;case 4:DT(m,m.stateNode.containerInfo);break;case 10:var O=m.type._context,j=m.memoizedProps.value;gn(Gv,O._currentValue),O._currentValue=j;break;case 13:if(O=m.memoizedState,O!==null)return O.dehydrated!==null?(gn(ei,ei.current&1),m.flags|=128,null):(T&m.child.childLanes)!==0?UI(d,m,T):(gn(ei,ei.current&1),d=vc(d,m,T),d!==null?d.sibling:null);gn(ei,ei.current&1);break;case 19:if(O=(T&m.childLanes)!==0,(d.flags&128)!==0){if(O)return jI(d,m,T);m.flags|=128}if(j=m.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),gn(ei,ei.current),O)break;return null;case 22:case 23:return m.lanes=0,OI(d,m,T)}return vc(d,m,T)}var zI,QT,HI,VI;zI=function(d,m){for(var T=m.child;T!==null;){if(T.tag===5||T.tag===6)d.appendChild(T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===m)break;for(;T.sibling===null;){if(T.return===null||T.return===m)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},QT=function(){},HI=function(d,m,T,O){var j=d.memoizedProps;if(j!==O){d=m.stateNode,_h(lu.current);var K=null;switch(T){case"input":j=Ne(d,j),O=Ne(d,O),K=[];break;case"select":j=ie({},j,{value:void 0}),O=ie({},O,{value:void 0}),K=[];break;case"textarea":j=ut(d,j),O=ut(d,O),K=[];break;default:typeof j.onClick!="function"&&typeof O.onClick=="function"&&(d.onclick=ld)}Or(T,O);var ce;T=null;for(rt in j)if(!O.hasOwnProperty(rt)&&j.hasOwnProperty(rt)&&j[rt]!=null)if(rt==="style"){var Ce=j[rt];for(ce in Ce)Ce.hasOwnProperty(ce)&&(T||(T={}),T[ce]="")}else rt!=="dangerouslySetInnerHTML"&&rt!=="children"&&rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&rt!=="autoFocus"&&(i.hasOwnProperty(rt)?K||(K=[]):(K=K||[]).push(rt,null));for(rt in O){var Ie=O[rt];if(Ce=j?.[rt],O.hasOwnProperty(rt)&&Ie!==Ce&&(Ie!=null||Ce!=null))if(rt==="style")if(Ce){for(ce in Ce)!Ce.hasOwnProperty(ce)||Ie&&Ie.hasOwnProperty(ce)||(T||(T={}),T[ce]="");for(ce in Ie)Ie.hasOwnProperty(ce)&&Ce[ce]!==Ie[ce]&&(T||(T={}),T[ce]=Ie[ce])}else T||(K||(K=[]),K.push(rt,T)),T=Ie;else rt==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,Ce=Ce?Ce.__html:void 0,Ie!=null&&Ce!==Ie&&(K=K||[]).push(rt,Ie)):rt==="children"?typeof Ie!="string"&&typeof Ie!="number"||(K=K||[]).push(rt,""+Ie):rt!=="suppressContentEditableWarning"&&rt!=="suppressHydrationWarning"&&(i.hasOwnProperty(rt)?(Ie!=null&&rt==="onScroll"&&bn("scroll",d),K||Ce===Ie||(K=[])):(K=K||[]).push(rt,Ie))}T&&(K=K||[]).push("style",T);var rt=K;(m.updateQueue=rt)&&(m.flags|=4)}},VI=function(d,m,T,O){T!==O&&(m.flags|=4)};function cg(d,m){if(!Xn)switch(d.tailMode){case"hidden":m=d.tail;for(var T=null;m!==null;)m.alternate!==null&&(T=m),m=m.sibling;T===null?d.tail=null:T.sibling=null;break;case"collapsed":T=d.tail;for(var O=null;T!==null;)T.alternate!==null&&(O=T),T=T.sibling;O===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:O.sibling=null}}function Os(d){var m=d.alternate!==null&&d.alternate.child===d.child,T=0,O=0;if(m)for(var j=d.child;j!==null;)T|=j.lanes|j.childLanes,O|=j.subtreeFlags&14680064,O|=j.flags&14680064,j.return=d,j=j.sibling;else for(j=d.child;j!==null;)T|=j.lanes|j.childLanes,O|=j.subtreeFlags,O|=j.flags,j.return=d,j=j.sibling;return d.subtreeFlags|=O,d.childLanes=T,m}function Gz(d,m,T){var O=m.pendingProps;switch(xT(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Os(m),null;case 1:return Ea(m.type)&&$v(),Os(m),null;case 3:return O=m.stateNode,$f(),er(wa),er(Rs),RT(),O.pendingContext&&(O.context=O.pendingContext,O.pendingContext=null),(d===null||d.child===null)&&(Wv(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Cl!==null&&(l1(Cl),Cl=null))),QT(d,m),Os(m),null;case 5:IT(m);var j=_h(sg.current);if(T=m.type,d!==null&&m.stateNode!=null)HI(d,m,T,O,j),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!O){if(m.stateNode===null)throw Error(t(166));return Os(m),null}if(d=_h(lu.current),Wv(m)){O=m.stateNode,T=m.type;var K=m.memoizedProps;switch(O[ge]=m,O[Ge]=K,d=(m.mode&1)!==0,T){case"dialog":bn("cancel",O),bn("close",O);break;case"iframe":case"object":case"embed":bn("load",O);break;case"video":case"audio":for(j=0;j<oc.length;j++)bn(oc[j],O);break;case"source":bn("error",O);break;case"img":case"image":case"link":bn("error",O),bn("load",O);break;case"details":bn("toggle",O);break;case"input":et(O,K),bn("invalid",O);break;case"select":O._wrapperState={wasMultiple:!!K.multiple},bn("invalid",O);break;case"textarea":gr(O,K),bn("invalid",O)}Or(T,K),j=null;for(var ce in K)if(K.hasOwnProperty(ce)){var Ce=K[ce];ce==="children"?typeof Ce=="string"?O.textContent!==Ce&&(K.suppressHydrationWarning!==!0&&od(O.textContent,Ce,d),j=["children",Ce]):typeof Ce=="number"&&O.textContent!==""+Ce&&(K.suppressHydrationWarning!==!0&&od(O.textContent,Ce,d),j=["children",""+Ce]):i.hasOwnProperty(ce)&&Ce!=null&&ce==="onScroll"&&bn("scroll",O)}switch(T){case"input":Pt(O),$e(O,K,!0);break;case"textarea":Pt(O),Rr(O);break;case"select":case"option":break;default:typeof K.onClick=="function"&&(O.onclick=ld)}O=j,m.updateQueue=O,O!==null&&(m.flags|=4)}else{ce=j.nodeType===9?j:j.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=nr(T)),d==="http://www.w3.org/1999/xhtml"?T==="script"?(d=ce.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof O.is=="string"?d=ce.createElement(T,{is:O.is}):(d=ce.createElement(T),T==="select"&&(ce=d,O.multiple?ce.multiple=!0:O.size&&(ce.size=O.size))):d=ce.createElementNS(d,T),d[ge]=m,d[Ge]=O,zI(d,m,!1,!1),m.stateNode=d;e:{switch(ce=Hr(T,O),T){case"dialog":bn("cancel",d),bn("close",d),j=O;break;case"iframe":case"object":case"embed":bn("load",d),j=O;break;case"video":case"audio":for(j=0;j<oc.length;j++)bn(oc[j],d);j=O;break;case"source":bn("error",d),j=O;break;case"img":case"image":case"link":bn("error",d),bn("load",d),j=O;break;case"details":bn("toggle",d),j=O;break;case"input":et(d,O),j=Ne(d,O),bn("invalid",d);break;case"option":j=O;break;case"select":d._wrapperState={wasMultiple:!!O.multiple},j=ie({},O,{value:void 0}),bn("invalid",d);break;case"textarea":gr(d,O),j=ut(d,O),bn("invalid",d);break;default:j=O}Or(T,j),Ce=j;for(K in Ce)if(Ce.hasOwnProperty(K)){var Ie=Ce[K];K==="style"?jt(d,Ie):K==="dangerouslySetInnerHTML"?(Ie=Ie?Ie.__html:void 0,Ie!=null&&xr(d,Ie)):K==="children"?typeof Ie=="string"?(T!=="textarea"||Ie!=="")&&Lr(d,Ie):typeof Ie=="number"&&Lr(d,""+Ie):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(i.hasOwnProperty(K)?Ie!=null&&K==="onScroll"&&bn("scroll",d):Ie!=null&&D(d,K,Ie,ce))}switch(T){case"input":Pt(d),$e(d,O,!1);break;case"textarea":Pt(d),Rr(d);break;case"option":O.value!=null&&d.setAttribute("value",""+ze(O.value));break;case"select":d.multiple=!!O.multiple,K=O.value,K!=null?vt(d,!!O.multiple,K,!1):O.defaultValue!=null&&vt(d,!!O.multiple,O.defaultValue,!0);break;default:typeof j.onClick=="function"&&(d.onclick=ld)}switch(T){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}}O&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Os(m),null;case 6:if(d&&m.stateNode!=null)VI(d,m,d.memoizedProps,O);else{if(typeof O!="string"&&m.stateNode===null)throw Error(t(166));if(T=_h(sg.current),_h(lu.current),Wv(m)){if(O=m.stateNode,T=m.memoizedProps,O[ge]=m,(K=O.nodeValue!==T)&&(d=ro,d!==null))switch(d.tag){case 3:od(O.nodeValue,T,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&od(O.nodeValue,T,(d.mode&1)!==0)}K&&(m.flags|=4)}else O=(T.nodeType===9?T:T.ownerDocument).createTextNode(O),O[ge]=m,m.stateNode=O}return Os(m),null;case 13:if(er(ei),O=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Xn&&no!==null&&(m.mode&1)!==0&&(m.flags&128)===0)GD(),Ff(),m.flags|=98560,K=!1;else if(K=Wv(m),O!==null&&O.dehydrated!==null){if(d===null){if(!K)throw Error(t(318));if(K=m.memoizedState,K=K!==null?K.dehydrated:null,!K)throw Error(t(317));K[ge]=m}else Ff(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Os(m),K=!1}else Cl!==null&&(l1(Cl),Cl=null),K=!0;if(!K)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=T,m):(O=O!==null,O!==(d!==null&&d.memoizedState!==null)&&O&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(ei.current&1)!==0?Bi===0&&(Bi=3):d1())),m.updateQueue!==null&&(m.flags|=4),Os(m),null);case 4:return $f(),QT(d,m),d===null&&mi(m.stateNode.containerInfo),Os(m),null;case 10:return wT(m.type._context),Os(m),null;case 17:return Ea(m.type)&&$v(),Os(m),null;case 19:if(er(ei),K=m.memoizedState,K===null)return Os(m),null;if(O=(m.flags&128)!==0,ce=K.rendering,ce===null)if(O)cg(K,!1);else{if(Bi!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(ce=Qv(d),ce!==null){for(m.flags|=128,cg(K,!1),O=ce.updateQueue,O!==null&&(m.updateQueue=O,m.flags|=4),m.subtreeFlags=0,O=T,T=m.child;T!==null;)K=T,d=O,K.flags&=14680066,ce=K.alternate,ce===null?(K.childLanes=0,K.lanes=d,K.child=null,K.subtreeFlags=0,K.memoizedProps=null,K.memoizedState=null,K.updateQueue=null,K.dependencies=null,K.stateNode=null):(K.childLanes=ce.childLanes,K.lanes=ce.lanes,K.child=ce.child,K.subtreeFlags=0,K.deletions=null,K.memoizedProps=ce.memoizedProps,K.memoizedState=ce.memoizedState,K.updateQueue=ce.updateQueue,K.type=ce.type,d=ce.dependencies,K.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),T=T.sibling;return gn(ei,ei.current&1|2),m.child}d=d.sibling}K.tail!==null&&nn()>Vf&&(m.flags|=128,O=!0,cg(K,!1),m.lanes=4194304)}else{if(!O)if(d=Qv(ce),d!==null){if(m.flags|=128,O=!0,T=d.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),cg(K,!0),K.tail===null&&K.tailMode==="hidden"&&!ce.alternate&&!Xn)return Os(m),null}else 2*nn()-K.renderingStartTime>Vf&&T!==1073741824&&(m.flags|=128,O=!0,cg(K,!1),m.lanes=4194304);K.isBackwards?(ce.sibling=m.child,m.child=ce):(T=K.last,T!==null?T.sibling=ce:m.child=ce,K.last=ce)}return K.tail!==null?(m=K.tail,K.rendering=m,K.tail=m.sibling,K.renderingStartTime=nn(),m.sibling=null,T=ei.current,gn(ei,O?T&1|2:T&1),m):(Os(m),null);case 22:case 23:return c1(),O=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==O&&(m.flags|=8192),O&&(m.mode&1)!==0?(io&1073741824)!==0&&(Os(m),m.subtreeFlags&6&&(m.flags|=8192)):Os(m),null;case 24:return null;case 25:return null}throw Error(t(156,m.tag))}function Kz(d,m){switch(xT(m),m.tag){case 1:return Ea(m.type)&&$v(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return $f(),er(wa),er(Rs),RT(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return IT(m),null;case 13:if(er(ei),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(t(340));Ff()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return er(ei),null;case 4:return $f(),null;case 10:return wT(m.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var ay=!1,Ms=!1,Xz=typeof WeakSet=="function"?WeakSet:Set,rr=null;function zf(d,m){var T=d.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(O){ai(d,m,O)}else T.current=null}function JT(d,m,T){try{T()}catch(O){ai(d,m,O)}}var WI=!1;function Yz(d,m){if(cc=ml,d=st(),ar(d)){if("selectionStart"in d)var T={start:d.selectionStart,end:d.selectionEnd};else e:{T=(T=d.ownerDocument)&&T.defaultView||window;var O=T.getSelection&&T.getSelection();if(O&&O.rangeCount!==0){T=O.anchorNode;var j=O.anchorOffset,K=O.focusNode;O=O.focusOffset;try{T.nodeType,K.nodeType}catch{T=null;break e}var ce=0,Ce=-1,Ie=-1,rt=0,It=0,Ft=d,Dt=null;t:for(;;){for(var Qt;Ft!==T||j!==0&&Ft.nodeType!==3||(Ce=ce+j),Ft!==K||O!==0&&Ft.nodeType!==3||(Ie=ce+O),Ft.nodeType===3&&(ce+=Ft.nodeValue.length),(Qt=Ft.firstChild)!==null;)Dt=Ft,Ft=Qt;for(;;){if(Ft===d)break t;if(Dt===T&&++rt===j&&(Ce=ce),Dt===K&&++It===O&&(Ie=ce),(Qt=Ft.nextSibling)!==null)break;Ft=Dt,Dt=Ft.parentNode}Ft=Qt}T=Ce===-1||Ie===-1?null:{start:Ce,end:Ie}}else T=null}T=T||{start:0,end:0}}else T=null;for(p={focusedElem:d,selectionRange:T},ml=!1,rr=m;rr!==null;)if(m=rr,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,rr=d;else for(;rr!==null;){m=rr;try{var lr=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(lr!==null){var dr=lr.memoizedProps,vi=lr.memoizedState,He=m.stateNode,Fe=He.getSnapshotBeforeUpdate(m.elementType===m.type?dr:wl(m.type,dr),vi);He.__reactInternalSnapshotBeforeUpdate=Fe}break;case 3:var Ke=m.stateNode.containerInfo;Ke.nodeType===1?Ke.textContent="":Ke.nodeType===9&&Ke.documentElement&&Ke.removeChild(Ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch($t){ai(m,m.return,$t)}if(d=m.sibling,d!==null){d.return=m.return,rr=d;break}rr=m.return}return lr=WI,WI=!1,lr}function dg(d,m,T){var O=m.updateQueue;if(O=O!==null?O.lastEffect:null,O!==null){var j=O=O.next;do{if((j.tag&d)===d){var K=j.destroy;j.destroy=void 0,K!==void 0&&JT(m,T,K)}j=j.next}while(j!==O)}}function oy(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var T=m=m.next;do{if((T.tag&d)===d){var O=T.create;T.destroy=O()}T=T.next}while(T!==m)}}function ZT(d){var m=d.ref;if(m!==null){var T=d.stateNode;switch(d.tag){case 5:d=T;break;default:d=T}typeof m=="function"?m(d):m.current=d}}function qI(d){var m=d.alternate;m!==null&&(d.alternate=null,qI(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[ge],delete m[Ge],delete m[wt],delete m[Wt],delete m[Gr])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function GI(d){return d.tag===5||d.tag===3||d.tag===4}function KI(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||GI(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function e1(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?T.nodeType===8?T.parentNode.insertBefore(d,m):T.insertBefore(d,m):(T.nodeType===8?(m=T.parentNode,m.insertBefore(d,T)):(m=T,m.appendChild(d)),T=T._reactRootContainer,T!=null||m.onclick!==null||(m.onclick=ld));else if(O!==4&&(d=d.child,d!==null))for(e1(d,m,T),d=d.sibling;d!==null;)e1(d,m,T),d=d.sibling}function t1(d,m,T){var O=d.tag;if(O===5||O===6)d=d.stateNode,m?T.insertBefore(d,m):T.appendChild(d);else if(O!==4&&(d=d.child,d!==null))for(t1(d,m,T),d=d.sibling;d!==null;)t1(d,m,T),d=d.sibling}var fs=null,El=!1;function hd(d,m,T){for(T=T.child;T!==null;)XI(d,m,T),T=T.sibling}function XI(d,m,T){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(tt,T)}catch{}switch(T.tag){case 5:Ms||zf(T,m);case 6:var O=fs,j=El;fs=null,hd(d,m,T),fs=O,El=j,fs!==null&&(El?(d=fs,T=T.stateNode,d.nodeType===8?d.parentNode.removeChild(T):d.removeChild(T)):fs.removeChild(T.stateNode));break;case 18:fs!==null&&(El?(d=fs,T=T.stateNode,d.nodeType===8?Y(d.parentNode,T):d.nodeType===1&&Y(d,T),us(d)):Y(fs,T.stateNode));break;case 4:O=fs,j=El,fs=T.stateNode.containerInfo,El=!0,hd(d,m,T),fs=O,El=j;break;case 0:case 11:case 14:case 15:if(!Ms&&(O=T.updateQueue,O!==null&&(O=O.lastEffect,O!==null))){j=O=O.next;do{var K=j,ce=K.destroy;K=K.tag,ce!==void 0&&((K&2)!==0||(K&4)!==0)&&JT(T,m,ce),j=j.next}while(j!==O)}hd(d,m,T);break;case 1:if(!Ms&&(zf(T,m),O=T.stateNode,typeof O.componentWillUnmount=="function"))try{O.props=T.memoizedProps,O.state=T.memoizedState,O.componentWillUnmount()}catch(Ce){ai(T,m,Ce)}hd(d,m,T);break;case 21:hd(d,m,T);break;case 22:T.mode&1?(Ms=(O=Ms)||T.memoizedState!==null,hd(d,m,T),Ms=O):hd(d,m,T);break;default:hd(d,m,T)}}function YI(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var T=d.stateNode;T===null&&(T=d.stateNode=new Xz),m.forEach(function(O){var j=sH.bind(null,d,O);T.has(O)||(T.add(O),O.then(j,j))})}}function kl(d,m){var T=m.deletions;if(T!==null)for(var O=0;O<T.length;O++){var j=T[O];try{var K=d,ce=m,Ce=ce;e:for(;Ce!==null;){switch(Ce.tag){case 5:fs=Ce.stateNode,El=!1;break e;case 3:fs=Ce.stateNode.containerInfo,El=!0;break e;case 4:fs=Ce.stateNode.containerInfo,El=!0;break e}Ce=Ce.return}if(fs===null)throw Error(t(160));XI(K,ce,j),fs=null,El=!1;var Ie=j.alternate;Ie!==null&&(Ie.return=null),j.return=null}catch(rt){ai(j,m,rt)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)QI(m,d),m=m.sibling}function QI(d,m){var T=d.alternate,O=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(kl(m,d),cu(d),O&4){try{dg(3,d,d.return),oy(3,d)}catch(dr){ai(d,d.return,dr)}try{dg(5,d,d.return)}catch(dr){ai(d,d.return,dr)}}break;case 1:kl(m,d),cu(d),O&512&&T!==null&&zf(T,T.return);break;case 5:if(kl(m,d),cu(d),O&512&&T!==null&&zf(T,T.return),d.flags&32){var j=d.stateNode;try{Lr(j,"")}catch(dr){ai(d,d.return,dr)}}if(O&4&&(j=d.stateNode,j!=null)){var K=d.memoizedProps,ce=T!==null?T.memoizedProps:K,Ce=d.type,Ie=d.updateQueue;if(d.updateQueue=null,Ie!==null)try{Ce==="input"&&K.type==="radio"&&K.name!=null&&at(j,K),Hr(Ce,ce);var rt=Hr(Ce,K);for(ce=0;ce<Ie.length;ce+=2){var It=Ie[ce],Ft=Ie[ce+1];It==="style"?jt(j,Ft):It==="dangerouslySetInnerHTML"?xr(j,Ft):It==="children"?Lr(j,Ft):D(j,It,Ft,rt)}switch(Ce){case"input":Me(j,K);break;case"textarea":hr(j,K);break;case"select":var Dt=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!K.multiple;var Qt=K.value;Qt!=null?vt(j,!!K.multiple,Qt,!1):Dt!==!!K.multiple&&(K.defaultValue!=null?vt(j,!!K.multiple,K.defaultValue,!0):vt(j,!!K.multiple,K.multiple?[]:"",!1))}j[Ge]=K}catch(dr){ai(d,d.return,dr)}}break;case 6:if(kl(m,d),cu(d),O&4){if(d.stateNode===null)throw Error(t(162));j=d.stateNode,K=d.memoizedProps;try{j.nodeValue=K}catch(dr){ai(d,d.return,dr)}}break;case 3:if(kl(m,d),cu(d),O&4&&T!==null&&T.memoizedState.isDehydrated)try{us(m.containerInfo)}catch(dr){ai(d,d.return,dr)}break;case 4:kl(m,d),cu(d);break;case 13:kl(m,d),cu(d),j=d.child,j.flags&8192&&(K=j.memoizedState!==null,j.stateNode.isHidden=K,!K||j.alternate!==null&&j.alternate.memoizedState!==null||(i1=nn())),O&4&&YI(d);break;case 22:if(It=T!==null&&T.memoizedState!==null,d.mode&1?(Ms=(rt=Ms)||It,kl(m,d),Ms=rt):kl(m,d),cu(d),O&8192){if(rt=d.memoizedState!==null,(d.stateNode.isHidden=rt)&&!It&&(d.mode&1)!==0)for(rr=d,It=d.child;It!==null;){for(Ft=rr=It;rr!==null;){switch(Dt=rr,Qt=Dt.child,Dt.tag){case 0:case 11:case 14:case 15:dg(4,Dt,Dt.return);break;case 1:zf(Dt,Dt.return);var lr=Dt.stateNode;if(typeof lr.componentWillUnmount=="function"){O=Dt,T=Dt.return;try{m=O,lr.props=m.memoizedProps,lr.state=m.memoizedState,lr.componentWillUnmount()}catch(dr){ai(O,T,dr)}}break;case 5:zf(Dt,Dt.return);break;case 22:if(Dt.memoizedState!==null){eP(Ft);continue}}Qt!==null?(Qt.return=Dt,rr=Qt):eP(Ft)}It=It.sibling}e:for(It=null,Ft=d;;){if(Ft.tag===5){if(It===null){It=Ft;try{j=Ft.stateNode,rt?(K=j.style,typeof K.setProperty=="function"?K.setProperty("display","none","important"):K.display="none"):(Ce=Ft.stateNode,Ie=Ft.memoizedProps.style,ce=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null,Ce.style.display=rn("display",ce))}catch(dr){ai(d,d.return,dr)}}}else if(Ft.tag===6){if(It===null)try{Ft.stateNode.nodeValue=rt?"":Ft.memoizedProps}catch(dr){ai(d,d.return,dr)}}else if((Ft.tag!==22&&Ft.tag!==23||Ft.memoizedState===null||Ft===d)&&Ft.child!==null){Ft.child.return=Ft,Ft=Ft.child;continue}if(Ft===d)break e;for(;Ft.sibling===null;){if(Ft.return===null||Ft.return===d)break e;It===Ft&&(It=null),Ft=Ft.return}It===Ft&&(It=null),Ft.sibling.return=Ft.return,Ft=Ft.sibling}}break;case 19:kl(m,d),cu(d),O&4&&YI(d);break;case 21:break;default:kl(m,d),cu(d)}}function cu(d){var m=d.flags;if(m&2){try{e:{for(var T=d.return;T!==null;){if(GI(T)){var O=T;break e}T=T.return}throw Error(t(160))}switch(O.tag){case 5:var j=O.stateNode;O.flags&32&&(Lr(j,""),O.flags&=-33);var K=KI(d);t1(d,K,j);break;case 3:case 4:var ce=O.stateNode.containerInfo,Ce=KI(d);e1(d,Ce,ce);break;default:throw Error(t(161))}}catch(Ie){ai(d,d.return,Ie)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function Qz(d,m,T){rr=d,JI(d)}function JI(d,m,T){for(var O=(d.mode&1)!==0;rr!==null;){var j=rr,K=j.child;if(j.tag===22&&O){var ce=j.memoizedState!==null||ay;if(!ce){var Ce=j.alternate,Ie=Ce!==null&&Ce.memoizedState!==null||Ms;Ce=ay;var rt=Ms;if(ay=ce,(Ms=Ie)&&!rt)for(rr=j;rr!==null;)ce=rr,Ie=ce.child,ce.tag===22&&ce.memoizedState!==null?tP(j):Ie!==null?(Ie.return=ce,rr=Ie):tP(j);for(;K!==null;)rr=K,JI(K),K=K.sibling;rr=j,ay=Ce,Ms=rt}ZI(d)}else(j.subtreeFlags&8772)!==0&&K!==null?(K.return=j,rr=K):ZI(d)}}function ZI(d){for(;rr!==null;){var m=rr;if((m.flags&8772)!==0){var T=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Ms||oy(5,m);break;case 1:var O=m.stateNode;if(m.flags&4&&!Ms)if(T===null)O.componentDidMount();else{var j=m.elementType===m.type?T.memoizedProps:wl(m.type,T.memoizedProps);O.componentDidUpdate(j,T.memoizedState,O.__reactInternalSnapshotBeforeUpdate)}var K=m.updateQueue;K!==null&&eI(m,K,O);break;case 3:var ce=m.updateQueue;if(ce!==null){if(T=null,m.child!==null)switch(m.child.tag){case 5:T=m.child.stateNode;break;case 1:T=m.child.stateNode}eI(m,ce,T)}break;case 5:var Ce=m.stateNode;if(T===null&&m.flags&4){T=Ce;var Ie=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Ie.autoFocus&&T.focus();break;case"img":Ie.src&&(T.src=Ie.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var rt=m.alternate;if(rt!==null){var It=rt.memoizedState;if(It!==null){var Ft=It.dehydrated;Ft!==null&&us(Ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ms||m.flags&512&&ZT(m)}catch(Dt){ai(m,m.return,Dt)}}if(m===d){rr=null;break}if(T=m.sibling,T!==null){T.return=m.return,rr=T;break}rr=m.return}}function eP(d){for(;rr!==null;){var m=rr;if(m===d){rr=null;break}var T=m.sibling;if(T!==null){T.return=m.return,rr=T;break}rr=m.return}}function tP(d){for(;rr!==null;){var m=rr;try{switch(m.tag){case 0:case 11:case 15:var T=m.return;try{oy(4,m)}catch(Ie){ai(m,T,Ie)}break;case 1:var O=m.stateNode;if(typeof O.componentDidMount=="function"){var j=m.return;try{O.componentDidMount()}catch(Ie){ai(m,j,Ie)}}var K=m.return;try{ZT(m)}catch(Ie){ai(m,K,Ie)}break;case 5:var ce=m.return;try{ZT(m)}catch(Ie){ai(m,ce,Ie)}}}catch(Ie){ai(m,m.return,Ie)}if(m===d){rr=null;break}var Ce=m.sibling;if(Ce!==null){Ce.return=m.return,rr=Ce;break}rr=m.return}}var Jz=Math.ceil,ly=I.ReactCurrentDispatcher,r1=I.ReactCurrentOwner,Uo=I.ReactCurrentBatchConfig,mn=0,Qi=null,ki=null,ps=0,io=0,Hf=Ca(0),Bi=0,hg=null,Sh=0,uy=0,n1=0,fg=null,Aa=null,i1=0,Vf=1/0,yc=null,cy=!1,s1=null,fd=null,dy=!1,pd=null,hy=0,pg=0,a1=null,fy=-1,py=0;function Xs(){return(mn&6)!==0?nn():fy!==-1?fy:fy=nn()}function md(d){return(d.mode&1)===0?1:(mn&2)!==0&&ps!==0?ps&-ps:Mz.transition!==null?(py===0&&(py=Wc()),py):(d=qr,d!==0||(d=window.event,d=d===void 0?16:Vs(d.type)),d)}function Al(d,m,T,O){if(50<pg)throw pg=0,a1=null,Error(t(185));Hi(d,T,O),((mn&2)===0||d!==Qi)&&(d===Qi&&((mn&2)===0&&(uy|=T),Bi===4&&gd(d,ps)),Da(d,O),T===1&&mn===0&&(m.mode&1)===0&&(Vf=nn()+500,zv&&ud()))}function Da(d,m){var T=d.callbackNode;jn(d,m);var O=zr(d,d===Qi?ps:0);if(O===0)T!==null&&Ci(T),d.callbackNode=null,d.callbackPriority=0;else if(m=O&-O,d.callbackPriority!==m){if(T!=null&&Ci(T),m===1)d.tag===0?Oz(nP.bind(null,d)):zD(nP.bind(null,d)),L(function(){(mn&6)===0&&ud()}),T=null;else{switch(ls(O)){case 1:T=hi;break;case 4:T=si;break;case 16:T=Mr;break;case 536870912:T=Ue;break;default:T=Mr}T=dP(T,rP.bind(null,d))}d.callbackPriority=m,d.callbackNode=T}}function rP(d,m){if(fy=-1,py=0,(mn&6)!==0)throw Error(t(327));var T=d.callbackNode;if(Wf()&&d.callbackNode!==T)return null;var O=zr(d,d===Qi?ps:0);if(O===0)return null;if((O&30)!==0||(O&d.expiredLanes)!==0||m)m=my(d,O);else{m=O;var j=mn;mn|=2;var K=sP();(Qi!==d||ps!==m)&&(yc=null,Vf=nn()+500,Ch(d,m));do try{tH();break}catch(Ce){iP(d,Ce)}while(!0);CT(),ly.current=K,mn=j,ki!==null?m=0:(Qi=null,ps=0,m=Bi)}if(m!==0){if(m===2&&(j=Es(d),j!==0&&(O=j,m=o1(d,j))),m===1)throw T=hg,Ch(d,0),gd(d,O),Da(d,nn()),T;if(m===6)gd(d,O);else{if(j=d.current.alternate,(O&30)===0&&!Zz(j)&&(m=my(d,O),m===2&&(K=Es(d),K!==0&&(O=K,m=o1(d,K))),m===1))throw T=hg,Ch(d,0),gd(d,O),Da(d,nn()),T;switch(d.finishedWork=j,d.finishedLanes=O,m){case 0:case 1:throw Error(t(345));case 2:wh(d,Aa,yc);break;case 3:if(gd(d,O),(O&130023424)===O&&(m=i1+500-nn(),10<m)){if(zr(d,0)!==0)break;if(j=d.suspendedLanes,(j&O)!==O){Xs(),d.pingedLanes|=d.suspendedLanes&j;break}d.timeoutHandle=S(wh.bind(null,d,Aa,yc),m);break}wh(d,Aa,yc);break;case 4:if(gd(d,O),(O&4194240)===O)break;for(m=d.eventTimes,j=-1;0<O;){var ce=31-At(O);K=1<<ce,ce=m[ce],ce>j&&(j=ce),O&=~K}if(O=j,O=nn()-O,O=(120>O?120:480>O?480:1080>O?1080:1920>O?1920:3e3>O?3e3:4320>O?4320:1960*Jz(O/1960))-O,10<O){d.timeoutHandle=S(wh.bind(null,d,Aa,yc),O);break}wh(d,Aa,yc);break;case 5:wh(d,Aa,yc);break;default:throw Error(t(329))}}}return Da(d,nn()),d.callbackNode===T?rP.bind(null,d):null}function o1(d,m){var T=fg;return d.current.memoizedState.isDehydrated&&(Ch(d,m).flags|=256),d=my(d,m),d!==2&&(m=Aa,Aa=T,m!==null&&l1(m)),d}function l1(d){Aa===null?Aa=d:Aa.push.apply(Aa,d)}function Zz(d){for(var m=d;;){if(m.flags&16384){var T=m.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var O=0;O<T.length;O++){var j=T[O],K=j.getSnapshot;j=j.value;try{if(!we(K(),j))return!1}catch{return!1}}}if(T=m.child,m.subtreeFlags&16384&&T!==null)T.return=m,m=T;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function gd(d,m){for(m&=~n1,m&=~uy,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var T=31-At(m),O=1<<T;d[T]=-1,m&=~O}}function nP(d){if((mn&6)!==0)throw Error(t(327));Wf();var m=zr(d,0);if((m&1)===0)return Da(d,nn()),null;var T=my(d,m);if(d.tag!==0&&T===2){var O=Es(d);O!==0&&(m=O,T=o1(d,O))}if(T===1)throw T=hg,Ch(d,0),gd(d,m),Da(d,nn()),T;if(T===6)throw Error(t(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,wh(d,Aa,yc),Da(d,nn()),null}function u1(d,m){var T=mn;mn|=1;try{return d(m)}finally{mn=T,mn===0&&(Vf=nn()+500,zv&&ud())}}function Th(d){pd!==null&&pd.tag===0&&(mn&6)===0&&Wf();var m=mn;mn|=1;var T=Uo.transition,O=qr;try{if(Uo.transition=null,qr=1,d)return d()}finally{qr=O,Uo.transition=T,mn=m,(mn&6)===0&&ud()}}function c1(){io=Hf.current,er(Hf)}function Ch(d,m){d.finishedWork=null,d.finishedLanes=0;var T=d.timeoutHandle;if(T!==-1&&(d.timeoutHandle=-1,b(T)),ki!==null)for(T=ki.return;T!==null;){var O=T;switch(xT(O),O.tag){case 1:O=O.type.childContextTypes,O!=null&&$v();break;case 3:$f(),er(wa),er(Rs),RT();break;case 5:IT(O);break;case 4:$f();break;case 13:er(ei);break;case 19:er(ei);break;case 10:wT(O.type._context);break;case 22:case 23:c1()}T=T.return}if(Qi=d,ki=d=vd(d.current,null),ps=io=m,Bi=0,hg=null,n1=uy=Sh=0,Aa=fg=null,xh!==null){for(m=0;m<xh.length;m++)if(T=xh[m],O=T.interleaved,O!==null){T.interleaved=null;var j=O.next,K=T.pending;if(K!==null){var ce=K.next;K.next=j,O.next=ce}T.pending=O}xh=null}return d}function iP(d,m){do{var T=ki;try{if(CT(),Jv.current=ry,Zv){for(var O=ti.memoizedState;O!==null;){var j=O.queue;j!==null&&(j.pending=null),O=O.next}Zv=!1}if(bh=0,Yi=Fi=ti=null,ag=!1,og=0,r1.current=null,T===null||T.return===null){Bi=1,hg=m,ki=null;break}e:{var K=d,ce=T.return,Ce=T,Ie=m;if(m=ps,Ce.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var rt=Ie,It=Ce,Ft=It.tag;if((It.mode&1)===0&&(Ft===0||Ft===11||Ft===15)){var Dt=It.alternate;Dt?(It.updateQueue=Dt.updateQueue,It.memoizedState=Dt.memoizedState,It.lanes=Dt.lanes):(It.updateQueue=null,It.memoizedState=null)}var Qt=DI(ce);if(Qt!==null){Qt.flags&=-257,II(Qt,ce,Ce,K,m),Qt.mode&1&&AI(K,rt,m),m=Qt,Ie=rt;var lr=m.updateQueue;if(lr===null){var dr=new Set;dr.add(Ie),m.updateQueue=dr}else lr.add(Ie);break e}else{if((m&1)===0){AI(K,rt,m),d1();break e}Ie=Error(t(426))}}else if(Xn&&Ce.mode&1){var vi=DI(ce);if(vi!==null){(vi.flags&65536)===0&&(vi.flags|=256),II(vi,ce,Ce,K,m),ST(jf(Ie,Ce));break e}}K=Ie=jf(Ie,Ce),Bi!==4&&(Bi=2),fg===null?fg=[K]:fg.push(K),K=ce;do{switch(K.tag){case 3:K.flags|=65536,m&=-m,K.lanes|=m;var He=EI(K,Ie,m);ZD(K,He);break e;case 1:Ce=Ie;var Fe=K.type,Ke=K.stateNode;if((K.flags&128)===0&&(typeof Fe.getDerivedStateFromError=="function"||Ke!==null&&typeof Ke.componentDidCatch=="function"&&(fd===null||!fd.has(Ke)))){K.flags|=65536,m&=-m,K.lanes|=m;var $t=kI(K,Ce,m);ZD(K,$t);break e}}K=K.return}while(K!==null)}oP(T)}catch(pr){m=pr,ki===T&&T!==null&&(ki=T=T.return);continue}break}while(!0)}function sP(){var d=ly.current;return ly.current=ry,d===null?ry:d}function d1(){(Bi===0||Bi===3||Bi===2)&&(Bi=4),Qi===null||(Sh&268435455)===0&&(uy&268435455)===0||gd(Qi,ps)}function my(d,m){var T=mn;mn|=2;var O=sP();(Qi!==d||ps!==m)&&(yc=null,Ch(d,m));do try{eH();break}catch(j){iP(d,j)}while(!0);if(CT(),mn=T,ly.current=O,ki!==null)throw Error(t(261));return Qi=null,ps=0,Bi}function eH(){for(;ki!==null;)aP(ki)}function tH(){for(;ki!==null&&!yn();)aP(ki)}function aP(d){var m=cP(d.alternate,d,io);d.memoizedProps=d.pendingProps,m===null?oP(d):ki=m,r1.current=null}function oP(d){var m=d;do{var T=m.alternate;if(d=m.return,(m.flags&32768)===0){if(T=Gz(T,m,io),T!==null){ki=T;return}}else{if(T=Kz(T,m),T!==null){T.flags&=32767,ki=T;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Bi=6,ki=null;return}}if(m=m.sibling,m!==null){ki=m;return}ki=m=d}while(m!==null);Bi===0&&(Bi=5)}function wh(d,m,T){var O=qr,j=Uo.transition;try{Uo.transition=null,qr=1,rH(d,m,T,O)}finally{Uo.transition=j,qr=O}return null}function rH(d,m,T,O){do Wf();while(pd!==null);if((mn&6)!==0)throw Error(t(327));T=d.finishedWork;var j=d.finishedLanes;if(T===null)return null;if(d.finishedWork=null,d.finishedLanes=0,T===d.current)throw Error(t(177));d.callbackNode=null,d.callbackPriority=0;var K=T.lanes|T.childLanes;if(Rn(d,K),d===Qi&&(ki=Qi=null,ps=0),(T.subtreeFlags&2064)===0&&(T.flags&2064)===0||dy||(dy=!0,dP(Mr,function(){return Wf(),null})),K=(T.flags&15990)!==0,(T.subtreeFlags&15990)!==0||K){K=Uo.transition,Uo.transition=null;var ce=qr;qr=1;var Ce=mn;mn|=4,r1.current=null,Yz(d,T),QI(T,d),In(p),ml=!!cc,p=cc=null,d.current=T,Qz(T),Cs(),mn=Ce,qr=ce,Uo.transition=K}else d.current=T;if(dy&&(dy=!1,pd=d,hy=j),K=d.pendingLanes,K===0&&(fd=null),bt(T.stateNode),Da(d,nn()),m!==null)for(O=d.onRecoverableError,T=0;T<m.length;T++)j=m[T],O(j.value,{componentStack:j.stack,digest:j.digest});if(cy)throw cy=!1,d=s1,s1=null,d;return(hy&1)!==0&&d.tag!==0&&Wf(),K=d.pendingLanes,(K&1)!==0?d===a1?pg++:(pg=0,a1=d):pg=0,ud(),null}function Wf(){if(pd!==null){var d=ls(hy),m=Uo.transition,T=qr;try{if(Uo.transition=null,qr=16>d?16:d,pd===null)var O=!1;else{if(d=pd,pd=null,hy=0,(mn&6)!==0)throw Error(t(331));var j=mn;for(mn|=4,rr=d.current;rr!==null;){var K=rr,ce=K.child;if((rr.flags&16)!==0){var Ce=K.deletions;if(Ce!==null){for(var Ie=0;Ie<Ce.length;Ie++){var rt=Ce[Ie];for(rr=rt;rr!==null;){var It=rr;switch(It.tag){case 0:case 11:case 15:dg(8,It,K)}var Ft=It.child;if(Ft!==null)Ft.return=It,rr=Ft;else for(;rr!==null;){It=rr;var Dt=It.sibling,Qt=It.return;if(qI(It),It===rt){rr=null;break}if(Dt!==null){Dt.return=Qt,rr=Dt;break}rr=Qt}}}var lr=K.alternate;if(lr!==null){var dr=lr.child;if(dr!==null){lr.child=null;do{var vi=dr.sibling;dr.sibling=null,dr=vi}while(dr!==null)}}rr=K}}if((K.subtreeFlags&2064)!==0&&ce!==null)ce.return=K,rr=ce;else e:for(;rr!==null;){if(K=rr,(K.flags&2048)!==0)switch(K.tag){case 0:case 11:case 15:dg(9,K,K.return)}var He=K.sibling;if(He!==null){He.return=K.return,rr=He;break e}rr=K.return}}var Fe=d.current;for(rr=Fe;rr!==null;){ce=rr;var Ke=ce.child;if((ce.subtreeFlags&2064)!==0&&Ke!==null)Ke.return=ce,rr=Ke;else e:for(ce=Fe;rr!==null;){if(Ce=rr,(Ce.flags&2048)!==0)try{switch(Ce.tag){case 0:case 11:case 15:oy(9,Ce)}}catch(pr){ai(Ce,Ce.return,pr)}if(Ce===ce){rr=null;break e}var $t=Ce.sibling;if($t!==null){$t.return=Ce.return,rr=$t;break e}rr=Ce.return}}if(mn=j,ud(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(tt,d)}catch{}O=!0}return O}finally{qr=T,Uo.transition=m}}return!1}function lP(d,m,T){m=jf(T,m),m=EI(d,m,1),d=dd(d,m,1),m=Xs(),d!==null&&(Hi(d,1,m),Da(d,m))}function ai(d,m,T){if(d.tag===3)lP(d,d,T);else for(;m!==null;){if(m.tag===3){lP(m,d,T);break}else if(m.tag===1){var O=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(fd===null||!fd.has(O))){d=jf(T,d),d=kI(m,d,1),m=dd(m,d,1),d=Xs(),m!==null&&(Hi(m,1,d),Da(m,d));break}}m=m.return}}function nH(d,m,T){var O=d.pingCache;O!==null&&O.delete(m),m=Xs(),d.pingedLanes|=d.suspendedLanes&T,Qi===d&&(ps&T)===T&&(Bi===4||Bi===3&&(ps&130023424)===ps&&500>nn()-i1?Ch(d,0):n1|=T),Da(d,m)}function uP(d,m){m===0&&((d.mode&1)===0?m=1:(m=Dr,Dr<<=1,(Dr&130023424)===0&&(Dr=4194304)));var T=Xs();d=mc(d,m),d!==null&&(Hi(d,m,T),Da(d,T))}function iH(d){var m=d.memoizedState,T=0;m!==null&&(T=m.retryLane),uP(d,T)}function sH(d,m){var T=0;switch(d.tag){case 13:var O=d.stateNode,j=d.memoizedState;j!==null&&(T=j.retryLane);break;case 19:O=d.stateNode;break;default:throw Error(t(314))}O!==null&&O.delete(m),uP(d,T)}var cP;cP=function(d,m,T){if(d!==null)if(d.memoizedProps!==m.pendingProps||wa.current)ka=!0;else{if((d.lanes&T)===0&&(m.flags&128)===0)return ka=!1,qz(d,m,T);ka=(d.flags&131072)!==0}else ka=!1,Xn&&(m.flags&1048576)!==0&&HD(m,Vv,m.index);switch(m.lanes=0,m.tag){case 2:var O=m.type;sy(d,m),d=m.pendingProps;var j=Lf(m,Rs.current);Uf(m,T),j=MT(null,m,O,d,j,T);var K=FT();return m.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Ea(O)?(K=!0,jv(m)):K=!1,m.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,AT(m),j.updater=ny,m.stateNode=j,j._reactInternals=m,zT(m,O,d,T),m=qT(null,m,O,!0,K,T)):(m.tag=0,Xn&&K&&yT(m),Ks(null,m,j,T),m=m.child),m;case 16:O=m.elementType;e:{switch(sy(d,m),d=m.pendingProps,j=O._init,O=j(O._payload),m.type=O,j=m.tag=oH(O),d=wl(O,d),j){case 0:m=WT(null,m,O,d,T);break e;case 1:m=FI(null,m,O,d,T);break e;case 11:m=PI(null,m,O,d,T);break e;case 14:m=RI(null,m,O,wl(O.type,d),T);break e}throw Error(t(306,O,""))}return m;case 0:return O=m.type,j=m.pendingProps,j=m.elementType===O?j:wl(O,j),WT(d,m,O,j,T);case 1:return O=m.type,j=m.pendingProps,j=m.elementType===O?j:wl(O,j),FI(d,m,O,j,T);case 3:e:{if(BI(m),d===null)throw Error(t(387));O=m.pendingProps,K=m.memoizedState,j=K.element,JD(d,m),Yv(m,O,null,T);var ce=m.memoizedState;if(O=ce.element,K.isDehydrated)if(K={element:O,isDehydrated:!1,cache:ce.cache,pendingSuspenseBoundaries:ce.pendingSuspenseBoundaries,transitions:ce.transitions},m.updateQueue.baseState=K,m.memoizedState=K,m.flags&256){j=jf(Error(t(423)),m),m=NI(d,m,O,T,j);break e}else if(O!==j){j=jf(Error(t(424)),m),m=NI(d,m,O,T,j);break e}else for(no=J(m.stateNode.containerInfo.firstChild),ro=m,Xn=!0,Cl=null,T=YD(m,null,O,T),m.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Ff(),O===j){m=vc(d,m,T);break e}Ks(d,m,O,T)}m=m.child}return m;case 5:return tI(m),d===null&&bT(m),O=m.type,j=m.pendingProps,K=d!==null?d.memoizedProps:null,ce=j.children,x(O,j)?ce=null:K!==null&&x(O,K)&&(m.flags|=32),MI(d,m),Ks(d,m,ce,T),m.child;case 6:return d===null&&bT(m),null;case 13:return UI(d,m,T);case 4:return DT(m,m.stateNode.containerInfo),O=m.pendingProps,d===null?m.child=Bf(m,null,O,T):Ks(d,m,O,T),m.child;case 11:return O=m.type,j=m.pendingProps,j=m.elementType===O?j:wl(O,j),PI(d,m,O,j,T);case 7:return Ks(d,m,m.pendingProps,T),m.child;case 8:return Ks(d,m,m.pendingProps.children,T),m.child;case 12:return Ks(d,m,m.pendingProps.children,T),m.child;case 10:e:{if(O=m.type._context,j=m.pendingProps,K=m.memoizedProps,ce=j.value,gn(Gv,O._currentValue),O._currentValue=ce,K!==null)if(we(K.value,ce)){if(K.children===j.children&&!wa.current){m=vc(d,m,T);break e}}else for(K=m.child,K!==null&&(K.return=m);K!==null;){var Ce=K.dependencies;if(Ce!==null){ce=K.child;for(var Ie=Ce.firstContext;Ie!==null;){if(Ie.context===O){if(K.tag===1){Ie=gc(-1,T&-T),Ie.tag=2;var rt=K.updateQueue;if(rt!==null){rt=rt.shared;var It=rt.pending;It===null?Ie.next=Ie:(Ie.next=It.next,It.next=Ie),rt.pending=Ie}}K.lanes|=T,Ie=K.alternate,Ie!==null&&(Ie.lanes|=T),ET(K.return,T,m),Ce.lanes|=T;break}Ie=Ie.next}}else if(K.tag===10)ce=K.type===m.type?null:K.child;else if(K.tag===18){if(ce=K.return,ce===null)throw Error(t(341));ce.lanes|=T,Ce=ce.alternate,Ce!==null&&(Ce.lanes|=T),ET(ce,T,m),ce=K.sibling}else ce=K.child;if(ce!==null)ce.return=K;else for(ce=K;ce!==null;){if(ce===m){ce=null;break}if(K=ce.sibling,K!==null){K.return=ce.return,ce=K;break}ce=ce.return}K=ce}Ks(d,m,j.children,T),m=m.child}return m;case 9:return j=m.type,O=m.pendingProps.children,Uf(m,T),j=Bo(j),O=O(j),m.flags|=1,Ks(d,m,O,T),m.child;case 14:return O=m.type,j=wl(O,m.pendingProps),j=wl(O.type,j),RI(d,m,O,j,T);case 15:return LI(d,m,m.type,m.pendingProps,T);case 17:return O=m.type,j=m.pendingProps,j=m.elementType===O?j:wl(O,j),sy(d,m),m.tag=1,Ea(O)?(d=!0,jv(m)):d=!1,Uf(m,T),CI(m,O,j),zT(m,O,j,T),qT(null,m,O,!0,d,T);case 19:return jI(d,m,T);case 22:return OI(d,m,T)}throw Error(t(156,m.tag))};function dP(d,m){return ir(d,m)}function aH(d,m,T,O){this.tag=d,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(d,m,T,O){return new aH(d,m,T,O)}function h1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function oH(d){if(typeof d=="function")return h1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===H)return 11;if(d===te)return 14}return 2}function vd(d,m){var T=d.alternate;return T===null?(T=$o(d.tag,m,d.key,d.mode),T.elementType=d.elementType,T.type=d.type,T.stateNode=d.stateNode,T.alternate=d,d.alternate=T):(T.pendingProps=m,T.type=d.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=d.flags&14680064,T.childLanes=d.childLanes,T.lanes=d.lanes,T.child=d.child,T.memoizedProps=d.memoizedProps,T.memoizedState=d.memoizedState,T.updateQueue=d.updateQueue,m=d.dependencies,T.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},T.sibling=d.sibling,T.index=d.index,T.ref=d.ref,T}function gy(d,m,T,O,j,K){var ce=2;if(O=d,typeof d=="function")h1(d)&&(ce=1);else if(typeof d=="string")ce=5;else e:switch(d){case N:return Eh(T.children,j,K,m);case U:ce=8,j|=8;break;case F:return d=$o(12,T,m,j|2),d.elementType=F,d.lanes=K,d;case W:return d=$o(13,T,m,j),d.elementType=W,d.lanes=K,d;case Q:return d=$o(19,T,m,j),d.elementType=Q,d.lanes=K,d;case de:return vy(T,j,K,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case w:ce=10;break e;case $:ce=9;break e;case H:ce=11;break e;case te:ce=14;break e;case oe:ce=16,O=null;break e}throw Error(t(130,d==null?d:typeof d,""))}return m=$o(ce,T,m,j),m.elementType=d,m.type=O,m.lanes=K,m}function Eh(d,m,T,O){return d=$o(7,d,O,m),d.lanes=T,d}function vy(d,m,T,O){return d=$o(22,d,O,m),d.elementType=de,d.lanes=T,d.stateNode={isHidden:!1},d}function f1(d,m,T){return d=$o(6,d,null,m),d.lanes=T,d}function p1(d,m,T){return m=$o(4,d.children!==null?d.children:[],d.key,m),m.lanes=T,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function lH(d,m,T,O,j){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ks(0),this.expirationTimes=ks(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ks(0),this.identifierPrefix=O,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function m1(d,m,T,O,j,K,ce,Ce,Ie){return d=new lH(d,m,T,Ce,Ie),m===1?(m=1,K===!0&&(m|=8)):m=0,K=$o(3,null,null,m),d.current=K,K.stateNode=d,K.memoizedState={element:O,isDehydrated:T,cache:null,transitions:null,pendingSuspenseBoundaries:null},AT(K),d}function uH(d,m,T){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:O==null?null:""+O,children:d,containerInfo:m,implementation:T}}function hP(d){if(!d)return Kn;d=d._reactInternals;e:{if(Ct(d)!==d||d.tag!==1)throw Error(t(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Ea(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(t(171))}if(d.tag===1){var T=d.type;if(Ea(T))return $D(d,T,m)}return m}function fP(d,m,T,O,j,K,ce,Ce,Ie){return d=m1(T,O,!0,d,j,K,ce,Ce,Ie),d.context=hP(null),T=d.current,O=Xs(),j=md(T),K=gc(O,j),K.callback=m??null,dd(T,K,j),d.current.lanes=j,Hi(d,j,O),Da(d,O),d}function yy(d,m,T,O){var j=m.current,K=Xs(),ce=md(j);return T=hP(T),m.context===null?m.context=T:m.pendingContext=T,m=gc(K,ce),m.payload={element:d},O=O===void 0?null:O,O!==null&&(m.callback=O),d=dd(j,m,ce),d!==null&&(Al(d,j,ce,K),Xv(d,j,ce)),ce}function xy(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function pP(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var T=d.retryLane;d.retryLane=T!==0&&T<m?T:m}}function g1(d,m){pP(d,m),(d=d.alternate)&&pP(d,m)}function cH(){return null}var mP=typeof reportError=="function"?reportError:function(d){console.error(d)};function v1(d){this._internalRoot=d}_y.prototype.render=v1.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(t(409));yy(d,m,null,null)},_y.prototype.unmount=v1.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Th(function(){yy(null,d,null,null)}),m[Ee]=null}};function _y(d){this._internalRoot=d}_y.prototype.unstable_scheduleHydration=function(d){if(d){var m=ql();d={blockedOn:null,target:d,priority:m};for(var T=0;T<ya.length&&m!==0&&m<ya[T].priority;T++);ya.splice(T,0,d),T===0&&Xl(d)}};function y1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function by(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function gP(){}function dH(d,m,T,O,j){if(j){if(typeof O=="function"){var K=O;O=function(){var rt=xy(ce);K.call(rt)}}var ce=fP(m,O,d,0,null,!1,!1,"",gP);return d._reactRootContainer=ce,d[Ee]=ce.current,mi(d.nodeType===8?d.parentNode:d),Th(),ce}for(;j=d.lastChild;)d.removeChild(j);if(typeof O=="function"){var Ce=O;O=function(){var rt=xy(Ie);Ce.call(rt)}}var Ie=m1(d,0,!1,null,null,!1,!1,"",gP);return d._reactRootContainer=Ie,d[Ee]=Ie.current,mi(d.nodeType===8?d.parentNode:d),Th(function(){yy(m,Ie,T,O)}),Ie}function Sy(d,m,T,O,j){var K=T._reactRootContainer;if(K){var ce=K;if(typeof j=="function"){var Ce=j;j=function(){var Ie=xy(ce);Ce.call(Ie)}}yy(m,ce,d,j)}else ce=dH(T,m,d,j,O);return xy(ce)}ma=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var T=fi(m.pendingLanes);T!==0&&(Ju(m,T|1),Da(m,nn()),(mn&6)===0&&(Vf=nn()+500,ud()))}break;case 13:Th(function(){var O=mc(d,1);if(O!==null){var j=Xs();Al(O,d,1,j)}}),g1(d,1)}},Pi=function(d){if(d.tag===13){var m=mc(d,134217728);if(m!==null){var T=Xs();Al(m,d,134217728,T)}g1(d,134217728)}},qa=function(d){if(d.tag===13){var m=md(d),T=mc(d,m);if(T!==null){var O=Xs();Al(T,d,m,O)}g1(d,m)}},ql=function(){return qr},wo=function(d,m){var T=qr;try{return qr=d,m()}finally{qr=T}},wn=function(d,m,T){switch(m){case"input":if(Me(d,T),m=T.name,T.type==="radio"&&m!=null){for(T=d;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<T.length;m++){var O=T[m];if(O!==d&&O.form===d.form){var j=ou(O);if(!j)throw Error(t(90));Rt(O),Me(O,j)}}}break;case"textarea":hr(d,T);break;case"select":m=T.value,m!=null&&vt(d,!!T.multiple,m,!1)}},gt=u1,Tt=Th;var hH={usingClientEntryPoint:!1,Events:[gi,Oo,ou,Te,je,u1]},mg={findFiberByHostInstance:pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fH={bundleType:mg.bundleType,version:mg.version,rendererPackageName:mg.rendererPackageName,rendererConfig:mg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=jr(d),d===null?null:d.stateNode},findFiberByHostInstance:mg.findFiberByHostInstance||cH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ty=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ty.isDisabled&&Ty.supportsFiber)try{tt=Ty.inject(fH),nt=Ty}catch{}}return Ia.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hH,Ia.createPortal=function(d,m){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y1(m))throw Error(t(200));return uH(d,m,null,T)},Ia.createRoot=function(d,m){if(!y1(d))throw Error(t(299));var T=!1,O="",j=mP;return m!=null&&(m.unstable_strictMode===!0&&(T=!0),m.identifierPrefix!==void 0&&(O=m.identifierPrefix),m.onRecoverableError!==void 0&&(j=m.onRecoverableError)),m=m1(d,1,!1,null,null,T,!1,O,j),d[Ee]=m.current,mi(d.nodeType===8?d.parentNode:d),new v1(m)},Ia.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(t(188)):(d=Object.keys(d).join(","),Error(t(268,d)));return d=jr(m),d=d===null?null:d.stateNode,d},Ia.flushSync=function(d){return Th(d)},Ia.hydrate=function(d,m,T){if(!by(m))throw Error(t(200));return Sy(null,d,m,!0,T)},Ia.hydrateRoot=function(d,m,T){if(!y1(d))throw Error(t(405));var O=T!=null&&T.hydratedSources||null,j=!1,K="",ce=mP;if(T!=null&&(T.unstable_strictMode===!0&&(j=!0),T.identifierPrefix!==void 0&&(K=T.identifierPrefix),T.onRecoverableError!==void 0&&(ce=T.onRecoverableError)),m=fP(m,null,d,1,T??null,j,!1,K,ce),d[Ee]=m.current,mi(d),O)for(d=0;d<O.length;d++)T=O[d],j=T._getVersion,j=j(T._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[T,j]:m.mutableSourceEagerHydrationData.push(T,j);return new _y(m)},Ia.render=function(d,m,T){if(!by(m))throw Error(t(200));return Sy(null,d,m,!1,T)},Ia.unmountComponentAtNode=function(d){if(!by(d))throw Error(t(40));return d._reactRootContainer?(Th(function(){Sy(null,null,d,!1,function(){d._reactRootContainer=null,d[Ee]=null})}),!0):!1},Ia.unstable_batchedUpdates=u1,Ia.unstable_renderSubtreeIntoContainer=function(d,m,T,O){if(!by(T))throw Error(t(200));if(d==null||d._reactInternals===void 0)throw Error(t(38));return Sy(d,m,T,!1,O)},Ia.version="18.3.1-next-f1338f8080-20240426",Ia}var CP;function CB(){if(CP)return b1.exports;CP=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),b1.exports=SH(),b1.exports}var wP;function TH(){if(wP)return Cy;wP=1;var r=CB();return Cy.createRoot=r.createRoot,Cy.hydrateRoot=r.hydrateRoot,Cy}var CH=TH();const wH=ha(CH);function wB(r,e){return function(){return r.apply(e,arguments)}}const{toString:EH}=Object.prototype,{getPrototypeOf:PE}=Object,Gb=(r=>e=>{const t=EH.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),jl=r=>(r=r.toLowerCase(),e=>Gb(e)===r),Kb=r=>e=>typeof e===r,{isArray:Tm}=Array,w0=Kb("undefined");function kH(r){return r!==null&&!w0(r)&&r.constructor!==null&&!w0(r.constructor)&&go(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const EB=jl("ArrayBuffer");function AH(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&EB(r.buffer),e}const DH=Kb("string"),go=Kb("function"),kB=Kb("number"),Xb=r=>r!==null&&typeof r=="object",IH=r=>r===!0||r===!1,fx=r=>{if(Gb(r)!=="object")return!1;const e=PE(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},PH=jl("Date"),RH=jl("File"),LH=jl("Blob"),OH=jl("FileList"),MH=r=>Xb(r)&&go(r.pipe),FH=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||go(r.append)&&((e=Gb(r))==="formdata"||e==="object"&&go(r.toString)&&r.toString()==="[object FormData]"))},BH=jl("URLSearchParams"),[NH,UH,$H,jH]=["ReadableStream","Request","Response","Headers"].map(jl),zH=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Z0(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let n,i;if(typeof r!="object"&&(r=[r]),Tm(r))for(n=0,i=r.length;n<i;n++)e.call(null,r[n],n,r);else{const s=t?Object.getOwnPropertyNames(r):Object.keys(r),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,r[o],o,r)}}function AB(r,e){e=e.toLowerCase();const t=Object.keys(r);let n=t.length,i;for(;n-- >0;)if(i=t[n],e===i.toLowerCase())return i;return null}const Wh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DB=r=>!w0(r)&&r!==Wh;function kw(){const{caseless:r}=DB(this)&&this||{},e={},t=(n,i)=>{const s=r&&AB(e,i)||i;fx(e[s])&&fx(n)?e[s]=kw(e[s],n):fx(n)?e[s]=kw({},n):Tm(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Z0(arguments[n],t);return e}const HH=(r,e,t,{allOwnKeys:n}={})=>(Z0(e,(i,s)=>{t&&go(i)?r[s]=wB(i,t):r[s]=i},{allOwnKeys:n}),r),VH=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),WH=(r,e,t,n)=>{r.prototype=Object.create(e.prototype,n),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},qH=(r,e,t,n)=>{let i,s,a;const o={};if(e=e||{},r==null)return e;do{for(i=Object.getOwnPropertyNames(r),s=i.length;s-- >0;)a=i[s],(!n||n(a,r,e))&&!o[a]&&(e[a]=r[a],o[a]=!0);r=t!==!1&&PE(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},GH=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const n=r.indexOf(e,t);return n!==-1&&n===t},KH=r=>{if(!r)return null;if(Tm(r))return r;let e=r.length;if(!kB(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},XH=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&PE(Uint8Array)),YH=(r,e)=>{const n=(r&&r[Symbol.iterator]).call(r);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(r,s[0],s[1])}},QH=(r,e)=>{let t;const n=[];for(;(t=r.exec(e))!==null;)n.push(t);return n},JH=jl("HTMLFormElement"),ZH=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,i){return n.toUpperCase()+i}),EP=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),eV=jl("RegExp"),IB=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),n={};Z0(t,(i,s)=>{let a;(a=e(i,s,r))!==!1&&(n[s]=a||i)}),Object.defineProperties(r,n)},tV=r=>{IB(r,(e,t)=>{if(go(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=r[t];if(go(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},rV=(r,e)=>{const t={},n=i=>{i.forEach(s=>{t[s]=!0})};return Tm(r)?n(r):n(String(r).split(e)),t},nV=()=>{},iV=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e,C1="abcdefghijklmnopqrstuvwxyz",kP="0123456789",PB={DIGIT:kP,ALPHA:C1,ALPHA_DIGIT:C1+C1.toUpperCase()+kP},sV=(r=16,e=PB.ALPHA_DIGIT)=>{let t="";const{length:n}=e;for(;r--;)t+=e[Math.random()*n|0];return t};function aV(r){return!!(r&&go(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const oV=r=>{const e=new Array(10),t=(n,i)=>{if(Xb(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Tm(n)?[]:{};return Z0(n,(a,o)=>{const l=t(a,i+1);!w0(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return t(r,0)},lV=jl("AsyncFunction"),uV=r=>r&&(Xb(r)||go(r))&&go(r.then)&&go(r.catch),RB=((r,e)=>r?setImmediate:e?((t,n)=>(Wh.addEventListener("message",({source:i,data:s})=>{i===Wh&&s===t&&n.length&&n.shift()()},!1),i=>{n.push(i),Wh.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",go(Wh.postMessage)),cV=typeof queueMicrotask<"u"?queueMicrotask.bind(Wh):typeof process<"u"&&process.nextTick||RB,ct={isArray:Tm,isArrayBuffer:EB,isBuffer:kH,isFormData:FH,isArrayBufferView:AH,isString:DH,isNumber:kB,isBoolean:IH,isObject:Xb,isPlainObject:fx,isReadableStream:NH,isRequest:UH,isResponse:$H,isHeaders:jH,isUndefined:w0,isDate:PH,isFile:RH,isBlob:LH,isRegExp:eV,isFunction:go,isStream:MH,isURLSearchParams:BH,isTypedArray:XH,isFileList:OH,forEach:Z0,merge:kw,extend:HH,trim:zH,stripBOM:VH,inherits:WH,toFlatObject:qH,kindOf:Gb,kindOfTest:jl,endsWith:GH,toArray:KH,forEachEntry:YH,matchAll:QH,isHTMLForm:JH,hasOwnProperty:EP,hasOwnProp:EP,reduceDescriptors:IB,freezeMethods:tV,toObjectSet:rV,toCamelCase:ZH,noop:nV,toFiniteNumber:iV,findKey:AB,global:Wh,isContextDefined:DB,ALPHABET:PB,generateString:sV,isSpecCompliantForm:aV,toJSONObject:oV,isAsyncFn:lV,isThenable:uV,setImmediate:RB,asap:cV};function Vr(r,e,t,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}ct.inherits(Vr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ct.toJSONObject(this.config),code:this.code,status:this.status}}});const LB=Vr.prototype,OB={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{OB[r]={value:r}});Object.defineProperties(Vr,OB);Object.defineProperty(LB,"isAxiosError",{value:!0});Vr.from=(r,e,t,n,i,s)=>{const a=Object.create(LB);return ct.toFlatObject(r,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),Vr.call(a,r.message,e,t,n,i),a.cause=r,a.name=r.name,s&&Object.assign(a,s),a};const dV=null;function Aw(r){return ct.isPlainObject(r)||ct.isArray(r)}function MB(r){return ct.endsWith(r,"[]")?r.slice(0,-2):r}function AP(r,e,t){return r?r.concat(e).map(function(i,s){return i=MB(i),!t&&s?"["+i+"]":i}).join(t?".":""):e}function hV(r){return ct.isArray(r)&&!r.some(Aw)}const fV=ct.toFlatObject(ct,{},null,function(e){return/^is[A-Z]/.test(e)});function Yb(r,e,t){if(!ct.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=ct.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,_){return!ct.isUndefined(_[y])});const n=t.metaTokens,i=t.visitor||c,s=t.dots,a=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&ct.isSpecCompliantForm(e);if(!ct.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(ct.isDate(v))return v.toISOString();if(!l&&ct.isBlob(v))throw new Vr("Blob is not supported. Use a Buffer instead.");return ct.isArrayBuffer(v)||ct.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,y,_){let C=v;if(v&&!_&&typeof v=="object"){if(ct.endsWith(y,"{}"))y=n?y:y.slice(0,-2),v=JSON.stringify(v);else if(ct.isArray(v)&&hV(v)||(ct.isFileList(v)||ct.endsWith(y,"[]"))&&(C=ct.toArray(v)))return y=MB(y),C.forEach(function(D,I){!(ct.isUndefined(D)||D===null)&&e.append(a===!0?AP([y],I,s):a===null?y:y+"[]",u(D))}),!1}return Aw(v)?!0:(e.append(AP(_,y,s),u(v)),!1)}const h=[],f=Object.assign(fV,{defaultVisitor:c,convertValue:u,isVisitable:Aw});function g(v,y){if(!ct.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(v),ct.forEach(v,function(C,k){(!(ct.isUndefined(C)||C===null)&&i.call(e,C,ct.isString(k)?k.trim():k,y,f))===!0&&g(C,y?y.concat(k):[k])}),h.pop()}}if(!ct.isObject(r))throw new TypeError("data must be an object");return g(r),e}function DP(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function RE(r,e){this._pairs=[],r&&Yb(r,this,e)}const FB=RE.prototype;FB.append=function(e,t){this._pairs.push([e,t])};FB.toString=function(e){const t=e?function(n){return e.call(this,n,DP)}:DP;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function pV(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function BB(r,e,t){if(!e)return r;const n=t&&t.encode||pV,i=t&&t.serialize;let s;if(i?s=i(e,t):s=ct.isURLSearchParams(e)?e.toString():new RE(e,t).toString(n),s){const a=r.indexOf("#");a!==-1&&(r=r.slice(0,a)),r+=(r.indexOf("?")===-1?"?":"&")+s}return r}class IP{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ct.forEach(this.handlers,function(n){n!==null&&e(n)})}}const NB={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mV=typeof URLSearchParams<"u"?URLSearchParams:RE,gV=typeof FormData<"u"?FormData:null,vV=typeof Blob<"u"?Blob:null,yV={isBrowser:!0,classes:{URLSearchParams:mV,FormData:gV,Blob:vV},protocols:["http","https","file","blob","url","data"]},LE=typeof window<"u"&&typeof document<"u",Dw=typeof navigator=="object"&&navigator||void 0,xV=LE&&(!Dw||["ReactNative","NativeScript","NS"].indexOf(Dw.product)<0),_V=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bV=LE&&window.location.href||"http://localhost",SV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:LE,hasStandardBrowserEnv:xV,hasStandardBrowserWebWorkerEnv:_V,navigator:Dw,origin:bV},Symbol.toStringTag,{value:"Module"})),$a={...SV,...yV};function TV(r,e){return Yb(r,new $a.classes.URLSearchParams,Object.assign({visitor:function(t,n,i,s){return $a.isNode&&ct.isBuffer(t)?(this.append(n,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function CV(r){return ct.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function wV(r){const e={},t=Object.keys(r);let n;const i=t.length;let s;for(n=0;n<i;n++)s=t[n],e[s]=r[s];return e}function UB(r){function e(t,n,i,s){let a=t[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=t.length;return a=!a&&ct.isArray(i)?i.length:a,l?(ct.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!ct.isObject(i[a]))&&(i[a]=[]),e(t,n,i[a],s)&&ct.isArray(i[a])&&(i[a]=wV(i[a])),!o)}if(ct.isFormData(r)&&ct.isFunction(r.entries)){const t={};return ct.forEachEntry(r,(n,i)=>{e(CV(n),i,t,0)}),t}return null}function EV(r,e,t){if(ct.isString(r))try{return(e||JSON.parse)(r),ct.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(r)}const ev={transitional:NB,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,s=ct.isObject(e);if(s&&ct.isHTMLForm(e)&&(e=new FormData(e)),ct.isFormData(e))return i?JSON.stringify(UB(e)):e;if(ct.isArrayBuffer(e)||ct.isBuffer(e)||ct.isStream(e)||ct.isFile(e)||ct.isBlob(e)||ct.isReadableStream(e))return e;if(ct.isArrayBufferView(e))return e.buffer;if(ct.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return TV(e,this.formSerializer).toString();if((o=ct.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Yb(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(t.setContentType("application/json",!1),EV(e)):e}],transformResponse:[function(e){const t=this.transitional||ev.transitional,n=t&&t.forcedJSONParsing,i=this.responseType==="json";if(ct.isResponse(e)||ct.isReadableStream(e))return e;if(e&&ct.isString(e)&&(n&&!this.responseType||i)){const a=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?Vr.from(o,Vr.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$a.classes.FormData,Blob:$a.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ct.forEach(["delete","get","head","post","put","patch"],r=>{ev.headers[r]={}});const kV=ct.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),AV=r=>{const e={};let t,n,i;return r&&r.split(`
`).forEach(function(a){i=a.indexOf(":"),t=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!t||e[t]&&kV[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},PP=Symbol("internals");function vg(r){return r&&String(r).trim().toLowerCase()}function px(r){return r===!1||r==null?r:ct.isArray(r)?r.map(px):String(r)}function DV(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(r);)e[n[1]]=n[2];return e}const IV=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function w1(r,e,t,n,i){if(ct.isFunction(n))return n.call(this,e,t);if(i&&(e=t),!!ct.isString(e)){if(ct.isString(n))return e.indexOf(n)!==-1;if(ct.isRegExp(n))return n.test(e)}}function PV(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function RV(r,e){const t=ct.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(r,n+t,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let ja=class{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function s(o,l,u){const c=vg(l);if(!c)throw new Error("header name must be a non-empty string");const h=ct.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=px(o))}const a=(o,l)=>ct.forEach(o,(u,c)=>s(u,c,l));if(ct.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(ct.isString(e)&&(e=e.trim())&&!IV(e))a(AV(e),t);else if(ct.isHeaders(e))for(const[o,l]of e.entries())s(l,o,n);else e!=null&&s(t,e,n);return this}get(e,t){if(e=vg(e),e){const n=ct.findKey(this,e);if(n){const i=this[n];if(!t)return i;if(t===!0)return DV(i);if(ct.isFunction(t))return t.call(this,i,n);if(ct.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vg(e),e){const n=ct.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||w1(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let i=!1;function s(a){if(a=vg(a),a){const o=ct.findKey(n,a);o&&(!t||w1(n,n[o],o,t))&&(delete n[o],i=!0)}}return ct.isArray(e)?e.forEach(s):s(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const s=t[n];(!e||w1(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const t=this,n={};return ct.forEach(this,(i,s)=>{const a=ct.findKey(n,s);if(a){t[a]=px(i),delete t[s];return}const o=e?PV(s):String(s).trim();o!==s&&delete t[s],t[o]=px(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ct.forEach(this,(n,i)=>{n!=null&&n!==!1&&(t[i]=e&&ct.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[PP]=this[PP]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=vg(a);n[o]||(RV(i,a),n[o]=!0)}return ct.isArray(e)?e.forEach(s):s(e),this}};ja.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ct.reduceDescriptors(ja.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(n){this[t]=n}}});ct.freezeMethods(ja);function E1(r,e){const t=this||ev,n=e||t,i=ja.from(n.headers);let s=n.data;return ct.forEach(r,function(o){s=o.call(t,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function $B(r){return!!(r&&r.__CANCEL__)}function Cm(r,e,t){Vr.call(this,r??"canceled",Vr.ERR_CANCELED,e,t),this.name="CanceledError"}ct.inherits(Cm,Vr,{__CANCEL__:!0});function jB(r,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?r(t):e(new Vr("Request failed with status code "+t.status,[Vr.ERR_BAD_REQUEST,Vr.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function LV(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function OV(r,e){r=r||10;const t=new Array(r),n=new Array(r);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];a||(a=u),t[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=t[h++],h=h%r;if(i=(i+1)%r,i===s&&(s=(s+1)%r),u-a<e)return;const g=c&&u-c;return g?Math.round(f*1e3/g):void 0}}function MV(r,e){let t=0,n=1e3/e,i,s;const a=(u,c=Date.now())=>{t=c,i=null,s&&(clearTimeout(s),s=null),r.apply(null,u)};return[(...u)=>{const c=Date.now(),h=c-t;h>=n?a(u,c):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const S_=(r,e,t=3)=>{let n=0;const i=OV(50,250);return MV(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),c=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};r(h)},t)},RP=(r,e)=>{const t=r!=null;return[n=>e[0]({lengthComputable:t,total:r,loaded:n}),e[1]]},LP=r=>(...e)=>ct.asap(()=>r(...e)),FV=$a.hasStandardBrowserEnv?(function(){const e=$a.navigator&&/(msie|trident)/i.test($a.navigator.userAgent),t=document.createElement("a");let n;function i(s){let a=s;return e&&(t.setAttribute("href",a),a=t.href),t.setAttribute("href",a),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return n=i(window.location.href),function(a){const o=ct.isString(a)?i(a):a;return o.protocol===n.protocol&&o.host===n.host}})():(function(){return function(){return!0}})(),BV=$a.hasStandardBrowserEnv?{write(r,e,t,n,i,s){const a=[r+"="+encodeURIComponent(e)];ct.isNumber(t)&&a.push("expires="+new Date(t).toGMTString()),ct.isString(n)&&a.push("path="+n),ct.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function NV(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function UV(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function zB(r,e){return r&&!NV(e)?UV(r,e):e}const OP=r=>r instanceof ja?{...r}:r;function ff(r,e){e=e||{};const t={};function n(u,c,h){return ct.isPlainObject(u)&&ct.isPlainObject(c)?ct.merge.call({caseless:h},u,c):ct.isPlainObject(c)?ct.merge({},c):ct.isArray(c)?c.slice():c}function i(u,c,h){if(ct.isUndefined(c)){if(!ct.isUndefined(u))return n(void 0,u,h)}else return n(u,c,h)}function s(u,c){if(!ct.isUndefined(c))return n(void 0,c)}function a(u,c){if(ct.isUndefined(c)){if(!ct.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function o(u,c,h){if(h in e)return n(u,c);if(h in r)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c)=>i(OP(u),OP(c),!0)};return ct.forEach(Object.keys(Object.assign({},r,e)),function(c){const h=l[c]||i,f=h(r[c],e[c],c);ct.isUndefined(f)&&h!==o||(t[c]=f)}),t}const HB=r=>{const e=ff({},r);let{data:t,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=ja.from(a),e.url=BB(zB(e.baseURL,e.url),r.params,r.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(ct.isFormData(t)){if($a.hasStandardBrowserEnv||$a.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[u,...c]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...c].join("; "))}}if($a.hasStandardBrowserEnv&&(n&&ct.isFunction(n)&&(n=n(e)),n||n!==!1&&FV(e.url))){const u=i&&s&&BV.read(s);u&&a.set(i,u)}return e},$V=typeof XMLHttpRequest<"u",jV=$V&&function(r){return new Promise(function(t,n){const i=HB(r);let s=i.data;const a=ja.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,c,h,f,g,v;function y(){g&&g(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function C(){if(!_)return;const D=ja.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:D,config:r,request:_};jB(function(N){t(N),y()},function(N){n(N),y()},A),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(n(new Vr("Request aborted",Vr.ECONNABORTED,r,_)),_=null)},_.onerror=function(){n(new Vr("Network Error",Vr.ERR_NETWORK,r,_)),_=null},_.ontimeout=function(){let I=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const A=i.transitional||NB;i.timeoutErrorMessage&&(I=i.timeoutErrorMessage),n(new Vr(I,A.clarifyTimeoutError?Vr.ETIMEDOUT:Vr.ECONNABORTED,r,_)),_=null},s===void 0&&a.setContentType(null),"setRequestHeader"in _&&ct.forEach(a.toJSON(),function(I,A){_.setRequestHeader(A,I)}),ct.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),o&&o!=="json"&&(_.responseType=i.responseType),u&&([f,v]=S_(u,!0),_.addEventListener("progress",f)),l&&_.upload&&([h,g]=S_(l),_.upload.addEventListener("progress",h),_.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(c=D=>{_&&(n(!D||D.type?new Cm(null,r,_):D),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const k=LV(i.url);if(k&&$a.protocols.indexOf(k)===-1){n(new Vr("Unsupported protocol "+k+":",Vr.ERR_BAD_REQUEST,r));return}_.send(s||null)})},zV=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof Vr?c:new Cm(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,s(new Vr(`timeout ${e} of ms exceeded`,Vr.ETIMEDOUT))},e);const o=()=>{r&&(a&&clearTimeout(a),a=null,r.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),r=null)};r.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>ct.asap(o),l}},HV=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let n=0,i;for(;n<t;)i=n+e,yield r.slice(n,i),n=i},VV=async function*(r,e){for await(const t of WV(r))yield*HV(t,e)},WV=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},MP=(r,e,t,n)=>{const i=VV(r,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){o(),l.close();return}let h=c.byteLength;if(t){let f=s+=h;t(f)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Qb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",VB=Qb&&typeof ReadableStream=="function",qV=Qb&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),WB=(r,...e)=>{try{return!!r(...e)}catch{return!1}},GV=VB&&WB(()=>{let r=!1;const e=new Request($a.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),FP=64*1024,Iw=VB&&WB(()=>ct.isReadableStream(new Response("").body)),T_={stream:Iw&&(r=>r.body)};Qb&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!T_[e]&&(T_[e]=ct.isFunction(r[e])?t=>t[e]():(t,n)=>{throw new Vr(`Response type '${e}' is not supported`,Vr.ERR_NOT_SUPPORT,n)})})})(new Response);const KV=async r=>{if(r==null)return 0;if(ct.isBlob(r))return r.size;if(ct.isSpecCompliantForm(r))return(await new Request($a.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(ct.isArrayBufferView(r)||ct.isArrayBuffer(r))return r.byteLength;if(ct.isURLSearchParams(r)&&(r=r+""),ct.isString(r))return(await qV(r)).byteLength},XV=async(r,e)=>{const t=ct.toFiniteNumber(r.getContentLength());return t??KV(e)},YV=Qb&&(async r=>{let{url:e,method:t,data:n,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:u,headers:c,withCredentials:h="same-origin",fetchOptions:f}=HB(r);u=u?(u+"").toLowerCase():"text";let g=zV([i,s&&s.toAbortSignal()],a),v;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let _;try{if(l&&GV&&t!=="get"&&t!=="head"&&(_=await XV(c,n))!==0){let A=new Request(e,{method:"POST",body:n,duplex:"half"}),R;if(ct.isFormData(n)&&(R=A.headers.get("content-type"))&&c.setContentType(R),A.body){const[N,U]=RP(_,S_(LP(l)));n=MP(A.body,FP,N,U)}}ct.isString(h)||(h=h?"include":"omit");const C="credentials"in Request.prototype;v=new Request(e,{...f,signal:g,method:t.toUpperCase(),headers:c.normalize().toJSON(),body:n,duplex:"half",credentials:C?h:void 0});let k=await fetch(v);const D=Iw&&(u==="stream"||u==="response");if(Iw&&(o||D&&y)){const A={};["status","statusText","headers"].forEach(F=>{A[F]=k[F]});const R=ct.toFiniteNumber(k.headers.get("content-length")),[N,U]=o&&RP(R,S_(LP(o),!0))||[];k=new Response(MP(k.body,FP,N,()=>{U&&U(),y&&y()}),A)}u=u||"text";let I=await T_[ct.findKey(T_,u)||"text"](k,r);return!D&&y&&y(),await new Promise((A,R)=>{jB(A,R,{data:I,headers:ja.from(k.headers),status:k.status,statusText:k.statusText,config:r,request:v})})}catch(C){throw y&&y(),C&&C.name==="TypeError"&&/fetch/i.test(C.message)?Object.assign(new Vr("Network Error",Vr.ERR_NETWORK,r,v),{cause:C.cause||C}):Vr.from(C,C&&C.code,r,v)}}),Pw={http:dV,xhr:jV,fetch:YV};ct.forEach(Pw,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const BP=r=>`- ${r}`,QV=r=>ct.isFunction(r)||r===null||r===!1,qB={getAdapter:r=>{r=ct.isArray(r)?r:[r];const{length:e}=r;let t,n;const i={};for(let s=0;s<e;s++){t=r[s];let a;if(n=t,!QV(t)&&(n=Pw[(a=String(t)).toLowerCase()],n===void 0))throw new Vr(`Unknown adapter '${a}'`);if(n)break;i[a||"#"+s]=n}if(!n){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(BP).join(`
`):" "+BP(s[0]):"as no adapter specified";throw new Vr("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return n},adapters:Pw};function k1(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Cm(null,r)}function NP(r){return k1(r),r.headers=ja.from(r.headers),r.data=E1.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),qB.getAdapter(r.adapter||ev.adapter)(r).then(function(n){return k1(r),n.data=E1.call(r,r.transformResponse,n),n.headers=ja.from(n.headers),n},function(n){return $B(n)||(k1(r),n&&n.response&&(n.response.data=E1.call(r,r.transformResponse,n.response),n.response.headers=ja.from(n.response.headers))),Promise.reject(n)})}const GB="1.7.7",OE={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{OE[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});const UP={};OE.transitional=function(e,t,n){function i(s,a){return"[Axios v"+GB+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Vr(i(a," has been removed"+(t?" in "+t:"")),Vr.ERR_DEPRECATED);return t&&!UP[a]&&(UP[a]=!0,console.warn(i(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,o):!0}};function JV(r,e,t){if(typeof r!="object")throw new Vr("options must be an object",Vr.ERR_BAD_OPTION_VALUE);const n=Object.keys(r);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=r[s],l=o===void 0||a(o,s,r);if(l!==!0)throw new Vr("option "+s+" must be "+l,Vr.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Vr("Unknown option "+s,Vr.ERR_BAD_OPTION)}}const Rw={assertOptions:JV,validators:OE},xd=Rw.validators;let Jh=class{constructor(e){this.defaults=e,this.interceptors={request:new IP,response:new IP}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ff(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:s}=t;n!==void 0&&Rw.assertOptions(n,{silentJSONParsing:xd.transitional(xd.boolean),forcedJSONParsing:xd.transitional(xd.boolean),clarifyTimeoutError:xd.transitional(xd.boolean)},!1),i!=null&&(ct.isFunction(i)?t.paramsSerializer={serialize:i}:Rw.assertOptions(i,{encode:xd.function,serialize:xd.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&ct.merge(s.common,s[t.method]);s&&ct.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=ja.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,f;if(!l){const v=[NP.bind(this),void 0];for(v.unshift.apply(v,o),v.push.apply(v,u),f=v.length,c=Promise.resolve(t);h<f;)c=c.then(v[h++],v[h++]);return c}f=o.length;let g=t;for(h=0;h<f;){const v=o[h++],y=o[h++];try{g=v(g)}catch(_){y.call(this,_);break}}try{c=NP.call(this,g)}catch(v){return Promise.reject(v)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=ff(this.defaults,e);const t=zB(e.baseURL,e.url);return BB(t,e.params,e.paramsSerializer)}};ct.forEach(["delete","get","head","options"],function(e){Jh.prototype[e]=function(t,n){return this.request(ff(n||{},{method:e,url:t,data:(n||{}).data}))}});ct.forEach(["post","put","patch"],function(e){function t(n){return function(s,a,o){return this.request(ff(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Jh.prototype[e]=t(),Jh.prototype[e+"Form"]=t(!0)});let ZV=class KB{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Cm(s,a,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new KB(function(i){e=i}),cancel:e}}};function eW(r){return function(t){return r.apply(null,t)}}function tW(r){return ct.isObject(r)&&r.isAxiosError===!0}const Lw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lw).forEach(([r,e])=>{Lw[e]=r});function XB(r){const e=new Jh(r),t=wB(Jh.prototype.request,e);return ct.extend(t,Jh.prototype,e,{allOwnKeys:!0}),ct.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return XB(ff(r,i))},t}const Cr=XB(ev);Cr.Axios=Jh;Cr.CanceledError=Cm;Cr.CancelToken=ZV;Cr.isCancel=$B;Cr.VERSION=GB;Cr.toFormData=Yb;Cr.AxiosError=Vr;Cr.Cancel=Cr.CanceledError;Cr.all=function(e){return Promise.all(e)};Cr.spread=eW;Cr.isAxiosError=tW;Cr.mergeConfig=ff;Cr.AxiosHeaders=ja;Cr.formToJSON=r=>UB(ct.isHTMLForm(r)?new FormData(r):r);Cr.getAdapter=qB.getAdapter;Cr.HttpStatusCode=Lw;Cr.default=Cr;const{Axios:ewe,AxiosError:twe,CanceledError:rwe,isCancel:nwe,CancelToken:iwe,VERSION:swe,all:awe,Cancel:owe,isAxiosError:lwe,spread:uwe,toFormData:cwe,AxiosHeaders:dwe,HttpStatusCode:hwe,formToJSON:fwe,getAdapter:pwe,mergeConfig:mwe}=Cr,an={parseOneM3uData:r=>{let e=r.split(`
`);if(e.length>0){let t={};t.url=e[e.length-1];let n=[];if(e.length>2)for(let i=1;i<e.length-1;i++){let o=e[i].replace("#EXTVLCOPT:","").split("="),l=[];for(let v=0;v<o.length;v++)v!==0&&l.push(o[v]);let c=o[0].replace("http-","").split("-"),h=[];for(let v=0;v<c.length;v++)h.push(c[v].charAt(0).toUpperCase()+c[v].slice(1));let f=h.join("-"),g=l.join(":");n.push({key:f,value:g})}return t.tvgId=an.pregValue(e[0],"tvg-id"),t.copt=n,t.name=an.parseName(e[0]),t.logoUrl=an.pregValue(e[0],"tvg-logo"),t.exist=!0,t}return[]},parseM3uBody:(r,e=!1)=>{if(!r)return[];let t=r.split(`
`),n=[],i=null,s=1;for(let a=0;a<t.length;a++){let o=t[a].trim();if(o.startsWith("#EXTINF:")){i&&n.push(i),i=an.buildM3uBaseObject(),i.index=s;let l=an.parseName(o);e&&(l=l.replace(/[\[].*?[\]]/g,"").trim()),i.name=l,i.tvgName=an.pregValue(o,"tvg-name"),i.tvgId=an.pregValue(o,"tvg-id"),i.groupTitle=an.pregValue(o,"group-title"),i.tvgLogo=an.pregValue(o,"tvg-logo"),i.tvgLanguage=an.pregValue(o,"tvg-language"),i.tvgCountry=an.pregValue(o,"tvg-country")}else if(o.startsWith("#EXTVLCOPT:")){if(i){let l=o.replace("#EXTVLCOPT:","").split("=");l.length>=2&&i.copt.push({key:l[0],value:l.slice(1).join("=")})}}else o.startsWith("http")&&i&&(i.url=o,i.exist=!0,n.push(i),s++,i=null)}return i&&i.url&&n.push(i),n},parseOriginalBodyToList:(r,e)=>{const t=/#EXTINF:(.*)\n(#EXTVLCOPT:.*\n)*(http[s]*)(.*)/gm;let n=[],i;for(;(i=t.exec(r))!==null;){i.index===t.lastIndex&&t.lastIndex++;let a=[];i.forEach((o,l)=>{a.push(o)}),n.push(a)}let s=[];for(let a=0;a<n.length;a+=1)s.push(an.parseRowToData(a+1,"#EXTINF:"+n[a][1],n[a][3]+""+n[a][4],n[a][0]));return s.length===0?an.removeRepeatList(an.parseQuoteFormat(r),e):an.removeRepeatList(s,e)},removeRepeatList(r,e){let t={},n=[];for(let i=0;i<r.length;i++)if(t[r[i].url]===void 0){let s=r[i];e!==void 0&&e[r[i].url]!==void 0&&e[r[i].url]!==null&&(s={...s,...e[r[i].url]}),n.push(s),t[r[i].url]=!0}return n},parseQuoteFormat(r){let e=[],t="Undefined",n=r.split(`
`);for(let i=0;i<n.length;i++)if(n[i]!==""){let s=n[i].split(",");if(s!=="")if(s.length>=2&&an.checkStrIsLink(s[1])&&!an.checkStrIsLink(s[0])){let a='#EXTINF:-1 tvg-id="" tvg-logo="" group-title="Undefined",'+s[0]+`
`+s[1],o='#EXTINF:-1 tvg-id="" tvg-logo="" group-title="Undefined",'+s[0]+`
`+s[1],l=this.buildM3uBaseObject(i+1,s[1],t,"","","","",s[0],a,o);e.push(l)}else t=s[0];else t="Undefined"}if(e.length===0)throw new Error("");return e},buildM3uBaseObject(r,e,t,n,i,s,a,o,l,u){return o==null&&(o=""),{index:r,url:e,groupTitle:t,tvgLogo:n,tvgName:o,tvgLanguage:i,tvgCountry:s,tvgId:a,name:o,sName:an.removeNameExtraInfo(o.toLowerCase()).trim(),originalData:l,raw:u,copt:[],status:0,checked:!1,video:null,audio:null,videoType:"",delay:0}},getVideoResolutionList(){return[{name:"",value:"SD"},{name:"720P",value:"HD"},{name:"1080P",value:"FHD"},{name:"4K",value:"UHD"},{name:"8K",value:"FUHD"}]},getVideoResolution(r,e){return r<1280||e<720?"SD":r<1920||e<1080?"HD":r<3840||e<2160?"FHD":r<8192||e<4320?"UHD":"FUHD"},checkStrIsLink(r){const e=/(http|https|lwb|P2p|p2p|p9p|rmtp):\/\/([\w.]+\/?)\S*/;let t=[];return(t=e.exec(r))!==null&&t.forEach((n,i)=>{t.push(n)}),t!==null&&t.length>0},parseRowToData(r,e,t,n){let i=an.pregValue(e,"group-title");i===""&&(i="Undefined");let s=`${e}
${t}`;return this.buildM3uBaseObject(r,t,i,an.pregValue(e,"tvg-logo"),an.parseLanguages(an.pregValue(e,"tvg-language")),an.pregValue(e,"tvg-country"),an.pregValue(e,"tvg-id"),an.parseName(e),s,n)},parseName:r=>{const e=r.split(",");return e[e.length-1]},parseLanguages:r=>r!==""?r.split(";"):[],pregValue:(r,e)=>{let t;e==="group-title"?t=/group-title="(.*)"/gm:e==="tvg-logo"?t=/tvg-logo="(.*)"/gm:e==="tvg-language"?t=/tvg-language="(.*)"/gm:e==="tvg-country"?t=/tvg-country="(.*)"/gm:e==="tvg-id"?t=/tvg-id="(.*)"/gm:e==="tvg-name"&&(t=/tvg-name="(.*)"/gm);let n,i="";for(;(n=t.exec(r))!==null;)n.index===t.lastIndex&&(t.lastIndex+=1),n.forEach((s,a)=>{a===1&&(i=s)});return i!==""?i.split('" ')[0]:""},checkRespIsValudM3u8Data:r=>r.split(`
`)[0].indexOf("#EXTM3U")!==-1,removeNameExtraInfo:r=>{const e=/\((.*)/gm;let t,n=[];for(;(t=e.exec(r))!==null;)t.index===e.lastIndex&&e.lastIndex++,t.forEach((i,s)=>{n.push(i)});return n.length>=2?r.replace(n[0],""):r}};function rW(r,e,t,n){if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(r):n?n.value:e.get(r)}function nW(r,e,t,n,i){if(typeof e=="function"?r!==e||!0:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(r,t),t}var mx;const rl="__TAURI_TO_IPC_KEY__";function iW(r,e=!1){return window.__TAURI_INTERNALS__.transformCallback(r,e)}async function Ot(r,e={},t){return window.__TAURI_INTERNALS__.invoke(r,e,t)}class sW{get rid(){return rW(this,mx,"f")}constructor(e){mx.set(this,void 0),nW(this,mx,e)}async close(){return Ot("plugin:resources|close",{rid:this.rid})}}mx=new WeakMap;const Ur=r=>typeof r=="string",yg=()=>{let r,e;const t=new Promise((n,i)=>{r=n,e=i});return t.resolve=r,t.reject=e,t},$P=r=>r==null?"":""+r,aW=(r,e,t)=>{r.forEach(n=>{e[n]&&(t[n]=e[n])})},oW=/###/g,jP=r=>r&&r.indexOf("###")>-1?r.replace(oW,"."):r,zP=r=>!r||Ur(r),r0=(r,e,t)=>{const n=Ur(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(zP(r))return{};const s=jP(n[i]);!r[s]&&t&&(r[s]=new t),Object.prototype.hasOwnProperty.call(r,s)?r=r[s]:r={},++i}return zP(r)?{}:{obj:r,k:jP(n[i])}},HP=(r,e,t)=>{const{obj:n,k:i}=r0(r,e,Object);if(n!==void 0||e.length===1){n[i]=t;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=r0(r,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=r0(r,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},lW=(r,e,t,n)=>{const{obj:i,k:s}=r0(r,e,Object);i[s]=i[s]||[],i[s].push(t)},C_=(r,e)=>{const{obj:t,k:n}=r0(r,e);if(t)return t[n]},uW=(r,e,t)=>{const n=C_(r,t);return n!==void 0?n:C_(e,t)},YB=(r,e,t)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in r?Ur(r[n])||r[n]instanceof String||Ur(e[n])||e[n]instanceof String?t&&(r[n]=e[n]):YB(r[n],e[n],t):r[n]=e[n]);return r},qf=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cW={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dW=r=>Ur(r)?r.replace(/[&<>"'\/]/g,e=>cW[e]):r;class hW{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const fW=[" ",",","?","!",";"],pW=new hW(20),mW=(r,e,t)=>{e=e||"",t=t||"";const n=fW.filter(a=>e.indexOf(a)<0&&t.indexOf(a)<0);if(n.length===0)return!0;const i=pW.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(r);if(!s){const a=r.indexOf(t);a>0&&!i.test(r.substring(0,a))&&(s=!0)}return s},Ow=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!r)return;if(r[e])return r[e];const n=e.split(t);let i=r;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<n.length;++l)if(l!==s&&(o+=t),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;s+=l-s+1;break}i=a}return i},w_=r=>r&&r.replace("_","-"),gW={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,e){console&&console[r]&&console[r].apply(console,e)}};class E_{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||gW,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(Ur(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new E_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new E_(this.logger,e)}}var _u=new E_;class Jb{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(t)||0;this.observers[n].set(t,i+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...n])})}}class VP extends Jb{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],n&&(Array.isArray(n)?o.push(...n):Ur(n)&&s?o.push(...n.split(s)):o.push(n)));const l=C_(this.data,o);return!l&&!t&&!n&&e.indexOf(".")>-1&&(e=o[0],t=o[1],n=o.slice(2).join(".")),l||!a||!Ur(n)?l:Ow(this.data&&this.data[e]&&this.data[e][t],n,s)}addResource(e,t,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,t];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=t,t=o[1]),this.addNamespaces(t),HP(this.data,o,i),s.silent||this.emit("added",e,t,n,i)}addResources(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(Ur(n[s])||Array.isArray(n[s]))&&this.addResource(e,t,s,n[s],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,t];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=t,t=o[1]),this.addNamespaces(t);let l=C_(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?YB(l,n,s):l={...l,...n},HP(this.data,o,l),a.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(i=>t[i]&&Object.keys(t[i]).length>0)}toJSON(){return this.data}}var QB={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,e,t,n,i){return r.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,t,n,i))}),e}};const WP={};class k_ extends Jb{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),aW(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_u.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,t);return n&&n.res!==void 0}extractFromKey(e,t){let n=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let s=t.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!mW(e,n,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:Ur(s)?[s]:s};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:Ur(s)?[s]:s}}translate(e,t,n){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const I=t.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${I}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${I}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}const h=this.resolve(e,t);let f=h&&h.res;const g=h&&h.usedKey||a,v=h&&h.exactUsedKey||a,y=Object.prototype.toString.apply(f),_=["[object Number]","[object Function]","[object RegExp]"],C=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,D=!Ur(f)&&typeof f!="boolean"&&typeof f!="number";if(k&&f&&D&&_.indexOf(y)<0&&!(Ur(C)&&Array.isArray(f))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,f,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(h.res=I,h.usedParams=this.getUsedParamsDetails(t),h):I}if(s){const I=Array.isArray(f),A=I?[]:{},R=I?v:g;for(const N in f)if(Object.prototype.hasOwnProperty.call(f,N)){const U=`${R}${s}${N}`;A[N]=this.translate(U,{...t,joinArrays:!1,ns:o}),A[N]===U&&(A[N]=f[N])}f=A}}else if(k&&Ur(C)&&Array.isArray(f))f=f.join(C),f&&(f=this.extendTranslation(f,e,t,n));else{let I=!1,A=!1;const R=t.count!==void 0&&!Ur(t.count),N=k_.hasDefaultValue(t),U=R?this.pluralResolver.getSuffix(u,t.count,t):"",F=t.ordinal&&R?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",w=R&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),$=w&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${U}`]||t[`defaultValue${F}`]||t.defaultValue;!this.isValidLookup(f)&&N&&(I=!0,f=$),this.isValidLookup(f)||(A=!0,f=a);const W=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&A?void 0:f,Q=N&&$!==f&&this.options.updateMissing;if(A||I||Q){if(this.logger.log(Q?"updateKey":"missingKey",u,l,a,Q?$:f),s){const le=this.resolve(a,{...t,keySeparator:!1});le&&le.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const oe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&oe&&oe[0])for(let le=0;le<oe.length;le++)te.push(oe[le]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(t.lng||this.language):te.push(t.lng||this.language);const de=(le,ae,ie)=>{const ee=N&&ie!==f?ie:W;this.options.missingKeyHandler?this.options.missingKeyHandler(le,l,ae,ee,Q,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(le,l,ae,ee,Q,t),this.emit("missingKey",le,l,ae,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?te.forEach(le=>{const ae=this.pluralResolver.getSuffixes(le,t);w&&t[`defaultValue${this.options.pluralSeparator}zero`]&&ae.indexOf(`${this.options.pluralSeparator}zero`)<0&&ae.push(`${this.options.pluralSeparator}zero`),ae.forEach(ie=>{de([le],a+ie,t[`defaultValue${ie}`]||$)})}):de(te,a,$))}f=this.extendTranslation(f,e,t,h,n),A&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${a}`),(A||I)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,I?f:void 0):f=this.options.parseMissingKeyHandler(f))}return i?(h.res=f,h.usedParams=this.getUsedParamsDetails(t),h):f}extendTranslation(e,t,n,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Ur(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const f=e.match(this.interpolator.nestingRegexp);c=f&&f.length}let h=n.replace&&!Ur(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,n.lng||this.language||i.usedLng,n),u){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;c<g&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];return s&&s[0]===g[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${t[0]}`),null):a.translate(...g,t)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Ur(o)?[o]:o;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=QB.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,a,o;return Ur(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,t),c=u.key;i=c;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const f=t.count!==void 0&&!Ur(t.count),g=f&&!t.ordinal&&t.count===0&&this.pluralResolver.shouldUseIntlApi(),v=t.context!==void 0&&(Ur(t.context)||typeof t.context=="number")&&t.context!=="",y=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);h.forEach(_=>{this.isValidLookup(n)||(o=_,!WP[`${y[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(WP[`${y[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(C=>{if(this.isValidLookup(n))return;a=C;const k=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(k,c,C,_,t);else{let I;f&&(I=this.pluralResolver.getSuffix(C,t.count,t));const A=`${this.options.pluralSeparator}zero`,R=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(k.push(c+I),t.ordinal&&I.indexOf(R)===0&&k.push(c+I.replace(R,this.options.pluralSeparator)),g&&k.push(c+A)),v){const N=`${c}${this.options.contextSeparator}${t.context}`;k.push(N),f&&(k.push(N+I),t.ordinal&&I.indexOf(R)===0&&k.push(N+I.replace(R,this.options.pluralSeparator)),g&&k.push(N+A))}}let D;for(;D=k.pop();)this.isValidLookup(n)||(s=D,n=this.getResource(C,_,D,t))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Ur(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of t)delete i[s]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&e[n]!==void 0)return!0;return!1}}const A1=r=>r.charAt(0).toUpperCase()+r.slice(1);class qP{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_u.create("languageUtils")}getScriptPartFromCode(e){if(e=w_(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=w_(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Ur(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=A1(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=A1(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=A1(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(n=>{if(t)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(t=i)}),!t&&this.options.supportedLngs&&e.forEach(n=>{if(t)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Ur(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return Ur(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Ur(e)&&s(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}let vW=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],yW={1:r=>+(r>1),2:r=>+(r!=1),3:r=>0,4:r=>r%10==1&&r%100!=11?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,5:r=>r==0?0:r==1?1:r==2?2:r%100>=3&&r%100<=10?3:r%100>=11?4:5,6:r=>r==1?0:r>=2&&r<=4?1:2,7:r=>r==1?0:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?1:2,8:r=>r==1?0:r==2?1:r!=8&&r!=11?2:3,9:r=>+(r>=2),10:r=>r==1?0:r==2?1:r<7?2:r<11?3:4,11:r=>r==1||r==11?0:r==2||r==12?1:r>2&&r<20?2:3,12:r=>+(r%10!=1||r%100==11),13:r=>+(r!==0),14:r=>r==1?0:r==2?1:r==3?2:3,15:r=>r%10==1&&r%100!=11?0:r%10>=2&&(r%100<10||r%100>=20)?1:2,16:r=>r%10==1&&r%100!=11?0:r!==0?1:2,17:r=>r==1||r%10==1&&r%100!=11?0:1,18:r=>r==0?0:r==1?1:2,19:r=>r==1?0:r==0||r%100>1&&r%100<11?1:r%100>10&&r%100<20?2:3,20:r=>r==1?0:r==0||r%100>0&&r%100<20?1:2,21:r=>r%100==1?1:r%100==2?2:r%100==3||r%100==4?3:0,22:r=>r==1?0:r==2?1:(r<0||r>10)&&r%10==0?2:3};const xW=["v1","v2","v3"],_W=["v4"],GP={zero:0,one:1,two:2,few:3,many:4,other:5},bW=()=>{const r={};return vW.forEach(e=>{e.lngs.forEach(t=>{r[t]={numbers:e.nr,plurals:yW[e.fc]}})}),r};class SW{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=_u.create("pluralResolver"),(!this.options.compatibilityJSON||_W.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=bW(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=w_(e==="dev"?"en":e),i=t.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,t)}return this.pluralRulesCache[s]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${t}${i}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,s)=>GP[i]-GP[s]).map(i=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,t)):[]}getSuffix(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:this.getSuffixRetroCompatible(i,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!xW.includes(this.options.compatibilityJSON)}}const KP=function(r,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=uW(r,e,t);return!s&&i&&Ur(t)&&(s=Ow(r,t,n),s===void 0&&(s=Ow(e,t,n))),s},D1=r=>r.replace(/\$/g,"$$$$");class TW{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=_u.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(t=>t),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:h,nestingPrefix:f,nestingPrefixEscaped:g,nestingSuffix:v,nestingSuffixEscaped:y,nestingOptionsSeparator:_,maxReplaces:C,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:dW,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?qf(s):a||"{{",this.suffix=o?qf(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=f?qf(f):g||qf("$t("),this.nestingSuffix=v?qf(v):y||qf(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=C||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,n)=>t&&t.source===n?(t.lastIndex=0,t):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,i){let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const C=KP(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(C,void 0,n,{...i,...t,interpolationkey:g}):C}const v=g.split(this.formatSeparator),y=v.shift().trim(),_=v.join(this.formatSeparator).trim();return this.format(KP(t,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...i,...t,interpolationkey:y})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>D1(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?D1(this.escape(g)):D1(g)}].forEach(g=>{for(o=0;s=g.regex.exec(e);){const v=s[1].trim();if(a=u(v),a===void 0)if(typeof c=="function"){const _=c(e,s,i);a=Ur(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))a="";else if(h){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),a="";else!Ur(a)&&!this.useRawValueToEscape&&(a=$P(a));const y=g.safeValue(a);if(e=e.replace(s[0],y),h?(g.regex.lastIndex+=a.length,g.regex.lastIndex-=s[0].length):g.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const h=l.split(new RegExp(`${c}[ ]*{`));let f=`{${h[1]}`;l=h[0],f=this.interpolate(f,a);const g=f.match(/'/g),v=f.match(/"/g);(g&&g.length%2===0&&!v||v.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,y),`${l}${c}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!Ur(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(h=>h.trim());i[1]=c.shift(),l=c,u=!0}if(s=t(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!Ur(s))return s;Ur(s)||(s=$P(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((c,h)=>this.format(c,h,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const CW=r=>{let e=r.toLowerCase().trim();const t={};if(r.indexOf("(")>-1){const n=r.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?t.currency||(t.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?t.range||(t.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();t[c]||(t[c]=u),u==="false"&&(t[c]=!1),u==="true"&&(t[c]=!0),isNaN(u)||(t[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},Gf=r=>{const e={};return(t,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=n+JSON.stringify(s);let o=e[a];return o||(o=r(w_(n),i),e[a]=o),o(t)}};class wW{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=_u.create("formatter"),this.options=e,this.formats={number:Gf((t,n)=>{const i=new Intl.NumberFormat(t,{...n});return s=>i.format(s)}),currency:Gf((t,n)=>{const i=new Intl.NumberFormat(t,{...n,style:"currency"});return s=>i.format(s)}),datetime:Gf((t,n)=>{const i=new Intl.DateTimeFormat(t,{...n});return s=>i.format(s)}),relativetime:Gf((t,n)=>{const i=new Intl.RelativeTimeFormat(t,{...n});return s=>i.format(s,n.range||"day")}),list:Gf((t,n)=>{const i=new Intl.ListFormat(t,{...n});return s=>i.format(s)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Gf(t)}format(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=t.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{const{formatName:u,formatOptions:c}=CW(l);if(this.formats[u]){let h=o;try{const f=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},g=f.locale||f.lng||i.locale||i.lng||n;h=this.formats[u](o,g,{...c,...i,...f})}catch(f){this.logger.warn(f)}return h}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const EW=(r,e)=>{r.pending[e]!==void 0&&(delete r.pending[e],r.pendingCount--)};class kW extends Jb{constructor(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=_u.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,t,n,i){const s={},a={},o={},l={};return e.forEach(u=>{let c=!0;t.forEach(h=>{const f=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,c=!1,a[f]===void 0&&(a[f]=!0),s[f]===void 0&&(s[f]=!0),l[h]===void 0&&(l[h]=!0)))}),c||(o[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,t,n){const i=e.split("|"),s=i[0],a=i[1];t&&this.emit("failedLoading",s,a,t),!t&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{lW(l.loaded,[s],a),EW(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(h=>{o[u][h]===void 0&&(o[u][h]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,t,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,n,i+1,s*2,a)},s);return}a(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,t,o)}prepareLoading(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Ur(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Ur(t)&&(t=[t]);const s=this.queueLoad(e,t,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${t}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${t}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,t,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,t,n,i,l):c=u(e,t,n,i),c&&typeof c.then=="function"?c.then(h=>o(null,h)).catch(o):o(null,c)}catch(c){o(c)}else u(e,t,n,i,o,l)}!e||!e[0]||this.store.addResource(e[0],t,n,i)}}}const XP=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let e={};if(typeof r[1]=="object"&&(e=r[1]),Ur(r[1])&&(e.defaultValue=r[1]),Ur(r[2])&&(e.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const t=r[3]||r[2];Object.keys(t).forEach(n=>{e[n]=t[n]})}return e},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),YP=r=>(Ur(r.ns)&&(r.ns=[r.ns]),Ur(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),Ur(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs&&r.supportedLngs.indexOf("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),r),wy=()=>{},AW=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(t=>{typeof r[t]=="function"&&(r[t]=r[t].bind(r))})};class E0 extends Jb{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=YP(e),this.services={},this.logger=_u,this.modules={external:[]},AW(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),!t.defaultNS&&t.defaultNS!==!1&&t.ns&&(Ur(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const i=XP();this.options={...i,...this.options,...YP(t)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const s=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?_u.init(s(this.modules.logger),this.options):_u.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=wW);const h=new qP(this.options);this.store=new VP(this.options.resources,this.options);const f=this.services;f.logger=_u,f.resourceStore=this.store,f.languageUtils=h,f.pluralResolver=new SW(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(f.formatter=s(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new TW(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new kW(s(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(g){for(var v=arguments.length,y=new Array(v>1?v-1:0),_=1;_<v;_++)y[_-1]=arguments[_];e.emit(g,...y)}),this.modules.languageDetector&&(f.languageDetector=s(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=s(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new k_(this.services,this.options),this.translator.on("*",function(g){for(var v=arguments.length,y=new Array(v>1?v-1:0),_=1;_<v;_++)y[_-1]=arguments[_];e.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,n||(n=wy),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=yg(),u=()=>{const c=(h,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),n(h,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wy;const i=Ur(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,t,n){const i=yg();return typeof e=="function"&&(n=e,e=void 0),typeof t=="function"&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=wy),this.services.backendConnector.reload(e,t,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&QB.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const i=yg();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),t&&t(l,function(){return n.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=Ur(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,t,n){var i=this;const s=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),h=2;h<u;h++)c[h-2]=arguments[h];l=i.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||s.keyPrefix);const f=i.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(a)?g=a.map(v=>`${l.keyPrefix}${f}${v}`):g=l.keyPrefix?`${l.keyPrefix}${f}${a}`:a,i.t(g,l)};return Ur(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(t.precheck){const o=t.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(s,e)))}loadNamespaces(e,t){const n=yg();return this.options.ns?(Ur(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),t&&t(i)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=yg();Ur(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),t&&t(a)}),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new qP(XP());return t.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new E0(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:wy;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new E0(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new VP(this.store.data,i),s.services.resourceStore=s.store),s.translator=new k_(s.services,i),s.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(o,...u)}),s.init(i,t),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ts=E0.createInstance();Ts.createInstance=E0.createInstance;Ts.createInstance;Ts.dir;Ts.init;Ts.loadResources;Ts.reloadResources;Ts.use;Ts.changeLanguage;Ts.getFixedT;Ts.t;Ts.exists;Ts.setDefaultNamespace;Ts.hasLoadedNamespace;Ts.loadNamespaces;Ts.loadLanguages;class ME{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new Ep(this.width*e,this.height*e)}[rl](){return{width:this.width,height:this.height}}toJSON(){return this[rl]()}}class Ep{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new ME(this.width/e,this.height/e)}[rl](){return{width:this.width,height:this.height}}toJSON(){return this[rl]()}}class kd{constructor(e){this.size=e}toLogical(e){return this.size instanceof ME?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof Ep?this.size:this.size.toPhysical(e)}[rl](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[rl]()}}class JB{constructor(...e){this.type="Logical",e.length===1?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new Xo(this.x*e,this.y*e)}[rl](){return{x:this.x,y:this.y}}toJSON(){return this[rl]()}}class Xo{constructor(...e){this.type="Physical",e.length===1?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new JB(this.x/e,this.y/e)}[rl](){return{x:this.x,y:this.y}}toJSON(){return this[rl]()}}class pp{constructor(e){this.position=e}toLogical(e){return this.position instanceof JB?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof Xo?this.position:this.position.toPhysical(e)}[rl](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[rl]()}}var ms;(function(r){r.WINDOW_RESIZED="tauri://resize",r.WINDOW_MOVED="tauri://move",r.WINDOW_CLOSE_REQUESTED="tauri://close-requested",r.WINDOW_DESTROYED="tauri://destroyed",r.WINDOW_FOCUS="tauri://focus",r.WINDOW_BLUR="tauri://blur",r.WINDOW_SCALE_FACTOR_CHANGED="tauri://scale-change",r.WINDOW_THEME_CHANGED="tauri://theme-changed",r.WINDOW_CREATED="tauri://window-created",r.WEBVIEW_CREATED="tauri://webview-created",r.DRAG_ENTER="tauri://drag-enter",r.DRAG_OVER="tauri://drag-over",r.DRAG_DROP="tauri://drag-drop",r.DRAG_LEAVE="tauri://drag-leave"})(ms||(ms={}));async function ZB(r,e){await Ot("plugin:event|unlisten",{event:r,eventId:e})}async function tv(r,e,t){var n;const i=typeof t?.target=="string"?{kind:"AnyLabel",label:t.target}:(n=t?.target)!==null&&n!==void 0?n:{kind:"Any"};return Ot("plugin:event|listen",{event:r,target:i,handler:iW(e)}).then(s=>async()=>ZB(r,s))}async function FE(r,e,t){return tv(r,n=>{ZB(r,n.id),e(n)},t)}async function BE(r,e){await Ot("plugin:event|emit",{event:r,payload:e})}async function e8(r,e,t){await Ot("plugin:event|emit_to",{target:typeof r=="string"?{kind:"AnyLabel",label:r}:r,event:e,payload:t})}let DW=class gx extends sW{constructor(e){super(e)}static async new(e,t,n){return Ot("plugin:image|new",{rgba:Mw(e),width:t,height:n}).then(i=>new gx(i))}static async fromBytes(e){return Ot("plugin:image|from_bytes",{bytes:Mw(e)}).then(t=>new gx(t))}static async fromPath(e){return Ot("plugin:image|from_path",{path:e}).then(t=>new gx(t))}async rgba(){return Ot("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return Ot("plugin:image|size",{rid:this.rid})}};function Mw(r){return r==null?null:typeof r=="string"?r:r instanceof DW?r.rid:r}var Fw;(function(r){r[r.Critical=1]="Critical",r[r.Informational=2]="Informational"})(Fw||(Fw={}));class IW{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}var QP;(function(r){r.None="none",r.Normal="normal",r.Indeterminate="indeterminate",r.Paused="paused",r.Error="error"})(QP||(QP={}));function t8(){return new Zb(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function I1(){return Ot("plugin:window|get_all_windows").then(r=>r.map(e=>new Zb(e,{skip:!0})))}const P1=["tauri://created","tauri://error"];class Zb{constructor(e,t={}){var n;this.label=e,this.listeners=Object.create(null),t?.skip||Ot("plugin:window|create",{options:{...t,parent:typeof t.parent=="string"?t.parent:(n=t.parent)===null||n===void 0?void 0:n.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async i=>this.emit("tauri://error",i))}static async getByLabel(e){var t;return(t=(await I1()).find(n=>n.label===e))!==null&&t!==void 0?t:null}static getCurrent(){return t8()}static async getAll(){return I1()}static async getFocusedWindow(){for(const e of await I1())if(await e.isFocused())return e;return null}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{const n=this.listeners[e];n.splice(n.indexOf(t),1)}:tv(e,t,{target:{kind:"Window",label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{const n=this.listeners[e];n.splice(n.indexOf(t),1)}:FE(e,t,{target:{kind:"Window",label:this.label}})}async emit(e,t){if(P1.includes(e)){for(const n of this.listeners[e]||[])n({event:e,id:-1,payload:t});return}return BE(e,t)}async emitTo(e,t,n){if(P1.includes(t)){for(const i of this.listeners[t]||[])i({event:t,id:-1,payload:n});return}return e8(e,t,n)}_handleTauriEvent(e,t){return P1.includes(e)?(e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],!0):!1}async scaleFactor(){return Ot("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return Ot("plugin:window|inner_position",{label:this.label}).then(e=>new Xo(e))}async outerPosition(){return Ot("plugin:window|outer_position",{label:this.label}).then(e=>new Xo(e))}async innerSize(){return Ot("plugin:window|inner_size",{label:this.label}).then(e=>new Ep(e))}async outerSize(){return Ot("plugin:window|outer_size",{label:this.label}).then(e=>new Ep(e))}async isFullscreen(){return Ot("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return Ot("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return Ot("plugin:window|is_maximized",{label:this.label})}async isFocused(){return Ot("plugin:window|is_focused",{label:this.label})}async isDecorated(){return Ot("plugin:window|is_decorated",{label:this.label})}async isResizable(){return Ot("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return Ot("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return Ot("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return Ot("plugin:window|is_closable",{label:this.label})}async isVisible(){return Ot("plugin:window|is_visible",{label:this.label})}async title(){return Ot("plugin:window|title",{label:this.label})}async theme(){return Ot("plugin:window|theme",{label:this.label})}async center(){return Ot("plugin:window|center",{label:this.label})}async requestUserAttention(e){let t=null;return e&&(e===Fw.Critical?t={type:"Critical"}:t={type:"Informational"}),Ot("plugin:window|request_user_attention",{label:this.label,value:t})}async setResizable(e){return Ot("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return Ot("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return Ot("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return Ot("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return Ot("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return Ot("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return Ot("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return Ot("plugin:window|maximize",{label:this.label})}async unmaximize(){return Ot("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return Ot("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return Ot("plugin:window|minimize",{label:this.label})}async unminimize(){return Ot("plugin:window|unminimize",{label:this.label})}async show(){return Ot("plugin:window|show",{label:this.label})}async hide(){return Ot("plugin:window|hide",{label:this.label})}async close(){return Ot("plugin:window|close",{label:this.label})}async destroy(){return Ot("plugin:window|destroy",{label:this.label})}async setDecorations(e){return Ot("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return Ot("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return Ot("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return Ot("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return Ot("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return Ot("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return Ot("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return Ot("plugin:window|set_size",{label:this.label,value:e instanceof kd?e:new kd(e)})}async setMinSize(e){return Ot("plugin:window|set_min_size",{label:this.label,value:e instanceof kd?e:e?new kd(e):null})}async setMaxSize(e){return Ot("plugin:window|set_max_size",{label:this.label,value:e instanceof kd?e:e?new kd(e):null})}async setSizeConstraints(e){function t(n){return n?{Logical:n}:null}return Ot("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:t(e?.minWidth),minHeight:t(e?.minHeight),maxWidth:t(e?.maxWidth),maxHeight:t(e?.maxHeight)}})}async setPosition(e){return Ot("plugin:window|set_position",{label:this.label,value:e instanceof pp?e:new pp(e)})}async setFullscreen(e){return Ot("plugin:window|set_fullscreen",{label:this.label,value:e})}async setFocus(){return Ot("plugin:window|set_focus",{label:this.label})}async setIcon(e){return Ot("plugin:window|set_icon",{label:this.label,value:Mw(e)})}async setSkipTaskbar(e){return Ot("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return Ot("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return Ot("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return Ot("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return Ot("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return Ot("plugin:window|set_cursor_position",{label:this.label,value:e instanceof pp?e:new pp(e)})}async setIgnoreCursorEvents(e){return Ot("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return Ot("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return Ot("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setProgressBar(e){return Ot("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return Ot("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return Ot("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return Ot("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(ms.WINDOW_RESIZED,t=>{t.payload=new Ep(t.payload),e(t)})}async onMoved(e){return this.listen(ms.WINDOW_MOVED,t=>{t.payload=new Xo(t.payload),e(t)})}async onCloseRequested(e){return this.listen(ms.WINDOW_CLOSE_REQUESTED,async t=>{const n=new IW(t);await e(n),n.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){const t=await this.listen(ms.DRAG_ENTER,a=>{e({...a,payload:{type:"enter",paths:a.payload.paths,position:new Xo(a.payload.position)}})}),n=await this.listen(ms.DRAG_OVER,a=>{e({...a,payload:{type:"over",position:new Xo(a.payload.position)}})}),i=await this.listen(ms.DRAG_DROP,a=>{e({...a,payload:{type:"drop",paths:a.payload.paths,position:new Xo(a.payload.position)}})}),s=await this.listen(ms.DRAG_LEAVE,a=>{e({...a,payload:{type:"leave"}})});return()=>{t(),i(),n(),s()}}async onFocusChanged(e){const t=await this.listen(ms.WINDOW_FOCUS,i=>{e({...i,payload:!0})}),n=await this.listen(ms.WINDOW_BLUR,i=>{e({...i,payload:!1})});return()=>{t(),n()}}async onScaleChanged(e){return this.listen(ms.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(ms.WINDOW_THEME_CHANGED,e)}}var JP;(function(r){r.AppearanceBased="appearanceBased",r.Light="light",r.Dark="dark",r.MediumLight="mediumLight",r.UltraDark="ultraDark",r.Titlebar="titlebar",r.Selection="selection",r.Menu="menu",r.Popover="popover",r.Sidebar="sidebar",r.HeaderView="headerView",r.Sheet="sheet",r.WindowBackground="windowBackground",r.HudWindow="hudWindow",r.FullScreenUI="fullScreenUI",r.Tooltip="tooltip",r.ContentBackground="contentBackground",r.UnderWindowBackground="underWindowBackground",r.UnderPageBackground="underPageBackground",r.Mica="mica",r.Blur="blur",r.Acrylic="acrylic",r.Tabbed="tabbed",r.TabbedDark="tabbedDark",r.TabbedLight="tabbedLight"})(JP||(JP={}));var ZP;(function(r){r.FollowsWindowActiveState="followsWindowActiveState",r.Active="active",r.Inactive="inactive"})(ZP||(ZP={}));function r8(){return new NE(t8(),window.__TAURI_INTERNALS__.metadata.currentWebview.label,{skip:!0})}async function eR(){return Ot("plugin:webview|get_all_webviews").then(r=>r.map(e=>new NE(new Zb(e.windowLabel,{skip:!0}),e.label,{skip:!0})))}const R1=["tauri://created","tauri://error"];class NE{constructor(e,t,n){this.window=e,this.label=t,this.listeners=Object.create(null),n?.skip||Ot("plugin:webview|create_webview",{windowLabel:e.label,label:t,options:n}).then(async()=>this.emit("tauri://created")).catch(async i=>this.emit("tauri://error",i))}static async getByLabel(e){var t;return(t=(await eR()).find(n=>n.label===e))!==null&&t!==void 0?t:null}static getCurrent(){return r8()}static async getAll(){return eR()}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{const n=this.listeners[e];n.splice(n.indexOf(t),1)}:tv(e,t,{target:{kind:"Webview",label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{const n=this.listeners[e];n.splice(n.indexOf(t),1)}:FE(e,t,{target:{kind:"Webview",label:this.label}})}async emit(e,t){if(R1.includes(e)){for(const n of this.listeners[e]||[])n({event:e,id:-1,payload:t});return}return BE(e,t)}async emitTo(e,t,n){if(R1.includes(t)){for(const i of this.listeners[t]||[])i({event:t,id:-1,payload:n});return}return e8(e,t,n)}_handleTauriEvent(e,t){return R1.includes(e)?(e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],!0):!1}async position(){return Ot("plugin:webview|webview_position",{label:this.label}).then(e=>new Xo(e))}async size(){return Ot("plugin:webview|webview_size",{label:this.label}).then(e=>new Ep(e))}async close(){return Ot("plugin:webview|close",{label:this.label})}async setSize(e){return Ot("plugin:webview|set_webview_size",{label:this.label,value:e instanceof kd?e:new kd(e)})}async setPosition(e){return Ot("plugin:webview|set_webview_position",{label:this.label,value:e instanceof pp?e:new pp(e)})}async setFocus(){return Ot("plugin:webview|set_webview_focus",{label:this.label})}async hide(){return Ot("plugin:webview|webview_hide",{label:this.label})}async show(){return Ot("plugin:webview|webview_show",{label:this.label})}async setZoom(e){return Ot("plugin:webview|set_webview_zoom",{label:this.label,value:e})}async reparent(e){return Ot("plugin:webview|reparent",{label:this.label,window:typeof e=="string"?e:e.label})}async clearAllBrowsingData(){return Ot("plugin:webview|clear_all_browsing_data")}async setBackgroundColor(e){return Ot("plugin:webview|set_webview_background_color",{color:e})}async onDragDropEvent(e){const t=await this.listen(ms.DRAG_ENTER,a=>{e({...a,payload:{type:"enter",paths:a.payload.paths,position:new Xo(a.payload.position)}})}),n=await this.listen(ms.DRAG_OVER,a=>{e({...a,payload:{type:"over",position:new Xo(a.payload.position)}})}),i=await this.listen(ms.DRAG_DROP,a=>{e({...a,payload:{type:"drop",paths:a.payload.paths,position:new Xo(a.payload.position)}})}),s=await this.listen(ms.DRAG_LEAVE,a=>{e({...a,payload:{type:"leave"}})});return()=>{t(),i(),n(),s()}}}function A_(){const r=r8();return new pf(r.label,{skip:!0})}async function tR(){return Ot("plugin:window|get_all_windows").then(r=>r.map(e=>new pf(e,{skip:!0})))}class pf{constructor(e,t={}){var n;this.label=e,this.listeners=Object.create(null),t?.skip||Ot("plugin:webview|create_webview_window",{options:{...t,parent:typeof t.parent=="string"?t.parent:(n=t.parent)===null||n===void 0?void 0:n.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async i=>this.emit("tauri://error",i))}static async getByLabel(e){var t;const n=(t=(await tR()).find(i=>i.label===e))!==null&&t!==void 0?t:null;return n?new pf(n.label,{skip:!0}):null}static getCurrent(){return A_()}static async getAll(){return tR()}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{const n=this.listeners[e];n.splice(n.indexOf(t),1)}:tv(e,t,{target:{kind:"WebviewWindow",label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{const n=this.listeners[e];n.splice(n.indexOf(t),1)}:FE(e,t,{target:{kind:"WebviewWindow",label:this.label}})}async setBackgroundColor(e){return Ot("plugin:window|set_background_color",{color:e}).then(()=>Ot("plugin:webview|set_webview_background_color",{color:e}))}}PW(pf,[Zb,NE]);function PW(r,e){(Array.isArray(e)?e:[e]).forEach(t=>{Object.getOwnPropertyNames(t.prototype).forEach(n=>{var i;typeof r.prototype=="object"&&r.prototype&&n in r.prototype||Object.defineProperty(r.prototype,n,(i=Object.getOwnPropertyDescriptor(t.prototype,n))!==null&&i!==void 0?i:Object.create(null))})})}var kh={},Ah={},L1={},O1={},xg={},rR;function RW(){if(rR)return xg;rR=1;function r(){return window.crypto.getRandomValues(new Uint32Array(1))[0]}function e(i,s=!1){const a=r(),o=`_${a}`;return Object.defineProperty(window,o,{value:l=>(s&&Reflect.deleteProperty(window,o),i?.(l)),writable:!1,configurable:!0}),a}async function t(i,s={}){return new Promise((a,o)=>{const l=e(c=>{a(c),Reflect.deleteProperty(window,`_${u}`)},!0),u=e(c=>{o(c),Reflect.deleteProperty(window,`_${l}`)},!0);window.__TAURI_IPC__({cmd:i,callback:l,error:u,...s})})}function n(i,s="asset"){return window.__TAURI__.convertFileSrc(i,s)}return xg.convertFileSrc=n,xg.invoke=t,xg.transformCallback=e,xg}var nR;function LW(){if(nR)return O1;nR=1;var r=RW();async function e(t){return r.invoke("tauri",t)}return O1.invokeTauriCommand=e,O1}var iR;function OW(){return iR||(iR=1,(function(r){var e=LW();r.ResponseType=void 0,(function(u){u[u.JSON=1]="JSON",u[u.Text=2]="Text",u[u.Binary=3]="Binary"})(r.ResponseType||(r.ResponseType={}));async function t(u){const c={},h=async(f,g)=>{if(g!==null){let v;typeof g=="string"?v=g:g instanceof Uint8Array||Array.isArray(g)?v=Array.from(g):g instanceof File?v={file:Array.from(new Uint8Array(await g.arrayBuffer())),mime:g.type,fileName:g.name}:typeof g.file=="string"?v={file:g.file,mime:g.mime,fileName:g.fileName}:v={file:Array.from(g.file),mime:g.mime,fileName:g.fileName},c[String(f)]=v}};if(u instanceof FormData)for(const[f,g]of u)await h(f,g);else for(const[f,g]of Object.entries(u))await h(f,g);return c}class n{constructor(c,h){this.type=c,this.payload=h}static form(c){return new n("Form",c)}static json(c){return new n("Json",c)}static text(c){return new n("Text",c)}static bytes(c){return new n("Bytes",Array.from(c instanceof ArrayBuffer?new Uint8Array(c):c))}}class i{constructor(c){this.url=c.url,this.status=c.status,this.ok=this.status>=200&&this.status<300,this.headers=c.headers,this.rawHeaders=c.rawHeaders,this.data=c.data}}class s{constructor(c){this.id=c}async drop(){return e.invokeTauriCommand({__tauriModule:"Http",message:{cmd:"dropClient",client:this.id}})}async request(c){var h;const f=!c.responseType||c.responseType===r.ResponseType.JSON;return f&&(c.responseType=r.ResponseType.Text),((h=c.body)===null||h===void 0?void 0:h.type)==="Form"&&(c.body.payload=await t(c.body.payload)),e.invokeTauriCommand({__tauriModule:"Http",message:{cmd:"httpRequest",client:this.id,options:c}}).then(g=>{const v=new i(g);if(f){try{v.data=JSON.parse(v.data)}catch(y){if(v.ok&&v.data==="")v.data={};else if(v.ok)throw Error(`Failed to parse response \`${v.data}\` as JSON: ${y};
              try setting the \`responseType\` option to \`ResponseType.Text\` or \`ResponseType.Binary\` if the API does not return a JSON response.`)}return v}return v})}async get(c,h){return this.request({method:"GET",url:c,...h})}async post(c,h,f){return this.request({method:"POST",url:c,body:h,...f})}async put(c,h,f){return this.request({method:"PUT",url:c,body:h,...f})}async patch(c,h){return this.request({method:"PATCH",url:c,...h})}async delete(c,h){return this.request({method:"DELETE",url:c,...h})}}async function a(u){return e.invokeTauriCommand({__tauriModule:"Http",message:{cmd:"createClient",options:u}}).then(c=>new s(c))}let o=null;async function l(u,c){var h;return o===null&&(o=await a()),o.request({url:u,method:(h=c?.method)!==null&&h!==void 0?h:"GET",...c})}r.Body=n,r.Client=s,r.Response=i,r.fetch=l,r.getClient=a})(L1)),L1}var sR;function MW(){if(sR)return Ah;sR=1,Object.defineProperty(Ah,"__esModule",{value:!0}),Ah.overrideGlobalXHR=Ah.TauriXMLHttpRequest=void 0;const r=OW();var e;(function(i){i[i.Unsent=0]="Unsent",i[i.Opened=1]="Opened",i[i.HeadersReceived=2]="HeadersReceived",i[i.Loading=3]="Loading",i[i.Done=4]="Done"})(e||(e={}));class t extends EventTarget{method;url="";headers={};responseHeaders={};_readyState=e.Unsent;_response;_status=0;responseType="";timeout=0;withCredentials=!1;onabort=null;onerror=null;onload=null;onloadend=null;onloadstart=null;onprogress=null;ontimeout=null;onreadystatechange=null;UNSENT=e.Unsent;OPENED=e.Opened;HEADERS_RECEIVED=e.HeadersReceived;LOADING=e.Loading;DONE=e.Done;constructor(){super(),this.addEventListener("abort",s=>{this.onabort?.(s)}),this.addEventListener("error",s=>{this.onerror?.(s)}),this.addEventListener("load",s=>{this.onload?.(s)}),this.addEventListener("loadend",s=>{this.onloadend?.(s)}),this.addEventListener("loadstart",s=>{this.onloadstart?.(s)}),this.addEventListener("progress",s=>{this.onprogress?.(s)}),this.addEventListener("timeout",s=>{this.ontimeout?.(s)}),this.addEventListener("readystatechange",s=>{this.onreadystatechange?.(s)})}set readyState(s){this._readyState=s,this.dispatchEvent(new Event("readystatechange"))}get readyState(){return this._readyState}get response(){return this._response}get responseText(){if(typeof this._response!="string")throw new DOMException("response is not a string");return this._response}get responseURL(){return this.url}get responseXML(){throw new DOMException("git responseXML not implemented")}get status(){return this._status}get statusText(){return String(this._status)}get upload(){throw new DOMException("upload is not implemented")}abort(){throw new DOMException("abort is not implemented")}getAllResponseHeaders(){return Object.entries(this.responseHeaders).map(([s,a])=>`${s}: ${a}`).join(`
`)}getResponseHeader(s){return this.responseHeaders[s]??null}open(s,a){console.debug("open",s,a),this.method=s,this.url=a,this.readyState=e.Opened}overrideMimeType(s){throw new DOMException("overrideMimeType is not implemented")}send(s){console.debug("send",s);const{method:a,url:o,readyState:l}=this;if(!a||!o)throw new Error("method or url is not set");if(l!==e.Opened)throw new DOMException("readyState is not opened");if(s===null&&(s=""),typeof s!="string")throw new DOMException("using non-string body is not implemented");(async()=>{try{const u=await(0,r.getClient)();this.readyState=e.HeadersReceived,this.readyState=e.Loading,this.dispatchEvent(new ProgressEvent("loadstart",{lengthComputable:!0,loaded:0,total:0}));const c=await u.request({method:a,url:o,headers:this.headers,body:r.Body.text(s),responseType:r.ResponseType.Text});console.debug(`response of ${this.url}`,c),this._response=c.data,this._status=c.status,this.responseHeaders=c.headers;const h={lengthComputable:!0,loaded:c.data.length,total:c.data.length};this.dispatchEvent(new ProgressEvent("progress",h)),this.dispatchEvent(new ProgressEvent("load",h)),this.dispatchEvent(new ProgressEvent("loadend",h))}catch(u){console.error(u),this.dispatchEvent(new ErrorEvent("error",{error:u}))}finally{this.readyState=e.Done}})()}setRequestHeader(s,a){this.headers[s]=a}}Ah.TauriXMLHttpRequest=t;const n=()=>{window.XMLHttpRequest=t};return Ah.overrideGlobalXHR=n,Ah}var aR;function FW(){return aR||(aR=1,(function(r){var e=kh&&kh.__createBinding||(Object.create?(function(n,i,s,a){a===void 0&&(a=s);var o=Object.getOwnPropertyDescriptor(i,s);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,a,o)}):(function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]})),t=kh&&kh.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(r,"__esModule",{value:!0}),t(MW(),r)})(kh)),kh}FW();var Bw;(function(r){r[r.Audio=1]="Audio",r[r.Cache=2]="Cache",r[r.Config=3]="Config",r[r.Data=4]="Data",r[r.LocalData=5]="LocalData",r[r.Document=6]="Document",r[r.Download=7]="Download",r[r.Picture=8]="Picture",r[r.Public=9]="Public",r[r.Video=10]="Video",r[r.Resource=11]="Resource",r[r.Temp=12]="Temp",r[r.AppConfig=13]="AppConfig",r[r.AppData=14]="AppData",r[r.AppLocalData=15]="AppLocalData",r[r.AppCache=16]="AppCache",r[r.AppLog=17]="AppLog",r[r.Desktop=18]="Desktop",r[r.Executable=19]="Executable",r[r.Font=20]="Font",r[r.Home=21]="Home",r[r.Runtime=22]="Runtime",r[r.Template=23]="Template"})(Bw||(Bw={}));async function BW(){return Ot("plugin:path|resolve_directory",{directory:Bw.Download})}var oR;(function(r){r[r.Start=0]="Start",r[r.Current=1]="Current",r[r.End=2]="End"})(oR||(oR={}));async function NW(r,e,t){if(r instanceof URL&&r.protocol!=="file:")throw new TypeError("Must be a file URL.");const n=new TextEncoder;await Ot("plugin:fs|write_text_file",n.encode(e),{headers:{path:encodeURIComponent(r instanceof URL?r.toString():r),options:JSON.stringify(t)}})}async function UW(r={}){return typeof r=="object"&&Object.freeze(r),await Ot("plugin:dialog|save",{options:r})}function $W(){return window.__TAURI_OS_PLUGIN_INTERNALS__.os_type}var vx={exports:{}};function jW(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yx={exports:{}};const zW={},HW=Object.freeze(Object.defineProperty({__proto__:null,default:zW},Symbol.toStringTag,{value:"Module"})),n8=gH(HW);var VW=yx.exports,lR;function on(){return lR||(lR=1,(function(r,e){(function(t,n){r.exports=n()})(VW,function(){var t=t||(function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Qh<"u"&&Qh.crypto&&(s=Qh.crypto),!s&&typeof jW=="function")try{s=n8}catch{}var a=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||(function(){function k(){}return function(D){var I;return k.prototype=D,I=new k,k.prototype=null,I}})(),l={},u=l.lib={},c=u.Base=(function(){return{extend:function(k){var D=o(this);return k&&D.mixIn(k),(!D.hasOwnProperty("init")||this.init===D.init)&&(D.init=function(){D.$super.init.apply(this,arguments)}),D.init.prototype=D,D.$super=this,D},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var D in k)k.hasOwnProperty(D)&&(this[D]=k[D]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),h=u.WordArray=c.extend({init:function(k,D){k=this.words=k||[],D!=i?this.sigBytes=D:this.sigBytes=k.length*4},toString:function(k){return(k||g).stringify(this)},concat:function(k){var D=this.words,I=k.words,A=this.sigBytes,R=k.sigBytes;if(this.clamp(),A%4)for(var N=0;N<R;N++){var U=I[N>>>2]>>>24-N%4*8&255;D[A+N>>>2]|=U<<24-(A+N)%4*8}else for(var F=0;F<R;F+=4)D[A+F>>>2]=I[F>>>2];return this.sigBytes+=R,this},clamp:function(){var k=this.words,D=this.sigBytes;k[D>>>2]&=4294967295<<32-D%4*8,k.length=n.ceil(D/4)},clone:function(){var k=c.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var D=[],I=0;I<k;I+=4)D.push(a());return new h.init(D,k)}}),f=l.enc={},g=f.Hex={stringify:function(k){for(var D=k.words,I=k.sigBytes,A=[],R=0;R<I;R++){var N=D[R>>>2]>>>24-R%4*8&255;A.push((N>>>4).toString(16)),A.push((N&15).toString(16))}return A.join("")},parse:function(k){for(var D=k.length,I=[],A=0;A<D;A+=2)I[A>>>3]|=parseInt(k.substr(A,2),16)<<24-A%8*4;return new h.init(I,D/2)}},v=f.Latin1={stringify:function(k){for(var D=k.words,I=k.sigBytes,A=[],R=0;R<I;R++){var N=D[R>>>2]>>>24-R%4*8&255;A.push(String.fromCharCode(N))}return A.join("")},parse:function(k){for(var D=k.length,I=[],A=0;A<D;A++)I[A>>>2]|=(k.charCodeAt(A)&255)<<24-A%4*8;return new h.init(I,D)}},y=f.Utf8={stringify:function(k){try{return decodeURIComponent(escape(v.stringify(k)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(k){return v.parse(unescape(encodeURIComponent(k)))}},_=u.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=y.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var D,I=this._data,A=I.words,R=I.sigBytes,N=this.blockSize,U=N*4,F=R/U;k?F=n.ceil(F):F=n.max((F|0)-this._minBufferSize,0);var w=F*N,$=n.min(w*4,R);if(w){for(var H=0;H<w;H+=N)this._doProcessBlock(A,H);D=A.splice(0,w),I.sigBytes-=$}return new h.init(D,$)},clone:function(){var k=c.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0});u.Hasher=_.extend({cfg:c.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var D=this._doFinalize();return D},blockSize:16,_createHelper:function(k){return function(D,I){return new k.init(I).finalize(D)}},_createHmacHelper:function(k){return function(D,I){return new C.HMAC.init(k,I).finalize(D)}}});var C=l.algo={};return l})(Math);return t})})(yx)),yx.exports}var xx={exports:{}},WW=xx.exports,uR;function eS(){return uR||(uR=1,(function(r,e){(function(t,n){r.exports=n(on())})(WW,function(t){return(function(n){var i=t,s=i.lib,a=s.Base,o=s.WordArray,l=i.x64={};l.Word=a.extend({init:function(u,c){this.high=u,this.low=c}}),l.WordArray=a.extend({init:function(u,c){u=this.words=u||[],c!=n?this.sigBytes=c:this.sigBytes=u.length*8},toX32:function(){for(var u=this.words,c=u.length,h=[],f=0;f<c;f++){var g=u[f];h.push(g.high),h.push(g.low)}return o.create(h,this.sigBytes)},clone:function(){for(var u=a.clone.call(this),c=u.words=this.words.slice(0),h=c.length,f=0;f<h;f++)c[f]=c[f].clone();return u}})})(),t})})(xx)),xx.exports}var _x={exports:{}},qW=_x.exports,cR;function GW(){return cR||(cR=1,(function(r,e){(function(t,n){r.exports=n(on())})(qW,function(t){return(function(){if(typeof ArrayBuffer=="function"){var n=t,i=n.lib,s=i.WordArray,a=s.init,o=s.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var u=l.byteLength,c=[],h=0;h<u;h++)c[h>>>2]|=l[h]<<24-h%4*8;a.call(this,c,u)}else a.apply(this,arguments)};o.prototype=s}})(),t.lib.WordArray})})(_x)),_x.exports}var bx={exports:{}},KW=bx.exports,dR;function XW(){return dR||(dR=1,(function(r,e){(function(t,n){r.exports=n(on())})(KW,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,a=n.enc;a.Utf16=a.Utf16BE={stringify:function(l){for(var u=l.words,c=l.sigBytes,h=[],f=0;f<c;f+=2){var g=u[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(g))}return h.join("")},parse:function(l){for(var u=l.length,c=[],h=0;h<u;h++)c[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return s.create(c,u*2)}},a.Utf16LE={stringify:function(l){for(var u=l.words,c=l.sigBytes,h=[],f=0;f<c;f+=2){var g=o(u[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(g))}return h.join("")},parse:function(l){for(var u=l.length,c=[],h=0;h<u;h++)c[h>>>1]|=o(l.charCodeAt(h)<<16-h%2*16);return s.create(c,u*2)}};function o(l){return l<<8&4278255360|l>>>8&16711935}})(),t.enc.Utf16})})(bx)),bx.exports}var Sx={exports:{}},YW=Sx.exports,hR;function Tf(){return hR||(hR=1,(function(r,e){(function(t,n){r.exports=n(on())})(YW,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,a=n.enc;a.Base64={stringify:function(l){var u=l.words,c=l.sigBytes,h=this._map;l.clamp();for(var f=[],g=0;g<c;g+=3)for(var v=u[g>>>2]>>>24-g%4*8&255,y=u[g+1>>>2]>>>24-(g+1)%4*8&255,_=u[g+2>>>2]>>>24-(g+2)%4*8&255,C=v<<16|y<<8|_,k=0;k<4&&g+k*.75<c;k++)f.push(h.charAt(C>>>6*(3-k)&63));var D=h.charAt(64);if(D)for(;f.length%4;)f.push(D);return f.join("")},parse:function(l){var u=l.length,c=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<c.length;f++)h[c.charCodeAt(f)]=f}var g=c.charAt(64);if(g){var v=l.indexOf(g);v!==-1&&(u=v)}return o(l,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(l,u,c){for(var h=[],f=0,g=0;g<u;g++)if(g%4){var v=c[l.charCodeAt(g-1)]<<g%4*2,y=c[l.charCodeAt(g)]>>>6-g%4*2,_=v|y;h[f>>>2]|=_<<24-f%4*8,f++}return s.create(h,f)}})(),t.enc.Base64})})(Sx)),Sx.exports}var Tx={exports:{}},QW=Tx.exports,fR;function JW(){return fR||(fR=1,(function(r,e){(function(t,n){r.exports=n(on())})(QW,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,a=n.enc;a.Base64url={stringify:function(l,u){u===void 0&&(u=!0);var c=l.words,h=l.sigBytes,f=u?this._safe_map:this._map;l.clamp();for(var g=[],v=0;v<h;v+=3)for(var y=c[v>>>2]>>>24-v%4*8&255,_=c[v+1>>>2]>>>24-(v+1)%4*8&255,C=c[v+2>>>2]>>>24-(v+2)%4*8&255,k=y<<16|_<<8|C,D=0;D<4&&v+D*.75<h;D++)g.push(f.charAt(k>>>6*(3-D)&63));var I=f.charAt(64);if(I)for(;g.length%4;)g.push(I);return g.join("")},parse:function(l,u){u===void 0&&(u=!0);var c=l.length,h=u?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var g=0;g<h.length;g++)f[h.charCodeAt(g)]=g}var v=h.charAt(64);if(v){var y=l.indexOf(v);y!==-1&&(c=y)}return o(l,c,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(l,u,c){for(var h=[],f=0,g=0;g<u;g++)if(g%4){var v=c[l.charCodeAt(g-1)]<<g%4*2,y=c[l.charCodeAt(g)]>>>6-g%4*2,_=v|y;h[f>>>2]|=_<<24-f%4*8,f++}return s.create(h,f)}})(),t.enc.Base64url})})(Tx)),Tx.exports}var Cx={exports:{}},ZW=Cx.exports,pR;function Cf(){return pR||(pR=1,(function(r,e){(function(t,n){r.exports=n(on())})(ZW,function(t){return(function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.algo,u=[];(function(){for(var y=0;y<64;y++)u[y]=n.abs(n.sin(y+1))*4294967296|0})();var c=l.MD5=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,_){for(var C=0;C<16;C++){var k=_+C,D=y[k];y[k]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var I=this._hash.words,A=y[_+0],R=y[_+1],N=y[_+2],U=y[_+3],F=y[_+4],w=y[_+5],$=y[_+6],H=y[_+7],W=y[_+8],Q=y[_+9],te=y[_+10],oe=y[_+11],de=y[_+12],le=y[_+13],ae=y[_+14],ie=y[_+15],ee=I[0],pe=I[1],ve=I[2],_e=I[3];ee=h(ee,pe,ve,_e,A,7,u[0]),_e=h(_e,ee,pe,ve,R,12,u[1]),ve=h(ve,_e,ee,pe,N,17,u[2]),pe=h(pe,ve,_e,ee,U,22,u[3]),ee=h(ee,pe,ve,_e,F,7,u[4]),_e=h(_e,ee,pe,ve,w,12,u[5]),ve=h(ve,_e,ee,pe,$,17,u[6]),pe=h(pe,ve,_e,ee,H,22,u[7]),ee=h(ee,pe,ve,_e,W,7,u[8]),_e=h(_e,ee,pe,ve,Q,12,u[9]),ve=h(ve,_e,ee,pe,te,17,u[10]),pe=h(pe,ve,_e,ee,oe,22,u[11]),ee=h(ee,pe,ve,_e,de,7,u[12]),_e=h(_e,ee,pe,ve,le,12,u[13]),ve=h(ve,_e,ee,pe,ae,17,u[14]),pe=h(pe,ve,_e,ee,ie,22,u[15]),ee=f(ee,pe,ve,_e,R,5,u[16]),_e=f(_e,ee,pe,ve,$,9,u[17]),ve=f(ve,_e,ee,pe,oe,14,u[18]),pe=f(pe,ve,_e,ee,A,20,u[19]),ee=f(ee,pe,ve,_e,w,5,u[20]),_e=f(_e,ee,pe,ve,te,9,u[21]),ve=f(ve,_e,ee,pe,ie,14,u[22]),pe=f(pe,ve,_e,ee,F,20,u[23]),ee=f(ee,pe,ve,_e,Q,5,u[24]),_e=f(_e,ee,pe,ve,ae,9,u[25]),ve=f(ve,_e,ee,pe,U,14,u[26]),pe=f(pe,ve,_e,ee,W,20,u[27]),ee=f(ee,pe,ve,_e,le,5,u[28]),_e=f(_e,ee,pe,ve,N,9,u[29]),ve=f(ve,_e,ee,pe,H,14,u[30]),pe=f(pe,ve,_e,ee,de,20,u[31]),ee=g(ee,pe,ve,_e,w,4,u[32]),_e=g(_e,ee,pe,ve,W,11,u[33]),ve=g(ve,_e,ee,pe,oe,16,u[34]),pe=g(pe,ve,_e,ee,ae,23,u[35]),ee=g(ee,pe,ve,_e,R,4,u[36]),_e=g(_e,ee,pe,ve,F,11,u[37]),ve=g(ve,_e,ee,pe,H,16,u[38]),pe=g(pe,ve,_e,ee,te,23,u[39]),ee=g(ee,pe,ve,_e,le,4,u[40]),_e=g(_e,ee,pe,ve,A,11,u[41]),ve=g(ve,_e,ee,pe,U,16,u[42]),pe=g(pe,ve,_e,ee,$,23,u[43]),ee=g(ee,pe,ve,_e,Q,4,u[44]),_e=g(_e,ee,pe,ve,de,11,u[45]),ve=g(ve,_e,ee,pe,ie,16,u[46]),pe=g(pe,ve,_e,ee,N,23,u[47]),ee=v(ee,pe,ve,_e,A,6,u[48]),_e=v(_e,ee,pe,ve,H,10,u[49]),ve=v(ve,_e,ee,pe,ae,15,u[50]),pe=v(pe,ve,_e,ee,w,21,u[51]),ee=v(ee,pe,ve,_e,de,6,u[52]),_e=v(_e,ee,pe,ve,U,10,u[53]),ve=v(ve,_e,ee,pe,te,15,u[54]),pe=v(pe,ve,_e,ee,R,21,u[55]),ee=v(ee,pe,ve,_e,W,6,u[56]),_e=v(_e,ee,pe,ve,ie,10,u[57]),ve=v(ve,_e,ee,pe,$,15,u[58]),pe=v(pe,ve,_e,ee,le,21,u[59]),ee=v(ee,pe,ve,_e,F,6,u[60]),_e=v(_e,ee,pe,ve,oe,10,u[61]),ve=v(ve,_e,ee,pe,N,15,u[62]),pe=v(pe,ve,_e,ee,Q,21,u[63]),I[0]=I[0]+ee|0,I[1]=I[1]+pe|0,I[2]=I[2]+ve|0,I[3]=I[3]+_e|0},_doFinalize:function(){var y=this._data,_=y.words,C=this._nDataBytes*8,k=y.sigBytes*8;_[k>>>5]|=128<<24-k%32;var D=n.floor(C/4294967296),I=C;_[(k+64>>>9<<4)+15]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,_[(k+64>>>9<<4)+14]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360,y.sigBytes=(_.length+1)*4,this._process();for(var A=this._hash,R=A.words,N=0;N<4;N++){var U=R[N];R[N]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360}return A},clone:function(){var y=o.clone.call(this);return y._hash=this._hash.clone(),y}});function h(y,_,C,k,D,I,A){var R=y+(_&C|~_&k)+D+A;return(R<<I|R>>>32-I)+_}function f(y,_,C,k,D,I,A){var R=y+(_&k|C&~k)+D+A;return(R<<I|R>>>32-I)+_}function g(y,_,C,k,D,I,A){var R=y+(_^C^k)+D+A;return(R<<I|R>>>32-I)+_}function v(y,_,C,k,D,I,A){var R=y+(C^(_|~k))+D+A;return(R<<I|R>>>32-I)+_}i.MD5=o._createHelper(c),i.HmacMD5=o._createHmacHelper(c)})(Math),t.MD5})})(Cx)),Cx.exports}var wx={exports:{}},eq=wx.exports,mR;function i8(){return mR||(mR=1,(function(r,e){(function(t,n){r.exports=n(on())})(eq,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,a=i.Hasher,o=n.algo,l=[],u=o.SHA1=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,h){for(var f=this._hash.words,g=f[0],v=f[1],y=f[2],_=f[3],C=f[4],k=0;k<80;k++){if(k<16)l[k]=c[h+k]|0;else{var D=l[k-3]^l[k-8]^l[k-14]^l[k-16];l[k]=D<<1|D>>>31}var I=(g<<5|g>>>27)+C+l[k];k<20?I+=(v&y|~v&_)+1518500249:k<40?I+=(v^y^_)+1859775393:k<60?I+=(v&y|v&_|y&_)-1894007588:I+=(v^y^_)-899497514,C=_,_=y,y=v<<30|v>>>2,v=g,g=I}f[0]=f[0]+g|0,f[1]=f[1]+v|0,f[2]=f[2]+y|0,f[3]=f[3]+_|0,f[4]=f[4]+C|0},_doFinalize:function(){var c=this._data,h=c.words,f=this._nDataBytes*8,g=c.sigBytes*8;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(g+64>>>9<<4)+15]=f,c.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var c=a.clone.call(this);return c._hash=this._hash.clone(),c}});n.SHA1=a._createHelper(u),n.HmacSHA1=a._createHmacHelper(u)})(),t.SHA1})})(wx)),wx.exports}var Ex={exports:{}},tq=Ex.exports,gR;function UE(){return gR||(gR=1,(function(r,e){(function(t,n){r.exports=n(on())})(tq,function(t){return(function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.algo,u=[],c=[];(function(){function g(C){for(var k=n.sqrt(C),D=2;D<=k;D++)if(!(C%D))return!1;return!0}function v(C){return(C-(C|0))*4294967296|0}for(var y=2,_=0;_<64;)g(y)&&(_<8&&(u[_]=v(n.pow(y,1/2))),c[_]=v(n.pow(y,1/3)),_++),y++})();var h=[],f=l.SHA256=o.extend({_doReset:function(){this._hash=new a.init(u.slice(0))},_doProcessBlock:function(g,v){for(var y=this._hash.words,_=y[0],C=y[1],k=y[2],D=y[3],I=y[4],A=y[5],R=y[6],N=y[7],U=0;U<64;U++){if(U<16)h[U]=g[v+U]|0;else{var F=h[U-15],w=(F<<25|F>>>7)^(F<<14|F>>>18)^F>>>3,$=h[U-2],H=($<<15|$>>>17)^($<<13|$>>>19)^$>>>10;h[U]=w+h[U-7]+H+h[U-16]}var W=I&A^~I&R,Q=_&C^_&k^C&k,te=(_<<30|_>>>2)^(_<<19|_>>>13)^(_<<10|_>>>22),oe=(I<<26|I>>>6)^(I<<21|I>>>11)^(I<<7|I>>>25),de=N+oe+W+c[U]+h[U],le=te+Q;N=R,R=A,A=I,I=D+de|0,D=k,k=C,C=_,_=de+le|0}y[0]=y[0]+_|0,y[1]=y[1]+C|0,y[2]=y[2]+k|0,y[3]=y[3]+D|0,y[4]=y[4]+I|0,y[5]=y[5]+A|0,y[6]=y[6]+R|0,y[7]=y[7]+N|0},_doFinalize:function(){var g=this._data,v=g.words,y=this._nDataBytes*8,_=g.sigBytes*8;return v[_>>>5]|=128<<24-_%32,v[(_+64>>>9<<4)+14]=n.floor(y/4294967296),v[(_+64>>>9<<4)+15]=y,g.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var g=o.clone.call(this);return g._hash=this._hash.clone(),g}});i.SHA256=o._createHelper(f),i.HmacSHA256=o._createHmacHelper(f)})(Math),t.SHA256})})(Ex)),Ex.exports}var kx={exports:{}},rq=kx.exports,vR;function nq(){return vR||(vR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),UE())})(rq,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,a=n.algo,o=a.SHA256,l=a.SHA224=o.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var u=o._doFinalize.call(this);return u.sigBytes-=4,u}});n.SHA224=o._createHelper(l),n.HmacSHA224=o._createHmacHelper(l)})(),t.SHA224})})(kx)),kx.exports}var Ax={exports:{}},iq=Ax.exports,yR;function s8(){return yR||(yR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),eS())})(iq,function(t){return(function(){var n=t,i=n.lib,s=i.Hasher,a=n.x64,o=a.Word,l=a.WordArray,u=n.algo;function c(){return o.create.apply(o,arguments)}var h=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],f=[];(function(){for(var v=0;v<80;v++)f[v]=c()})();var g=u.SHA512=s.extend({_doReset:function(){this._hash=new l.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(v,y){for(var _=this._hash.words,C=_[0],k=_[1],D=_[2],I=_[3],A=_[4],R=_[5],N=_[6],U=_[7],F=C.high,w=C.low,$=k.high,H=k.low,W=D.high,Q=D.low,te=I.high,oe=I.low,de=A.high,le=A.low,ae=R.high,ie=R.low,ee=N.high,pe=N.low,ve=U.high,_e=U.low,Le=F,Re=w,ot=$,ze=H,mt=W,Je=Q,Pt=te,Rt=oe,Ve=de,Ne=le,et=ae,at=ie,Me=ee,$e=pe,qe=ve,Ye=_e,vt=0;vt<80;vt++){var ut,gr,hr=f[vt];if(vt<16)gr=hr.high=v[y+vt*2]|0,ut=hr.low=v[y+vt*2+1]|0;else{var Rr=f[vt-15],nr=Rr.high,qt=Rr.low,fr=(nr>>>1|qt<<31)^(nr>>>8|qt<<24)^nr>>>7,xr=(qt>>>1|nr<<31)^(qt>>>8|nr<<24)^(qt>>>7|nr<<25),Lr=f[vt-2],xt=Lr.high,Ut=Lr.low,rn=(xt>>>19|Ut<<13)^(xt<<3|Ut>>>29)^xt>>>6,jt=(Ut>>>19|xt<<13)^(Ut<<3|xt>>>29)^(Ut>>>6|xt<<26),Tr=f[vt-7],Or=Tr.high,Hr=Tr.low,ln=f[vt-16],Cn=ln.high,wn=ln.low;ut=xr+Hr,gr=fr+Or+(ut>>>0<xr>>>0?1:0),ut=ut+jt,gr=gr+rn+(ut>>>0<jt>>>0?1:0),ut=ut+wn,gr=gr+Cn+(ut>>>0<wn>>>0?1:0),hr.high=gr,hr.low=ut}var Fr=Ve&et^~Ve&Me,se=Ne&at^~Ne&$e,fe=Le&ot^Le&mt^ot&mt,Te=Re&ze^Re&Je^ze&Je,je=(Le>>>28|Re<<4)^(Le<<30|Re>>>2)^(Le<<25|Re>>>7),gt=(Re>>>28|Le<<4)^(Re<<30|Le>>>2)^(Re<<25|Le>>>7),Tt=(Ve>>>14|Ne<<18)^(Ve>>>18|Ne<<14)^(Ve<<23|Ne>>>9),be=(Ne>>>14|Ve<<18)^(Ne>>>18|Ve<<14)^(Ne<<23|Ve>>>9),ye=h[vt],Ae=ye.high,Xe=ye.low,Qe=Ye+be,St=qe+Tt+(Qe>>>0<Ye>>>0?1:0),Qe=Qe+se,St=St+Fr+(Qe>>>0<se>>>0?1:0),Qe=Qe+Xe,St=St+Ae+(Qe>>>0<Xe>>>0?1:0),Qe=Qe+ut,St=St+gr+(Qe>>>0<ut>>>0?1:0),Lt=gt+Te,dt=je+fe+(Lt>>>0<gt>>>0?1:0);qe=Me,Ye=$e,Me=et,$e=at,et=Ve,at=Ne,Ne=Rt+Qe|0,Ve=Pt+St+(Ne>>>0<Rt>>>0?1:0)|0,Pt=mt,Rt=Je,mt=ot,Je=ze,ot=Le,ze=Re,Re=Qe+Lt|0,Le=St+dt+(Re>>>0<Qe>>>0?1:0)|0}w=C.low=w+Re,C.high=F+Le+(w>>>0<Re>>>0?1:0),H=k.low=H+ze,k.high=$+ot+(H>>>0<ze>>>0?1:0),Q=D.low=Q+Je,D.high=W+mt+(Q>>>0<Je>>>0?1:0),oe=I.low=oe+Rt,I.high=te+Pt+(oe>>>0<Rt>>>0?1:0),le=A.low=le+Ne,A.high=de+Ve+(le>>>0<Ne>>>0?1:0),ie=R.low=ie+at,R.high=ae+et+(ie>>>0<at>>>0?1:0),pe=N.low=pe+$e,N.high=ee+Me+(pe>>>0<$e>>>0?1:0),_e=U.low=_e+Ye,U.high=ve+qe+(_e>>>0<Ye>>>0?1:0)},_doFinalize:function(){var v=this._data,y=v.words,_=this._nDataBytes*8,C=v.sigBytes*8;y[C>>>5]|=128<<24-C%32,y[(C+128>>>10<<5)+30]=Math.floor(_/4294967296),y[(C+128>>>10<<5)+31]=_,v.sigBytes=y.length*4,this._process();var k=this._hash.toX32();return k},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});n.SHA512=s._createHelper(g),n.HmacSHA512=s._createHmacHelper(g)})(),t.SHA512})})(Ax)),Ax.exports}var Dx={exports:{}},sq=Dx.exports,xR;function aq(){return xR||(xR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),eS(),s8())})(sq,function(t){return(function(){var n=t,i=n.x64,s=i.Word,a=i.WordArray,o=n.algo,l=o.SHA512,u=o.SHA384=l.extend({_doReset:function(){this._hash=new a.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});n.SHA384=l._createHelper(u),n.HmacSHA384=l._createHmacHelper(u)})(),t.SHA384})})(Dx)),Dx.exports}var Ix={exports:{}},oq=Ix.exports,_R;function lq(){return _R||(_R=1,(function(r,e){(function(t,n,i){r.exports=n(on(),eS())})(oq,function(t){return(function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.x64,u=l.Word,c=i.algo,h=[],f=[],g=[];(function(){for(var _=1,C=0,k=0;k<24;k++){h[_+5*C]=(k+1)*(k+2)/2%64;var D=C%5,I=(2*_+3*C)%5;_=D,C=I}for(var _=0;_<5;_++)for(var C=0;C<5;C++)f[_+5*C]=C+(2*_+3*C)%5*5;for(var A=1,R=0;R<24;R++){for(var N=0,U=0,F=0;F<7;F++){if(A&1){var w=(1<<F)-1;w<32?U^=1<<w:N^=1<<w-32}A&128?A=A<<1^113:A<<=1}g[R]=u.create(N,U)}})();var v=[];(function(){for(var _=0;_<25;_++)v[_]=u.create()})();var y=c.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var _=this._state=[],C=0;C<25;C++)_[C]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(_,C){for(var k=this._state,D=this.blockSize/2,I=0;I<D;I++){var A=_[C+2*I],R=_[C+2*I+1];A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360;var N=k[I];N.high^=R,N.low^=A}for(var U=0;U<24;U++){for(var F=0;F<5;F++){for(var w=0,$=0,H=0;H<5;H++){var N=k[F+5*H];w^=N.high,$^=N.low}var W=v[F];W.high=w,W.low=$}for(var F=0;F<5;F++)for(var Q=v[(F+4)%5],te=v[(F+1)%5],oe=te.high,de=te.low,w=Q.high^(oe<<1|de>>>31),$=Q.low^(de<<1|oe>>>31),H=0;H<5;H++){var N=k[F+5*H];N.high^=w,N.low^=$}for(var le=1;le<25;le++){var w,$,N=k[le],ae=N.high,ie=N.low,ee=h[le];ee<32?(w=ae<<ee|ie>>>32-ee,$=ie<<ee|ae>>>32-ee):(w=ie<<ee-32|ae>>>64-ee,$=ae<<ee-32|ie>>>64-ee);var pe=v[f[le]];pe.high=w,pe.low=$}var ve=v[0],_e=k[0];ve.high=_e.high,ve.low=_e.low;for(var F=0;F<5;F++)for(var H=0;H<5;H++){var le=F+5*H,N=k[le],Le=v[le],Re=v[(F+1)%5+5*H],ot=v[(F+2)%5+5*H];N.high=Le.high^~Re.high&ot.high,N.low=Le.low^~Re.low&ot.low}var N=k[0],ze=g[U];N.high^=ze.high,N.low^=ze.low}},_doFinalize:function(){var _=this._data,C=_.words;this._nDataBytes*8;var k=_.sigBytes*8,D=this.blockSize*32;C[k>>>5]|=1<<24-k%32,C[(n.ceil((k+1)/D)*D>>>5)-1]|=128,_.sigBytes=C.length*4,this._process();for(var I=this._state,A=this.cfg.outputLength/8,R=A/8,N=[],U=0;U<R;U++){var F=I[U],w=F.high,$=F.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,N.push($),N.push(w)}return new a.init(N,A)},clone:function(){for(var _=o.clone.call(this),C=_._state=this._state.slice(0),k=0;k<25;k++)C[k]=C[k].clone();return _}});i.SHA3=o._createHelper(y),i.HmacSHA3=o._createHmacHelper(y)})(Math),t.SHA3})})(Ix)),Ix.exports}var Px={exports:{}},uq=Px.exports,bR;function cq(){return bR||(bR=1,(function(r,e){(function(t,n){r.exports=n(on())})(uq,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return(function(n){var i=t,s=i.lib,a=s.WordArray,o=s.Hasher,l=i.algo,u=a.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=a.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=a.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=a.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),g=a.create([0,1518500249,1859775393,2400959708,2840853838]),v=a.create([1352829926,1548603684,1836072691,2053994217,0]),y=l.RIPEMD160=o.extend({_doReset:function(){this._hash=a.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(R,N){for(var U=0;U<16;U++){var F=N+U,w=R[F];R[F]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var $=this._hash.words,H=g.words,W=v.words,Q=u.words,te=c.words,oe=h.words,de=f.words,le,ae,ie,ee,pe,ve,_e,Le,Re,ot;ve=le=$[0],_e=ae=$[1],Le=ie=$[2],Re=ee=$[3],ot=pe=$[4];for(var ze,U=0;U<80;U+=1)ze=le+R[N+Q[U]]|0,U<16?ze+=_(ae,ie,ee)+H[0]:U<32?ze+=C(ae,ie,ee)+H[1]:U<48?ze+=k(ae,ie,ee)+H[2]:U<64?ze+=D(ae,ie,ee)+H[3]:ze+=I(ae,ie,ee)+H[4],ze=ze|0,ze=A(ze,oe[U]),ze=ze+pe|0,le=pe,pe=ee,ee=A(ie,10),ie=ae,ae=ze,ze=ve+R[N+te[U]]|0,U<16?ze+=I(_e,Le,Re)+W[0]:U<32?ze+=D(_e,Le,Re)+W[1]:U<48?ze+=k(_e,Le,Re)+W[2]:U<64?ze+=C(_e,Le,Re)+W[3]:ze+=_(_e,Le,Re)+W[4],ze=ze|0,ze=A(ze,de[U]),ze=ze+ot|0,ve=ot,ot=Re,Re=A(Le,10),Le=_e,_e=ze;ze=$[1]+ie+Re|0,$[1]=$[2]+ee+ot|0,$[2]=$[3]+pe+ve|0,$[3]=$[4]+le+_e|0,$[4]=$[0]+ae+Le|0,$[0]=ze},_doFinalize:function(){var R=this._data,N=R.words,U=this._nDataBytes*8,F=R.sigBytes*8;N[F>>>5]|=128<<24-F%32,N[(F+64>>>9<<4)+14]=(U<<8|U>>>24)&16711935|(U<<24|U>>>8)&4278255360,R.sigBytes=(N.length+1)*4,this._process();for(var w=this._hash,$=w.words,H=0;H<5;H++){var W=$[H];$[H]=(W<<8|W>>>24)&16711935|(W<<24|W>>>8)&4278255360}return w},clone:function(){var R=o.clone.call(this);return R._hash=this._hash.clone(),R}});function _(R,N,U){return R^N^U}function C(R,N,U){return R&N|~R&U}function k(R,N,U){return(R|~N)^U}function D(R,N,U){return R&U|N&~U}function I(R,N,U){return R^(N|~U)}function A(R,N){return R<<N|R>>>32-N}i.RIPEMD160=o._createHelper(y),i.HmacRIPEMD160=o._createHmacHelper(y)})(),t.RIPEMD160})})(Px)),Px.exports}var Rx={exports:{}},dq=Rx.exports,SR;function $E(){return SR||(SR=1,(function(r,e){(function(t,n){r.exports=n(on())})(dq,function(t){(function(){var n=t,i=n.lib,s=i.Base,a=n.enc,o=a.Utf8,l=n.algo;l.HMAC=s.extend({init:function(u,c){u=this._hasher=new u.init,typeof c=="string"&&(c=o.parse(c));var h=u.blockSize,f=h*4;c.sigBytes>f&&(c=u.finalize(c)),c.clamp();for(var g=this._oKey=c.clone(),v=this._iKey=c.clone(),y=g.words,_=v.words,C=0;C<h;C++)y[C]^=1549556828,_[C]^=909522486;g.sigBytes=v.sigBytes=f,this.reset()},reset:function(){var u=this._hasher;u.reset(),u.update(this._iKey)},update:function(u){return this._hasher.update(u),this},finalize:function(u){var c=this._hasher,h=c.finalize(u);c.reset();var f=c.finalize(this._oKey.clone().concat(h));return f}})})()})})(Rx)),Rx.exports}var Lx={exports:{}},hq=Lx.exports,TR;function fq(){return TR||(TR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),UE(),$E())})(hq,function(t){return(function(){var n=t,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,l=o.SHA256,u=o.HMAC,c=o.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var g=this.cfg,v=u.create(g.hasher,h),y=a.create(),_=a.create([1]),C=y.words,k=_.words,D=g.keySize,I=g.iterations;C.length<D;){var A=v.update(f).finalize(_);v.reset();for(var R=A.words,N=R.length,U=A,F=1;F<I;F++){U=v.finalize(U),v.reset();for(var w=U.words,$=0;$<N;$++)R[$]^=w[$]}y.concat(A),k[0]++}return y.sigBytes=D*4,y}});n.PBKDF2=function(h,f,g){return c.create(g).compute(h,f)}})(),t.PBKDF2})})(Lx)),Lx.exports}var Ox={exports:{}},pq=Ox.exports,CR;function Zd(){return CR||(CR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),i8(),$E())})(pq,function(t){return(function(){var n=t,i=n.lib,s=i.Base,a=i.WordArray,o=n.algo,l=o.MD5,u=o.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,h){for(var f,g=this.cfg,v=g.hasher.create(),y=a.create(),_=y.words,C=g.keySize,k=g.iterations;_.length<C;){f&&v.update(f),f=v.update(c).finalize(h),v.reset();for(var D=1;D<k;D++)f=v.finalize(f),v.reset();y.concat(f)}return y.sigBytes=C*4,y}});n.EvpKDF=function(c,h,f){return u.create(f).compute(c,h)}})(),t.EvpKDF})})(Ox)),Ox.exports}var Mx={exports:{}},mq=Mx.exports,wR;function as(){return wR||(wR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),Zd())})(mq,function(t){t.lib.Cipher||(function(n){var i=t,s=i.lib,a=s.Base,o=s.WordArray,l=s.BufferedBlockAlgorithm,u=i.enc;u.Utf8;var c=u.Base64,h=i.algo,f=h.EvpKDF,g=s.Cipher=l.extend({cfg:a.extend(),createEncryptor:function(w,$){return this.create(this._ENC_XFORM_MODE,w,$)},createDecryptor:function(w,$){return this.create(this._DEC_XFORM_MODE,w,$)},init:function(w,$,H){this.cfg=this.cfg.extend(H),this._xformMode=w,this._key=$,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(w){return this._append(w),this._process()},finalize:function(w){w&&this._append(w);var $=this._doFinalize();return $},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function w($){return typeof $=="string"?F:R}return function($){return{encrypt:function(H,W,Q){return w(W).encrypt($,H,W,Q)},decrypt:function(H,W,Q){return w(W).decrypt($,H,W,Q)}}}})()});s.StreamCipher=g.extend({_doFinalize:function(){var w=this._process(!0);return w},blockSize:1});var v=i.mode={},y=s.BlockCipherMode=a.extend({createEncryptor:function(w,$){return this.Encryptor.create(w,$)},createDecryptor:function(w,$){return this.Decryptor.create(w,$)},init:function(w,$){this._cipher=w,this._iv=$}}),_=v.CBC=(function(){var w=y.extend();w.Encryptor=w.extend({processBlock:function(H,W){var Q=this._cipher,te=Q.blockSize;$.call(this,H,W,te),Q.encryptBlock(H,W),this._prevBlock=H.slice(W,W+te)}}),w.Decryptor=w.extend({processBlock:function(H,W){var Q=this._cipher,te=Q.blockSize,oe=H.slice(W,W+te);Q.decryptBlock(H,W),$.call(this,H,W,te),this._prevBlock=oe}});function $(H,W,Q){var te,oe=this._iv;oe?(te=oe,this._iv=n):te=this._prevBlock;for(var de=0;de<Q;de++)H[W+de]^=te[de]}return w})(),C=i.pad={},k=C.Pkcs7={pad:function(w,$){for(var H=$*4,W=H-w.sigBytes%H,Q=W<<24|W<<16|W<<8|W,te=[],oe=0;oe<W;oe+=4)te.push(Q);var de=o.create(te,W);w.concat(de)},unpad:function(w){var $=w.words[w.sigBytes-1>>>2]&255;w.sigBytes-=$}};s.BlockCipher=g.extend({cfg:g.cfg.extend({mode:_,padding:k}),reset:function(){var w;g.reset.call(this);var $=this.cfg,H=$.iv,W=$.mode;this._xformMode==this._ENC_XFORM_MODE?w=W.createEncryptor:(w=W.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==w?this._mode.init(this,H&&H.words):(this._mode=w.call(W,this,H&&H.words),this._mode.__creator=w)},_doProcessBlock:function(w,$){this._mode.processBlock(w,$)},_doFinalize:function(){var w,$=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?($.pad(this._data,this.blockSize),w=this._process(!0)):(w=this._process(!0),$.unpad(w)),w},blockSize:128/32});var D=s.CipherParams=a.extend({init:function(w){this.mixIn(w)},toString:function(w){return(w||this.formatter).stringify(this)}}),I=i.format={},A=I.OpenSSL={stringify:function(w){var $,H=w.ciphertext,W=w.salt;return W?$=o.create([1398893684,1701076831]).concat(W).concat(H):$=H,$.toString(c)},parse:function(w){var $,H=c.parse(w),W=H.words;return W[0]==1398893684&&W[1]==1701076831&&($=o.create(W.slice(2,4)),W.splice(0,4),H.sigBytes-=16),D.create({ciphertext:H,salt:$})}},R=s.SerializableCipher=a.extend({cfg:a.extend({format:A}),encrypt:function(w,$,H,W){W=this.cfg.extend(W);var Q=w.createEncryptor(H,W),te=Q.finalize($),oe=Q.cfg;return D.create({ciphertext:te,key:H,iv:oe.iv,algorithm:w,mode:oe.mode,padding:oe.padding,blockSize:w.blockSize,formatter:W.format})},decrypt:function(w,$,H,W){W=this.cfg.extend(W),$=this._parse($,W.format);var Q=w.createDecryptor(H,W).finalize($.ciphertext);return Q},_parse:function(w,$){return typeof w=="string"?$.parse(w,this):w}}),N=i.kdf={},U=N.OpenSSL={execute:function(w,$,H,W,Q){if(W||(W=o.random(64/8)),Q)var te=f.create({keySize:$+H,hasher:Q}).compute(w,W);else var te=f.create({keySize:$+H}).compute(w,W);var oe=o.create(te.words.slice($),H*4);return te.sigBytes=$*4,D.create({key:te,iv:oe,salt:W})}},F=s.PasswordBasedCipher=R.extend({cfg:R.cfg.extend({kdf:U}),encrypt:function(w,$,H,W){W=this.cfg.extend(W);var Q=W.kdf.execute(H,w.keySize,w.ivSize,W.salt,W.hasher);W.iv=Q.iv;var te=R.encrypt.call(this,w,$,Q.key,W);return te.mixIn(Q),te},decrypt:function(w,$,H,W){W=this.cfg.extend(W),$=this._parse($,W.format);var Q=W.kdf.execute(H,w.keySize,w.ivSize,$.salt,W.hasher);W.iv=Q.iv;var te=R.decrypt.call(this,w,$,Q.key,W);return te}})})()})})(Mx)),Mx.exports}var Fx={exports:{}},gq=Fx.exports,ER;function vq(){return ER||(ER=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(gq,function(t){return t.mode.CFB=(function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize;i.call(this,s,a,l,o),this._prevBlock=s.slice(a,a+l)}}),n.Decryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize,u=s.slice(a,a+l);i.call(this,s,a,l,o),this._prevBlock=u}});function i(s,a,o,l){var u,c=this._iv;c?(u=c.slice(0),this._iv=void 0):u=this._prevBlock,l.encryptBlock(u,0);for(var h=0;h<o;h++)s[a+h]^=u[h]}return n})(),t.mode.CFB})})(Fx)),Fx.exports}var Bx={exports:{}},yq=Bx.exports,kR;function xq(){return kR||(kR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(yq,function(t){return t.mode.CTR=(function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize,u=this._iv,c=this._counter;u&&(c=this._counter=u.slice(0),this._iv=void 0);var h=c.slice(0);o.encryptBlock(h,0),c[l-1]=c[l-1]+1|0;for(var f=0;f<l;f++)s[a+f]^=h[f]}});return n.Decryptor=i,n})(),t.mode.CTR})})(Bx)),Bx.exports}var Nx={exports:{}},_q=Nx.exports,AR;function bq(){return AR||(AR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(_q,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=(function(){var n=t.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var l=o>>16&255,u=o>>8&255,c=o&255;l===255?(l=0,u===255?(u=0,c===255?c=0:++c):++u):++l,o=0,o+=l<<16,o+=u<<8,o+=c}else o+=1<<24;return o}function s(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var a=n.Encryptor=n.extend({processBlock:function(o,l){var u=this._cipher,c=u.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),s(f);var g=f.slice(0);u.encryptBlock(g,0);for(var v=0;v<c;v++)o[l+v]^=g[v]}});return n.Decryptor=a,n})(),t.mode.CTRGladman})})(Nx)),Nx.exports}var Ux={exports:{}},Sq=Ux.exports,DR;function Tq(){return DR||(DR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Sq,function(t){return t.mode.OFB=(function(){var n=t.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,a){var o=this._cipher,l=o.blockSize,u=this._iv,c=this._keystream;u&&(c=this._keystream=u.slice(0),this._iv=void 0),o.encryptBlock(c,0);for(var h=0;h<l;h++)s[a+h]^=c[h]}});return n.Decryptor=i,n})(),t.mode.OFB})})(Ux)),Ux.exports}var $x={exports:{}},Cq=$x.exports,IR;function wq(){return IR||(IR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Cq,function(t){return t.mode.ECB=(function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n})(),t.mode.ECB})})($x)),$x.exports}var jx={exports:{}},Eq=jx.exports,PR;function kq(){return PR||(PR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Eq,function(t){return t.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,a=i*4,o=a-s%a,l=s+o-1;n.clamp(),n.words[l>>>2]|=o<<24-l%4*8,n.sigBytes+=o},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Ansix923})})(jx)),jx.exports}var zx={exports:{}},Aq=zx.exports,RR;function Dq(){return RR||(RR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Aq,function(t){return t.pad.Iso10126={pad:function(n,i){var s=i*4,a=s-n.sigBytes%s;n.concat(t.lib.WordArray.random(a-1)).concat(t.lib.WordArray.create([a<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},t.pad.Iso10126})})(zx)),zx.exports}var Hx={exports:{}},Iq=Hx.exports,LR;function Pq(){return LR||(LR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Iq,function(t){return t.pad.Iso97971={pad:function(n,i){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,i)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})})(Hx)),Hx.exports}var Vx={exports:{}},Rq=Vx.exports,OR;function Lq(){return OR||(OR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Rq,function(t){return t.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},t.pad.ZeroPadding})})(Vx)),Vx.exports}var Wx={exports:{}},Oq=Wx.exports,MR;function Mq(){return MR||(MR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Oq,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})})(Wx)),Wx.exports}var qx={exports:{}},Fq=qx.exports,FR;function Bq(){return FR||(FR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),as())})(Fq,function(t){return(function(n){var i=t,s=i.lib,a=s.CipherParams,o=i.enc,l=o.Hex,u=i.format;u.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var h=l.parse(c);return a.create({ciphertext:h})}}})(),t.format.Hex})})(qx)),qx.exports}var Gx={exports:{}},Nq=Gx.exports,BR;function Uq(){return BR||(BR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),Tf(),Cf(),Zd(),as())})(Nq,function(t){return(function(){var n=t,i=n.lib,s=i.BlockCipher,a=n.algo,o=[],l=[],u=[],c=[],h=[],f=[],g=[],v=[],y=[],_=[];(function(){for(var D=[],I=0;I<256;I++)I<128?D[I]=I<<1:D[I]=I<<1^283;for(var A=0,R=0,I=0;I<256;I++){var N=R^R<<1^R<<2^R<<3^R<<4;N=N>>>8^N&255^99,o[A]=N,l[N]=A;var U=D[A],F=D[U],w=D[F],$=D[N]*257^N*16843008;u[A]=$<<24|$>>>8,c[A]=$<<16|$>>>16,h[A]=$<<8|$>>>24,f[A]=$;var $=w*16843009^F*65537^U*257^A*16843008;g[N]=$<<24|$>>>8,v[N]=$<<16|$>>>16,y[N]=$<<8|$>>>24,_[N]=$,A?(A=U^D[D[D[w^U]]],R^=D[D[R]]):A=R=1}})();var C=[0,1,2,4,8,16,32,64,128,27,54],k=a.AES=s.extend({_doReset:function(){var D;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var I=this._keyPriorReset=this._key,A=I.words,R=I.sigBytes/4,N=this._nRounds=R+6,U=(N+1)*4,F=this._keySchedule=[],w=0;w<U;w++)w<R?F[w]=A[w]:(D=F[w-1],w%R?R>6&&w%R==4&&(D=o[D>>>24]<<24|o[D>>>16&255]<<16|o[D>>>8&255]<<8|o[D&255]):(D=D<<8|D>>>24,D=o[D>>>24]<<24|o[D>>>16&255]<<16|o[D>>>8&255]<<8|o[D&255],D^=C[w/R|0]<<24),F[w]=F[w-R]^D);for(var $=this._invKeySchedule=[],H=0;H<U;H++){var w=U-H;if(H%4)var D=F[w];else var D=F[w-4];H<4||w<=4?$[H]=D:$[H]=g[o[D>>>24]]^v[o[D>>>16&255]]^y[o[D>>>8&255]]^_[o[D&255]]}}},encryptBlock:function(D,I){this._doCryptBlock(D,I,this._keySchedule,u,c,h,f,o)},decryptBlock:function(D,I){var A=D[I+1];D[I+1]=D[I+3],D[I+3]=A,this._doCryptBlock(D,I,this._invKeySchedule,g,v,y,_,l);var A=D[I+1];D[I+1]=D[I+3],D[I+3]=A},_doCryptBlock:function(D,I,A,R,N,U,F,w){for(var $=this._nRounds,H=D[I]^A[0],W=D[I+1]^A[1],Q=D[I+2]^A[2],te=D[I+3]^A[3],oe=4,de=1;de<$;de++){var le=R[H>>>24]^N[W>>>16&255]^U[Q>>>8&255]^F[te&255]^A[oe++],ae=R[W>>>24]^N[Q>>>16&255]^U[te>>>8&255]^F[H&255]^A[oe++],ie=R[Q>>>24]^N[te>>>16&255]^U[H>>>8&255]^F[W&255]^A[oe++],ee=R[te>>>24]^N[H>>>16&255]^U[W>>>8&255]^F[Q&255]^A[oe++];H=le,W=ae,Q=ie,te=ee}var le=(w[H>>>24]<<24|w[W>>>16&255]<<16|w[Q>>>8&255]<<8|w[te&255])^A[oe++],ae=(w[W>>>24]<<24|w[Q>>>16&255]<<16|w[te>>>8&255]<<8|w[H&255])^A[oe++],ie=(w[Q>>>24]<<24|w[te>>>16&255]<<16|w[H>>>8&255]<<8|w[W&255])^A[oe++],ee=(w[te>>>24]<<24|w[H>>>16&255]<<16|w[W>>>8&255]<<8|w[Q&255])^A[oe++];D[I]=le,D[I+1]=ae,D[I+2]=ie,D[I+3]=ee},keySize:256/32});n.AES=s._createHelper(k)})(),t.AES})})(Gx)),Gx.exports}var Kx={exports:{}},$q=Kx.exports,NR;function jq(){return NR||(NR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),Tf(),Cf(),Zd(),as())})($q,function(t){return(function(){var n=t,i=n.lib,s=i.WordArray,a=i.BlockCipher,o=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],u=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],g=o.DES=a.extend({_doReset:function(){for(var C=this._key,k=C.words,D=[],I=0;I<56;I++){var A=l[I]-1;D[I]=k[A>>>5]>>>31-A%32&1}for(var R=this._subKeys=[],N=0;N<16;N++){for(var U=R[N]=[],F=c[N],I=0;I<24;I++)U[I/6|0]|=D[(u[I]-1+F)%28]<<31-I%6,U[4+(I/6|0)]|=D[28+(u[I+24]-1+F)%28]<<31-I%6;U[0]=U[0]<<1|U[0]>>>31;for(var I=1;I<7;I++)U[I]=U[I]>>>(I-1)*4+3;U[7]=U[7]<<5|U[7]>>>27}for(var w=this._invSubKeys=[],I=0;I<16;I++)w[I]=R[15-I]},encryptBlock:function(C,k){this._doCryptBlock(C,k,this._subKeys)},decryptBlock:function(C,k){this._doCryptBlock(C,k,this._invSubKeys)},_doCryptBlock:function(C,k,D){this._lBlock=C[k],this._rBlock=C[k+1],v.call(this,4,252645135),v.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),v.call(this,1,1431655765);for(var I=0;I<16;I++){for(var A=D[I],R=this._lBlock,N=this._rBlock,U=0,F=0;F<8;F++)U|=h[F][((N^A[F])&f[F])>>>0];this._lBlock=N,this._rBlock=R^U}var w=this._lBlock;this._lBlock=this._rBlock,this._rBlock=w,v.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),C[k]=this._lBlock,C[k+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(C,k){var D=(this._lBlock>>>C^this._rBlock)&k;this._rBlock^=D,this._lBlock^=D<<C}function y(C,k){var D=(this._rBlock>>>C^this._lBlock)&k;this._lBlock^=D,this._rBlock^=D<<C}n.DES=a._createHelper(g);var _=o.TripleDES=a.extend({_doReset:function(){var C=this._key,k=C.words;if(k.length!==2&&k.length!==4&&k.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var D=k.slice(0,2),I=k.length<4?k.slice(0,2):k.slice(2,4),A=k.length<6?k.slice(0,2):k.slice(4,6);this._des1=g.createEncryptor(s.create(D)),this._des2=g.createEncryptor(s.create(I)),this._des3=g.createEncryptor(s.create(A))},encryptBlock:function(C,k){this._des1.encryptBlock(C,k),this._des2.decryptBlock(C,k),this._des3.encryptBlock(C,k)},decryptBlock:function(C,k){this._des3.decryptBlock(C,k),this._des2.encryptBlock(C,k),this._des1.decryptBlock(C,k)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=a._createHelper(_)})(),t.TripleDES})})(Kx)),Kx.exports}var Xx={exports:{}},zq=Xx.exports,UR;function Hq(){return UR||(UR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),Tf(),Cf(),Zd(),as())})(zq,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,a=n.algo,o=a.RC4=s.extend({_doReset:function(){for(var c=this._key,h=c.words,f=c.sigBytes,g=this._S=[],v=0;v<256;v++)g[v]=v;for(var v=0,y=0;v<256;v++){var _=v%f,C=h[_>>>2]>>>24-_%4*8&255;y=(y+g[v]+C)%256;var k=g[v];g[v]=g[y],g[y]=k}this._i=this._j=0},_doProcessBlock:function(c,h){c[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,h=this._i,f=this._j,g=0,v=0;v<4;v++){h=(h+1)%256,f=(f+c[h])%256;var y=c[h];c[h]=c[f],c[f]=y,g|=c[(c[h]+c[f])%256]<<24-v*8}return this._i=h,this._j=f,g}n.RC4=s._createHelper(o);var u=a.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});n.RC4Drop=s._createHelper(u)})(),t.RC4})})(Xx)),Xx.exports}var Yx={exports:{}},Vq=Yx.exports,$R;function Wq(){return $R||($R=1,(function(r,e){(function(t,n,i){r.exports=n(on(),Tf(),Cf(),Zd(),as())})(Vq,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],l=[],u=[],c=a.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,g=this.cfg.iv,v=0;v<4;v++)f[v]=(f[v]<<8|f[v]>>>24)&16711935|(f[v]<<24|f[v]>>>8)&4278255360;var y=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],_=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)h.call(this);for(var v=0;v<8;v++)_[v]^=y[v+4&7];if(g){var C=g.words,k=C[0],D=C[1],I=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,A=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,R=I>>>16|A&4294901760,N=A<<16|I&65535;_[0]^=I,_[1]^=R,_[2]^=A,_[3]^=N,_[4]^=I,_[5]^=R,_[6]^=A,_[7]^=N;for(var v=0;v<4;v++)h.call(this)}},_doProcessBlock:function(f,g){var v=this._X;h.call(this),o[0]=v[0]^v[5]>>>16^v[3]<<16,o[1]=v[2]^v[7]>>>16^v[5]<<16,o[2]=v[4]^v[1]>>>16^v[7]<<16,o[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,f[g+y]^=o[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,g=this._C,v=0;v<8;v++)l[v]=g[v];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var v=0;v<8;v++){var y=f[v]+g[v],_=y&65535,C=y>>>16,k=((_*_>>>17)+_*C>>>15)+C*C,D=((y&4294901760)*y|0)+((y&65535)*y|0);u[v]=k^D}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.Rabbit=s._createHelper(c)})(),t.Rabbit})})(Yx)),Yx.exports}var Qx={exports:{}},qq=Qx.exports,jR;function Gq(){return jR||(jR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),Tf(),Cf(),Zd(),as())})(qq,function(t){return(function(){var n=t,i=n.lib,s=i.StreamCipher,a=n.algo,o=[],l=[],u=[],c=a.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,g=this.cfg.iv,v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],y=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var _=0;_<4;_++)h.call(this);for(var _=0;_<8;_++)y[_]^=v[_+4&7];if(g){var C=g.words,k=C[0],D=C[1],I=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,A=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,R=I>>>16|A&4294901760,N=A<<16|I&65535;y[0]^=I,y[1]^=R,y[2]^=A,y[3]^=N,y[4]^=I,y[5]^=R,y[6]^=A,y[7]^=N;for(var _=0;_<4;_++)h.call(this)}},_doProcessBlock:function(f,g){var v=this._X;h.call(this),o[0]=v[0]^v[5]>>>16^v[3]<<16,o[1]=v[2]^v[7]>>>16^v[5]<<16,o[2]=v[4]^v[1]>>>16^v[7]<<16,o[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)o[y]=(o[y]<<8|o[y]>>>24)&16711935|(o[y]<<24|o[y]>>>8)&4278255360,f[g+y]^=o[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,g=this._C,v=0;v<8;v++)l[v]=g[v];g[0]=g[0]+1295307597+this._b|0,g[1]=g[1]+3545052371+(g[0]>>>0<l[0]>>>0?1:0)|0,g[2]=g[2]+886263092+(g[1]>>>0<l[1]>>>0?1:0)|0,g[3]=g[3]+1295307597+(g[2]>>>0<l[2]>>>0?1:0)|0,g[4]=g[4]+3545052371+(g[3]>>>0<l[3]>>>0?1:0)|0,g[5]=g[5]+886263092+(g[4]>>>0<l[4]>>>0?1:0)|0,g[6]=g[6]+1295307597+(g[5]>>>0<l[5]>>>0?1:0)|0,g[7]=g[7]+3545052371+(g[6]>>>0<l[6]>>>0?1:0)|0,this._b=g[7]>>>0<l[7]>>>0?1:0;for(var v=0;v<8;v++){var y=f[v]+g[v],_=y&65535,C=y>>>16,k=((_*_>>>17)+_*C>>>15)+C*C,D=((y&4294901760)*y|0)+((y&65535)*y|0);u[v]=k^D}f[0]=u[0]+(u[7]<<16|u[7]>>>16)+(u[6]<<16|u[6]>>>16)|0,f[1]=u[1]+(u[0]<<8|u[0]>>>24)+u[7]|0,f[2]=u[2]+(u[1]<<16|u[1]>>>16)+(u[0]<<16|u[0]>>>16)|0,f[3]=u[3]+(u[2]<<8|u[2]>>>24)+u[1]|0,f[4]=u[4]+(u[3]<<16|u[3]>>>16)+(u[2]<<16|u[2]>>>16)|0,f[5]=u[5]+(u[4]<<8|u[4]>>>24)+u[3]|0,f[6]=u[6]+(u[5]<<16|u[5]>>>16)+(u[4]<<16|u[4]>>>16)|0,f[7]=u[7]+(u[6]<<8|u[6]>>>24)+u[5]|0}n.RabbitLegacy=s._createHelper(c)})(),t.RabbitLegacy})})(Qx)),Qx.exports}var Jx={exports:{}},Kq=Jx.exports,zR;function Xq(){return zR||(zR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),Tf(),Cf(),Zd(),as())})(Kq,function(t){return(function(){var n=t,i=n.lib,s=i.BlockCipher,a=n.algo;const o=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],u=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function h(_,C){let k=C>>24&255,D=C>>16&255,I=C>>8&255,A=C&255,R=_.sbox[0][k]+_.sbox[1][D];return R=R^_.sbox[2][I],R=R+_.sbox[3][A],R}function f(_,C,k){let D=C,I=k,A;for(let R=0;R<o;++R)D=D^_.pbox[R],I=h(_,D)^I,A=D,D=I,I=A;return A=D,D=I,I=A,I=I^_.pbox[o],D=D^_.pbox[o+1],{left:D,right:I}}function g(_,C,k){let D=C,I=k,A;for(let R=o+1;R>1;--R)D=D^_.pbox[R],I=h(_,D)^I,A=D,D=I,I=A;return A=D,D=I,I=A,I=I^_.pbox[1],D=D^_.pbox[0],{left:D,right:I}}function v(_,C,k){for(let N=0;N<4;N++){_.sbox[N]=[];for(let U=0;U<256;U++)_.sbox[N][U]=u[N][U]}let D=0;for(let N=0;N<o+2;N++)_.pbox[N]=l[N]^C[D],D++,D>=k&&(D=0);let I=0,A=0,R=0;for(let N=0;N<o+2;N+=2)R=f(_,I,A),I=R.left,A=R.right,_.pbox[N]=I,_.pbox[N+1]=A;for(let N=0;N<4;N++)for(let U=0;U<256;U+=2)R=f(_,I,A),I=R.left,A=R.right,_.sbox[N][U]=I,_.sbox[N][U+1]=A;return!0}var y=a.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var _=this._keyPriorReset=this._key,C=_.words,k=_.sigBytes/4;v(c,C,k)}},encryptBlock:function(_,C){var k=f(c,_[C],_[C+1]);_[C]=k.left,_[C+1]=k.right},decryptBlock:function(_,C){var k=g(c,_[C],_[C+1]);_[C]=k.left,_[C+1]=k.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(y)})(),t.Blowfish})})(Jx)),Jx.exports}var Yq=vx.exports,HR;function Qq(){return HR||(HR=1,(function(r,e){(function(t,n,i){r.exports=n(on(),eS(),GW(),XW(),Tf(),JW(),Cf(),i8(),UE(),nq(),s8(),aq(),lq(),cq(),$E(),fq(),Zd(),as(),vq(),xq(),bq(),Tq(),wq(),kq(),Dq(),Pq(),Lq(),Mq(),Bq(),Uq(),jq(),Hq(),Wq(),Gq(),Xq())})(Yq,function(t){return t})})(vx)),vx.exports}var Jq=Qq();const Zq=ha(Jq),eG="https://github.com/zhimin-dev/iptv-checker",tG="4.4.0",jE={homepage_url:eG,version:tG},fa=M.createContext(),rG="https://static.zmis.me/public/iptv-checker/init.json",nG=function({children:r}){const[t,n]=M.useState(""),[i,s]=M.useState([]),[a,o]=M.useState(""),[l,u]=M.useState([]),[c,h]=M.useState(!1),[f,g]=M.useState(0),[v,y]=M.useState(""),[_,C]=M.useState(!0),[k,D]=M.useState([]),[I,A]=M.useState(!1),[R,N]=M.useState(0),[U,F]=M.useState({version:"",sponsor:[]}),[w,$]=M.useState(""),[H,W]=M.useState(null),[Q,te]=M.useState({groups:[""],videoRevolution:[]}),[oe,de]=M.useState(null),[le,ae]=M.useState([]),[ie,ee]=M.useState([]),pe=[{name:"mac",value:"application/x-mpegURL"},{name:"windows",value:"video/mp2t"}],ve=[{code:"zh",name:""},{code:"en",name:"English"}],[_e,Le]=M.useState({checkSleepTime:300,httpRequestTimeout:8e3,customLink:[],concurrent:1,language:"zh",privateHost:"",playerSource:"application/x-mpegURL"}),Re=(...ke)=>{console.log(...ke)},ot=ke=>{Ts.changeLanguage(ke)},ze=()=>{const ke=new Date,Ue=ke.getFullYear(),tt=ke.getMonth()+1,nt=ke.getDate(),bt=ke.getHours();return`${Ue}${tt}${nt}${bt}`},mt=()=>{Cr.get(rG+"?date="+ze()).then(ke=>{if(ke.status===200)try{F(ke.data)}catch(Ue){console.log(Ue)}})},Je=()=>{},Pt=()=>{let ke=U.version;f===1&&(ke=U.app_version),Rt(ke,jE.version)>0?A(!0):A(!1)},Rt=(ke,Ue)=>{const tt=ke.split(".").map(Number),nt=Ue.split(".").map(Number),bt=Math.max(tt.length,nt.length);for(let At=0;At<bt;At++){const Bt=tt[At]||0,Er=nt[At]||0;if(Bt>Er)return 1;if(Bt<Er)return-1}return 0},Ve=()=>{Ot("check_ffmpeg").then(ke=>{ke&&(N(1),console.log("FFmpeg is installed"))}).catch(ke=>{console.log("invoke error",ke)})},Ne=(ke,Ue)=>{document.getElementById("titlebar-minimize")?.addEventListener("click",()=>ke.minimize()),document.getElementById("titlebar-maximize")?.addEventListener("click",()=>{ke.isFullscreen().then(tt=>{console.log("isfull",tt),tt?ke.setSize(new ME(1024,800)).then(()=>{}):(ke.setTitleBarStyle("transparent"),ke.setFullscreen(!0),ke.center(),C(!1))})}),document.getElementById("titlebar-close")?.addEventListener("click",()=>ke.close())},et=()=>{const ke=A_();Ne(ke)},at=async(ke,Ue)=>{let nt=await BW()+"/iptv-checker-file-"+new Date().getTime()+"."+Ue,bt="";Ue==="txt"?bt=_t(ke):bt=dt(ke);const At=await UW({defaultPath:nt,filters:[{name:nt,extensions:[Ue]}]});console.log("filePath---",At),At&&await NW(At,bt)},Me=async(ke,Ue)=>{var tt=document.createElement("a");let nt="";Ue==="txt"?nt=_t(ke):nt=dt(ke);var bt=new Blob([nt]),At=window.URL.createObjectURL(bt);tt.href=At,tt.download="iptv-checker-"+new Date().getTime()+"."+Ue,tt.click()},$e=ke=>Zq.MD5(ke).toString();M.useEffect(()=>{Ve(),mt(),Br(),Ci(),Ot("now_mod",{}).then(Ue=>{g(Ue),et(),console.log("now mod",Ue);let tt=$W();tt!==""&&(console.log("now os type",tt),y(tt))}).catch(Ue=>{console.log("invoke---",Ue)});let ke=localStorage.getItem("settings")??"";if(ke!=="")try{let Ue=JSON.parse(ke);ot(Ue.language),Le(Ue)}catch(Ue){console.log(Ue)}},[]);const qe=ke=>{h(ke)},Ye=async ke=>{let Ue=ke.split(","),tt=[];for(let nt=0;nt<Ue.length;nt++)if(ut(Ue[nt])&&Ue[nt].includes(".m3u8")){let bt="channel "+nt,At='#EXTINF:-1 tvg-id="" tvg-logo="" group-title="Undefined",'+bt+`
`+Ue[nt],Bt='#EXTINF:-1 tvg-id="" tvg-logo="" group-title="Undefined",'+bt+`
`+Ue[nt],Er=an.buildM3uBaseObject(nt,Ue[nt],"Undefined","","","","",bt,At,Bt);tt.push(Er)}return tt.length===0?[]:vt(tt)},vt=ke=>{let Ue=[];for(let tt=0;tt<ke.length;tt++)Ue.push(ke[tt].raw);return Ue},ut=ke=>new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(ke),gr=async ke=>{let Ue=ke.split(","),tt=[];for(let Bt=0;Bt<Ue.length;Bt++)ut(Ue[Bt])&&Ue[Bt].includes(".m3u")&&tt.push(Ue[Bt]);let nt=[];for(let Bt=0;Bt<tt.length;Bt++){let Er=ye(tt[Bt]);nt.push(Cr.get(Er,{timeout:_e.httpRequestTimeout}))}const bt=await Promise.allSettled(nt);let At=[];return bt.forEach((Bt,Er)=>{if(Bt.status==="fulfilled"){const Wr=Bt.value.data;try{let xn=an.parseOriginalBodyToList(Wr);for(let Dr=0;Dr<xn.length;Dr++)At.push(xn[Dr])}catch(xn){console.log("err",xn)}}}),vt(At)},hr=async ke=>{try{let Ue=an.parseQuoteFormat(ke);return vt(Ue)}catch{return[]}},Rr=ke=>{try{return an.parseOriginalBodyToList(ke)}catch{return[]}},nr=async ke=>{let Ue=[Ye,gr,hr],tt=[],nt=!1;for(const bt of Ue)if(!nt){let At=await bt(ke);At.length>0&&(nt=!0,tt=At)}return tt.length>0?`#EXTM3U
`+tt.join(`
`):ke},qt=ke=>{localStorage.setItem("settings",JSON.stringify(ke)),Le(ke)},fr=ke=>{u(ke)},xr=()=>{o(""),ae([]),n("")},Lr=(ke,Ue)=>ke.indexOf(Ue)!==-1,xt=ke=>{let Ue=[];for(let nt=0;nt<le.length;nt++){let bt=!0;for(let At=0;At<ke.length;At++)ke[At]===le[nt].index&&(bt=!1);bt&&Ue.push(le[nt])}ae(nt=>nt.filter(function(bt,At){for(let Bt=0;Bt<ke.length;Bt++)if(ke[Bt]===bt.index)return!1;return!0})),console.log("detailList---",Ue,le);let tt=Ut(w);tt!==null&&(tt.data=Ue,console.log("updateOriginalData data---",tt),rn(tt))},Ut=ke=>{for(let Ue=0;Ue<ie.length;Ue++)if(ie[Ue].md5===ke)return ie[Ue];return null},rn=ke=>{let Ue=[];for(let tt=0;tt<ie.length;tt++){let nt=ie[tt];ie[tt].md5===w&&(nt=ke),Ue.push(nt)}yn(Ue)},jt=(ke,Ue)=>{for(let tt=0;tt<ke.length;tt++)if(ke[tt]===Ue)return!0;return!1},Tr=(ke,Ue,tt)=>{if(console.log("filterM3u",ke,Ue,tt),ke.length===0&&Ue.length===0&&tt.length===0)return;let nt=Te();console.log("temp",nt);let bt=[],At=1;for(let Bt=0;Bt<nt.length;Bt++){let Er=!0;if(tt.length>0&&nt[Bt].videoType!==""){Er=!1;for(let Dr=0;Dr<tt.length;Dr++)nt[Bt].videoType===tt[Dr]&&(Er=!0)}let Wr=!0;if(ke.length>0){Wr=!1;for(let Dr=0;Dr<ke.length;Dr++)Lr(nt[Bt].sName,ke[Dr].toLowerCase())&&(Wr=!0)}let xn=!0;if(Ue.length>0&&(xn=!1,jt(Ue,nt[Bt].groupTitle)&&(xn=!0)),xn&&Er&&Wr){let Dr=nt[Bt];Dr.index=At,bt.push(Dr),At++}}Re("setShowM3uBody---",bt),ae(bt)},Or=ke=>{let Ue=an.parseOriginalBodyToList(ke),tt=[];tt.push(["","","",""]);for(let nt=0;nt<Ue.length;nt++)tt.push([Ue[nt].name,Ue[nt].url,Ue[nt].groupTitle,Ue[nt].tvgLogo]);return tt},Hr=ke=>{xr(),n(ke);let Ue=an.parseOriginalBodyToList(ke);ae(Ue)},ln=ke=>{let Ue=!1;for(let tt=0;tt<Q.groups.length;tt++)Q.groups[tt]===ke&&(Ue=!0);if(!Ue){let tt=wn(Q.groups);tt.push(ke),te({...Q,groups:tt})}},Cn=ke=>{let Ue=[],tt="",nt=1;for(let bt=0;bt<ke.length;bt++){tt+=ke[bt]+`
`;let At=an.parseOriginalBodyToList(ke[bt]);for(let Bt=0;Bt<At.length;Bt++)At[Bt].index=nt,Ue.push(At[Bt]),nt++}xr(),ae(Ue),n(tt)},wn=ke=>JSON.parse(JSON.stringify(ke)),Fr=(ke,Ue,tt,nt,bt,At)=>{console.log("data",ke);for(let Bt=0;Bt<ke.length;Bt++)if(ke[Bt].index===Ue){let Er="";nt!==null&&(Er=an.getVideoResolution(nt.width,nt.height));let Wr={...ke[Bt],status:tt,video:nt,audio:bt,videoType:Er,delay:At};ke[Bt]=Wr}return ke},se=()=>{let ke=[];for(let Ue=0;Ue<le.length;Ue+=1)le[Ue].checked&&ke.push(le[Ue]);s(ke)},fe=()=>{let ke=Te();o(dt(ke))},Te=()=>{let ke=null;for(let Ue=0;Ue<ie.length;Ue++)ie[Ue].md5===w&&(ke=ie[Ue].data);return ke},je=ke=>{let Ue=[...le];const tt=Ue.findIndex(nt=>nt.index===ke);Ue[tt].checked=!Ue[tt].checked,ae(Ue)},gt=(ke,Ue)=>{const nt=[...ke].findIndex(bt=>bt.index===Ue);return ke[nt]},Tt=ke=>{ae(ke===1?Ue=>Ue.map((tt,nt)=>({...tt,checked:!0})):Ue=>Ue.map((tt,nt)=>({...tt,checked:!1})))},be=(ke,Ue)=>{if(f===1)return ke;let tt=parseInt(Ue,10);return"/check/url-is-available?url="+ke+"&timeout="+(isNaN(tt)?"-1":tt)},ye=(ke,Ue)=>{if(f===1)return ke;let tt=parseInt(Ue,10);return Re(ke,tt),"/fetch/m3u-body?url="+ke+"&timeout="+(isNaN(tt)?"-1":tt)},Ae=(ke,Ue)=>{const tt=[];for(let nt=0;nt<ke.length;nt+=Ue)tt.push(ke.slice(nt,nt+Ue));return tt},Xe=async(ke,Ue,tt)=>{let nt={},bt={},At=Ae(ke,Ue.concurrent);if(f===1){console.log("start check");for(let Bt=0;Bt<At.length;Bt++){let Er=[],Wr=[];for(let Dr=0;Dr<At[Bt].length;Dr++){let fi=At[Bt][Dr];if(gt(wn(ke),fi.index).status!==0){Re("do check status != 0");continue}Er.push(At[Bt][Dr]),Wr.push(Cr.get(At[Bt][Dr].url,{timeout:Ue.httpRequestTimeout}))}if(Wr.length===0)continue;(await Promise.allSettled(Wr)).forEach((Dr,fi)=>{let zr=Er[fi];if(Dr.status==="fulfilled"){Dr.value;let Mn=-1;nt[zr.url]={video:null,audio:null,videoType:null,status:1,delay:Mn},bt[zr.sName]===void 0||bt[zr.sName]===null?bt[zr.sName]={index:zr.index,delay:Mn}:bt[zr.sName].delay>=Mn&&(bt[zr.sName]={index:zr.index,delay:Mn}),ke=Fr(ke,zr.index,1,null,null,Mn),tt(200,zr.index)}else nt[zr.url]={status:2},ke=Fr(ke,zr.index,2,null,null,0),tt(500,zr.index)})}console.log("end check")}else{console.log("start server check");for(let Bt=0;Bt<At.length;Bt++){console.log("----now",At[Bt]);let Er=[],Wr=[];for(let Dr=0;Dr<At[Bt].length;Dr++){let fi=At[Bt][Dr];if(gt(ke,fi.index).status!==0){Re("do check status != 0");continue}Er.push(At[Bt][Dr]);let Mn=be(At[Bt][Dr].url,Ue.httpRequestTimeout);Wr.push(Cr.get(Mn,{timeout:Ue.httpRequestTimeout}))}if(Wr.length===0)continue;(await Promise.allSettled(Wr)).forEach((Dr,fi)=>{let zr=Er[fi];if(Dr.status==="fulfilled"){const Mn=Dr.value;console.log("resp",Mn);let jn=Mn.data.delay;nt[zr.url]={video:Mn.data.video,audio:Mn.data.audio,videoType:an.getVideoResolution(Mn.data.video.width,Mn.data.video.height),status:1,delay:Mn.data.delay},bt[zr.sName]===void 0||bt[zr.sName]===null?bt[zr.sName]={index:zr.index,delay:jn}:bt[zr.sName].delay>=jn&&(bt[zr.sName]={index:zr.index,delay:jn}),ke=Fr(ke,zr.index,1,Mn.data.video,Mn.data.audio,Mn.data.delay),tt(200,zr.index)}else nt[zr.url]={status:2},ke=Fr(ke,zr.index,2,null,null,0),tt(500,zr.index)})}}return ke},Qe=async(ke,Ue,tt,nt)=>{let bt=wn(ke);return tt(bt.length),await Xe(bt,Ue,nt)},St=ke=>{ae(ke)},Lt=()=>{o(vr(le))},dt=ke=>vr(ke),_t=ke=>{let Ue=[];for(let tt=0;tt<ke.length;tt++)Ue.push(ke[tt].name+","+ke[tt].url);return Ue.join(`
`)},Vt=(ke,Ue)=>{Nt(ke,{groupTitle:Ue})},Kt=ke=>{ln(ke)},Nt=(ke,Ue)=>{let tt=wn(le);Ue.groupTitle!==void 0&&Ue.groupTitle!==null&&ln(Ue.groupTitle);for(let bt=0;bt<tt.length;bt++)if(jt(ke,tt[bt].index))for(let At in Ue)At==="name"&&(tt[bt].sName=Ue[At]),tt[bt][At]=Ue[At];let nt=le;for(let bt=0;bt<nt.length;bt++)if(jt(ke,nt[bt].index))for(let At in Ue)At==="name"&&(nt[bt].sName=Ue[At].toLowerCase()),nt[bt][At]=Ue[At];ae(tt)},vr=ke=>{let Ue=`#EXTM3U
`;for(let tt=0;tt<ke.length;tt+=1)Ue+=`#EXTINF:-1 tvg-name="${ke[tt].tvgName}" tvg-id="${ke[tt].tvgId}" tvg-logo="${ke[tt].tvgLogo}" group-title="${ke[tt].groupTitle}",${ke[tt].name}
${ke[tt].url}
`;return Ue},Ct=ke=>{let Ue=$e(JSON.stringify(ke)),tt={urls:ke,md5:Ue},nt=wn(k),bt=!1;for(let At=0;At<nt.length;At++)nt[At].md5===Ue&&(bt=!0);bt||(nt.length>=5&&nt.splice(0,1),nt.push(tt),jr(nt))},_r="checkHistory",Zr="subCheckMenuList",Br=()=>{let ke=localStorage.getItem(_r);try{let Ue=JSON.parse(ke)??[];D(Ue)}catch{console.log("read checkHistory from local error")}},jr=ke=>{D(ke),localStorage.setItem(_r,JSON.stringify(ke))},Pn=(ke,Ue)=>{const tt=/(\D+)(\d+)/;if(ke===null||Ue===null)return-1;console.log("----a",ke),console.log("----b",Ue);let nt="",bt="",At=-1,Bt=-1,Er=ke.sName.match(tt);Er&&Er.length>=3&&(nt=Er[1],bt=Er[2]);let Wr=Ue.sName.match(tt);return Wr&&Wr.length>=3&&(At=Wr[1],Bt=Wr[2]),nt<At?-1:nt>At?1:parseInt(bt)-parseInt(Bt)},ir=(ke,Ue,tt,nt,bt)=>{bt&&(console.log("addDetail----sort----",ke),ke.sort(Pn));let At=wn(ie);console.log("dataList--",At);let Bt=$e(JSON.stringify(Ue)),Er=!1;for(let Wr=0;Wr<At.length;Wr++)At[Wr].md5===Bt&&(Er=!0);return Er||(At.push({md5:Bt,data:ke,original:{urls:Ue,local:tt,ffmpeg:0,sort:bt,check:nt},menu:{groups:Cs(ke)},query:{needFast:!1,searchName:[],group:""}}),yn(At)),Bt},Ci=()=>{let ke=localStorage.getItem(Zr);try{let Ue=JSON.parse(ke)??[];ee(Ue)}catch{console.log("read checkHistory from local error")}},yn=ke=>{ee(ke),localStorage.setItem(Zr,JSON.stringify(ke))},Cs=ke=>{let Ue={};for(let nt=0;nt<ke.length;nt++)ke[nt].groupTitle!==""&&(Ue[ke[nt].groupTitle]=ke[nt].groupTitle);let tt=[];for(let nt in Ue)tt.push(Ue[nt]);return tt},nn=async ke=>{let Ue=[];for(let nt=0;nt<ke.length;nt++){let bt=ye(ke[nt].url);Ue.push(Cr.get(bt,{timeout:_e.httpRequestTimeout}))}return(await Promise.allSettled(Ue)).forEach((nt,bt)=>{let At=!0,Bt="";if(nt.status==="fulfilled"){const Er=nt.value.data;ws(Er)?(At=!1,Bt=Er):(At=!0,Bt=Er)}else At=!0,Bt=nt.reason.message;At?ke[bt].status=500:ke[bt].status=200,ke[bt].body=Bt}),ke},ws=ke=>ke.substr(0,7)==="#EXTM3U",hi=ke=>{let Ue=[];for(let tt=0;tt<ie.length;tt++)ie[tt].md5!==ke&&Ue.push(ie[tt]);yn(Ue),Mr()},si=ke=>{$(ke);let Ue=Ut(ke);Ue&&(ae(Ue.data),W(Ue.query),te(Ue.menu),de(Ue))},Mr=()=>{$(""),ae([]),W(null),te(null),de([])};return P.jsx(fa.Provider,{value:{originalM3uBody:t,changeOriginalM3uBody:Hr,exportDataStr:a,setExportDataStr:o,exportData:i,onChangeExportData:St,videoResolution:l,changeVideoResolution:fr,settings:_e,onChangeSettings:qt,headerHeight:145,filterM3u:Tr,deleteShowM3uRow:xt,onExportValidM3uData:se,onSelectedRow:je,onSelectedOrNotAll:Tt,changeDialogBodyData:fe,changeOriginalM3uBodies:Cn,updateDataByIndex:Nt,onChangeExportStr:Lt,batchChangeGroupName:Vt,addGroupName:Kt,getCheckUrl:be,strToCsv:Or,clearDetailData:xr,getM3uBody:ye,needFastSource:c,onChangeNeedFastSource:qe,nowMod:f,getBodyType:nr,changeLanguage:ot,languageList:ve,clientSaveFile:at,nowPlatform:v,videoPlayTypes:pe,initControlBar:Ne,showWindowsTopBar:_,doFastCheck:Qe,subCheckMenuList:ie,checkHistory:k,saveDataToHistory:Ct,addDetail:ir,get_m3u_body:nn,get_m3u8_info_by_m3u_ori_data:Rr,m3uObjectToM3uBody:dt,m3uObjectToTxtBody:_t,webSaveFile:Me,detailList:le,detailQuery:H,detailMenu:Q,ffmepgCheck:R,detailOriginal:oe,updateDetailMd5:si,delDetailData:hi,detailMd5:w,configInfo:U,showNewVersion:I,check_version:Pt,saveFile:Je},children:r})};var _g={},VR;function iG(){if(VR)return _g;VR=1,Object.defineProperty(_g,"__esModule",{value:!0}),_g.parse=a,_g.serialize=u;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const f=function(){};return f.prototype=Object.create(null),f})();function a(f,g){const v=new s,y=f.length;if(y<2)return v;const _=g?.decode||c;let C=0;do{const k=f.indexOf("=",C);if(k===-1)break;const D=f.indexOf(";",C),I=D===-1?y:D;if(k>I){C=f.lastIndexOf(";",k-1)+1;continue}const A=o(f,C,k),R=l(f,k,A),N=f.slice(A,R);if(v[N]===void 0){let U=o(f,k+1,I),F=l(f,I,U);const w=_(f.slice(U,F));v[N]=w}C=I+1}while(C<y);return v}function o(f,g,v){do{const y=f.charCodeAt(g);if(y!==32&&y!==9)return g}while(++g<v);return v}function l(f,g,v){for(;g>v;){const y=f.charCodeAt(--g);if(y!==32&&y!==9)return g+1}return v}function u(f,g,v){const y=v?.encode||encodeURIComponent;if(!r.test(f))throw new TypeError(`argument name is invalid: ${f}`);const _=y(g);if(!e.test(_))throw new TypeError(`argument val is invalid: ${g}`);let C=f+"="+_;if(!v)return C;if(v.maxAge!==void 0){if(!Number.isInteger(v.maxAge))throw new TypeError(`option maxAge is invalid: ${v.maxAge}`);C+="; Max-Age="+v.maxAge}if(v.domain){if(!t.test(v.domain))throw new TypeError(`option domain is invalid: ${v.domain}`);C+="; Domain="+v.domain}if(v.path){if(!n.test(v.path))throw new TypeError(`option path is invalid: ${v.path}`);C+="; Path="+v.path}if(v.expires){if(!h(v.expires)||!Number.isFinite(v.expires.valueOf()))throw new TypeError(`option expires is invalid: ${v.expires}`);C+="; Expires="+v.expires.toUTCString()}if(v.httpOnly&&(C+="; HttpOnly"),v.secure&&(C+="; Secure"),v.partitioned&&(C+="; Partitioned"),v.priority)switch(typeof v.priority=="string"?v.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${v.priority}`)}if(v.sameSite)switch(typeof v.sameSite=="string"?v.sameSite.toLowerCase():v.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${v.sameSite}`)}return C}function c(f){if(f.indexOf("%")===-1)return f;try{return decodeURIComponent(f)}catch{return f}}function h(f){return i.call(f)==="[object Date]"}return _g}iG();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var a8=r=>{throw TypeError(r)},sG=(r,e,t)=>e.has(r)||a8("Cannot "+t),M1=(r,e,t)=>(sG(r,e,"read from private field"),t?t.call(r):e.get(r)),aG=(r,e,t)=>e.has(r)?a8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),WR="popstate";function oG(r={}){function e(i,s){let{pathname:a="/",search:o="",hash:l=""}=jc(i.location.hash.substring(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),k0("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:jd(s))}function n(i,s){bi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return uG(e,t,n,r)}function tn(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function bi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lG(){return Math.random().toString(36).substring(2,10)}function qR(r,e){return{usr:r.state,key:r.key,idx:e}}function k0(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?jc(e):e,state:t,key:e&&e.key||n||lG()}}function jd({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function jc(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function uG(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o="POP",l=null,u=c();u==null&&(u=0,a.replaceState({...a.state,idx:u},""));function c(){return(a.state||{idx:null}).idx}function h(){o="POP";let _=c(),C=_==null?null:_-u;u=_,l&&l({action:o,location:y.location,delta:C})}function f(_,C){o="PUSH";let k=k0(y.location,_,C);t&&t(k,_),u=c()+1;let D=qR(k,u),I=y.createHref(k);try{a.pushState(D,"",I)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(I)}s&&l&&l({action:o,location:y.location,delta:1})}function g(_,C){o="REPLACE";let k=k0(y.location,_,C);t&&t(k,_),u=c();let D=qR(k,u),I=y.createHref(k);a.replaceState(D,"",I),s&&l&&l({action:o,location:y.location,delta:0})}function v(_){return o8(_)}let y={get action(){return o},get location(){return r(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WR,h),l=_,()=>{i.removeEventListener(WR,h),l=null}},createHref(_){return e(i,_)},createURL:v,encodeLocation(_){let C=v(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:f,replace:g,go(_){return a.go(_)}};return y}function o8(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),tn(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:jd(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}var zg,GR=class{constructor(r){if(aG(this,zg,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(M1(this,zg).has(r))return M1(this,zg).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){M1(this,zg).set(r,e)}};zg=new WeakMap;var cG=new Set(["lazy","caseSensitive","path","id","index","children"]);function dG(r){return cG.has(r)}var hG=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function fG(r){return hG.has(r)}function pG(r){return r.index===!0}function D_(r,e,t=[],n={}){return r.map((i,s)=>{let a=[...t,String(s)],o=typeof i.id=="string"?i.id:a.join("-");if(tn(i.index!==!0||!i.children,"Cannot specify children on an index route"),tn(!n[o],`Found a route id collision on id "${o}".  Route id's must be globally unique within Data Router usages`),pG(i)){let l={...i,...e(i),id:o};return n[o]=l,l}else{let l={...i,...e(i),id:o,children:void 0};return n[o]=l,i.children&&(l.children=D_(i.children,e,a,n)),l}})}function Rd(r,e,t="/"){return Zx(r,e,t,!1)}function Zx(r,e,t,n){let i=typeof e=="string"?jc(e):e,s=nl(i.pathname||"/",t);if(s==null)return null;let a=u8(r);mG(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=EG(s);o=CG(a[l],u,n)}return o}function l8(r,e){let{route:t,pathname:n,params:i}=r;return{id:t.id,pathname:n,params:i,data:e[t.id],handle:t.handle}}function u8(r,e=[],t=[],n=""){let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(tn(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=Pu([n,l.relativePath]),c=t.concat(l);s.children&&s.children.length>0&&(tn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),u8(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:SG(u,s.index),routesMeta:c})};return r.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))i(s,a);else for(let o of c8(s.path))i(s,a,o)}),e}function c8(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=c8(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function mG(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:TG(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var gG=/^:[\w-]+$/,vG=3,yG=2,xG=1,_G=10,bG=-2,KR=r=>r==="*";function SG(r,e){let t=r.split("/"),n=t.length;return t.some(KR)&&(n+=bG),e&&(n+=yG),t.filter(i=>!KR(i)).reduce((i,s)=>i+(gG.test(s)?vG:s===""?xG:_G),n)}function TG(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function CG(r,e,t=!1){let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=I_({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h&&u&&t&&!n[n.length-1].route.index&&(h=I_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Pu([s,h.pathname]),pathnameBase:DG(Pu([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Pu([s,h.pathnameBase]))}return a}function I_(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=wG(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:h},f)=>{if(c==="*"){let v=o[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=o[f];return h&&!g?u[c]=void 0:u[c]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:r}}function wG(r,e=!1,t=!0){bi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function EG(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nl(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function kG(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?jc(r):r;return{pathname:t?t.startsWith("/")?t:AG(t,e):e,search:IG(n),hash:PG(i)}}function AG(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function F1(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function d8(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function zE(r){let e=d8(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function HE(r,e,t,n=!1){let i;typeof r=="string"?i=jc(r):(i={...r},tn(!i.pathname||!i.pathname.includes("?"),F1("?","pathname","search",i)),tn(!i.pathname||!i.pathname.includes("#"),F1("#","pathname","hash",i)),tn(!i.search||!i.search.includes("#"),F1("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=kG(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Pu=r=>r.join("/").replace(/\/\/+/g,"/"),DG=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),IG=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,PG=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,P_=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function A0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var h8=["POST","PUT","PATCH","DELETE"],RG=new Set(h8),LG=["GET",...h8],OG=new Set(LG),MG=new Set([301,302,303,307,308]),FG=new Set([307,308]),B1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BG={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},bg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},VE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,NG=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),f8="remix-router-transitions",p8=Symbol("ResetLoaderData");function UG(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";tn(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=r.hydrationRouteProperties||[],i=r.mapRouteProperties||NG,s={},a=D_(r.routes,i,void 0,s),o,l=r.basename||"/",u=r.dataStrategy||VG,c={unstable_middleware:!1,...r.future},h=null,f=new Set,g=null,v=null,y=null,_=r.hydrationData!=null,C=Rd(a,r.history.location,l),k=!1,D=null,I;if(C==null&&!r.patchRoutesOnNavigation){let be=qo(404,{pathname:r.history.location.pathname}),{matches:ye,route:Ae}=aL(a);I=!0,C=ye,D={[Ae.id]:be}}else if(C&&!r.hydrationData&&Te(C,a,r.history.location.pathname).active&&(C=null),C)if(C.some(be=>be.route.lazy))I=!1;else if(!C.some(be=>be.route.loader))I=!0;else{let be=r.hydrationData?r.hydrationData.loaderData:null,ye=r.hydrationData?r.hydrationData.errors:null;if(ye){let Ae=C.findIndex(Xe=>ye[Xe.route.id]!==void 0);I=C.slice(0,Ae+1).every(Xe=>!Uw(Xe.route,be,ye))}else I=C.every(Ae=>!Uw(Ae.route,be,ye))}else{I=!1,C=[];let be=Te(null,a,r.history.location.pathname);be.active&&be.matches&&(k=!0,C=be.matches)}let A,R={historyAction:r.history.action,location:r.history.location,matches:C,initialized:I,navigation:B1,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||D,fetchers:new Map,blockers:new Map},N="POP",U=!1,F,w=!1,$=new Map,H=null,W=!1,Q=!1,te=new Set,oe=new Map,de=0,le=-1,ae=new Map,ie=new Set,ee=new Map,pe=new Map,ve=new Set,_e=new Map,Le,Re=null;function ot(){if(h=r.history.listen(({action:be,location:ye,delta:Ae})=>{if(Le){Le(),Le=void 0;return}bi(_e.size===0||Ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Xe=ln({currentLocation:R.location,nextLocation:ye,historyAction:be});if(Xe&&Ae!=null){let Qe=new Promise(St=>{Le=St});r.history.go(Ae*-1),Hr(Xe,{state:"blocked",location:ye,proceed(){Hr(Xe,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Qe.then(()=>r.history.go(Ae))},reset(){let St=new Map(R.blockers);St.set(Xe,bg),Je({blockers:St})}});return}return Ne(be,ye)}),t){tK(e,$);let be=()=>rK(e,$);e.addEventListener("pagehide",be),H=()=>e.removeEventListener("pagehide",be)}return R.initialized||Ne("POP",R.location,{initialHydration:!0}),A}function ze(){h&&h(),H&&H(),f.clear(),F&&F.abort(),R.fetchers.forEach((be,ye)=>xr(ye)),R.blockers.forEach((be,ye)=>Or(ye))}function mt(be){return f.add(be),()=>f.delete(be)}function Je(be,ye={}){R={...R,...be};let Ae=[],Xe=[];R.fetchers.forEach((Qe,St)=>{Qe.state==="idle"&&(ve.has(St)?Ae.push(St):Xe.push(St))}),ve.forEach(Qe=>{!R.fetchers.has(Qe)&&!oe.has(Qe)&&Ae.push(Qe)}),[...f].forEach(Qe=>Qe(R,{deletedFetchers:Ae,viewTransitionOpts:ye.viewTransitionOpts,flushSync:ye.flushSync===!0})),Ae.forEach(Qe=>xr(Qe)),Xe.forEach(Qe=>R.fetchers.delete(Qe))}function Pt(be,ye,{flushSync:Ae}={}){let Xe=R.actionData!=null&&R.navigation.formMethod!=null&&fo(R.navigation.formMethod)&&R.navigation.state==="loading"&&be.state?._isRedirect!==!0,Qe;ye.actionData?Object.keys(ye.actionData).length>0?Qe=ye.actionData:Qe=null:Xe?Qe=R.actionData:Qe=null;let St=ye.loaderData?iL(R.loaderData,ye.loaderData,ye.matches||[],ye.errors):R.loaderData,Lt=R.blockers;Lt.size>0&&(Lt=new Map(Lt),Lt.forEach((Vt,Kt)=>Lt.set(Kt,bg)));let dt=U===!0||R.navigation.formMethod!=null&&fo(R.navigation.formMethod)&&be.state?._isRedirect!==!0;o&&(a=o,o=void 0),W||N==="POP"||(N==="PUSH"?r.history.push(be,be.state):N==="REPLACE"&&r.history.replace(be,be.state));let _t;if(N==="POP"){let Vt=$.get(R.location.pathname);Vt&&Vt.has(be.pathname)?_t={currentLocation:R.location,nextLocation:be}:$.has(be.pathname)&&(_t={currentLocation:be,nextLocation:R.location})}else if(w){let Vt=$.get(R.location.pathname);Vt?Vt.add(be.pathname):(Vt=new Set([be.pathname]),$.set(R.location.pathname,Vt)),_t={currentLocation:R.location,nextLocation:be}}Je({...ye,actionData:Qe,loaderData:St,historyAction:N,location:be,initialized:!0,navigation:B1,revalidation:"idle",restoreScrollPosition:fe(be,ye.matches||R.matches),preventScrollReset:dt,blockers:Lt},{viewTransitionOpts:_t,flushSync:Ae===!0}),N="POP",U=!1,w=!1,W=!1,Q=!1,Re?.resolve(),Re=null}async function Rt(be,ye){if(typeof be=="number"){r.history.go(be);return}let Ae=Nw(R.location,R.matches,l,be,ye?.fromRouteId,ye?.relative),{path:Xe,submission:Qe,error:St}=XR(!1,Ae,ye),Lt=R.location,dt=k0(R.location,Xe,ye&&ye.state);dt={...dt,...r.history.encodeLocation(dt)};let _t=ye&&ye.replace!=null?ye.replace:void 0,Vt="PUSH";_t===!0?Vt="REPLACE":_t===!1||Qe!=null&&fo(Qe.formMethod)&&Qe.formAction===R.location.pathname+R.location.search&&(Vt="REPLACE");let Kt=ye&&"preventScrollReset"in ye?ye.preventScrollReset===!0:void 0,Nt=(ye&&ye.flushSync)===!0,vr=ln({currentLocation:Lt,nextLocation:dt,historyAction:Vt});if(vr){Hr(vr,{state:"blocked",location:dt,proceed(){Hr(vr,{state:"proceeding",proceed:void 0,reset:void 0,location:dt}),Rt(be,ye)},reset(){let Ct=new Map(R.blockers);Ct.set(vr,bg),Je({blockers:Ct})}});return}await Ne(Vt,dt,{submission:Qe,pendingError:St,preventScrollReset:Kt,replace:ye&&ye.replace,enableViewTransition:ye&&ye.viewTransition,flushSync:Nt})}function Ve(){Re||(Re=nK()),Rr(),Je({revalidation:"loading"});let be=Re.promise;return R.navigation.state==="submitting"?be:R.navigation.state==="idle"?(Ne(R.historyAction,R.location,{startUninterruptedRevalidation:!0}),be):(Ne(N||R.historyAction,R.navigation.location,{overrideNavigation:R.navigation,enableViewTransition:w===!0}),be)}async function Ne(be,ye,Ae){F&&F.abort(),F=null,N=be,W=(Ae&&Ae.startUninterruptedRevalidation)===!0,se(R.location,R.matches),U=(Ae&&Ae.preventScrollReset)===!0,w=(Ae&&Ae.enableViewTransition)===!0;let Xe=o||a,Qe=Ae&&Ae.overrideNavigation,St=Ae?.initialHydration&&R.matches&&R.matches.length>0&&!k?R.matches:Rd(Xe,ye,l),Lt=(Ae&&Ae.flushSync)===!0;if(St&&R.initialized&&!Q&&YG(R.location,ye)&&!(Ae&&Ae.submission&&fo(Ae.submission.formMethod))){Pt(ye,{matches:St},{flushSync:Lt});return}let dt=Te(St,Xe,ye.pathname);if(dt.active&&dt.matches&&(St=dt.matches),!St){let{error:Zr,notFoundMatches:Br,route:jr}=Cn(ye.pathname);Pt(ye,{matches:Br,loaderData:{},errors:{[jr.id]:Zr}},{flushSync:Lt});return}F=new AbortController;let _t=cp(r.history,ye,F.signal,Ae&&Ae.submission),Vt=new GR(r.unstable_getContext?await r.unstable_getContext():void 0),Kt;if(Ae&&Ae.pendingError)Kt=[$h(St).route.id,{type:"error",error:Ae.pendingError}];else if(Ae&&Ae.submission&&fo(Ae.submission.formMethod)){let Zr=await et(_t,ye,Ae.submission,St,Vt,dt.active,Ae&&Ae.initialHydration===!0,{replace:Ae.replace,flushSync:Lt});if(Zr.shortCircuited)return;if(Zr.pendingActionResult){let[Br,jr]=Zr.pendingActionResult;if(ho(jr)&&A0(jr.error)&&jr.error.status===404){F=null,Pt(ye,{matches:Zr.matches,loaderData:{},errors:{[Br]:jr.error}});return}}St=Zr.matches||St,Kt=Zr.pendingActionResult,Qe=N1(ye,Ae.submission),Lt=!1,dt.active=!1,_t=cp(r.history,_t.url,_t.signal)}let{shortCircuited:Nt,matches:vr,loaderData:Ct,errors:_r}=await at(_t,ye,St,Vt,dt.active,Qe,Ae&&Ae.submission,Ae&&Ae.fetcherSubmission,Ae&&Ae.replace,Ae&&Ae.initialHydration===!0,Lt,Kt);Nt||(F=null,Pt(ye,{matches:vr||St,...sL(Kt),loaderData:Ct,errors:_r}))}async function et(be,ye,Ae,Xe,Qe,St,Lt,dt={}){Rr();let _t=ZG(ye,Ae);if(Je({navigation:_t},{flushSync:dt.flushSync===!0}),St){let Nt=await je(Xe,ye.pathname,be.signal);if(Nt.type==="aborted")return{shortCircuited:!0};if(Nt.type==="error"){let vr=$h(Nt.partialMatches).route.id;return{matches:Nt.partialMatches,pendingActionResult:[vr,{type:"error",error:Nt.error}]}}else if(Nt.matches)Xe=Nt.matches;else{let{notFoundMatches:vr,error:Ct,route:_r}=Cn(ye.pathname);return{matches:vr,pendingActionResult:[_r.id,{type:"error",error:Ct}]}}}let Vt,Kt=Hg(Xe,ye);if(!Kt.route.action&&!Kt.route.lazy)Vt={type:"error",error:qo(405,{method:be.method,pathname:ye.pathname,routeId:Kt.route.id})};else{let Nt=kp(i,s,be,Xe,Kt,Lt?[]:n,Qe),vr=await gr(be,Nt,Qe,null);if(Vt=vr[Kt.route.id],!Vt){for(let Ct of Xe)if(vr[Ct.route.id]){Vt=vr[Ct.route.id];break}}if(be.signal.aborted)return{shortCircuited:!0}}if(qh(Vt)){let Nt;return dt&&dt.replace!=null?Nt=dt.replace:Nt=tL(Vt.response.headers.get("Location"),new URL(be.url),l)===R.location.pathname+R.location.search,await ut(be,Vt,!0,{submission:Ae,replace:Nt}),{shortCircuited:!0}}if(ho(Vt)){let Nt=$h(Xe,Kt.route.id);return(dt&&dt.replace)!==!0&&(N="PUSH"),{matches:Xe,pendingActionResult:[Nt.route.id,Vt,Kt.route.id]}}return{matches:Xe,pendingActionResult:[Kt.route.id,Vt]}}async function at(be,ye,Ae,Xe,Qe,St,Lt,dt,_t,Vt,Kt,Nt){let vr=St||N1(ye,Lt),Ct=Lt||dt||lL(vr),_r=!W&&!Vt;if(Qe){if(_r){let ke=Me(Nt);Je({navigation:vr,...ke!==void 0?{actionData:ke}:{}},{flushSync:Kt})}let Mr=await je(Ae,ye.pathname,be.signal);if(Mr.type==="aborted")return{shortCircuited:!0};if(Mr.type==="error"){let ke=$h(Mr.partialMatches).route.id;return{matches:Mr.partialMatches,loaderData:{},errors:{[ke]:Mr.error}}}else if(Mr.matches)Ae=Mr.matches;else{let{error:ke,notFoundMatches:Ue,route:tt}=Cn(ye.pathname);return{matches:Ue,loaderData:{},errors:{[tt.id]:ke}}}}let Zr=o||a,{dsMatches:Br,revalidatingFetchers:jr}=YR(be,Xe,i,s,r.history,R,Ae,Ct,ye,Vt?[]:n,Vt===!0,Q,te,ve,ee,ie,Zr,l,Nt);if(le=++de,!r.dataStrategy&&!Br.some(Mr=>Mr.shouldLoad)&&jr.length===0){let Mr=rn();return Pt(ye,{matches:Ae,loaderData:{},errors:Nt&&ho(Nt[1])?{[Nt[0]]:Nt[1].error}:null,...sL(Nt),...Mr?{fetchers:new Map(R.fetchers)}:{}},{flushSync:Kt}),{shortCircuited:!0}}if(_r){let Mr={};if(!Qe){Mr.navigation=vr;let ke=Me(Nt);ke!==void 0&&(Mr.actionData=ke)}jr.length>0&&(Mr.fetchers=$e(jr)),Je(Mr,{flushSync:Kt})}jr.forEach(Mr=>{xt(Mr.key),Mr.controller&&oe.set(Mr.key,Mr.controller)});let Pn=()=>jr.forEach(Mr=>xt(Mr.key));F&&F.signal.addEventListener("abort",Pn);let{loaderResults:ir,fetcherResults:Ci}=await hr(Br,jr,be,Xe);if(be.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Pn),jr.forEach(Mr=>oe.delete(Mr.key));let yn=Ey(ir);if(yn)return await ut(be,yn.result,!0,{replace:_t}),{shortCircuited:!0};if(yn=Ey(Ci),yn)return ie.add(yn.key),await ut(be,yn.result,!0,{replace:_t}),{shortCircuited:!0};let{loaderData:Cs,errors:nn}=nL(R,Ae,ir,Nt,jr,Ci);Vt&&R.errors&&(nn={...R.errors,...nn});let ws=rn(),hi=jt(le),si=ws||hi||jr.length>0;return{matches:Ae,loaderData:Cs,errors:nn,...si?{fetchers:new Map(R.fetchers)}:{}}}function Me(be){if(be&&!ho(be[1]))return{[be[0]]:be[1].data};if(R.actionData)return Object.keys(R.actionData).length===0?null:R.actionData}function $e(be){return be.forEach(ye=>{let Ae=R.fetchers.get(ye.key),Xe=Sg(void 0,Ae?Ae.data:void 0);R.fetchers.set(ye.key,Xe)}),new Map(R.fetchers)}async function qe(be,ye,Ae,Xe){xt(be);let Qe=(Xe&&Xe.flushSync)===!0,St=o||a,Lt=Nw(R.location,R.matches,l,Ae,ye,Xe?.relative),dt=Rd(St,Lt,l),_t=Te(dt,St,Lt);if(_t.active&&_t.matches&&(dt=_t.matches),!dt){qt(be,ye,qo(404,{pathname:Lt}),{flushSync:Qe});return}let{path:Vt,submission:Kt,error:Nt}=XR(!0,Lt,Xe);if(Nt){qt(be,ye,Nt,{flushSync:Qe});return}let vr=Hg(dt,Vt),Ct=new GR(r.unstable_getContext?await r.unstable_getContext():void 0),_r=(Xe&&Xe.preventScrollReset)===!0;if(Kt&&fo(Kt.formMethod)){await Ye(be,ye,Vt,vr,dt,Ct,_t.active,Qe,_r,Kt);return}ee.set(be,{routeId:ye,path:Vt}),await vt(be,ye,Vt,vr,dt,Ct,_t.active,Qe,_r,Kt)}async function Ye(be,ye,Ae,Xe,Qe,St,Lt,dt,_t,Vt){Rr(),ee.delete(be);function Kt(bt){if(!bt.route.action&&!bt.route.lazy){let At=qo(405,{method:Vt.formMethod,pathname:Ae,routeId:ye});return qt(be,ye,At,{flushSync:dt}),!0}return!1}if(!Lt&&Kt(Xe))return;let Nt=R.fetchers.get(be);nr(be,eK(Vt,Nt),{flushSync:dt});let vr=new AbortController,Ct=cp(r.history,Ae,vr.signal,Vt);if(Lt){let bt=await je(Qe,Ae,Ct.signal,be);if(bt.type==="aborted")return;if(bt.type==="error"){qt(be,ye,bt.error,{flushSync:dt});return}else if(bt.matches){if(Qe=bt.matches,Xe=Hg(Qe,Ae),Kt(Xe))return}else{qt(be,ye,qo(404,{pathname:Ae}),{flushSync:dt});return}}oe.set(be,vr);let _r=de,Zr=kp(i,s,Ct,Qe,Xe,n,St),jr=(await gr(Ct,Zr,St,be))[Xe.route.id];if(Ct.signal.aborted){oe.get(be)===vr&&oe.delete(be);return}if(ve.has(be)){if(qh(jr)||ho(jr)){nr(be,wd(void 0));return}}else{if(qh(jr))if(oe.delete(be),le>_r){nr(be,wd(void 0));return}else return ie.add(be),nr(be,Sg(Vt)),ut(Ct,jr,!1,{fetcherSubmission:Vt,preventScrollReset:_t});if(ho(jr)){qt(be,ye,jr.error);return}}let Pn=R.navigation.location||R.location,ir=cp(r.history,Pn,vr.signal),Ci=o||a,yn=R.navigation.state!=="idle"?Rd(Ci,R.navigation.location,l):R.matches;tn(yn,"Didn't find any matches after fetcher action");let Cs=++de;ae.set(be,Cs);let nn=Sg(Vt,jr.data);R.fetchers.set(be,nn);let{dsMatches:ws,revalidatingFetchers:hi}=YR(ir,St,i,s,r.history,R,yn,Vt,Pn,n,!1,Q,te,ve,ee,ie,Ci,l,[Xe.route.id,jr]);hi.filter(bt=>bt.key!==be).forEach(bt=>{let At=bt.key,Bt=R.fetchers.get(At),Er=Sg(void 0,Bt?Bt.data:void 0);R.fetchers.set(At,Er),xt(At),bt.controller&&oe.set(At,bt.controller)}),Je({fetchers:new Map(R.fetchers)});let si=()=>hi.forEach(bt=>xt(bt.key));vr.signal.addEventListener("abort",si);let{loaderResults:Mr,fetcherResults:ke}=await hr(ws,hi,ir,St);if(vr.signal.aborted)return;if(vr.signal.removeEventListener("abort",si),ae.delete(be),oe.delete(be),hi.forEach(bt=>oe.delete(bt.key)),R.fetchers.has(be)){let bt=wd(jr.data);R.fetchers.set(be,bt)}let Ue=Ey(Mr);if(Ue)return ut(ir,Ue.result,!1,{preventScrollReset:_t});if(Ue=Ey(ke),Ue)return ie.add(Ue.key),ut(ir,Ue.result,!1,{preventScrollReset:_t});let{loaderData:tt,errors:nt}=nL(R,yn,Mr,void 0,hi,ke);jt(Cs),R.navigation.state==="loading"&&Cs>le?(tn(N,"Expected pending action"),F&&F.abort(),Pt(R.navigation.location,{matches:yn,loaderData:tt,errors:nt,fetchers:new Map(R.fetchers)})):(Je({errors:nt,loaderData:iL(R.loaderData,tt,yn,nt),fetchers:new Map(R.fetchers)}),Q=!1)}async function vt(be,ye,Ae,Xe,Qe,St,Lt,dt,_t,Vt){let Kt=R.fetchers.get(be);nr(be,Sg(Vt,Kt?Kt.data:void 0),{flushSync:dt});let Nt=new AbortController,vr=cp(r.history,Ae,Nt.signal);if(Lt){let jr=await je(Qe,Ae,vr.signal,be);if(jr.type==="aborted")return;if(jr.type==="error"){qt(be,ye,jr.error,{flushSync:dt});return}else if(jr.matches)Qe=jr.matches,Xe=Hg(Qe,Ae);else{qt(be,ye,qo(404,{pathname:Ae}),{flushSync:dt});return}}oe.set(be,Nt);let Ct=de,_r=kp(i,s,vr,Qe,Xe,n,St),Br=(await gr(vr,_r,St,be))[Xe.route.id];if(oe.get(be)===Nt&&oe.delete(be),!vr.signal.aborted){if(ve.has(be)){nr(be,wd(void 0));return}if(qh(Br))if(le>Ct){nr(be,wd(void 0));return}else{ie.add(be),await ut(vr,Br,!1,{preventScrollReset:_t});return}if(ho(Br)){qt(be,ye,Br.error);return}nr(be,wd(Br.data))}}async function ut(be,ye,Ae,{submission:Xe,fetcherSubmission:Qe,preventScrollReset:St,replace:Lt}={}){ye.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let dt=ye.response.headers.get("Location");tn(dt,"Expected a Location header on the redirect Response"),dt=tL(dt,new URL(be.url),l);let _t=k0(R.location,dt,{_isRedirect:!0});if(t){let _r=!1;if(ye.response.headers.has("X-Remix-Reload-Document"))_r=!0;else if(VE.test(dt)){const Zr=o8(dt,!0);_r=Zr.origin!==e.location.origin||nl(Zr.pathname,l)==null}if(_r){Lt?e.location.replace(dt):e.location.assign(dt);return}}F=null;let Vt=Lt===!0||ye.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Kt,formAction:Nt,formEncType:vr}=R.navigation;!Xe&&!Qe&&Kt&&Nt&&vr&&(Xe=lL(R.navigation));let Ct=Xe||Qe;if(FG.has(ye.response.status)&&Ct&&fo(Ct.formMethod))await Ne(Vt,_t,{submission:{...Ct,formAction:dt},preventScrollReset:St||U,enableViewTransition:Ae?w:void 0});else{let _r=N1(_t,Xe);await Ne(Vt,_t,{overrideNavigation:_r,fetcherSubmission:Qe,preventScrollReset:St||U,enableViewTransition:Ae?w:void 0})}}async function gr(be,ye,Ae,Xe){let Qe,St={};try{Qe=await WG(u,be,ye,Xe,Ae,!1)}catch(Lt){return ye.filter(dt=>dt.shouldLoad).forEach(dt=>{St[dt.route.id]={type:"error",error:Lt}}),St}if(be.signal.aborted)return St;for(let[Lt,dt]of Object.entries(Qe))if(QG(dt)){let _t=dt.result;St[Lt]={type:"redirect",response:KG(_t,be,Lt,ye,l)}}else St[Lt]=await GG(dt);return St}async function hr(be,ye,Ae,Xe){let Qe=gr(Ae,be,Xe,null),St=Promise.all(ye.map(async _t=>{if(_t.matches&&_t.match&&_t.request&&_t.controller){let Kt=(await gr(_t.request,_t.matches,Xe,_t.key))[_t.match.route.id];return{[_t.key]:Kt}}else return Promise.resolve({[_t.key]:{type:"error",error:qo(404,{pathname:_t.path})}})})),Lt=await Qe,dt=(await St).reduce((_t,Vt)=>Object.assign(_t,Vt),{});return{loaderResults:Lt,fetcherResults:dt}}function Rr(){Q=!0,ee.forEach((be,ye)=>{oe.has(ye)&&te.add(ye),xt(ye)})}function nr(be,ye,Ae={}){R.fetchers.set(be,ye),Je({fetchers:new Map(R.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function qt(be,ye,Ae,Xe={}){let Qe=$h(R.matches,ye);xr(be),Je({errors:{[Qe.route.id]:Ae},fetchers:new Map(R.fetchers)},{flushSync:(Xe&&Xe.flushSync)===!0})}function fr(be){return pe.set(be,(pe.get(be)||0)+1),ve.has(be)&&ve.delete(be),R.fetchers.get(be)||BG}function xr(be){let ye=R.fetchers.get(be);oe.has(be)&&!(ye&&ye.state==="loading"&&ae.has(be))&&xt(be),ee.delete(be),ae.delete(be),ie.delete(be),ve.delete(be),te.delete(be),R.fetchers.delete(be)}function Lr(be){let ye=(pe.get(be)||0)-1;ye<=0?(pe.delete(be),ve.add(be)):pe.set(be,ye),Je({fetchers:new Map(R.fetchers)})}function xt(be){let ye=oe.get(be);ye&&(ye.abort(),oe.delete(be))}function Ut(be){for(let ye of be){let Ae=fr(ye),Xe=wd(Ae.data);R.fetchers.set(ye,Xe)}}function rn(){let be=[],ye=!1;for(let Ae of ie){let Xe=R.fetchers.get(Ae);tn(Xe,`Expected fetcher: ${Ae}`),Xe.state==="loading"&&(ie.delete(Ae),be.push(Ae),ye=!0)}return Ut(be),ye}function jt(be){let ye=[];for(let[Ae,Xe]of ae)if(Xe<be){let Qe=R.fetchers.get(Ae);tn(Qe,`Expected fetcher: ${Ae}`),Qe.state==="loading"&&(xt(Ae),ae.delete(Ae),ye.push(Ae))}return Ut(ye),ye.length>0}function Tr(be,ye){let Ae=R.blockers.get(be)||bg;return _e.get(be)!==ye&&_e.set(be,ye),Ae}function Or(be){R.blockers.delete(be),_e.delete(be)}function Hr(be,ye){let Ae=R.blockers.get(be)||bg;tn(Ae.state==="unblocked"&&ye.state==="blocked"||Ae.state==="blocked"&&ye.state==="blocked"||Ae.state==="blocked"&&ye.state==="proceeding"||Ae.state==="blocked"&&ye.state==="unblocked"||Ae.state==="proceeding"&&ye.state==="unblocked",`Invalid blocker state transition: ${Ae.state} -> ${ye.state}`);let Xe=new Map(R.blockers);Xe.set(be,ye),Je({blockers:Xe})}function ln({currentLocation:be,nextLocation:ye,historyAction:Ae}){if(_e.size===0)return;_e.size>1&&bi(!1,"A router only supports one blocker at a time");let Xe=Array.from(_e.entries()),[Qe,St]=Xe[Xe.length-1],Lt=R.blockers.get(Qe);if(!(Lt&&Lt.state==="proceeding")&&St({currentLocation:be,nextLocation:ye,historyAction:Ae}))return Qe}function Cn(be){let ye=qo(404,{pathname:be}),Ae=o||a,{matches:Xe,route:Qe}=aL(Ae);return{notFoundMatches:Xe,route:Qe,error:ye}}function wn(be,ye,Ae){if(g=be,y=ye,v=Ae||null,!_&&R.navigation===B1){_=!0;let Xe=fe(R.location,R.matches);Xe!=null&&Je({restoreScrollPosition:Xe})}return()=>{g=null,y=null,v=null}}function Fr(be,ye){return v&&v(be,ye.map(Xe=>l8(Xe,R.loaderData)))||be.key}function se(be,ye){if(g&&y){let Ae=Fr(be,ye);g[Ae]=y()}}function fe(be,ye){if(g){let Ae=Fr(be,ye),Xe=g[Ae];if(typeof Xe=="number")return Xe}return null}function Te(be,ye,Ae){if(r.patchRoutesOnNavigation)if(be){if(Object.keys(be[0].params).length>0)return{active:!0,matches:Zx(ye,Ae,l,!0)}}else return{active:!0,matches:Zx(ye,Ae,l,!0)||[]};return{active:!1,matches:null}}async function je(be,ye,Ae,Xe){if(!r.patchRoutesOnNavigation)return{type:"success",matches:be};let Qe=be;for(;;){let St=o==null,Lt=o||a,dt=s;try{await r.patchRoutesOnNavigation({signal:Ae,path:ye,matches:Qe,fetcherKey:Xe,patch:(Kt,Nt)=>{Ae.aborted||QR(Kt,Nt,Lt,dt,i)}})}catch(Kt){return{type:"error",error:Kt,partialMatches:Qe}}finally{St&&!Ae.aborted&&(a=[...a])}if(Ae.aborted)return{type:"aborted"};let _t=Rd(Lt,ye,l);if(_t)return{type:"success",matches:_t};let Vt=Zx(Lt,ye,l,!0);if(!Vt||Qe.length===Vt.length&&Qe.every((Kt,Nt)=>Kt.route.id===Vt[Nt].route.id))return{type:"success",matches:null};Qe=Vt}}function gt(be){s={},o=D_(be,i,void 0,s)}function Tt(be,ye){let Ae=o==null;QR(be,ye,o||a,s,i),Ae&&(a=[...a],Je({}))}return A={get basename(){return l},get future(){return c},get state(){return R},get routes(){return a},get window(){return e},initialize:ot,subscribe:mt,enableScrollRestoration:wn,navigate:Rt,fetch:qe,revalidate:Ve,createHref:be=>r.history.createHref(be),encodeLocation:be=>r.history.encodeLocation(be),getFetcher:fr,deleteFetcher:Lr,dispose:ze,getBlocker:Tr,deleteBlocker:Or,patchRoutes:Tt,_internalFetchControllers:oe,_internalSetRoutes:gt},A}function $G(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Nw(r,e,t,n,i,s){let a,o;if(i){a=[];for(let u of e)if(a.push(u),u.route.id===i){o=u;break}}else a=e,o=e[e.length-1];let l=HE(n||".",zE(a),nl(r.pathname,t)||r.pathname,s==="path");if(n==null&&(l.search=r.search,l.hash=r.hash),(n==null||n===""||n===".")&&o){let u=WE(l.search);if(o.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!o.route.index&&u){let c=new URLSearchParams(l.search),h=c.getAll("index");c.delete("index"),h.filter(g=>g).forEach(g=>c.append("index",g));let f=c.toString();l.search=f?`?${f}`:""}}return t!=="/"&&(l.pathname=l.pathname==="/"?t:Pu([t,l.pathname])),jd(l)}function XR(r,e,t){if(!t||!$G(t))return{path:e};if(t.formMethod&&!JG(t.formMethod))return{path:e,error:qo(405,{method:t.formMethod})};let n=()=>({path:e,error:qo(400,{type:"invalid-body"})}),s=(t.formMethod||"get").toUpperCase(),a=_8(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!fo(s))return n();let h=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((f,[g,v])=>`${f}${g}=${v}
`,""):String(t.body);return{path:e,submission:{formMethod:s,formAction:a,formEncType:t.formEncType,formData:void 0,json:void 0,text:h}}}else if(t.formEncType==="application/json"){if(!fo(s))return n();try{let h=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:s,formAction:a,formEncType:t.formEncType,formData:void 0,json:h,text:void 0}}}catch{return n()}}}tn(typeof FormData=="function","FormData is not available in this environment");let o,l;if(t.formData)o=jw(t.formData),l=t.formData;else if(t.body instanceof FormData)o=jw(t.body),l=t.body;else if(t.body instanceof URLSearchParams)o=t.body,l=rL(o);else if(t.body==null)o=new URLSearchParams,l=new FormData;else try{o=new URLSearchParams(t.body),l=rL(o)}catch{return n()}let u={formMethod:s,formAction:a,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(fo(u.formMethod))return{path:e,submission:u};let c=jc(e);return r&&c.search&&WE(c.search)&&o.append("index",""),c.search=`?${o}`,{path:jd(c),submission:u}}function YR(r,e,t,n,i,s,a,o,l,u,c,h,f,g,v,y,_,C,k){let D=k?ho(k[1])?k[1].error:k[1].data:void 0,I=i.createURL(s.location),A=i.createURL(l),R;if(c&&s.errors){let H=Object.keys(s.errors)[0];R=a.findIndex(W=>W.route.id===H)}else if(k&&ho(k[1])){let H=k[0];R=a.findIndex(W=>W.route.id===H)-1}let N=k?k[1].statusCode:void 0,U=N&&N>=400,F={currentUrl:I,currentParams:s.matches[0]?.params||{},nextUrl:A,nextParams:a[0].params,...o,actionResult:D,actionStatus:N},w=a.map((H,W)=>{let{route:Q}=H,te=null;if(R!=null&&W>R?te=!1:Q.lazy?te=!0:Q.loader==null?te=!1:c?te=Uw(Q,s.loaderData,s.errors):jG(s.loaderData,s.matches[W],H)&&(te=!0),te!==null)return $w(t,n,r,H,u,e,te);let oe=U?!1:h||I.pathname+I.search===A.pathname+A.search||I.search!==A.search||zG(s.matches[W],H),de={...F,defaultShouldRevalidate:oe},le=R_(H,de);return $w(t,n,r,H,u,e,le,de)}),$=[];return v.forEach((H,W)=>{if(c||!a.some(ie=>ie.route.id===H.routeId)||g.has(W))return;let Q=Rd(_,H.path,C);if(!Q){$.push({key:W,routeId:H.routeId,path:H.path,matches:null,match:null,request:null,controller:null});return}if(y.has(W))return;let te=s.fetchers.get(W),oe=Hg(Q,H.path),de=new AbortController,le=cp(i,H.path,de.signal),ae=null;if(f.has(W))f.delete(W),ae=kp(t,n,le,Q,oe,u,e);else if(te&&te.state!=="idle"&&te.data===void 0)h&&(ae=kp(t,n,le,Q,oe,u,e));else{let ie={...F,defaultShouldRevalidate:U?!1:h};R_(oe,ie)&&(ae=kp(t,n,le,Q,oe,u,e,ie))}ae&&$.push({key:W,routeId:H.routeId,path:H.path,matches:ae,match:oe,request:le,controller:de})}),{dsMatches:w,revalidatingFetchers:$}}function Uw(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let n=e!=null&&r.id in e,i=t!=null&&t[r.id]!==void 0;return!n&&i?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!n&&!i}function jG(r,e,t){let n=!e||t.route.id!==e.route.id,i=!r.hasOwnProperty(t.route.id);return n||i}function zG(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function R_(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function QR(r,e,t,n,i){let s;if(r){let l=n[r];tn(l,`No route found to patch children into: routeId = ${r}`),l.children||(l.children=[]),s=l.children}else s=t;let a=e.filter(l=>!s.some(u=>m8(l,u))),o=D_(a,i,[r||"_","patch",String(s?.length||"0")],n);s.push(...o)}function m8(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,n)=>e.children?.some(i=>m8(t,i))):!1}var JR=new WeakMap,g8=({key:r,route:e,manifest:t,mapRouteProperties:n})=>{let i=t[e.id];if(tn(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let s=i.lazy[r];if(!s)return;let a=JR.get(i);a||(a={},JR.set(i,a));let o=a[r];if(o)return o;let l=(async()=>{let u=dG(r),h=i[r]!==void 0&&r!=="hasErrorBoundary";if(u)bi(!u,"Route property "+r+" is not a supported lazy route property. This property will be ignored."),a[r]=Promise.resolve();else if(h)bi(!1,`Route "${i.id}" has a static property "${r}" defined. The lazy property will be ignored.`);else{let f=await s();f!=null&&(Object.assign(i,{[r]:f}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[r]=void 0,Object.values(i.lazy).every(f=>f===void 0)&&(i.lazy=void 0))})();return a[r]=l,l},ZR=new WeakMap;function HG(r,e,t,n,i){let s=t[r.id];if(tn(s,"No route found in manifest"),!r.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof r.lazy=="function"){let c=ZR.get(s);if(c)return{lazyRoutePromise:c,lazyHandlerPromise:c};let h=(async()=>{tn(typeof r.lazy=="function","No lazy route function found");let f=await r.lazy(),g={};for(let v in f){let y=f[v];if(y===void 0)continue;let _=fG(v),k=s[v]!==void 0&&v!=="hasErrorBoundary";_?bi(!_,"Route property "+v+" is not a supported property to be returned from a lazy route function. This property will be ignored."):k?bi(!k,`Route "${s.id}" has a static property "${v}" defined but its lazy function is also returning a value for this property. The lazy route property "${v}" will be ignored.`):g[v]=y}Object.assign(s,g),Object.assign(s,{...n(s),lazy:void 0})})();return ZR.set(s,h),h.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:h}}let a=Object.keys(r.lazy),o=[],l;for(let c of a){if(i&&i.includes(c))continue;let h=g8({key:c,route:r,manifest:t,mapRouteProperties:n});h&&(o.push(h),c===e&&(l=h))}let u=o.length>0?Promise.all(o).then(()=>{}):void 0;return u?.catch(()=>{}),l?.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function eL(r){let e=r.matches.filter(i=>i.shouldLoad),t={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,s)=>{t[e[s].route.id]=i}),t}async function VG(r){return r.matches.some(e=>e.route.unstable_middleware)?v8(r,!1,()=>eL(r),(e,t)=>({[t]:{type:"error",result:e}})):eL(r)}async function v8(r,e,t,n){let{matches:i,request:s,params:a,context:o}=r,l={handlerResult:void 0};try{let u=i.flatMap(h=>h.route.unstable_middleware?h.route.unstable_middleware.map(f=>[h.route.id,f]):[]),c=await y8({request:s,params:a,context:o},u,e,l,t);return e?c:l.handlerResult}catch(u){if(!l.middlewareError)throw u;let c=await n(l.middlewareError.error,l.middlewareError.routeId);return l.handlerResult?Object.assign(l.handlerResult,c):c}}async function y8(r,e,t,n,i,s=0){let{request:a}=r;if(a.signal.aborted)throw a.signal.reason?a.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${a.method} ${a.url}`);let o=e[s];if(!o)return n.handlerResult=await i(),n.handlerResult;let[l,u]=o,c=!1,h,f=async()=>{if(c)throw new Error("You may only call `next()` once per middleware");c=!0,await y8(r,e,t,n,i,s+1)};try{let g=await u({request:r.request,params:r.params,context:r.context},f);return c?g===void 0?h:g:f()}catch(g){throw n.middlewareError?n.middlewareError.error!==g&&(n.middlewareError={routeId:l,error:g}):n.middlewareError={routeId:l,error:g},g}}function x8(r,e,t,n,i){let s=g8({key:"unstable_middleware",route:n.route,manifest:e,mapRouteProperties:r}),a=HG(n.route,fo(t.method)?"action":"loader",e,r,i);return{middleware:s,route:a.lazyRoutePromise,handler:a.lazyHandlerPromise}}function $w(r,e,t,n,i,s,a,o=null){let l=!1,u=x8(r,e,t,n,i);return{...n,_lazyPromises:u,shouldLoad:a,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler(c){return l=!0,o?typeof c=="boolean"?R_(n,{...o,defaultShouldRevalidate:c}):R_(n,o):a},resolve(c){return l||a||c&&t.method==="GET"&&(n.route.lazy||n.route.loader)?qG({request:t,match:n,lazyHandlerPromise:u?.handler,lazyRoutePromise:u?.route,handlerOverride:c,scopedContext:s}):Promise.resolve({type:"data",result:void 0})}}}function kp(r,e,t,n,i,s,a,o=null){return n.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:o,unstable_shouldCallHandler:()=>!1,_lazyPromises:x8(r,e,t,l,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:$w(r,e,t,l,s,a,!0,o))}async function WG(r,e,t,n,i,s){t.some(u=>u._lazyPromises?.middleware)&&await Promise.all(t.map(u=>u._lazyPromises?.middleware));let a={request:e,params:t[0].params,context:i,matches:t},l=await r({...a,fetcherKey:n,unstable_runClientMiddleware:u=>{let c=a;return v8(c,!1,()=>u({...c,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(h,f)=>({[f]:{type:"error",result:h}}))}});try{await Promise.all(t.flatMap(u=>[u._lazyPromises?.handler,u._lazyPromises?.route]))}catch{}return l}async function qG({request:r,match:e,lazyHandlerPromise:t,lazyRoutePromise:n,handlerOverride:i,scopedContext:s}){let a,o,l=fo(r.method),u=l?"action":"loader",c=h=>{let f,g=new Promise((_,C)=>f=C);o=()=>f(),r.signal.addEventListener("abort",o);let v=_=>typeof h!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${e.route.id}]`)):h({request:r,params:e.params,context:s},..._!==void 0?[_]:[]),y=(async()=>{try{return{type:"data",result:await(i?i(C=>v(C)):v())}}catch(_){return{type:"error",result:_}}})();return Promise.race([y,g])};try{let h=l?e.route.action:e.route.loader;if(t||n)if(h){let f,[g]=await Promise.all([c(h).catch(v=>{f=v}),t,n]);if(f!==void 0)throw f;a=g}else{await t;let f=l?e.route.action:e.route.loader;if(f)[a]=await Promise.all([c(f),n]);else if(u==="action"){let g=new URL(r.url),v=g.pathname+g.search;throw qo(405,{method:r.method,pathname:v,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(h)a=await c(h);else{let f=new URL(r.url),g=f.pathname+f.search;throw qo(404,{pathname:g})}}catch(h){return{type:"error",result:h}}finally{o&&r.signal.removeEventListener("abort",o)}return a}async function GG(r){let{result:e,type:t}=r;if(b8(e)){let n;try{let i=e.headers.get("Content-Type");i&&/\bapplication\/json\b/.test(i)?e.body==null?n=null:n=await e.json():n=await e.text()}catch(i){return{type:"error",error:i}}return t==="error"?{type:"error",error:new P_(e.status,e.statusText,n),statusCode:e.status,headers:e.headers}:{type:"data",data:n,statusCode:e.status,headers:e.headers}}return t==="error"?oL(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new P_(e.init?.status||500,void 0,e.data),statusCode:A0(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:A0(e)?e.status:void 0}:oL(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function KG(r,e,t,n,i){let s=r.headers.get("Location");if(tn(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!VE.test(s)){let a=n.slice(0,n.findIndex(o=>o.route.id===t)+1);s=Nw(new URL(e.url),a,i,s),r.headers.set("Location",s)}return r}function tL(r,e,t){if(VE.test(r)){let n=r,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=nl(i.pathname,t)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return r}function cp(r,e,t,n){let i=r.createURL(_8(e)).toString(),s={signal:t};if(n&&fo(n.formMethod)){let{formMethod:a,formEncType:o}=n;s.method=a.toUpperCase(),o==="application/json"?(s.headers=new Headers({"Content-Type":o}),s.body=JSON.stringify(n.json)):o==="text/plain"?s.body=n.text:o==="application/x-www-form-urlencoded"&&n.formData?s.body=jw(n.formData):s.body=n.formData}return new Request(i,s)}function jw(r){let e=new URLSearchParams;for(let[t,n]of r.entries())e.append(t,typeof n=="string"?n:n.name);return e}function rL(r){let e=new FormData;for(let[t,n]of r.entries())e.append(t,n);return e}function XG(r,e,t,n=!1,i=!1){let s={},a=null,o,l=!1,u={},c=t&&ho(t[1])?t[1].error:void 0;return r.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,g=e[f];if(tn(!qh(g),"Cannot handle redirect results in processLoaderData"),ho(g)){let v=g.error;if(c!==void 0&&(v=c,c=void 0),a=a||{},i)a[f]=v;else{let y=$h(r,f);a[y.route.id]==null&&(a[y.route.id]=v)}n||(s[f]=p8),l||(l=!0,o=A0(g.error)?g.error.status:500),g.headers&&(u[f]=g.headers)}else s[f]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(o=g.statusCode),g.headers&&(u[f]=g.headers)}),c!==void 0&&t&&(a={[t[0]]:c},t[2]&&(s[t[2]]=void 0)),{loaderData:s,errors:a,statusCode:o||200,loaderHeaders:u}}function nL(r,e,t,n,i,s){let{loaderData:a,errors:o}=XG(e,t,n);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:c,controller:h}=l,f=s[u];if(tn(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ho(f)){let g=$h(r.matches,c?.route.id);o&&o[g.route.id]||(o={...o,[g.route.id]:f.error}),r.fetchers.delete(u)}else if(qh(f))tn(!1,"Unhandled fetcher revalidation redirect");else{let g=wd(f.data);r.fetchers.set(u,g)}}),{loaderData:a,errors:o}}function iL(r,e,t,n){let i=Object.entries(e).filter(([,s])=>s!==p8).reduce((s,[a,o])=>(s[a]=o,s),{});for(let s of t){let a=s.route.id;if(!e.hasOwnProperty(a)&&r.hasOwnProperty(a)&&s.route.loader&&(i[a]=r[a]),n&&n.hasOwnProperty(a))break}return i}function sL(r){return r?ho(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function $h(r,e){return(e?r.slice(0,r.findIndex(n=>n.route.id===e)+1):[...r]).reverse().find(n=>n.route.hasErrorBoundary===!0)||r[0]}function aL(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function qo(r,{pathname:e,routeId:t,method:n,type:i,message:s}={}){let a="Unknown Server Error",o="Unknown @remix-run/router error";return r===400?(a="Bad Request",n&&e&&t?o=`You made a ${n} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(o="Unable to encode submission body")):r===403?(a="Forbidden",o=`Route "${t}" does not match URL "${e}"`):r===404?(a="Not Found",o=`No route matches URL "${e}"`):r===405&&(a="Method Not Allowed",n&&e&&t?o=`You made a ${n.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:n&&(o=`Invalid request method "${n.toUpperCase()}"`)),new P_(r||500,a,new Error(o),!0)}function Ey(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[n,i]=e[t];if(qh(i))return{key:n,result:i}}}function _8(r){let e=typeof r=="string"?jc(r):r;return jd({...e,hash:""})}function YG(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function QG(r){return b8(r.result)&&MG.has(r.result.status)}function ho(r){return r.type==="error"}function qh(r){return(r&&r.type)==="redirect"}function oL(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function b8(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function JG(r){return OG.has(r.toUpperCase())}function fo(r){return RG.has(r.toUpperCase())}function WE(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function Hg(r,e){let t=typeof e=="string"?jc(e).search:e.search;if(r[r.length-1].route.index&&WE(t||""))return r[r.length-1];let n=d8(r);return n[n.length-1]}function lL(r){let{formMethod:e,formAction:t,formEncType:n,text:i,formData:s,json:a}=r;if(!(!e||!t||!n)){if(i!=null)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:t,formEncType:n,formData:s,json:void 0,text:void 0};if(a!==void 0)return{formMethod:e,formAction:t,formEncType:n,formData:void 0,json:a,text:void 0}}}function N1(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ZG(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Sg(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function eK(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function wd(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function tK(r,e){try{let t=r.sessionStorage.getItem(f8);if(t){let n=JSON.parse(t);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function rK(r,e){if(e.size>0){let t={};for(let[n,i]of e)t[n]=[...i];try{r.sessionStorage.setItem(f8,JSON.stringify(t))}catch(n){bi(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function nK(){let r,e,t=new Promise((n,i)=>{r=async s=>{n(s);try{await t}catch{}},e=async s=>{i(s);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var wf=M.createContext(null);wf.displayName="DataRouter";var rv=M.createContext(null);rv.displayName="DataRouterState";var qE=M.createContext({isTransitioning:!1});qE.displayName="ViewTransition";var S8=M.createContext(new Map);S8.displayName="Fetchers";var iK=M.createContext(null);iK.displayName="Await";var Ku=M.createContext(null);Ku.displayName="Navigation";var tS=M.createContext(null);tS.displayName="Location";var Xu=M.createContext({outlet:null,matches:[],isDataRoute:!1});Xu.displayName="Route";var GE=M.createContext(null);GE.displayName="RouteError";function sK(r,{relative:e}={}){tn(nv(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=M.useContext(Ku),{hash:i,pathname:s,search:a}=sv(r,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Pu([t,s])),n.createHref({pathname:o,search:a,hash:i})}function nv(){return M.useContext(tS)!=null}function Yu(){return tn(nv(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(tS).location}var T8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C8(r){M.useContext(Ku).static||M.useLayoutEffect(r)}function iv(){let{isDataRoute:r}=M.useContext(Xu);return r?_K():aK()}function aK(){tn(nv(),"useNavigate() may be used only in the context of a <Router> component.");let r=M.useContext(wf),{basename:e,navigator:t}=M.useContext(Ku),{matches:n}=M.useContext(Xu),{pathname:i}=Yu(),s=JSON.stringify(zE(n)),a=M.useRef(!1);return C8(()=>{a.current=!0}),M.useCallback((l,u={})=>{if(bi(a.current,T8),!a.current)return;if(typeof l=="number"){t.go(l);return}let c=HE(l,JSON.parse(s),i,u.relative==="path");r==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Pu([e,c.pathname])),(u.replace?t.replace:t.push)(c,u.state,u)},[e,t,s,i,r])}var oK=M.createContext(null);function lK(r){let e=M.useContext(Xu).outlet;return e&&M.createElement(oK.Provider,{value:r},e)}function sv(r,{relative:e}={}){let{matches:t}=M.useContext(Xu),{pathname:n}=Yu(),i=JSON.stringify(zE(t));return M.useMemo(()=>HE(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function uK(r,e,t,n){tn(nv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:s}=M.useContext(Ku),{matches:a}=M.useContext(Xu),o=a[a.length-1],l=o?o.params:{},u=o?o.pathname:"/",c=o?o.pathnameBase:"/",h=o&&o.route;{let k=h&&h.path||"";E8(u,!h||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let f=Yu(),g;g=f;let v=g.pathname||"/",y=v;if(c!=="/"){let k=c.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=!s&&t&&t.matches&&t.matches.length>0?t.matches:Rd(r,{pathname:y});return bi(h||_!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),bi(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),pK(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Pu([c,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Pu([c,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,t,n)}function cK(){let r=xK(),e=A0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},a=null;return console.error("Error handled by React Router default ErrorBoundary:",r),a=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:s},"ErrorBoundary")," or"," ",M.createElement("code",{style:s},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),t?M.createElement("pre",{style:i},t):null,a)}var dK=M.createElement(cK,null),hK=class extends M.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?M.createElement(Xu.Provider,{value:this.props.routeContext},M.createElement(GE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fK({routeContext:r,match:e,children:t}){let n=M.useContext(wf);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(Xu.Provider,{value:r},t)}function pK(r,e=[],t=null,n=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let i=r,s=t?.errors;if(s!=null){let l=i.findIndex(u=>u.route.id&&s?.[u.route.id]!==void 0);tn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let a=!1,o=-1;if(t)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(o=l),u.route.id){let{loaderData:c,errors:h}=t,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!h||h[u.route.id]===void 0);if(u.route.lazy||f){a=!0,o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let h,f=!1,g=null,v=null;t&&(h=s&&u.route.id?s[u.route.id]:void 0,g=u.route.errorElement||dK,a&&(o<0&&c===0?(E8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,v=null):o===c&&(f=!0,v=u.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,c+1)),_=()=>{let C;return h?C=g:f?C=v:u.route.Component?C=M.createElement(u.route.Component,null):u.route.element?C=u.route.element:C=l,M.createElement(fK,{match:u,routeContext:{outlet:l,matches:y,isDataRoute:t!=null},children:C})};return t&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?M.createElement(hK,{location:t.location,revalidation:t.revalidation,component:g,error:h,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}function KE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mK(r){let e=M.useContext(wf);return tn(e,KE(r)),e}function w8(r){let e=M.useContext(rv);return tn(e,KE(r)),e}function gK(r){let e=M.useContext(Xu);return tn(e,KE(r)),e}function XE(r){let e=gK(r),t=e.matches[e.matches.length-1];return tn(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function vK(){return XE("useRouteId")}function yK(){let{matches:r,loaderData:e}=w8("useMatches");return M.useMemo(()=>r.map(t=>l8(t,e)),[r,e])}function xK(){let r=M.useContext(GE),e=w8("useRouteError"),t=XE("useRouteError");return r!==void 0?r:e.errors?.[t]}function _K(){let{router:r}=mK("useNavigate"),e=XE("useNavigate"),t=M.useRef(!1);return C8(()=>{t.current=!0}),M.useCallback(async(i,s={})=>{bi(t.current,T8),t.current&&(typeof i=="number"?r.navigate(i):await r.navigate(i,{fromRouteId:e,...s}))},[r,e])}var uL={};function E8(r,e,t){!e&&!uL[r]&&(uL[r]=!0,bi(!1,t))}var cL={};function dL(r,e){!r&&!cL[e]&&(cL[e]=!0,console.warn(e))}function bK(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&bi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:M.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&bi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:M.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&bi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:M.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var SK=["HydrateFallback","hydrateFallbackElement"],TK=class{constructor(){this.status="pending",this.promise=new Promise((r,e)=>{this.resolve=t=>{this.status==="pending"&&(this.status="resolved",r(t))},this.reject=t=>{this.status==="pending"&&(this.status="rejected",e(t))}})}};function CK({router:r,flushSync:e}){let[t,n]=M.useState(r.state),[i,s]=M.useState(),[a,o]=M.useState({isTransitioning:!1}),[l,u]=M.useState(),[c,h]=M.useState(),[f,g]=M.useState(),v=M.useRef(new Map),y=M.useCallback((D,{deletedFetchers:I,flushSync:A,viewTransitionOpts:R})=>{D.fetchers.forEach((U,F)=>{U.data!==void 0&&v.current.set(F,U.data)}),I.forEach(U=>v.current.delete(U)),dL(A===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let N=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(dL(R==null||N,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!R||!N){e&&A?e(()=>n(D)):M.startTransition(()=>n(D));return}if(e&&A){e(()=>{c&&(l&&l.resolve(),c.skipTransition()),o({isTransitioning:!0,flushSync:!0,currentLocation:R.currentLocation,nextLocation:R.nextLocation})});let U=r.window.document.startViewTransition(()=>{e(()=>n(D))});U.finished.finally(()=>{e(()=>{u(void 0),h(void 0),s(void 0),o({isTransitioning:!1})})}),e(()=>h(U));return}c?(l&&l.resolve(),c.skipTransition(),g({state:D,currentLocation:R.currentLocation,nextLocation:R.nextLocation})):(s(D),o({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}))},[r.window,e,c,l]);M.useLayoutEffect(()=>r.subscribe(y),[r,y]),M.useEffect(()=>{a.isTransitioning&&!a.flushSync&&u(new TK)},[a]),M.useEffect(()=>{if(l&&i&&r.window){let D=i,I=l.promise,A=r.window.document.startViewTransition(async()=>{M.startTransition(()=>n(D)),await I});A.finished.finally(()=>{u(void 0),h(void 0),s(void 0),o({isTransitioning:!1})}),h(A)}},[i,l,r.window]),M.useEffect(()=>{l&&i&&t.location.key===i.location.key&&l.resolve()},[l,c,t.location,i]),M.useEffect(()=>{!a.isTransitioning&&f&&(s(f.state),o({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),g(void 0))},[a.isTransitioning,f]);let _=M.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:D=>r.navigate(D),push:(D,I,A)=>r.navigate(D,{state:I,preventScrollReset:A?.preventScrollReset}),replace:(D,I,A)=>r.navigate(D,{replace:!0,state:I,preventScrollReset:A?.preventScrollReset})}),[r]),C=r.basename||"/",k=M.useMemo(()=>({router:r,navigator:_,static:!1,basename:C}),[r,_,C]);return M.createElement(M.Fragment,null,M.createElement(wf.Provider,{value:k},M.createElement(rv.Provider,{value:t},M.createElement(S8.Provider,{value:v.current},M.createElement(qE.Provider,{value:a},M.createElement(AK,{basename:C,location:t.location,navigationType:t.historyAction,navigator:_},M.createElement(wK,{routes:r.routes,future:r.future,state:t})))))),null)}var wK=M.memo(EK);function EK({routes:r,future:e,state:t}){return uK(r,void 0,t,e)}function kK(r){return lK(r.context)}function AK({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:s=!1}){tn(!nv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=r.replace(/^\/*/,"/"),o=M.useMemo(()=>({basename:a,navigator:i,static:s,future:{}}),[a,i,s]);typeof t=="string"&&(t=jc(t));let{pathname:l="/",search:u="",hash:c="",state:h=null,key:f="default"}=t,g=M.useMemo(()=>{let v=nl(l,a);return v==null?null:{location:{pathname:v,search:u,hash:c,state:h,key:f},navigationType:n}},[a,l,u,c,h,f,n]);return bi(g!=null,`<Router basename="${a}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:M.createElement(Ku.Provider,{value:o},M.createElement(tS.Provider,{children:e,value:g}))}var e_="get",t_="application/x-www-form-urlencoded";function rS(r){return r!=null&&typeof r.tagName=="string"}function DK(r){return rS(r)&&r.tagName.toLowerCase()==="button"}function IK(r){return rS(r)&&r.tagName.toLowerCase()==="form"}function PK(r){return rS(r)&&r.tagName.toLowerCase()==="input"}function RK(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LK(r,e){return r.button===0&&(!e||e==="_self")&&!RK(r)}var ky=null;function OK(){if(ky===null)try{new FormData(document.createElement("form"),0),ky=!1}catch{ky=!0}return ky}var MK=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function U1(r){return r!=null&&!MK.has(r)?(bi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${t_}"`),null):r}function FK(r,e){let t,n,i,s,a;if(IK(r)){let o=r.getAttribute("action");n=o?nl(o,e):null,t=r.getAttribute("method")||e_,i=U1(r.getAttribute("enctype"))||t_,s=new FormData(r)}else if(DK(r)||PK(r)&&(r.type==="submit"||r.type==="image")){let o=r.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=r.getAttribute("formaction")||o.getAttribute("action");if(n=l?nl(l,e):null,t=r.getAttribute("formmethod")||o.getAttribute("method")||e_,i=U1(r.getAttribute("formenctype"))||U1(o.getAttribute("enctype"))||t_,s=new FormData(o,r),!OK()){let{name:u,type:c,value:h}=r;if(c==="image"){let f=u?`${u}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else u&&s.append(u,h)}}else{if(rS(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=e_,n=null,i=t_,a=r}return s&&i==="text/plain"&&(a=s,s=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:s,body:a}}function YE(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function BK(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NK(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function UK(r,e,t){let n=await Promise.all(r.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await BK(s,t);return a.links?a.links():[]}return[]}));return HK(n.flat(1).filter(NK).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function hL(r,e,t,n,i,s){let a=(l,u)=>t[u]?l.route.id!==t[u].route.id:!0,o=(l,u)=>t[u].pathname!==l.pathname||t[u].route.path?.endsWith("*")&&t[u].params["*"]!==l.params["*"];return s==="assets"?e.filter((l,u)=>a(l,u)||o(l,u)):s==="data"?e.filter((l,u)=>{let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(a(l,u)||o(l,u))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function $K(r,e,{includeHydrateFallback:t}={}){return jK(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function jK(r){return[...new Set(r)]}function zK(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function HK(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let s=JSON.stringify(zK(i));return t.has(s)||(t.add(s),n.push({key:s,link:i})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var VK=new Set([100,101,204,205]);function WK(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&nl(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function k8(){let r=M.useContext(wf);return YE(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qK(){let r=M.useContext(rv);return YE(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var QE=M.createContext(void 0);QE.displayName="FrameworkContext";function A8(){let r=M.useContext(QE);return YE(r,"You must render this element inside a <HydratedRouter> element"),r}function GK(r,e){let t=M.useContext(QE),[n,i]=M.useState(!1),[s,a]=M.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:h}=e,f=M.useRef(null);M.useEffect(()=>{if(r==="render"&&a(!0),r==="viewport"){let y=C=>{C.forEach(k=>{a(k.isIntersecting)})},_=new IntersectionObserver(y,{threshold:.5});return f.current&&_.observe(f.current),()=>{_.disconnect()}}},[r]),M.useEffect(()=>{if(n){let y=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{i(!0)},v=()=>{i(!1),a(!1)};return t?r!=="intent"?[s,f,{}]:[s,f,{onFocus:Tg(o,g),onBlur:Tg(l,v),onMouseEnter:Tg(u,g),onMouseLeave:Tg(c,v),onTouchStart:Tg(h,g)}]:[!1,f,{}]}function Tg(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function KK({page:r,...e}){let{router:t}=k8(),n=M.useMemo(()=>Rd(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?M.createElement(YK,{page:r,matches:n,...e}):null}function XK(r){let{manifest:e,routeModules:t}=A8(),[n,i]=M.useState([]);return M.useEffect(()=>{let s=!1;return UK(r,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[r,e,t]),n}function YK({page:r,matches:e,...t}){let n=Yu(),{manifest:i,routeModules:s}=A8(),{basename:a}=k8(),{loaderData:o,matches:l}=qK(),u=M.useMemo(()=>hL(r,e,l,i,n,"data"),[r,e,l,i,n]),c=M.useMemo(()=>hL(r,e,l,i,n,"assets"),[r,e,l,i,n]),h=M.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let v=new Set,y=!1;if(e.forEach(C=>{let k=i.routes[C.route.id];!k||!k.hasLoader||(!u.some(D=>D.route.id===C.route.id)&&C.route.id in o&&s[C.route.id]?.shouldRevalidate||k.hasClientLoader?y=!0:v.add(C.route.id))}),v.size===0)return[];let _=WK(r,a);return y&&v.size>0&&_.searchParams.set("_routes",e.filter(C=>v.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[a,o,n,i,u,e,r,s]),f=M.useMemo(()=>$K(c,i),[c,i]),g=XK(c);return M.createElement(M.Fragment,null,h.map(v=>M.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),f.map(v=>M.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),g.map(({key:v,link:y})=>M.createElement("link",{key:v,...y})))}function QK(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D8=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D8&&(window.__reactRouterVersion="7.6.0")}catch{}function JK(r,e){return UG({basename:e?.basename,unstable_getContext:e?.unstable_getContext,future:e?.future,history:oG({window:e?.window}),hydrationData:ZK(),routes:r,mapRouteProperties:bK,hydrationRouteProperties:SK,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window}).initialize()}function ZK(){let r=window?.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:eX(r.errors)}),r}function eX(r){if(!r)return null;let e=Object.entries(r),t={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")t[n]=new P_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let a=new s(i.message);a.stack="",t[n]=a}catch{}}if(t[n]==null){let s=new Error(i.message);s.stack="",t[n]=s}}else t[n]=i;return t}var I8=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P8=M.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h,...f},g){let{basename:v}=M.useContext(Ku),y=typeof u=="string"&&I8.test(u),_,C=!1;if(typeof u=="string"&&y&&(_=u,D8))try{let F=new URL(window.location.href),w=u.startsWith("//")?new URL(F.protocol+u):new URL(u),$=nl(w.pathname,v);w.origin===F.origin&&$!=null?u=$+w.search+w.hash:C=!0}catch{bi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=sK(u,{relative:i}),[D,I,A]=GK(n,f),R=iX(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:h});function N(F){e&&e(F),F.defaultPrevented||R(F)}let U=M.createElement("a",{...f,...A,href:_||k,onClick:C||s?e:N,ref:QK(g,I),target:l,"data-discover":!y&&t==="render"?"true":void 0});return D&&!y?M.createElement(M.Fragment,null,U,M.createElement(KK,{page:k})):U});P8.displayName="Link";var tX=M.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...u},c){let h=sv(a,{relative:u.relative}),f=Yu(),g=M.useContext(rv),{navigator:v,basename:y}=M.useContext(Ku),_=g!=null&&uX(h)&&o===!0,C=v.encodeLocation?v.encodeLocation(h).pathname:h.pathname,k=f.pathname,D=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(k=k.toLowerCase(),D=D?D.toLowerCase():null,C=C.toLowerCase()),D&&y&&(D=nl(D,y)||D);const I=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let A=k===C||!i&&k.startsWith(C)&&k.charAt(I)==="/",R=D!=null&&(D===C||!i&&D.startsWith(C)&&D.charAt(C.length)==="/"),N={isActive:A,isPending:R,isTransitioning:_},U=A?e:void 0,F;typeof n=="function"?F=n(N):F=[n,A?"active":null,R?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let w=typeof s=="function"?s(N):s;return M.createElement(P8,{...u,"aria-current":U,className:F,ref:c,style:w,to:a,viewTransition:o},typeof l=="function"?l(N):l)});tX.displayName="NavLink";var rX=M.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:s,method:a=e_,action:o,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:h,...f},g)=>{let v=oX(),y=lX(o,{relative:u}),_=a.toLowerCase()==="get"?"get":"post",C=typeof o=="string"&&I8.test(o),k=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let I=D.nativeEvent.submitter,A=I?.getAttribute("formmethod")||a;v(I||D.currentTarget,{fetcherKey:e,method:A,navigate:t,replace:i,state:s,relative:u,preventScrollReset:c,viewTransition:h})};return M.createElement("form",{ref:g,method:_,action:y,onSubmit:n?l:k,...f,"data-discover":!C&&r==="render"?"true":void 0})});rX.displayName="Form";function nX(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R8(r){let e=M.useContext(wf);return tn(e,nX(r)),e}function iX(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:s,viewTransition:a}={}){let o=iv(),l=Yu(),u=sv(r,{relative:s});return M.useCallback(c=>{if(LK(c,e)){c.preventDefault();let h=t!==void 0?t:jd(l)===jd(u);o(r,{replace:h,state:n,preventScrollReset:i,relative:s,viewTransition:a})}},[l,o,u,t,n,e,r,i,s,a])}var sX=0,aX=()=>`__${String(++sX)}__`;function oX(){let{router:r}=R8("useSubmit"),{basename:e}=M.useContext(Ku),t=vK();return M.useCallback(async(n,i={})=>{let{action:s,method:a,encType:o,formData:l,body:u}=FK(n,e);if(i.navigate===!1){let c=i.fetcherKey||aX();await r.fetch(c,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await r.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[r,e,t])}function lX(r,{relative:e}={}){let{basename:t}=M.useContext(Ku),n=M.useContext(Xu);tn(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),s={...sv(r||".",{relative:e})},a=Yu();if(r==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(c=>c==="")){o.delete("index"),l.filter(h=>h).forEach(h=>o.append("index",h));let c=o.toString();s.search=c?`?${c}`:""}}return(!r||r===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Pu([t,s.pathname])),jd(s)}function uX(r,e={}){let t=M.useContext(qE);tn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=R8("useViewTransitionState"),i=sv(r,{relative:e.relative});if(!t.isTransitioning)return!1;let s=nl(t.currentLocation.pathname,n)||t.currentLocation.pathname,a=nl(t.nextLocation.pathname,n)||t.nextLocation.pathname;return I_(i.pathname,a)!=null||I_(i.pathname,s)!=null}[...VK];var Qo=CB();const Ay=ha(Qo);/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cX(r){return M.createElement(CK,{flushSync:Qo.flushSync,...r})}var $1={exports:{}},j1,fL;function dX(){if(fL)return j1;fL=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return j1=r,j1}var z1,pL;function hX(){if(pL)return z1;pL=1;var r=dX();function e(){}function t(){}return t.resetWarningCache=e,z1=function(){function n(a,o,l,u,c,h){if(h!==r){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return s.PropTypes=s,s},z1}var mL;function fX(){return mL||(mL=1,$1.exports=hX()()),$1.exports}var pX=fX();const Il=ha(pX);function L8(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var i=r.length;for(e=0;e<i;e++)r[e]&&(t=L8(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Et(){for(var r,e,t=0,n="",i=arguments.length;t<i;t++)(r=arguments[t])&&(e=L8(r))&&(n&&(n+=" "),n+=e);return n}function Jt(r,e,t=void 0){const n={};for(const i in r){const s=r[i];let a="",o=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(a+=(o===!0?"":" ")+e(u),o=!1,t&&t[u]&&(a+=" "+t[u]))}n[i]=a}return n}function zw(r,...e){const t=new URL(`https://mui.com/production-error/?code=${r}`);return e.forEach(n=>t.searchParams.append("args[]",n)),`Minified MUI error #${r}; visit ${t} for the full message.`}function O8(r){if(typeof r!="string")throw new Error(zw(7));return r.charAt(0).toUpperCase()+r.slice(1)}var H1={exports:{}},Ln={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gL;function mX(){if(gL)return Ln;gL=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),g=Symbol.for("react.client.reference");function v(y){if(typeof y=="object"&&y!==null){var _=y.$$typeof;switch(_){case r:switch(y=y.type,y){case t:case i:case n:case l:case u:case f:return y;default:switch(y=y&&y.$$typeof,y){case a:case o:case h:case c:return y;case s:return y;default:return _}}case e:return _}}}return Ln.ContextConsumer=s,Ln.ContextProvider=a,Ln.Element=r,Ln.ForwardRef=o,Ln.Fragment=t,Ln.Lazy=h,Ln.Memo=c,Ln.Portal=e,Ln.Profiler=i,Ln.StrictMode=n,Ln.Suspense=l,Ln.SuspenseList=u,Ln.isContextConsumer=function(y){return v(y)===s},Ln.isContextProvider=function(y){return v(y)===a},Ln.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===r},Ln.isForwardRef=function(y){return v(y)===o},Ln.isFragment=function(y){return v(y)===t},Ln.isLazy=function(y){return v(y)===h},Ln.isMemo=function(y){return v(y)===c},Ln.isPortal=function(y){return v(y)===e},Ln.isProfiler=function(y){return v(y)===i},Ln.isStrictMode=function(y){return v(y)===n},Ln.isSuspense=function(y){return v(y)===l},Ln.isSuspenseList=function(y){return v(y)===u},Ln.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===t||y===i||y===n||y===l||y===u||typeof y=="object"&&y!==null&&(y.$$typeof===h||y.$$typeof===c||y.$$typeof===a||y.$$typeof===s||y.$$typeof===o||y.$$typeof===g||y.getModuleId!==void 0)},Ln.typeOf=v,Ln}var vL;function gX(){return vL||(vL=1,H1.exports=mX()),H1.exports}var nS=gX();function Ld(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function M8(r){if(M.isValidElement(r)||nS.isValidElementType(r)||!Ld(r))return r;const e={};return Object.keys(r).forEach(t=>{e[t]=M8(r[t])}),e}function Lc(r,e,t={clone:!0}){const n=t.clone?{...r}:r;return Ld(r)&&Ld(e)&&Object.keys(e).forEach(i=>{M.isValidElement(e[i])||nS.isValidElementType(e[i])?n[i]=e[i]:Ld(e[i])&&Object.prototype.hasOwnProperty.call(r,i)&&Ld(r[i])?n[i]=Lc(r[i],e[i],t):t.clone?n[i]=Ld(e[i])?M8(e[i]):e[i]:n[i]=e[i]}),n}function n0(r,e){return e?Lc(r,e,{clone:!1}):r}function vX(r,e){if(!r.containerQueries)return e;const t=Object.keys(e).filter(n=>n.startsWith("@container")).sort((n,i)=>{const s=/min-width:\s*([0-9.]+)/;return+(n.match(s)?.[1]||0)-+(i.match(s)?.[1]||0)});return t.length?t.reduce((n,i)=>{const s=e[i];return delete n[i],n[i]=s,n},{...e}):e}function yX(r,e){return e==="@"||e.startsWith("@")&&(r.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function xX(r,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,n,i]=t,s=Number.isNaN(+n)?n||0:+n;return r.containerQueries(i).up(s)}function _X(r){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...o)=>e(r.breakpoints.up(...o),a),s.down=(...o)=>e(r.breakpoints.down(...o),a),s.between=(...o)=>e(r.breakpoints.between(...o),a),s.only=(...o)=>e(r.breakpoints.only(...o),a),s.not=(...o)=>{const l=e(r.breakpoints.not(...o),a);return l.includes("not all and")?l.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):l}}const n={},i=s=>(t(n,s),n);return t(i),{...r,containerQueries:i}}const iS={xs:0,sm:600,md:900,lg:1200,xl:1536},yL={keys:["xs","sm","md","lg","xl"],up:r=>`@media (min-width:${iS[r]}px)`},bX={containerQueries:r=>({up:e=>{let t=typeof e=="number"?e:iS[e]||e;return typeof t=="number"&&(t=`${t}px`),r?`@container ${r} (min-width:${t})`:`@container (min-width:${t})`}})};function Nl(r,e,t){const n=r.theme||{};if(Array.isArray(e)){const s=n.breakpoints||yL;return e.reduce((a,o,l)=>(a[s.up(s.keys[l])]=t(e[l]),a),{})}if(typeof e=="object"){const s=n.breakpoints||yL;return Object.keys(e).reduce((a,o)=>{if(yX(s.keys,o)){const l=xX(n.containerQueries?n:bX,o);l&&(a[l]=t(e[o],o))}else if(Object.keys(s.values||iS).includes(o)){const l=s.up(o);a[l]=t(e[o],o)}else{const l=o;a[l]=e[l]}return a},{})}return t(e)}function F8(r={}){return r.keys?.reduce((t,n)=>{const i=r.up(n);return t[i]={},t},{})||{}}function B8(r,e){return r.reduce((t,n)=>{const i=t[n];return(!i||Object.keys(i).length===0)&&delete t[n],t},e)}function SX(r,...e){const t=F8(r),n=[t,...e].reduce((i,s)=>Lc(i,s),{});return B8(Object.keys(t),n)}function TX(r,e){if(typeof r!="object")return{};const t={},n=Object.keys(e);return Array.isArray(r)?n.forEach((i,s)=>{s<r.length&&(t[i]=!0)}):n.forEach(i=>{r[i]!=null&&(t[i]=!0)}),t}function V1({values:r,breakpoints:e,base:t}){const n=t||TX(r,e),i=Object.keys(n);if(i.length===0)return r;let s;return i.reduce((a,o,l)=>(Array.isArray(r)?(a[o]=r[l]!=null?r[l]:r[s],s=l):typeof r=="object"?(a[o]=r[o]!=null?r[o]:r[s],s=o):a[o]=r,a),{})}function sS(r,e,t=!0){if(!e||typeof e!="string")return null;if(r&&r.vars&&t){const n=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,r);if(n!=null)return n}return e.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,r)}function L_(r,e,t,n=t){let i;return typeof r=="function"?i=r(t):Array.isArray(r)?i=r[t]||n:i=sS(r,t)||n,e&&(i=e(i,n,r)),i}function Si(r){const{prop:e,cssProperty:t=r.prop,themeKey:n,transform:i}=r,s=a=>{if(a[e]==null)return null;const o=a[e],l=a.theme,u=sS(l,n)||{};return Nl(a,o,h=>{let f=L_(u,i,h);return h===f&&typeof h=="string"&&(f=L_(u,i,`${e}${h==="default"?"":O8(h)}`,h)),t===!1?f:{[t]:f}})};return s.propTypes={},s.filterProps=[e],s}function CX(r){const e={};return t=>(e[t]===void 0&&(e[t]=r(t)),e[t])}const wX={m:"margin",p:"padding"},EX={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},xL={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kX=CX(r=>{if(r.length>2)if(xL[r])r=xL[r];else return[r];const[e,t]=r.split(""),n=wX[e],i=EX[t]||"";return Array.isArray(i)?i.map(s=>n+s):[n+i]}),JE=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],ZE=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...JE,...ZE];function av(r,e,t,n){const i=sS(r,e,!0)??t;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?i.startsWith("var(")&&s===0?0:i.startsWith("var(")&&s===1?i:`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=i[a];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof i=="function"?i:()=>{}}function aS(r){return av(r,"spacing",8)}function mf(r,e){return typeof e=="string"||e==null?e:r(e)}function AX(r,e){return t=>r.reduce((n,i)=>(n[i]=mf(e,t),n),{})}function DX(r,e,t,n){if(!e.includes(t))return null;const i=kX(t),s=AX(i,n),a=r[t];return Nl(r,a,s)}function N8(r,e){const t=aS(r.theme);return Object.keys(r).map(n=>DX(r,e,n,t)).reduce(n0,{})}function oi(r){return N8(r,JE)}oi.propTypes={};oi.filterProps=JE;function li(r){return N8(r,ZE)}li.propTypes={};li.filterProps=ZE;function oS(...r){const e=r.reduce((n,i)=>(i.filterProps.forEach(s=>{n[s]=i}),n),{}),t=n=>Object.keys(n).reduce((i,s)=>e[s]?n0(i,e[s](n)):i,{});return t.propTypes={},t.filterProps=r.reduce((n,i)=>n.concat(i.filterProps),[]),t}function Yo(r){return typeof r!="number"?r:`${r}px solid`}function cl(r,e){return Si({prop:r,themeKey:"borders",transform:e})}const IX=cl("border",Yo),PX=cl("borderTop",Yo),RX=cl("borderRight",Yo),LX=cl("borderBottom",Yo),OX=cl("borderLeft",Yo),MX=cl("borderColor"),FX=cl("borderTopColor"),BX=cl("borderRightColor"),NX=cl("borderBottomColor"),UX=cl("borderLeftColor"),$X=cl("outline",Yo),jX=cl("outlineColor"),lS=r=>{if(r.borderRadius!==void 0&&r.borderRadius!==null){const e=av(r.theme,"shape.borderRadius",4),t=n=>({borderRadius:mf(e,n)});return Nl(r,r.borderRadius,t)}return null};lS.propTypes={};lS.filterProps=["borderRadius"];oS(IX,PX,RX,LX,OX,MX,FX,BX,NX,UX,lS,$X,jX);const uS=r=>{if(r.gap!==void 0&&r.gap!==null){const e=av(r.theme,"spacing",8),t=n=>({gap:mf(e,n)});return Nl(r,r.gap,t)}return null};uS.propTypes={};uS.filterProps=["gap"];const cS=r=>{if(r.columnGap!==void 0&&r.columnGap!==null){const e=av(r.theme,"spacing",8),t=n=>({columnGap:mf(e,n)});return Nl(r,r.columnGap,t)}return null};cS.propTypes={};cS.filterProps=["columnGap"];const dS=r=>{if(r.rowGap!==void 0&&r.rowGap!==null){const e=av(r.theme,"spacing",8),t=n=>({rowGap:mf(e,n)});return Nl(r,r.rowGap,t)}return null};dS.propTypes={};dS.filterProps=["rowGap"];const zX=Si({prop:"gridColumn"}),HX=Si({prop:"gridRow"}),VX=Si({prop:"gridAutoFlow"}),WX=Si({prop:"gridAutoColumns"}),qX=Si({prop:"gridAutoRows"}),GX=Si({prop:"gridTemplateColumns"}),KX=Si({prop:"gridTemplateRows"}),XX=Si({prop:"gridTemplateAreas"}),YX=Si({prop:"gridArea"});oS(uS,cS,dS,zX,HX,VX,WX,qX,GX,KX,XX,YX);function Ap(r,e){return e==="grey"?e:r}const QX=Si({prop:"color",themeKey:"palette",transform:Ap}),JX=Si({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ap}),ZX=Si({prop:"backgroundColor",themeKey:"palette",transform:Ap});oS(QX,JX,ZX);function po(r){return r<=1&&r!==0?`${r*100}%`:r}const eY=Si({prop:"width",transform:po}),ek=r=>{if(r.maxWidth!==void 0&&r.maxWidth!==null){const e=t=>{const n=r.theme?.breakpoints?.values?.[t]||iS[t];return n?r.theme?.breakpoints?.unit!=="px"?{maxWidth:`${n}${r.theme.breakpoints.unit}`}:{maxWidth:n}:{maxWidth:po(t)}};return Nl(r,r.maxWidth,e)}return null};ek.filterProps=["maxWidth"];const tY=Si({prop:"minWidth",transform:po}),rY=Si({prop:"height",transform:po}),nY=Si({prop:"maxHeight",transform:po}),iY=Si({prop:"minHeight",transform:po});Si({prop:"size",cssProperty:"width",transform:po});Si({prop:"size",cssProperty:"height",transform:po});const sY=Si({prop:"boxSizing"});oS(eY,ek,tY,rY,nY,iY,sY);const ov={border:{themeKey:"borders",transform:Yo},borderTop:{themeKey:"borders",transform:Yo},borderRight:{themeKey:"borders",transform:Yo},borderBottom:{themeKey:"borders",transform:Yo},borderLeft:{themeKey:"borders",transform:Yo},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Yo},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:lS},color:{themeKey:"palette",transform:Ap},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ap},backgroundColor:{themeKey:"palette",transform:Ap},p:{style:li},pt:{style:li},pr:{style:li},pb:{style:li},pl:{style:li},px:{style:li},py:{style:li},padding:{style:li},paddingTop:{style:li},paddingRight:{style:li},paddingBottom:{style:li},paddingLeft:{style:li},paddingX:{style:li},paddingY:{style:li},paddingInline:{style:li},paddingInlineStart:{style:li},paddingInlineEnd:{style:li},paddingBlock:{style:li},paddingBlockStart:{style:li},paddingBlockEnd:{style:li},m:{style:oi},mt:{style:oi},mr:{style:oi},mb:{style:oi},ml:{style:oi},mx:{style:oi},my:{style:oi},margin:{style:oi},marginTop:{style:oi},marginRight:{style:oi},marginBottom:{style:oi},marginLeft:{style:oi},marginX:{style:oi},marginY:{style:oi},marginInline:{style:oi},marginInlineStart:{style:oi},marginInlineEnd:{style:oi},marginBlock:{style:oi},marginBlockStart:{style:oi},marginBlockEnd:{style:oi},displayPrint:{cssProperty:!1,transform:r=>({"@media print":{display:r}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uS},rowGap:{style:dS},columnGap:{style:cS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:po},maxWidth:{style:ek},minWidth:{transform:po},height:{transform:po},maxHeight:{transform:po},minHeight:{transform:po},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function aY(...r){const e=r.reduce((n,i)=>n.concat(Object.keys(i)),[]),t=new Set(e);return r.every(n=>t.size===Object.keys(n).length)}function oY(r,e){return typeof r=="function"?r(e):r}function lY(){function r(t,n,i,s){const a={[t]:n,theme:i},o=s[t];if(!o)return{[t]:n};const{cssProperty:l=t,themeKey:u,transform:c,style:h}=o;if(n==null)return null;if(u==="typography"&&n==="inherit")return{[t]:n};const f=sS(i,u)||{};return h?h(a):Nl(a,n,v=>{let y=L_(f,c,v);return v===y&&typeof v=="string"&&(y=L_(f,c,`${t}${v==="default"?"":O8(v)}`,v)),l===!1?y:{[l]:y}})}function e(t){const{sx:n,theme:i={}}=t||{};if(!n)return null;const s=i.unstable_sxConfig??ov;function a(o){let l=o;if(typeof o=="function")l=o(i);else if(typeof o!="object")return o;if(!l)return null;const u=F8(i.breakpoints),c=Object.keys(u);let h=u;return Object.keys(l).forEach(f=>{const g=oY(l[f],i);if(g!=null)if(typeof g=="object")if(s[f])h=n0(h,r(f,g,i,s));else{const v=Nl({theme:i},g,y=>({[f]:y}));aY(v,g)?h[f]=e({sx:g,theme:i}):h=n0(h,v)}else h=n0(h,r(f,g,i,s))}),vX(i,B8(c,h))}return Array.isArray(n)?n.map(a):a(n)}return e}const zd=lY();zd.filterProps=["sx"];const uY=r=>{const e={systemProps:{},otherProps:{}},t=r?.theme?.unstable_sxConfig??ov;return Object.keys(r).forEach(n=>{t[n]?e.systemProps[n]=r[n]:e.otherProps[n]=r[n]}),e};function hS(r){const{sx:e,...t}=r,{systemProps:n,otherProps:i}=uY(t);let s;return Array.isArray(e)?s=[n,...e]:typeof e=="function"?s=(...a)=>{const o=e(...a);return Ld(o)?{...n,...o}:n}:s={...n,...e},{...i,sx:s}}function sr(){return sr=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},sr.apply(null,arguments)}function cY(r){if(r.sheet)return r.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===r)return document.styleSheets[e]}function dY(r){var e=document.createElement("style");return e.setAttribute("data-emotion",r.key),r.nonce!==void 0&&e.setAttribute("nonce",r.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hY=(function(){function r(t){var n=this;this._insertTag=function(i){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,s),n.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=r.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dY(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=cY(i);try{s.insertRule(n,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var i;return(i=n.parentNode)==null?void 0:i.removeChild(n)}),this.tags=[],this.ctr=0},r})(),Bs="-ms-",O_="-moz-",Sn="-webkit-",U8="comm",tk="rule",rk="decl",fY="@import",$8="@keyframes",pY="@layer",mY=Math.abs,fS=String.fromCharCode,gY=Object.assign;function vY(r,e){return ys(r,0)^45?(((e<<2^ys(r,0))<<2^ys(r,1))<<2^ys(r,2))<<2^ys(r,3):0}function j8(r){return r.trim()}function yY(r,e){return(r=e.exec(r))?r[0]:r}function Tn(r,e,t){return r.replace(e,t)}function Hw(r,e){return r.indexOf(e)}function ys(r,e){return r.charCodeAt(e)|0}function D0(r,e,t){return r.slice(e,t)}function mu(r){return r.length}function nk(r){return r.length}function Dy(r,e){return e.push(r),r}function xY(r,e){return r.map(e).join("")}var pS=1,Kp=1,z8=0,Va=0,Di=0,wm="";function mS(r,e,t,n,i,s,a){return{value:r,root:e,parent:t,type:n,props:i,children:s,line:pS,column:Kp,length:a,return:""}}function Cg(r,e){return gY(mS("",null,null,"",null,null,0),r,{length:-r.length},e)}function _Y(){return Di}function bY(){return Di=Va>0?ys(wm,--Va):0,Kp--,Di===10&&(Kp=1,pS--),Di}function vo(){return Di=Va<z8?ys(wm,Va++):0,Kp++,Di===10&&(Kp=1,pS++),Di}function Ru(){return ys(wm,Va)}function r_(){return Va}function lv(r,e){return D0(wm,r,e)}function I0(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function H8(r){return pS=Kp=1,z8=mu(wm=r),Va=0,[]}function V8(r){return wm="",r}function n_(r){return j8(lv(Va-1,Vw(r===91?r+2:r===40?r+1:r)))}function SY(r){for(;(Di=Ru())&&Di<33;)vo();return I0(r)>2||I0(Di)>3?"":" "}function TY(r,e){for(;--e&&vo()&&!(Di<48||Di>102||Di>57&&Di<65||Di>70&&Di<97););return lv(r,r_()+(e<6&&Ru()==32&&vo()==32))}function Vw(r){for(;vo();)switch(Di){case r:return Va;case 34:case 39:r!==34&&r!==39&&Vw(Di);break;case 40:r===41&&Vw(r);break;case 92:vo();break}return Va}function CY(r,e){for(;vo()&&r+Di!==57;)if(r+Di===84&&Ru()===47)break;return"/*"+lv(e,Va-1)+"*"+fS(r===47?r:vo())}function wY(r){for(;!I0(Ru());)vo();return lv(r,Va)}function EY(r){return V8(i_("",null,null,null,[""],r=H8(r),0,[0],r))}function i_(r,e,t,n,i,s,a,o,l){for(var u=0,c=0,h=a,f=0,g=0,v=0,y=1,_=1,C=1,k=0,D="",I=i,A=s,R=n,N=D;_;)switch(v=k,k=vo()){case 40:if(v!=108&&ys(N,h-1)==58){Hw(N+=Tn(n_(k),"&","&\f"),"&\f")!=-1&&(C=-1);break}case 34:case 39:case 91:N+=n_(k);break;case 9:case 10:case 13:case 32:N+=SY(v);break;case 92:N+=TY(r_()-1,7);continue;case 47:switch(Ru()){case 42:case 47:Dy(kY(CY(vo(),r_()),e,t),l);break;default:N+="/"}break;case 123*y:o[u++]=mu(N)*C;case 125*y:case 59:case 0:switch(k){case 0:case 125:_=0;case 59+c:C==-1&&(N=Tn(N,/\f/g,"")),g>0&&mu(N)-h&&Dy(g>32?bL(N+";",n,t,h-1):bL(Tn(N," ","")+";",n,t,h-2),l);break;case 59:N+=";";default:if(Dy(R=_L(N,e,t,u,c,i,o,D,I=[],A=[],h),s),k===123)if(c===0)i_(N,e,R,R,I,s,h,o,A);else switch(f===99&&ys(N,3)===110?100:f){case 100:case 108:case 109:case 115:i_(r,R,R,n&&Dy(_L(r,R,R,0,0,i,o,D,i,I=[],h),A),i,A,h,o,n?I:A);break;default:i_(N,R,R,R,[""],A,0,o,A)}}u=c=g=0,y=C=1,D=N="",h=a;break;case 58:h=1+mu(N),g=v;default:if(y<1){if(k==123)--y;else if(k==125&&y++==0&&bY()==125)continue}switch(N+=fS(k),k*y){case 38:C=c>0?1:(N+="\f",-1);break;case 44:o[u++]=(mu(N)-1)*C,C=1;break;case 64:Ru()===45&&(N+=n_(vo())),f=Ru(),c=h=mu(D=N+=wY(r_())),k++;break;case 45:v===45&&mu(N)==2&&(y=0)}}return s}function _L(r,e,t,n,i,s,a,o,l,u,c){for(var h=i-1,f=i===0?s:[""],g=nk(f),v=0,y=0,_=0;v<n;++v)for(var C=0,k=D0(r,h+1,h=mY(y=a[v])),D=r;C<g;++C)(D=j8(y>0?f[C]+" "+k:Tn(k,/&\f/g,f[C])))&&(l[_++]=D);return mS(r,e,t,i===0?tk:o,l,u,c)}function kY(r,e,t){return mS(r,e,t,U8,fS(_Y()),D0(r,2,-2),0)}function bL(r,e,t,n){return mS(r,e,t,rk,D0(r,0,n),D0(r,n+1,-1),n)}function Dp(r,e){for(var t="",n=nk(r),i=0;i<n;i++)t+=e(r[i],i,r,e)||"";return t}function AY(r,e,t,n){switch(r.type){case pY:if(r.children.length)break;case fY:case rk:return r.return=r.return||r.value;case U8:return"";case $8:return r.return=r.value+"{"+Dp(r.children,n)+"}";case tk:r.value=r.props.join(",")}return mu(t=Dp(r.children,n))?r.return=r.value+"{"+t+"}":""}function DY(r){var e=nk(r);return function(t,n,i,s){for(var a="",o=0;o<e;o++)a+=r[o](t,n,i,s)||"";return a}}function IY(r){return function(e){e.root||(e=e.return)&&r(e)}}function W8(r){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=r(t)),e[t]}}var PY=function(e,t,n){for(var i=0,s=0;i=s,s=Ru(),i===38&&s===12&&(t[n]=1),!I0(s);)vo();return lv(e,Va)},RY=function(e,t){var n=-1,i=44;do switch(I0(i)){case 0:i===38&&Ru()===12&&(t[n]=1),e[n]+=PY(Va-1,t,n);break;case 2:e[n]+=n_(i);break;case 4:if(i===44){e[++n]=Ru()===58?"&\f":"",t[n]=e[n].length;break}default:e[n]+=fS(i)}while(i=vo());return e},LY=function(e,t){return V8(RY(H8(e),t))},SL=new WeakMap,OY=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!SL.get(n))&&!i){SL.set(e,!0);for(var s=[],a=LY(t,s),o=n.props,l=0,u=0;l<a.length;l++)for(var c=0;c<o.length;c++,u++)e.props[u]=s[l]?a[l].replace(/&\f/g,o[c]):o[c]+" "+a[l]}}},MY=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function q8(r,e){switch(vY(r,e)){case 5103:return Sn+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Sn+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Sn+r+O_+r+Bs+r+r;case 6828:case 4268:return Sn+r+Bs+r+r;case 6165:return Sn+r+Bs+"flex-"+r+r;case 5187:return Sn+r+Tn(r,/(\w+).+(:[^]+)/,Sn+"box-$1$2"+Bs+"flex-$1$2")+r;case 5443:return Sn+r+Bs+"flex-item-"+Tn(r,/flex-|-self/,"")+r;case 4675:return Sn+r+Bs+"flex-line-pack"+Tn(r,/align-content|flex-|-self/,"")+r;case 5548:return Sn+r+Bs+Tn(r,"shrink","negative")+r;case 5292:return Sn+r+Bs+Tn(r,"basis","preferred-size")+r;case 6060:return Sn+"box-"+Tn(r,"-grow","")+Sn+r+Bs+Tn(r,"grow","positive")+r;case 4554:return Sn+Tn(r,/([^-])(transform)/g,"$1"+Sn+"$2")+r;case 6187:return Tn(Tn(Tn(r,/(zoom-|grab)/,Sn+"$1"),/(image-set)/,Sn+"$1"),r,"")+r;case 5495:case 3959:return Tn(r,/(image-set\([^]*)/,Sn+"$1$`$1");case 4968:return Tn(Tn(r,/(.+:)(flex-)?(.*)/,Sn+"box-pack:$3"+Bs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Sn+r+r;case 4095:case 3583:case 4068:case 2532:return Tn(r,/(.+)-inline(.+)/,Sn+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(mu(r)-1-e>6)switch(ys(r,e+1)){case 109:if(ys(r,e+4)!==45)break;case 102:return Tn(r,/(.+:)(.+)-([^]+)/,"$1"+Sn+"$2-$3$1"+O_+(ys(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~Hw(r,"stretch")?q8(Tn(r,"stretch","fill-available"),e)+r:r}break;case 4949:if(ys(r,e+1)!==115)break;case 6444:switch(ys(r,mu(r)-3-(~Hw(r,"!important")&&10))){case 107:return Tn(r,":",":"+Sn)+r;case 101:return Tn(r,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Sn+(ys(r,14)===45?"inline-":"")+"box$3$1"+Sn+"$2$3$1"+Bs+"$2box$3")+r}break;case 5936:switch(ys(r,e+11)){case 114:return Sn+r+Bs+Tn(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Sn+r+Bs+Tn(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Sn+r+Bs+Tn(r,/[svh]\w+-[tblr]{2}/,"lr")+r}return Sn+r+Bs+r+r}return r}var FY=function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case rk:e.return=q8(e.value,e.length);break;case $8:return Dp([Cg(e,{value:Tn(e.value,"@","@"+Sn)})],i);case tk:if(e.length)return xY(e.props,function(s){switch(yY(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Dp([Cg(e,{props:[Tn(s,/:(read-\w+)/,":"+O_+"$1")]})],i);case"::placeholder":return Dp([Cg(e,{props:[Tn(s,/:(plac\w+)/,":"+Sn+"input-$1")]}),Cg(e,{props:[Tn(s,/:(plac\w+)/,":"+O_+"$1")]}),Cg(e,{props:[Tn(s,/:(plac\w+)/,Bs+"input-$1")]})],i)}return""})}},BY=[FY],NY=function(e){var t=e.key;if(t==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||BY,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),C=1;C<_.length;C++)s[_[C]]=!0;o.push(y)});var l,u=[OY,MY];{var c,h=[AY,IY(function(y){c.insert(y)})],f=DY(u.concat(i,h)),g=function(_){return Dp(EY(_),f)};l=function(_,C,k,D){c=k,g(_?_+"{"+C.styles+"}":C.styles),D&&(v.inserted[C.name]=!0)}}var v={key:t,sheet:new hY({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return v.sheet.hydrate(o),v},W1={exports:{}},kn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TL;function UY(){if(TL)return kn;TL=1;var r=typeof Symbol=="function"&&Symbol.for,e=r?Symbol.for("react.element"):60103,t=r?Symbol.for("react.portal"):60106,n=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,a=r?Symbol.for("react.provider"):60109,o=r?Symbol.for("react.context"):60110,l=r?Symbol.for("react.async_mode"):60111,u=r?Symbol.for("react.concurrent_mode"):60111,c=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,f=r?Symbol.for("react.suspense_list"):60120,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,y=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,C=r?Symbol.for("react.responder"):60118,k=r?Symbol.for("react.scope"):60119;function D(A){if(typeof A=="object"&&A!==null){var R=A.$$typeof;switch(R){case e:switch(A=A.type,A){case l:case u:case n:case s:case i:case h:return A;default:switch(A=A&&A.$$typeof,A){case o:case c:case v:case g:case a:return A;default:return R}}case t:return R}}}function I(A){return D(A)===u}return kn.AsyncMode=l,kn.ConcurrentMode=u,kn.ContextConsumer=o,kn.ContextProvider=a,kn.Element=e,kn.ForwardRef=c,kn.Fragment=n,kn.Lazy=v,kn.Memo=g,kn.Portal=t,kn.Profiler=s,kn.StrictMode=i,kn.Suspense=h,kn.isAsyncMode=function(A){return I(A)||D(A)===l},kn.isConcurrentMode=I,kn.isContextConsumer=function(A){return D(A)===o},kn.isContextProvider=function(A){return D(A)===a},kn.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===e},kn.isForwardRef=function(A){return D(A)===c},kn.isFragment=function(A){return D(A)===n},kn.isLazy=function(A){return D(A)===v},kn.isMemo=function(A){return D(A)===g},kn.isPortal=function(A){return D(A)===t},kn.isProfiler=function(A){return D(A)===s},kn.isStrictMode=function(A){return D(A)===i},kn.isSuspense=function(A){return D(A)===h},kn.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===u||A===s||A===i||A===h||A===f||typeof A=="object"&&A!==null&&(A.$$typeof===v||A.$$typeof===g||A.$$typeof===a||A.$$typeof===o||A.$$typeof===c||A.$$typeof===_||A.$$typeof===C||A.$$typeof===k||A.$$typeof===y)},kn.typeOf=D,kn}var CL;function $Y(){return CL||(CL=1,W1.exports=UY()),W1.exports}var q1,wL;function jY(){if(wL)return q1;wL=1;var r=$Y(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},t={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[r.ForwardRef]=n,s[r.Memo]=i;function a(v){return r.isMemo(v)?i:s[v.$$typeof]||e}var o=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;function g(v,y,_){if(typeof y!="string"){if(f){var C=h(y);C&&C!==f&&g(v,C,_)}var k=l(y);u&&(k=k.concat(u(y)));for(var D=a(v),I=a(y),A=0;A<k.length;++A){var R=k[A];if(!t[R]&&!(_&&_[R])&&!(I&&I[R])&&!(D&&D[R])){var N=c(y,R);try{o(v,R,N)}catch{}}}}return v}return q1=g,q1}jY();var zY=!0;function G8(r,e,t){var n="";return t.split(" ").forEach(function(i){r[i]!==void 0?e.push(r[i]+";"):i&&(n+=i+" ")}),n}var ik=function(e,t,n){var i=e.key+"-"+t.name;(n===!1||zY===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},sk=function(e,t,n){ik(e,t,n);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function HY(r){for(var e=0,t,n=0,i=r.length;i>=4;++n,i-=4)t=r.charCodeAt(n)&255|(r.charCodeAt(++n)&255)<<8|(r.charCodeAt(++n)&255)<<16|(r.charCodeAt(++n)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(r.charCodeAt(n+2)&255)<<16;case 2:e^=(r.charCodeAt(n+1)&255)<<8;case 1:e^=r.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var VY={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},WY=/[A-Z]|^ms/g,qY=/_EMO_([^_]+?)_([^]*?)_EMO_/g,K8=function(e){return e.charCodeAt(1)===45},EL=function(e){return e!=null&&typeof e!="boolean"},G1=W8(function(r){return K8(r)?r:r.replace(WY,"-$&").toLowerCase()}),kL=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(qY,function(n,i,s){return gu={name:i,styles:s,next:gu},i})}return VY[e]!==1&&!K8(e)&&typeof t=="number"&&t!==0?t+"px":t};function P0(r,e,t){if(t==null)return"";var n=t;if(n.__emotion_styles!==void 0)return n;switch(typeof t){case"boolean":return"";case"object":{var i=t;if(i.anim===1)return gu={name:i.name,styles:i.styles,next:gu},i.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)gu={name:a.name,styles:a.styles,next:gu},a=a.next;var o=s.styles+";";return o}return GY(r,e,t)}case"function":{if(r!==void 0){var l=gu,u=t(r);return gu=l,P0(r,e,u)}break}}var c=t;if(e==null)return c;var h=e[c];return h!==void 0?h:c}function GY(r,e,t){var n="";if(Array.isArray(t))for(var i=0;i<t.length;i++)n+=P0(r,e,t[i])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?n+=s+"{"+e[o]+"}":EL(o)&&(n+=G1(s)+":"+kL(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)EL(a[l])&&(n+=G1(s)+":"+kL(s,a[l])+";");else{var u=P0(r,e,a);switch(s){case"animation":case"animationName":{n+=G1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var AL=/label:\s*([^\s;{]+)\s*(;|$)/g,gu;function uv(r,e,t){if(r.length===1&&typeof r[0]=="object"&&r[0]!==null&&r[0].styles!==void 0)return r[0];var n=!0,i="";gu=void 0;var s=r[0];if(s==null||s.raw===void 0)n=!1,i+=P0(t,e,s);else{var a=s;i+=a[0]}for(var o=1;o<r.length;o++)if(i+=P0(t,e,r[o]),n){var l=s;i+=l[o]}AL.lastIndex=0;for(var u="",c;(c=AL.exec(i))!==null;)u+="-"+c[1];var h=HY(i)+u;return{name:h,styles:i,next:gu}}var KY=function(e){return e()},X8=b_.useInsertionEffect?b_.useInsertionEffect:!1,Y8=X8||KY,DL=X8||M.useLayoutEffect,Q8=M.createContext(typeof HTMLElement<"u"?NY({key:"css"}):null);Q8.Provider;var ak=function(e){return M.forwardRef(function(t,n){var i=M.useContext(Q8);return e(t,i,n)})},cv=M.createContext({}),ok={}.hasOwnProperty,Ww="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",XY=function(e,t){var n={};for(var i in t)ok.call(t,i)&&(n[i]=t[i]);return n[Ww]=e,n},YY=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return ik(t,n,i),Y8(function(){return sk(t,n,i)}),null},QY=ak(function(r,e,t){var n=r.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var i=r[Ww],s=[n],a="";typeof r.className=="string"?a=G8(e.registered,s,r.className):r.className!=null&&(a=r.className+" ");var o=uv(s,void 0,M.useContext(cv));a+=e.key+"-"+o.name;var l={};for(var u in r)ok.call(r,u)&&u!=="css"&&u!==Ww&&(l[u]=r[u]);return l.className=a,t&&(l.ref=t),M.createElement(M.Fragment,null,M.createElement(YY,{cache:e,serialized:o,isStringTag:typeof i=="string"}),M.createElement(i,l))}),JY=QY,IL=function(e,t){var n=arguments;if(t==null||!ok.call(t,"css"))return M.createElement.apply(void 0,n);var i=n.length,s=new Array(i);s[0]=JY,s[1]=XY(e,t);for(var a=2;a<i;a++)s[a]=n[a];return M.createElement.apply(null,s)};(function(r){var e;e||(e=r.JSX||(r.JSX={}))})(IL||(IL={}));var ZY=ak(function(r,e){var t=r.styles,n=uv([t],void 0,M.useContext(cv)),i=M.useRef();return DL(function(){var s=e.key+"-global",a=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),o=!1,l=document.querySelector('style[data-emotion="'+s+" "+n.name+'"]');return e.sheet.tags.length&&(a.before=e.sheet.tags[0]),l!==null&&(o=!0,l.setAttribute("data-emotion",s),a.hydrate([l])),i.current=[a,o],function(){a.flush()}},[e]),DL(function(){var s=i.current,a=s[0],o=s[1];if(o){s[1]=!1;return}if(n.next!==void 0&&sk(e,n.next,!0),a.tags.length){var l=a.tags[a.tags.length-1].nextElementSibling;a.before=l,a.flush()}e.insert("",n,a,!1)},[e,n.name]),null});function lk(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return uv(e)}function dv(){var r=lk.apply(void 0,arguments),e="animation-"+r.name;return{name:e,styles:"@keyframes "+e+"{"+r.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var eQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tQ=W8(function(r){return eQ.test(r)||r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)<91}),rQ=tQ,nQ=function(e){return e!=="theme"},PL=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?rQ:nQ},RL=function(e,t,n){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&n&&(i=e.__emotion_forwardProp),i},iQ=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return ik(t,n,i),Y8(function(){return sk(t,n,i)}),null},sQ=function r(e,t){var n=e.__emotion_real===e,i=n&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var o=RL(e,t,n),l=o||PL(i),u=!l("as");return function(){var c=arguments,h=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&h.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)h.push.apply(h,c);else{var f=c[0];h.push(f[0]);for(var g=c.length,v=1;v<g;v++)h.push(c[v],f[v])}var y=ak(function(_,C,k){var D=u&&_.as||i,I="",A=[],R=_;if(_.theme==null){R={};for(var N in _)R[N]=_[N];R.theme=M.useContext(cv)}typeof _.className=="string"?I=G8(C.registered,A,_.className):_.className!=null&&(I=_.className+" ");var U=uv(h.concat(A),C.registered,R);I+=C.key+"-"+U.name,a!==void 0&&(I+=" "+a);var F=u&&o===void 0?PL(D):l,w={};for(var $ in _)u&&$==="as"||F($)&&(w[$]=_[$]);return w.className=I,k&&(w.ref=k),M.createElement(M.Fragment,null,M.createElement(iQ,{cache:C,serialized:U,isStringTag:typeof D=="string"}),M.createElement(D,w))});return y.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",y.defaultProps=e.defaultProps,y.__emotion_real=y,y.__emotion_base=i,y.__emotion_styles=h,y.__emotion_forwardProp=o,Object.defineProperty(y,"toString",{value:function(){return"."+a}}),y.withComponent=function(_,C){var k=r(_,sr({},t,C,{shouldForwardProp:RL(y,C,!0)}));return k.apply(void 0,h)},y}},aQ=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],qw=sQ.bind(null);aQ.forEach(function(r){qw[r]=qw(r)});function oQ(r){return r==null||Object.keys(r).length===0}function J8(r){const{styles:e,defaultTheme:t={}}=r,n=typeof e=="function"?i=>e(oQ(i)?t:i):e;return P.jsx(ZY,{styles:n})}function Z8(r,e){return qw(r,e)}function lQ(r,e){Array.isArray(r.__emotion_styles)&&(r.__emotion_styles=e(r.__emotion_styles))}const LL=[];function OL(r){return LL[0]=r,uv(LL)}const uQ=r=>{const e=Object.keys(r).map(t=>({key:t,val:r[t]}))||[];return e.sort((t,n)=>t.val-n.val),e.reduce((t,n)=>({...t,[n.key]:n.val}),{})};function cQ(r){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:n=5,...i}=r,s=uQ(e),a=Object.keys(s);function o(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${t})`}function l(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-n/100}${t})`}function u(f,g){const v=a.indexOf(g);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${t}) and (max-width:${(v!==-1&&typeof e[a[v]]=="number"?e[a[v]]:g)-n/100}${t})`}function c(f){return a.indexOf(f)+1<a.length?u(f,a[a.indexOf(f)+1]):o(f)}function h(f){const g=a.indexOf(f);return g===0?o(a[1]):g===a.length-1?l(a[g]):u(f,a[a.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:l,between:u,only:c,not:h,unit:t,...i}}const dQ={borderRadius:4};function eN(r=8,e=aS({spacing:r})){if(r.mui)return r;const t=(...n)=>(n.length===0?[1]:n).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function hQ(r,e){const t=this;if(t.vars){if(!t.colorSchemes?.[r]||typeof t.getColorSchemeSelector!="function")return{};let n=t.getColorSchemeSelector(r);return n==="&"?e:((n.includes("data-")||n.includes("."))&&(n=`*:where(${n.replace(/\s*&$/,"")}) &`),{[n]:e})}return t.palette.mode===r?e:{}}function hv(r={},...e){const{breakpoints:t={},palette:n={},spacing:i,shape:s={},...a}=r,o=cQ(t),l=eN(i);let u=Lc({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...n},spacing:l,shape:{...dQ,...s}},a);return u=_X(u),u.applyStyles=hQ,u=e.reduce((c,h)=>Lc(c,h),u),u.unstable_sxConfig={...ov,...a?.unstable_sxConfig},u.unstable_sx=function(h){return zd({sx:h,theme:this})},u}function fQ(r){return Object.keys(r).length===0}function uk(r=null){const e=M.useContext(cv);return!e||fQ(e)?r:e}const pQ=hv();function fv(r=pQ){return uk(r)}function mQ({styles:r,themeId:e,defaultTheme:t={}}){const n=fv(t),i=typeof r=="function"?r(e&&n[e]||n):r;return P.jsx(J8,{styles:i})}const ML=r=>r,gQ=()=>{let r=ML;return{configure(e){r=e},generate(e){return r(e)},reset(){r=ML}}},vQ=gQ();function yQ(r={}){const{themeId:e,defaultTheme:t,defaultClassName:n="MuiBox-root",generateClassName:i}=r,s=Z8("div",{shouldForwardProp:o=>o!=="theme"&&o!=="sx"&&o!=="as"})(zd);return M.forwardRef(function(l,u){const c=fv(t),{className:h,component:f="div",...g}=hS(l);return P.jsx(s,{as:f,ref:u,className:Et(h,i?i(n):n),theme:e&&c[e]||c,...g})})}const xQ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function tN(r,e,t="Mui"){const n=xQ[e];return n?`${t}-${n}`:`${vQ.generate(r)}-${e}`}function rN(r){const{variants:e,...t}=r,n={variants:e,style:OL(t),isProcessed:!0};return n.style===t||e&&e.forEach(i=>{typeof i.style!="function"&&(i.style=OL(i.style))}),n}const _Q=hv();function K1(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}function bQ(r){return r?(e,t)=>t[r]:null}function SQ(r,e,t){r.theme=CQ(r.theme)?t:r.theme[e]||r.theme}function s_(r,e){const t=typeof e=="function"?e(r):e;if(Array.isArray(t))return t.flatMap(n=>s_(r,n));if(Array.isArray(t?.variants)){let n;if(t.isProcessed)n=t.style;else{const{variants:i,...s}=t;n=s}return nN(r,t.variants,[n])}return t?.isProcessed?t.style:t}function nN(r,e,t=[]){let n;e:for(let i=0;i<e.length;i+=1){const s=e[i];if(typeof s.props=="function"){if(n??={...r,...r.ownerState,ownerState:r.ownerState},!s.props(n))continue}else for(const a in s.props)if(r[a]!==s.props[a]&&r.ownerState?.[a]!==s.props[a])continue e;typeof s.style=="function"?(n??={...r,...r.ownerState,ownerState:r.ownerState},t.push(s.style(n))):t.push(s.style)}return t}function iN(r={}){const{themeId:e,defaultTheme:t=_Q,rootShouldForwardProp:n=K1,slotShouldForwardProp:i=K1}=r;function s(o){SQ(o,e,t)}return(o,l={})=>{lQ(o,A=>A.filter(R=>R!==zd));const{name:u,slot:c,skipVariantsResolver:h,skipSx:f,overridesResolver:g=bQ(EQ(c)),...v}=l,y=h!==void 0?h:c&&c!=="Root"&&c!=="root"||!1,_=f||!1;let C=K1;c==="Root"||c==="root"?C=n:c?C=i:wQ(o)&&(C=void 0);const k=Z8(o,{shouldForwardProp:C,label:TQ(),...v}),D=A=>{if(typeof A=="function"&&A.__emotion_real!==A)return function(N){return s_(N,A)};if(Ld(A)){const R=rN(A);return R.variants?function(U){return s_(U,R)}:R.style}return A},I=(...A)=>{const R=[],N=A.map(D),U=[];if(R.push(s),u&&g&&U.push(function(H){const Q=H.theme.components?.[u]?.styleOverrides;if(!Q)return null;const te={};for(const oe in Q)te[oe]=s_(H,Q[oe]);return g(H,te)}),u&&!y&&U.push(function(H){const Q=H.theme?.components?.[u]?.variants;return Q?nN(H,Q):null}),_||U.push(zd),Array.isArray(N[0])){const $=N.shift(),H=new Array(R.length).fill(""),W=new Array(U.length).fill("");let Q;Q=[...H,...$,...W],Q.raw=[...H,...$.raw,...W],R.unshift(Q)}const F=[...R,...N,...U],w=k(...F);return o.muiName&&(w.muiName=o.muiName),w};return k.withConfig&&(I.withConfig=k.withConfig),I}}function TQ(r,e){return void 0}function CQ(r){for(const e in r)return!1;return!0}function wQ(r){return typeof r=="string"&&r.charCodeAt(0)>96}function EQ(r){return r&&r.charAt(0).toLowerCase()+r.slice(1)}const sN=iN();function M_(r,e){const t={...e};for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){const i=n;if(i==="components"||i==="slots")t[i]={...r[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=r[i],a=e[i];if(!a)t[i]=s||{};else if(!s)t[i]=a;else{t[i]={...a};for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o)){const l=o;t[i][l]=M_(s[l],a[l])}}}else t[i]===void 0&&(t[i]=r[i])}return t}function aN(r){const{theme:e,name:t,props:n}=r;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?n:M_(e.components[t].defaultProps,n)}function oN({props:r,name:e,defaultTheme:t,themeId:n}){let i=fv(t);return n&&(i=i[n]||i),aN({theme:i,name:e,props:r})}const lN=typeof window<"u"?M.useLayoutEffect:M.useEffect;function kQ(r,e,t,n,i){const[s,a]=M.useState(()=>i&&t?t(r).matches:n?n(r).matches:e);return lN(()=>{if(!t)return;const o=t(r),l=()=>{a(o.matches)};return l(),o.addEventListener("change",l),()=>{o.removeEventListener("change",l)}},[r,t]),s}const AQ={...b_},uN=AQ.useSyncExternalStore;function DQ(r,e,t,n,i){const s=M.useCallback(()=>e,[e]),a=M.useMemo(()=>{if(i&&t)return()=>t(r).matches;if(n!==null){const{matches:c}=n(r);return()=>c}return s},[s,r,n,i,t]),[o,l]=M.useMemo(()=>{if(t===null)return[s,()=>()=>{}];const c=t(r);return[()=>c.matches,h=>(c.addEventListener("change",h),()=>{c.removeEventListener("change",h)})]},[s,t,r]);return uN(l,o,a)}function cN(r={}){const{themeId:e}=r;return function(n,i={}){let s=uk();s&&e&&(s=s[e]||s);const a=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:o=!1,matchMedia:l=a?window.matchMedia:null,ssrMatchMedia:u=null,noSsr:c=!1}=aN({name:"MuiUseMediaQuery",props:i,theme:s});let h=typeof n=="function"?n(s):n;return h=h.replace(/^@media( ?)/m,""),h.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(uN!==void 0?DQ:kQ)(h,o,l,u,c)}}cN();function IQ(r,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(r,t))}function ck(r,e=0,t=1){return IQ(r,e,t)}function PQ(r){r=r.slice(1);const e=new RegExp(`.{1,${r.length>=6?2:1}}`,"g");let t=r.match(e);return t&&t[0].length===1&&(t=t.map(n=>n+n)),t?`rgb${t.length===4?"a":""}(${t.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function Hd(r){if(r.type)return r;if(r.charAt(0)==="#")return Hd(PQ(r));const e=r.indexOf("("),t=r.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(zw(9,r));let n=r.substring(e+1,r.length-1),i;if(t==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(zw(10,i))}else n=n.split(",");return n=n.map(s=>parseFloat(s)),{type:t,values:n,colorSpace:i}}const RQ=r=>{const e=Hd(r);return e.values.slice(0,3).map((t,n)=>e.type.includes("hsl")&&n!==0?`${t}%`:t).join(" ")},Vg=(r,e)=>{try{return RQ(r)}catch{return r}};function gS(r){const{type:e,colorSpace:t}=r;let{values:n}=r;return e.includes("rgb")?n=n.map((i,s)=>s<3?parseInt(i,10):i):e.includes("hsl")&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),e.includes("color")?n=`${t} ${n.join(" ")}`:n=`${n.join(", ")}`,`${e}(${n})`}function dN(r){r=Hd(r);const{values:e}=r,t=e[0],n=e[1]/100,i=e[2]/100,s=n*Math.min(i,1-i),a=(u,c=(u+t/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let o="rgb";const l=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return r.type==="hsla"&&(o+="a",l.push(e[3])),gS({type:o,values:l})}function Gw(r){r=Hd(r);let e=r.type==="hsl"||r.type==="hsla"?Hd(dN(r)).values:r.values;return e=e.map(t=>(r.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function LQ(r,e){const t=Gw(r),n=Gw(e);return(Math.max(t,n)+.05)/(Math.min(t,n)+.05)}function Kr(r,e){return r=Hd(r),e=ck(e),(r.type==="rgb"||r.type==="hsl")&&(r.type+="a"),r.type==="color"?r.values[3]=`/${e}`:r.values[3]=e,gS(r)}function Iy(r,e,t){try{return Kr(r,e)}catch{return r}}function gf(r,e){if(r=Hd(r),e=ck(e),r.type.includes("hsl"))r.values[2]*=1-e;else if(r.type.includes("rgb")||r.type.includes("color"))for(let t=0;t<3;t+=1)r.values[t]*=1-e;return gS(r)}function Fn(r,e,t){try{return gf(r,e)}catch{return r}}function vf(r,e){if(r=Hd(r),e=ck(e),r.type.includes("hsl"))r.values[2]+=(100-r.values[2])*e;else if(r.type.includes("rgb"))for(let t=0;t<3;t+=1)r.values[t]+=(255-r.values[t])*e;else if(r.type.includes("color"))for(let t=0;t<3;t+=1)r.values[t]+=(1-r.values[t])*e;return gS(r)}function Bn(r,e,t){try{return vf(r,e)}catch{return r}}function hN(r,e=.15){return Gw(r)>.5?gf(r,e):vf(r,e)}function Py(r,e,t){try{return hN(r,e)}catch{return r}}const fN=M.createContext(null);function dk(){return M.useContext(fN)}const OQ=typeof Symbol=="function"&&Symbol.for,MQ=OQ?Symbol.for("mui.nested"):"__THEME_NESTED__";function FQ(r,e){return typeof e=="function"?e(r):{...r,...e}}function BQ(r){const{children:e,theme:t}=r,n=dk(),i=M.useMemo(()=>{const s=n===null?{...t}:FQ(n,t);return s!=null&&(s[MQ]=n!==null),s},[t,n]);return P.jsx(fN.Provider,{value:i,children:e})}const pN=M.createContext();function NQ({value:r,...e}){return P.jsx(pN.Provider,{value:r??!0,...e})}const Em=()=>M.useContext(pN)??!1,mN=M.createContext(void 0);function UQ({value:r,children:e}){return P.jsx(mN.Provider,{value:r,children:e})}function $Q(r){const{theme:e,name:t,props:n}=r;if(!e||!e.components||!e.components[t])return n;const i=e.components[t];return i.defaultProps?M_(i.defaultProps,n):!i.styleOverrides&&!i.variants?M_(i,n):n}function jQ({props:r,name:e}){const t=M.useContext(mN);return $Q({props:r,name:e,theme:{components:t}})}const FL={};function BL(r,e,t,n=!1){return M.useMemo(()=>{const i=r&&e[r]||e;if(typeof t=="function"){const s=t(i),a=r?{...e,[r]:s}:s;return n?()=>a:a}return r?{...e,[r]:t}:{...e,...t}},[r,e,t,n])}function gN(r){const{children:e,theme:t,themeId:n}=r,i=uk(FL),s=dk()||FL,a=BL(n,i,t),o=BL(n,s,t,!0),l=(n?a[n]:a).direction==="rtl";return P.jsx(BQ,{theme:o,children:P.jsx(cv.Provider,{value:a,children:P.jsx(NQ,{value:l,children:P.jsx(UQ,{value:n?a[n].components:a.components,children:e})})})})}const NL={theme:void 0};function zQ(r){let e,t;return function(i){let s=e;return(s===void 0||i.theme!==t)&&(NL.theme=i.theme,s=rN(r(NL)),e=s,t=i.theme),s}}const hk="mode",fk="color-scheme",HQ="data-color-scheme";function VQ(r){const{defaultMode:e="system",defaultLightColorScheme:t="light",defaultDarkColorScheme:n="dark",modeStorageKey:i=hk,colorSchemeStorageKey:s=fk,attribute:a=HQ,colorSchemeNode:o="document.documentElement",nonce:l}=r||{};let u="",c=a;if(a==="class"&&(c=".%s"),a==="data"&&(c="[data-%s]"),c.startsWith(".")){const f=c.substring(1);u+=`${o}.classList.remove('${f}'.replace('%s', light), '${f}'.replace('%s', dark));
      ${o}.classList.add('${f}'.replace('%s', colorScheme));`}const h=c.match(/\[([^\]]+)\]/);if(h){const[f,g]=h[1].split("=");g||(u+=`${o}.removeAttribute('${f}'.replace('%s', light));
      ${o}.removeAttribute('${f}'.replace('%s', dark));`),u+=`
      ${o}.setAttribute('${f}'.replace('%s', colorScheme), ${g?`${g}.replace('%s', colorScheme)`:'""'});`}else u+=`${o}.setAttribute('${c}', colorScheme);`;return P.jsx("script",{suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(function() {
try {
  let colorScheme = '';
  const mode = localStorage.getItem('${i}') || '${e}';
  const dark = localStorage.getItem('${s}-dark') || '${n}';
  const light = localStorage.getItem('${s}-light') || '${t}';
  if (mode === 'system') {
    // handle system mode
    const mql = window.matchMedia('(prefers-color-scheme: dark)');
    if (mql.matches) {
      colorScheme = dark
    } else {
      colorScheme = light
    }
  }
  if (mode === 'light') {
    colorScheme = light;
  }
  if (mode === 'dark') {
    colorScheme = dark;
  }
  if (colorScheme) {
    ${u}
  }
} catch(e){}})();`}},"mui-color-scheme-init")}function WQ(){}const qQ=({key:r,storageWindow:e})=>(!e&&typeof window<"u"&&(e=window),{get(t){if(typeof window>"u")return;if(!e)return t;let n;try{n=e.localStorage.getItem(r)}catch{}return n||t},set:t=>{if(e)try{e.localStorage.setItem(r,t)}catch{}},subscribe:t=>{if(!e)return WQ;const n=i=>{const s=i.newValue;i.key===r&&t(s)};return e.addEventListener("storage",n),()=>{e.removeEventListener("storage",n)}}});function X1(){}function UL(r){if(typeof window<"u"&&typeof window.matchMedia=="function"&&r==="system")return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function vN(r,e){if(r.mode==="light"||r.mode==="system"&&r.systemMode==="light")return e("light");if(r.mode==="dark"||r.mode==="system"&&r.systemMode==="dark")return e("dark")}function GQ(r){return vN(r,e=>{if(e==="light")return r.lightColorScheme;if(e==="dark")return r.darkColorScheme})}function KQ(r){const{defaultMode:e="light",defaultLightColorScheme:t,defaultDarkColorScheme:n,supportedColorSchemes:i=[],modeStorageKey:s=hk,colorSchemeStorageKey:a=fk,storageWindow:o=typeof window>"u"?void 0:window,storageManager:l=qQ,noSsr:u=!1}=r,c=i.join(","),h=i.length>1,f=M.useMemo(()=>l?.({key:s,storageWindow:o}),[l,s,o]),g=M.useMemo(()=>l?.({key:`${a}-light`,storageWindow:o}),[l,a,o]),v=M.useMemo(()=>l?.({key:`${a}-dark`,storageWindow:o}),[l,a,o]),[y,_]=M.useState(()=>{const U=f?.get(e)||e,F=g?.get(t)||t,w=v?.get(n)||n;return{mode:U,systemMode:UL(U),lightColorScheme:F,darkColorScheme:w}}),[C,k]=M.useState(u||!h);M.useEffect(()=>{k(!0)},[]);const D=GQ(y),I=M.useCallback(U=>{_(F=>{if(U===F.mode)return F;const w=U??e;return f?.set(w),{...F,mode:w,systemMode:UL(w)}})},[f,e]),A=M.useCallback(U=>{U?typeof U=="string"?U&&!c.includes(U)?console.error(`\`${U}\` does not exist in \`theme.colorSchemes\`.`):_(F=>{const w={...F};return vN(F,$=>{$==="light"&&(g?.set(U),w.lightColorScheme=U),$==="dark"&&(v?.set(U),w.darkColorScheme=U)}),w}):_(F=>{const w={...F},$=U.light===null?t:U.light,H=U.dark===null?n:U.dark;return $&&(c.includes($)?(w.lightColorScheme=$,g?.set($)):console.error(`\`${$}\` does not exist in \`theme.colorSchemes\`.`)),H&&(c.includes(H)?(w.darkColorScheme=H,v?.set(H)):console.error(`\`${H}\` does not exist in \`theme.colorSchemes\`.`)),w}):_(F=>(g?.set(t),v?.set(n),{...F,lightColorScheme:t,darkColorScheme:n}))},[c,g,v,t,n]),R=M.useCallback(U=>{y.mode==="system"&&_(F=>{const w=U?.matches?"dark":"light";return F.systemMode===w?F:{...F,systemMode:w}})},[y.mode]),N=M.useRef(R);return N.current=R,M.useEffect(()=>{if(typeof window.matchMedia!="function"||!h)return;const U=(...w)=>N.current(...w),F=window.matchMedia("(prefers-color-scheme: dark)");return F.addListener(U),U(F),()=>{F.removeListener(U)}},[h]),M.useEffect(()=>{if(h){const U=f?.subscribe($=>{(!$||["light","dark","system"].includes($))&&I($||e)})||X1,F=g?.subscribe($=>{(!$||c.match($))&&A({light:$})})||X1,w=v?.subscribe($=>{(!$||c.match($))&&A({dark:$})})||X1;return()=>{U(),F(),w()}}},[A,I,c,e,o,h,f,g,v]),{...y,mode:C?y.mode:void 0,systemMode:C?y.systemMode:void 0,colorScheme:C?D:void 0,setMode:I,setColorScheme:A}}const XQ="*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function YQ(r){const{themeId:e,theme:t={},modeStorageKey:n=hk,colorSchemeStorageKey:i=fk,disableTransitionOnChange:s=!1,defaultColorScheme:a,resolveTheme:o}=r,l={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},u=M.createContext(void 0),c=()=>M.useContext(u)||l,h={},f={};function g(C){const{children:k,theme:D,modeStorageKey:I=n,colorSchemeStorageKey:A=i,disableTransitionOnChange:R=s,storageManager:N,storageWindow:U=typeof window>"u"?void 0:window,documentNode:F=typeof document>"u"?void 0:document,colorSchemeNode:w=typeof document>"u"?void 0:document.documentElement,disableNestedContext:$=!1,disableStyleSheetGeneration:H=!1,defaultMode:W="system",forceThemeRerender:Q=!1,noSsr:te}=C,oe=M.useRef(!1),de=dk(),le=M.useContext(u),ae=!!le&&!$,ie=M.useMemo(()=>D||(typeof t=="function"?t():t),[D]),ee=ie[e],pe=ee||ie,{colorSchemes:ve=h,components:_e=f,cssVarPrefix:Le}=pe,Re=Object.keys(ve).filter(nr=>!!ve[nr]).join(","),ot=M.useMemo(()=>Re.split(","),[Re]),ze=typeof a=="string"?a:a.light,mt=typeof a=="string"?a:a.dark,Je=ve[ze]&&ve[mt]?W:ve[pe.defaultColorScheme]?.palette?.mode||pe.palette?.mode,{mode:Pt,setMode:Rt,systemMode:Ve,lightColorScheme:Ne,darkColorScheme:et,colorScheme:at,setColorScheme:Me}=KQ({supportedColorSchemes:ot,defaultLightColorScheme:ze,defaultDarkColorScheme:mt,modeStorageKey:I,colorSchemeStorageKey:A,defaultMode:Je,storageManager:N,storageWindow:U,noSsr:te});let $e=Pt,qe=at;ae&&($e=le.mode,qe=le.colorScheme);let Ye=qe||pe.defaultColorScheme;pe.vars&&!Q&&(Ye=pe.defaultColorScheme);const vt=M.useMemo(()=>{const nr=pe.generateThemeVars?.()||pe.vars,qt={...pe,components:_e,colorSchemes:ve,cssVarPrefix:Le,vars:nr};if(typeof qt.generateSpacing=="function"&&(qt.spacing=qt.generateSpacing()),Ye){const fr=ve[Ye];fr&&typeof fr=="object"&&Object.keys(fr).forEach(xr=>{fr[xr]&&typeof fr[xr]=="object"?qt[xr]={...qt[xr],...fr[xr]}:qt[xr]=fr[xr]})}return o?o(qt):qt},[pe,Ye,_e,ve,Le]),ut=pe.colorSchemeSelector;lN(()=>{if(qe&&w&&ut&&ut!=="media"){const nr=ut;let qt=ut;if(nr==="class"&&(qt=".%s"),nr==="data"&&(qt="[data-%s]"),nr?.startsWith("data-")&&!nr.includes("%s")&&(qt=`[${nr}="%s"]`),qt.startsWith("."))w.classList.remove(...ot.map(fr=>qt.substring(1).replace("%s",fr))),w.classList.add(qt.substring(1).replace("%s",qe));else{const fr=qt.replace("%s",qe).match(/\[([^\]]+)\]/);if(fr){const[xr,Lr]=fr[1].split("=");Lr||ot.forEach(xt=>{w.removeAttribute(xr.replace(qe,xt))}),w.setAttribute(xr,Lr?Lr.replace(/"|'/g,""):"")}else w.setAttribute(qt,qe)}}},[qe,ut,w,ot]),M.useEffect(()=>{let nr;if(R&&oe.current&&F){const qt=F.createElement("style");qt.appendChild(F.createTextNode(XQ)),F.head.appendChild(qt),window.getComputedStyle(F.body),nr=setTimeout(()=>{F.head.removeChild(qt)},1)}return()=>{clearTimeout(nr)}},[qe,R,F]),M.useEffect(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const gr=M.useMemo(()=>({allColorSchemes:ot,colorScheme:qe,darkColorScheme:et,lightColorScheme:Ne,mode:$e,setColorScheme:Me,setMode:Rt,systemMode:Ve}),[ot,qe,et,Ne,$e,Me,Rt,Ve,vt.colorSchemeSelector]);let hr=!0;(H||pe.cssVariables===!1||ae&&de?.cssVarPrefix===Le)&&(hr=!1);const Rr=P.jsxs(M.Fragment,{children:[P.jsx(gN,{themeId:ee?e:void 0,theme:vt,children:k}),hr&&P.jsx(J8,{styles:vt.generateStyleSheets?.()||[]})]});return ae?Rr:P.jsx(u.Provider,{value:gr,children:Rr})}const v=typeof a=="string"?a:a.light,y=typeof a=="string"?a:a.dark;return{CssVarsProvider:g,useColorScheme:c,getInitColorSchemeScript:C=>VQ({colorSchemeStorageKey:i,defaultLightColorScheme:v,defaultDarkColorScheme:y,modeStorageKey:n,...C})}}function QQ(r=""){function e(...n){if(!n.length)return"";const i=n[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${r?`${r}-`:""}${i}${e(...n.slice(1))})`:`, ${i}`}return(n,...i)=>`var(--${r?`${r}-`:""}${n}${e(...i)})`}const $L=(r,e,t,n=[])=>{let i=r;e.forEach((s,a)=>{a===e.length-1?Array.isArray(i)?i[Number(s)]=t:i&&typeof i=="object"&&(i[s]=t):i&&typeof i=="object"&&(i[s]||(i[s]=n.includes(s)?[]:{}),i=i[s])})},JQ=(r,e,t)=>{function n(i,s=[],a=[]){Object.entries(i).forEach(([o,l])=>{(!t||t&&!t([...s,o]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?n(l,[...s,o],Array.isArray(l)?[...a,o]:a):e([...s,o],l,a))})}n(r)},ZQ=(r,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(n=>r.includes(n))||r[r.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function Y1(r,e){const{prefix:t,shouldSkipGeneratingVar:n}=e||{},i={},s={},a={};return JQ(r,(o,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!n||!n(o,l))){const c=`--${t?`${t}-`:""}${o.join("-")}`,h=ZQ(o,l);Object.assign(i,{[c]:h}),$L(s,o,`var(${c})`,u),$L(a,o,`var(${c}, ${h})`,u)}},o=>o[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function eJ(r,e={}){const{getSelector:t=_,disableCssColorScheme:n,colorSchemeSelector:i}=e,{colorSchemes:s={},components:a,defaultColorScheme:o="light",...l}=r,{vars:u,css:c,varsWithDefaults:h}=Y1(l,e);let f=h;const g={},{[o]:v,...y}=s;if(Object.entries(y||{}).forEach(([D,I])=>{const{vars:A,css:R,varsWithDefaults:N}=Y1(I,e);f=Lc(f,N),g[D]={css:R,vars:A}}),v){const{css:D,vars:I,varsWithDefaults:A}=Y1(v,e);f=Lc(f,A),g[o]={css:D,vars:I}}function _(D,I){let A=i;if(i==="class"&&(A=".%s"),i==="data"&&(A="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(A=`[${i}="%s"]`),D){if(A==="media")return r.defaultColorScheme===D?":root":{[`@media (prefers-color-scheme: ${s[D]?.palette?.mode||D})`]:{":root":I}};if(A)return r.defaultColorScheme===D?`:root, ${A.replace("%s",String(D))}`:A.replace("%s",String(D))}return":root"}return{vars:f,generateThemeVars:()=>{let D={...u};return Object.entries(g).forEach(([,{vars:I}])=>{D=Lc(D,I)}),D},generateStyleSheets:()=>{const D=[],I=r.defaultColorScheme||"light";function A(U,F){Object.keys(F).length&&D.push(typeof U=="string"?{[U]:{...F}}:U)}A(t(void 0,{...c}),c);const{[I]:R,...N}=g;if(R){const{css:U}=R,F=s[I]?.palette?.mode,w=!n&&F?{colorScheme:F,...U}:{...U};A(t(I,{...w}),w)}return Object.entries(N).forEach(([U,{css:F}])=>{const w=s[U]?.palette?.mode,$=!n&&w?{colorScheme:w,...F}:{...F};A(t(U,{...$}),$)}),D}}}function tJ(r){return function(t){return r==="media"?`@media (prefers-color-scheme: ${t})`:r?r.startsWith("data-")&&!r.includes("%s")?`[${r}="${t}"] &`:r==="class"?`.${t} &`:r==="data"?`[data-${t}] &`:`${r.replace("%s",t)} &`:"&"}}function yN(r,e,t=void 0){const n={};for(const i in r){const s=r[i];let a="",o=!0;for(let l=0;l<s.length;l+=1){const u=s[l];u&&(a+=(o===!0?"":" ")+e(u),o=!1,t&&t[u]&&(a+=" "+t[u]))}n[i]=a}return n}function rJ(r,e){return M.isValidElement(r)&&e.indexOf(r.type.muiName??r.type?._payload?.value?.muiName)!==-1}const nJ=(r,e)=>r.filter(t=>e.includes(t)),km=(r,e,t)=>{const n=r.keys[0];Array.isArray(e)?e.forEach((i,s)=>{t((a,o)=>{s<=r.keys.length-1&&(s===0?Object.assign(a,o):a[r.up(r.keys[s])]=o)},i)}):e&&typeof e=="object"?(Object.keys(e).length>r.keys.length?r.keys:nJ(r.keys,Object.keys(e))).forEach(s=>{if(r.keys.includes(s)){const a=e[s];a!==void 0&&t((o,l)=>{n===s?Object.assign(o,l):o[r.up(s)]=l},a)}}):(typeof e=="number"||typeof e=="string")&&t((i,s)=>{Object.assign(i,s)},e)};function F_(r){return`--Grid-${r}Spacing`}function vS(r){return`--Grid-parent-${r}Spacing`}const jL="--Grid-columns",Ip="--Grid-parent-columns",iJ=({theme:r,ownerState:e})=>{const t={};return km(r.breakpoints,e.size,(n,i)=>{let s={};i==="grow"&&(s={flexBasis:0,flexGrow:1,maxWidth:"100%"}),i==="auto"&&(s={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof i=="number"&&(s={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${i} / var(${Ip}) - (var(${Ip}) - ${i}) * (var(${vS("column")}) / var(${Ip})))`}),n(t,s)}),t},sJ=({theme:r,ownerState:e})=>{const t={};return km(r.breakpoints,e.offset,(n,i)=>{let s={};i==="auto"&&(s={marginLeft:"auto"}),typeof i=="number"&&(s={marginLeft:i===0?"0px":`calc(100% * ${i} / var(${Ip}) + var(${vS("column")}) * ${i} / var(${Ip}))`}),n(t,s)}),t},aJ=({theme:r,ownerState:e})=>{if(!e.container)return{};const t={[jL]:12};return km(r.breakpoints,e.columns,(n,i)=>{const s=i??12;n(t,{[jL]:s,"> *":{[Ip]:s}})}),t},oJ=({theme:r,ownerState:e})=>{if(!e.container)return{};const t={};return km(r.breakpoints,e.rowSpacing,(n,i)=>{const s=typeof i=="string"?i:r.spacing?.(i);n(t,{[F_("row")]:s,"> *":{[vS("row")]:s}})}),t},lJ=({theme:r,ownerState:e})=>{if(!e.container)return{};const t={};return km(r.breakpoints,e.columnSpacing,(n,i)=>{const s=typeof i=="string"?i:r.spacing?.(i);n(t,{[F_("column")]:s,"> *":{[vS("column")]:s}})}),t},uJ=({theme:r,ownerState:e})=>{if(!e.container)return{};const t={};return km(r.breakpoints,e.direction,(n,i)=>{n(t,{flexDirection:i})}),t},cJ=({ownerState:r})=>({minWidth:0,boxSizing:"border-box",...r.container&&{display:"flex",flexWrap:"wrap",...r.wrap&&r.wrap!=="wrap"&&{flexWrap:r.wrap},gap:`var(${F_("row")}) var(${F_("column")})`}}),dJ=r=>{const e=[];return Object.entries(r).forEach(([t,n])=>{n!==!1&&n!==void 0&&e.push(`grid-${t}-${String(n)}`)}),e},hJ=(r,e="xs")=>{function t(n){return n===void 0?!1:typeof n=="string"&&!Number.isNaN(Number(n))||typeof n=="number"&&n>0}if(t(r))return[`spacing-${e}-${String(r)}`];if(typeof r=="object"&&!Array.isArray(r)){const n=[];return Object.entries(r).forEach(([i,s])=>{t(s)&&n.push(`spacing-${i}-${String(s)}`)}),n}return[]},fJ=r=>r===void 0?[]:typeof r=="object"?Object.entries(r).map(([e,t])=>`direction-${e}-${t}`):[`direction-xs-${String(r)}`];function pJ(r,e){r.item!==void 0&&delete r.item,r.zeroMinWidth!==void 0&&delete r.zeroMinWidth,e.keys.forEach(t=>{r[t]!==void 0&&delete r[t]})}const mJ=hv(),gJ=sN("div",{name:"MuiGrid",slot:"Root"});function vJ(r){return oN({props:r,name:"MuiGrid",defaultTheme:mJ})}function yJ(r={}){const{createStyledComponent:e=gJ,useThemeProps:t=vJ,useTheme:n=fv,componentName:i="MuiGrid"}=r,s=(u,c)=>{const{container:h,direction:f,spacing:g,wrap:v,size:y}=u,_={root:["root",h&&"container",v!=="wrap"&&`wrap-xs-${String(v)}`,...fJ(f),...dJ(y),...h?hJ(g,c.breakpoints.keys[0]):[]]};return yN(_,C=>tN(i,C),{})};function a(u,c,h=()=>!0){const f={};return u===null||(Array.isArray(u)?u.forEach((g,v)=>{g!==null&&h(g)&&c.keys[v]&&(f[c.keys[v]]=g)}):typeof u=="object"?Object.keys(u).forEach(g=>{const v=u[g];v!=null&&h(v)&&(f[g]=v)}):f[c.keys[0]]=u),f}const o=e(aJ,lJ,oJ,iJ,uJ,cJ,sJ),l=M.forwardRef(function(c,h){const f=n(),g=t(c),v=hS(g);pJ(v,f.breakpoints);const{className:y,children:_,columns:C=12,container:k=!1,component:D="div",direction:I="row",wrap:A="wrap",size:R={},offset:N={},spacing:U=0,rowSpacing:F=U,columnSpacing:w=U,unstable_level:$=0,...H}=v,W=a(R,f.breakpoints,ee=>ee!==!1),Q=a(N,f.breakpoints),te=c.columns??($?void 0:C),oe=c.spacing??($?void 0:U),de=c.rowSpacing??c.spacing??($?void 0:F),le=c.columnSpacing??c.spacing??($?void 0:w),ae={...v,level:$,columns:te,container:k,direction:I,wrap:A,spacing:oe,rowSpacing:de,columnSpacing:le,size:W,offset:Q},ie=s(ae,f);return P.jsx(o,{ref:h,as:D,ownerState:ae,className:Et(ie.root,y),...H,children:M.Children.map(_,ee=>M.isValidElement(ee)&&rJ(ee,["Grid"])&&k&&ee.props.container?M.cloneElement(ee,{unstable_level:ee.props?.unstable_level??$+1}):ee)})});return l.muiName="Grid",l}const xJ=hv(),_J=sN("div",{name:"MuiStack",slot:"Root"});function bJ(r){return oN({props:r,name:"MuiStack",defaultTheme:xJ})}function SJ(r,e){const t=M.Children.toArray(r).filter(Boolean);return t.reduce((n,i,s)=>(n.push(i),s<t.length-1&&n.push(M.cloneElement(e,{key:`separator-${s}`})),n),[])}const TJ=r=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[r],CJ=({ownerState:r,theme:e})=>{let t={display:"flex",flexDirection:"column",...Nl({theme:e},V1({values:r.direction,breakpoints:e.breakpoints.values}),n=>({flexDirection:n}))};if(r.spacing){const n=aS(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof r.spacing=="object"&&r.spacing[u]!=null||typeof r.direction=="object"&&r.direction[u]!=null)&&(l[u]=!0),l),{}),s=V1({values:r.direction,base:i}),a=V1({values:r.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,u,c)=>{if(!s[l]){const f=u>0?s[c[u-1]]:"column";s[l]=f}}),t=Lc(t,Nl({theme:e},a,(l,u)=>r.useFlexGap?{gap:mf(n,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${TJ(u?s[u]:r.direction)}`]:mf(n,l)}}))}return t=SX(e.breakpoints,t),t};function wJ(r={}){const{createStyledComponent:e=_J,useThemeProps:t=bJ,componentName:n="MuiStack"}=r,i=()=>yN({root:["root"]},l=>tN(n,l),{}),s=e(CJ);return M.forwardRef(function(l,u){const c=t(l),h=hS(c),{component:f="div",direction:g="column",spacing:v=0,divider:y,children:_,className:C,useFlexGap:k=!1,...D}=h,I={direction:g,spacing:v,useFlexGap:k},A=i();return P.jsx(s,{as:f,ownerState:I,ref:u,className:Et(A.root,C),...D,children:y?SJ(_,y):_})})}function yf(r,...e){const t=new URL(`https://mui.com/production-error/?code=${r}`);return e.forEach(n=>t.searchParams.append("args[]",n)),`Minified MUI error #${r}; visit ${t} for the full message.`}function Od(r){if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)}function xN(r){if(M.isValidElement(r)||nS.isValidElementType(r)||!Od(r))return r;const e={};return Object.keys(r).forEach(t=>{e[t]=xN(r[t])}),e}function Lu(r,e,t={clone:!0}){const n=t.clone?{...r}:r;return Od(r)&&Od(e)&&Object.keys(e).forEach(i=>{M.isValidElement(e[i])||nS.isValidElementType(e[i])?n[i]=e[i]:Od(e[i])&&Object.prototype.hasOwnProperty.call(r,i)&&Od(r[i])?n[i]=Lu(r[i],e[i],t):t.clone?n[i]=Od(e[i])?xN(e[i]):e[i]:n[i]=e[i]}),n}const R0={black:"#000",white:"#fff"},EJ={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Kf={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},Xf={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},wg={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},Yf={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},Qf={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},Ad={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function _N(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:R0.white,default:R0.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const kJ=_N();function bN(){return{text:{primary:R0.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:R0.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const zL=bN();function HL(r,e,t,n){const i=n.light||n,s=n.dark||n*1.5;r[e]||(r.hasOwnProperty(t)?r[e]=r[t]:e==="light"?r.light=vf(r.main,i):e==="dark"&&(r.dark=gf(r.main,s)))}function AJ(r="light"){return r==="dark"?{main:Yf[200],light:Yf[50],dark:Yf[400]}:{main:Yf[700],light:Yf[400],dark:Yf[800]}}function DJ(r="light"){return r==="dark"?{main:Kf[200],light:Kf[50],dark:Kf[400]}:{main:Kf[500],light:Kf[300],dark:Kf[700]}}function IJ(r="light"){return r==="dark"?{main:Xf[500],light:Xf[300],dark:Xf[700]}:{main:Xf[700],light:Xf[400],dark:Xf[800]}}function PJ(r="light"){return r==="dark"?{main:Qf[400],light:Qf[300],dark:Qf[700]}:{main:Qf[700],light:Qf[500],dark:Qf[900]}}function RJ(r="light"){return r==="dark"?{main:Ad[400],light:Ad[300],dark:Ad[700]}:{main:Ad[800],light:Ad[500],dark:Ad[900]}}function LJ(r="light"){return r==="dark"?{main:wg[400],light:wg[300],dark:wg[700]}:{main:"#ed6c02",light:wg[500],dark:wg[900]}}function pk(r){const{mode:e="light",contrastThreshold:t=3,tonalOffset:n=.2,...i}=r,s=r.primary||AJ(e),a=r.secondary||DJ(e),o=r.error||IJ(e),l=r.info||PJ(e),u=r.success||RJ(e),c=r.warning||LJ(e);function h(y){return LQ(y,zL.text.primary)>=t?zL.text.primary:kJ.text.primary}const f=({color:y,name:_,mainShade:C=500,lightShade:k=300,darkShade:D=700})=>{if(y={...y},!y.main&&y[C]&&(y.main=y[C]),!y.hasOwnProperty("main"))throw new Error(yf(11,_?` (${_})`:"",C));if(typeof y.main!="string")throw new Error(yf(12,_?` (${_})`:"",JSON.stringify(y.main)));return HL(y,"light",k,n),HL(y,"dark",D,n),y.contrastText||(y.contrastText=h(y.main)),y};let g;return e==="light"?g=_N():e==="dark"&&(g=bN()),Lu({common:{...R0},mode:e,primary:f({color:s,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:o,name:"error"}),warning:f({color:c,name:"warning"}),info:f({color:l,name:"info"}),success:f({color:u,name:"success"}),grey:EJ,contrastThreshold:t,getContrastText:h,augmentColor:f,tonalOffset:n,...g},i)}function OJ(r){const e={};return Object.entries(r).forEach(n=>{const[i,s]=n;typeof s=="object"&&(e[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}const VL=r=>r,MJ=()=>{let r=VL;return{configure(e){r=e},generate(e){return r(e)},reset(){r=VL}}},SN=MJ(),FJ={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Zt(r,e,t="Mui"){const n=FJ[e];return n?`${t}-${n}`:`${SN.generate(r)}-${e}`}function BJ(r,e){return{toolbar:{minHeight:56,[r.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[r.up("sm")]:{minHeight:64}},...e}}function NJ(r){return Math.round(r*1e5)/1e5}const WL={textTransform:"uppercase"},qL='"Roboto", "Helvetica", "Arial", sans-serif';function TN(r,e){const{fontFamily:t=qL,fontSize:n=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:l=16,allVariants:u,pxToRem:c,...h}=typeof e=="function"?e(r):e,f=n/14,g=c||(_=>`${_/l*f}rem`),v=(_,C,k,D,I)=>({fontFamily:t,fontWeight:_,fontSize:g(C),lineHeight:k,...t===qL?{letterSpacing:`${NJ(D/C)}em`}:{},...I,...u}),y={h1:v(i,96,1.167,-1.5),h2:v(i,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,WL),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,WL),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Lu({htmlFontSize:l,pxToRem:g,fontFamily:t,fontSize:n,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...y},h,{clone:!1})}const UJ=.2,$J=.14,jJ=.12;function Yn(...r){return[`${r[0]}px ${r[1]}px ${r[2]}px ${r[3]}px rgba(0,0,0,${UJ})`,`${r[4]}px ${r[5]}px ${r[6]}px ${r[7]}px rgba(0,0,0,${$J})`,`${r[8]}px ${r[9]}px ${r[10]}px ${r[11]}px rgba(0,0,0,${jJ})`].join(",")}const zJ=["none",Yn(0,2,1,-1,0,1,1,0,0,1,3,0),Yn(0,3,1,-2,0,2,2,0,0,1,5,0),Yn(0,3,3,-2,0,3,4,0,0,1,8,0),Yn(0,2,4,-1,0,4,5,0,0,1,10,0),Yn(0,3,5,-1,0,5,8,0,0,1,14,0),Yn(0,3,5,-1,0,6,10,0,0,1,18,0),Yn(0,4,5,-2,0,7,10,1,0,2,16,1),Yn(0,5,5,-3,0,8,10,1,0,3,14,2),Yn(0,5,6,-3,0,9,12,1,0,3,16,2),Yn(0,6,6,-3,0,10,14,1,0,4,18,3),Yn(0,6,7,-4,0,11,15,1,0,4,20,3),Yn(0,7,8,-4,0,12,17,2,0,5,22,4),Yn(0,7,8,-4,0,13,19,2,0,5,24,4),Yn(0,7,9,-4,0,14,21,2,0,5,26,4),Yn(0,8,9,-5,0,15,22,2,0,6,28,5),Yn(0,8,10,-5,0,16,24,2,0,6,30,5),Yn(0,8,11,-5,0,17,26,2,0,6,32,5),Yn(0,9,11,-5,0,18,28,2,0,7,34,6),Yn(0,9,12,-6,0,19,29,2,0,7,36,6),Yn(0,10,13,-6,0,20,31,3,0,8,38,7),Yn(0,10,13,-6,0,21,33,3,0,8,40,7),Yn(0,10,14,-6,0,22,35,3,0,8,42,7),Yn(0,11,14,-7,0,23,36,3,0,9,44,8),Yn(0,11,15,-7,0,24,38,3,0,9,46,8)],HJ={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},CN={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function GL(r){return`${Math.round(r)}ms`}function VJ(r){if(!r)return 0;const e=r/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function WJ(r){const e={...HJ,...r.easing},t={...CN,...r.duration};return{getAutoHeightDuration:VJ,create:(i=["all"],s={})=>{const{duration:a=t.standard,easing:o=e.easeInOut,delay:l=0,...u}=s;return(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof a=="string"?a:GL(a)} ${o} ${typeof l=="string"?l:GL(l)}`).join(",")},...r,easing:e,duration:t}}const qJ={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function GJ(r){return Od(r)||typeof r>"u"||typeof r=="string"||typeof r=="boolean"||typeof r=="number"||Array.isArray(r)}function wN(r={}){const e={...r};function t(n){const i=Object.entries(n);for(let s=0;s<i.length;s++){const[a,o]=i[s];!GJ(o)||a.startsWith("unstable_")?delete n[a]:Od(o)&&(n[a]={...o},t(n[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Kw(r={},...e){const{breakpoints:t,mixins:n={},spacing:i,palette:s={},transitions:a={},typography:o={},shape:l,...u}=r;if(r.vars&&r.generateThemeVars===void 0)throw new Error(yf(20));const c=pk(s),h=hv(r);let f=Lu(h,{mixins:BJ(h.breakpoints,n),palette:c,shadows:zJ.slice(),typography:TN(c,o),transitions:WJ(a),zIndex:{...qJ}});return f=Lu(f,u),f=e.reduce((g,v)=>Lu(g,v),f),f.unstable_sxConfig={...ov,...u?.unstable_sxConfig},f.unstable_sx=function(v){return zd({sx:v,theme:this})},f.toRuntimeSource=wN,f}function Xw(r){let e;return r<1?e=5.11916*r**2:e=4.5*Math.log(r+1)+2,Math.round(e*10)/1e3}const KJ=[...Array(25)].map((r,e)=>{if(e===0)return"none";const t=Xw(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function EN(r){return{inputPlaceholder:r==="dark"?.5:.42,inputUnderline:r==="dark"?.7:.42,switchTrackDisabled:r==="dark"?.2:.12,switchTrack:r==="dark"?.3:.38}}function kN(r){return r==="dark"?KJ:[]}function XJ(r){const{palette:e={mode:"light"},opacity:t,overlays:n,...i}=r,s=pk(e);return{palette:s,opacity:{...EN(s.mode),...t},overlays:n||kN(s.mode),...i}}function YJ(r){return!!r[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!r[0].match(/sxConfig$/)||r[0]==="palette"&&!!r[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const QJ=r=>[...[...Array(25)].map((e,t)=>`--${r?`${r}-`:""}overlays-${t}`),`--${r?`${r}-`:""}palette-AppBar-darkBg`,`--${r?`${r}-`:""}palette-AppBar-darkColor`],JJ=r=>(e,t)=>{const n=r.rootSelector||":root",i=r.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i?.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),r.defaultColorScheme===e){if(e==="dark"){const a={};return QJ(r.cssVarPrefix).forEach(o=>{a[o]=t[o],delete t[o]}),s==="media"?{[n]:t,"@media (prefers-color-scheme: dark)":{[n]:a}}:s?{[s.replace("%s",e)]:a,[`${n}, ${s.replace("%s",e)}`]:t}:{[n]:{...t,...a}}}if(s&&s!=="media")return`${n}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[n]:t}};if(s)return s.replace("%s",String(e))}return n};function ZJ(r,e){e.forEach(t=>{r[t]||(r[t]={})})}function ht(r,e,t){!r[e]&&t&&(r[e]=t)}function Wg(r){return typeof r!="string"||!r.startsWith("hsl")?r:dN(r)}function xc(r,e){`${e}Channel`in r||(r[`${e}Channel`]=Vg(Wg(r[e])))}function eZ(r){return typeof r=="number"?`${r}px`:typeof r=="string"||typeof r=="function"||Array.isArray(r)?r:"8px"}const du=r=>{try{return r()}catch{}},tZ=(r="mui")=>QQ(r);function Q1(r,e,t,n){if(!e)return;e=e===!0?{}:e;const i=n==="dark"?"dark":"light";if(!t){r[n]=XJ({...e,palette:{mode:i,...e?.palette}});return}const{palette:s,...a}=Kw({...t,palette:{mode:i,...e?.palette}});return r[n]={...e,palette:s,opacity:{...EN(i),...e?.opacity},overlays:e?.overlays||kN(i)},a}function rZ(r={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=YJ,colorSchemeSelector:o=t.light&&t.dark?"media":void 0,rootSelector:l=":root",...u}=r,c=Object.keys(t)[0],h=n||(t.light&&c!=="light"?"light":c),f=tZ(s),{[h]:g,light:v,dark:y,..._}=t,C={..._};let k=g;if((h==="dark"&&!("dark"in t)||h==="light"&&!("light"in t))&&(k=!0),!k)throw new Error(yf(21,h));const D=Q1(C,k,u,h);v&&!C.light&&Q1(C,v,void 0,"light"),y&&!C.dark&&Q1(C,y,void 0,"dark");let I={defaultColorScheme:h,...D,cssVarPrefix:s,colorSchemeSelector:o,rootSelector:l,getCssVar:f,colorSchemes:C,font:{...OJ(D.typography),...D.font},spacing:eZ(u.spacing)};Object.keys(I.colorSchemes).forEach(F=>{const w=I.colorSchemes[F].palette,$=H=>{const W=H.split("-"),Q=W[1],te=W[2];return f(H,w[Q][te])};if(w.mode==="light"&&(ht(w.common,"background","#fff"),ht(w.common,"onBackground","#000")),w.mode==="dark"&&(ht(w.common,"background","#000"),ht(w.common,"onBackground","#fff")),ZJ(w,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),w.mode==="light"){ht(w.Alert,"errorColor",Fn(w.error.light,.6)),ht(w.Alert,"infoColor",Fn(w.info.light,.6)),ht(w.Alert,"successColor",Fn(w.success.light,.6)),ht(w.Alert,"warningColor",Fn(w.warning.light,.6)),ht(w.Alert,"errorFilledBg",$("palette-error-main")),ht(w.Alert,"infoFilledBg",$("palette-info-main")),ht(w.Alert,"successFilledBg",$("palette-success-main")),ht(w.Alert,"warningFilledBg",$("palette-warning-main")),ht(w.Alert,"errorFilledColor",du(()=>w.getContrastText(w.error.main))),ht(w.Alert,"infoFilledColor",du(()=>w.getContrastText(w.info.main))),ht(w.Alert,"successFilledColor",du(()=>w.getContrastText(w.success.main))),ht(w.Alert,"warningFilledColor",du(()=>w.getContrastText(w.warning.main))),ht(w.Alert,"errorStandardBg",Bn(w.error.light,.9)),ht(w.Alert,"infoStandardBg",Bn(w.info.light,.9)),ht(w.Alert,"successStandardBg",Bn(w.success.light,.9)),ht(w.Alert,"warningStandardBg",Bn(w.warning.light,.9)),ht(w.Alert,"errorIconColor",$("palette-error-main")),ht(w.Alert,"infoIconColor",$("palette-info-main")),ht(w.Alert,"successIconColor",$("palette-success-main")),ht(w.Alert,"warningIconColor",$("palette-warning-main")),ht(w.AppBar,"defaultBg",$("palette-grey-100")),ht(w.Avatar,"defaultBg",$("palette-grey-400")),ht(w.Button,"inheritContainedBg",$("palette-grey-300")),ht(w.Button,"inheritContainedHoverBg",$("palette-grey-A100")),ht(w.Chip,"defaultBorder",$("palette-grey-400")),ht(w.Chip,"defaultAvatarColor",$("palette-grey-700")),ht(w.Chip,"defaultIconColor",$("palette-grey-700")),ht(w.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),ht(w.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),ht(w.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),ht(w.LinearProgress,"primaryBg",Bn(w.primary.main,.62)),ht(w.LinearProgress,"secondaryBg",Bn(w.secondary.main,.62)),ht(w.LinearProgress,"errorBg",Bn(w.error.main,.62)),ht(w.LinearProgress,"infoBg",Bn(w.info.main,.62)),ht(w.LinearProgress,"successBg",Bn(w.success.main,.62)),ht(w.LinearProgress,"warningBg",Bn(w.warning.main,.62)),ht(w.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.11)`),ht(w.Slider,"primaryTrack",Bn(w.primary.main,.62)),ht(w.Slider,"secondaryTrack",Bn(w.secondary.main,.62)),ht(w.Slider,"errorTrack",Bn(w.error.main,.62)),ht(w.Slider,"infoTrack",Bn(w.info.main,.62)),ht(w.Slider,"successTrack",Bn(w.success.main,.62)),ht(w.Slider,"warningTrack",Bn(w.warning.main,.62));const H=Py(w.background.default,.8);ht(w.SnackbarContent,"bg",H),ht(w.SnackbarContent,"color",du(()=>w.getContrastText(H))),ht(w.SpeedDialAction,"fabHoverBg",Py(w.background.paper,.15)),ht(w.StepConnector,"border",$("palette-grey-400")),ht(w.StepContent,"border",$("palette-grey-400")),ht(w.Switch,"defaultColor",$("palette-common-white")),ht(w.Switch,"defaultDisabledColor",$("palette-grey-100")),ht(w.Switch,"primaryDisabledColor",Bn(w.primary.main,.62)),ht(w.Switch,"secondaryDisabledColor",Bn(w.secondary.main,.62)),ht(w.Switch,"errorDisabledColor",Bn(w.error.main,.62)),ht(w.Switch,"infoDisabledColor",Bn(w.info.main,.62)),ht(w.Switch,"successDisabledColor",Bn(w.success.main,.62)),ht(w.Switch,"warningDisabledColor",Bn(w.warning.main,.62)),ht(w.TableCell,"border",Bn(Iy(w.divider,1),.88)),ht(w.Tooltip,"bg",Iy(w.grey[700],.92))}if(w.mode==="dark"){ht(w.Alert,"errorColor",Bn(w.error.light,.6)),ht(w.Alert,"infoColor",Bn(w.info.light,.6)),ht(w.Alert,"successColor",Bn(w.success.light,.6)),ht(w.Alert,"warningColor",Bn(w.warning.light,.6)),ht(w.Alert,"errorFilledBg",$("palette-error-dark")),ht(w.Alert,"infoFilledBg",$("palette-info-dark")),ht(w.Alert,"successFilledBg",$("palette-success-dark")),ht(w.Alert,"warningFilledBg",$("palette-warning-dark")),ht(w.Alert,"errorFilledColor",du(()=>w.getContrastText(w.error.dark))),ht(w.Alert,"infoFilledColor",du(()=>w.getContrastText(w.info.dark))),ht(w.Alert,"successFilledColor",du(()=>w.getContrastText(w.success.dark))),ht(w.Alert,"warningFilledColor",du(()=>w.getContrastText(w.warning.dark))),ht(w.Alert,"errorStandardBg",Fn(w.error.light,.9)),ht(w.Alert,"infoStandardBg",Fn(w.info.light,.9)),ht(w.Alert,"successStandardBg",Fn(w.success.light,.9)),ht(w.Alert,"warningStandardBg",Fn(w.warning.light,.9)),ht(w.Alert,"errorIconColor",$("palette-error-main")),ht(w.Alert,"infoIconColor",$("palette-info-main")),ht(w.Alert,"successIconColor",$("palette-success-main")),ht(w.Alert,"warningIconColor",$("palette-warning-main")),ht(w.AppBar,"defaultBg",$("palette-grey-900")),ht(w.AppBar,"darkBg",$("palette-background-paper")),ht(w.AppBar,"darkColor",$("palette-text-primary")),ht(w.Avatar,"defaultBg",$("palette-grey-600")),ht(w.Button,"inheritContainedBg",$("palette-grey-800")),ht(w.Button,"inheritContainedHoverBg",$("palette-grey-700")),ht(w.Chip,"defaultBorder",$("palette-grey-700")),ht(w.Chip,"defaultAvatarColor",$("palette-grey-300")),ht(w.Chip,"defaultIconColor",$("palette-grey-300")),ht(w.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),ht(w.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),ht(w.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),ht(w.LinearProgress,"primaryBg",Fn(w.primary.main,.5)),ht(w.LinearProgress,"secondaryBg",Fn(w.secondary.main,.5)),ht(w.LinearProgress,"errorBg",Fn(w.error.main,.5)),ht(w.LinearProgress,"infoBg",Fn(w.info.main,.5)),ht(w.LinearProgress,"successBg",Fn(w.success.main,.5)),ht(w.LinearProgress,"warningBg",Fn(w.warning.main,.5)),ht(w.Skeleton,"bg",`rgba(${$("palette-text-primaryChannel")} / 0.13)`),ht(w.Slider,"primaryTrack",Fn(w.primary.main,.5)),ht(w.Slider,"secondaryTrack",Fn(w.secondary.main,.5)),ht(w.Slider,"errorTrack",Fn(w.error.main,.5)),ht(w.Slider,"infoTrack",Fn(w.info.main,.5)),ht(w.Slider,"successTrack",Fn(w.success.main,.5)),ht(w.Slider,"warningTrack",Fn(w.warning.main,.5));const H=Py(w.background.default,.98);ht(w.SnackbarContent,"bg",H),ht(w.SnackbarContent,"color",du(()=>w.getContrastText(H))),ht(w.SpeedDialAction,"fabHoverBg",Py(w.background.paper,.15)),ht(w.StepConnector,"border",$("palette-grey-600")),ht(w.StepContent,"border",$("palette-grey-600")),ht(w.Switch,"defaultColor",$("palette-grey-300")),ht(w.Switch,"defaultDisabledColor",$("palette-grey-600")),ht(w.Switch,"primaryDisabledColor",Fn(w.primary.main,.55)),ht(w.Switch,"secondaryDisabledColor",Fn(w.secondary.main,.55)),ht(w.Switch,"errorDisabledColor",Fn(w.error.main,.55)),ht(w.Switch,"infoDisabledColor",Fn(w.info.main,.55)),ht(w.Switch,"successDisabledColor",Fn(w.success.main,.55)),ht(w.Switch,"warningDisabledColor",Fn(w.warning.main,.55)),ht(w.TableCell,"border",Fn(Iy(w.divider,1),.68)),ht(w.Tooltip,"bg",Iy(w.grey[700],.92))}xc(w.background,"default"),xc(w.background,"paper"),xc(w.common,"background"),xc(w.common,"onBackground"),xc(w,"divider"),Object.keys(w).forEach(H=>{const W=w[H];H!=="tonalOffset"&&W&&typeof W=="object"&&(W.main&&ht(w[H],"mainChannel",Vg(Wg(W.main))),W.light&&ht(w[H],"lightChannel",Vg(Wg(W.light))),W.dark&&ht(w[H],"darkChannel",Vg(Wg(W.dark))),W.contrastText&&ht(w[H],"contrastTextChannel",Vg(Wg(W.contrastText))),H==="text"&&(xc(w[H],"primary"),xc(w[H],"secondary")),H==="action"&&(W.active&&xc(w[H],"active"),W.selected&&xc(w[H],"selected")))})}),I=e.reduce((F,w)=>Lu(F,w),I);const A={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:JJ(I)},{vars:R,generateThemeVars:N,generateStyleSheets:U}=eJ(I,A);return I.vars=R,Object.entries(I.colorSchemes[I.defaultColorScheme]).forEach(([F,w])=>{I[F]=w}),I.generateThemeVars=N,I.generateStyleSheets=U,I.generateSpacing=function(){return eN(u.spacing,aS(this))},I.getColorSchemeSelector=tJ(o),I.spacing=I.generateSpacing(),I.shouldSkipGeneratingVar=a,I.unstable_sxConfig={...ov,...u?.unstable_sxConfig},I.unstable_sx=function(w){return zd({sx:w,theme:this})},I.toRuntimeSource=wN,I}function KL(r,e,t){r.colorSchemes&&t&&(r.colorSchemes[e]={...t!==!0&&t,palette:pk({...t===!0?{}:t.palette,mode:e})})}function yS(r={},...e){const{palette:t,cssVariables:n=!1,colorSchemes:i=t?void 0:{light:!0},defaultColorScheme:s=t?.mode,...a}=r,o=s||"light",l=i?.[o],u={...i,...t?{[o]:{...typeof l!="boolean"&&l,palette:t}}:void 0};if(n===!1){if(!("colorSchemes"in r))return Kw(r,...e);let c=t;"palette"in r||u[o]&&(u[o]!==!0?c=u[o].palette:o==="dark"&&(c={mode:"dark"}));const h=Kw({...r,palette:c},...e);return h.defaultColorScheme=o,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},KL(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},KL(h,"light",u.light)),h}return!t&&!("light"in u)&&o==="light"&&(u.light=!0),rZ({...a,colorSchemes:u,defaultColorScheme:o,...typeof n!="boolean"&&n},...e)}const mk=yS(),Ll="$$material";function zl(){const r=fv(mk);return r[Ll]||r}function nZ(r){return P.jsx(mQ,{...r,defaultTheme:mk,themeId:Ll})}function AN(r){return r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"}const ji=r=>AN(r)&&r!=="classes",it=iN({themeId:Ll,defaultTheme:mk,rootShouldForwardProp:ji});function gk(r){return function(t){return P.jsx(nZ,{styles:typeof r=="function"?n=>r({theme:n,...t}):r})}}function iZ(){return hS}const cr=zQ;function Xt(r){return jQ(r)}function ft(r){if(typeof r!="string")throw new Error(yf(7));return r.charAt(0).toUpperCase()+r.slice(1)}function sZ(r){return typeof r.main=="string"}function aZ(r,e=[]){if(!sZ(r))return!1;for(const t of e)if(!r.hasOwnProperty(t)||typeof r[t]!="string")return!1;return!0}function _i(r=[]){return([,e])=>e&&aZ(e,r)}function Yt(r,e,t="Mui"){const n={};return e.forEach(i=>{n[i]=Zt(r,i,t)}),n}function oZ(r){return Zt("MuiTypography",r)}const XL=Yt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),lZ={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},uZ=iZ(),cZ=r=>{const{align:e,gutterBottom:t,noWrap:n,paragraph:i,variant:s,classes:a}=r,o={root:["root",s,r.align!=="inherit"&&`align${ft(e)}`,t&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Jt(o,oZ,a)},dZ=it("span",{name:"MuiTypography",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.variant&&e[t.variant],t.align!=="inherit"&&e[`align${ft(t.align)}`],t.noWrap&&e.noWrap,t.gutterBottom&&e.gutterBottom,t.paragraph&&e.paragraph]}})(cr(({theme:r})=>({margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(r.typography).filter(([e,t])=>e!=="inherit"&&t&&typeof t=="object").map(([e,t])=>({props:{variant:e},style:t})),...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e},style:{color:(r.vars||r).palette[e].main}})),...Object.entries(r.palette?.text||{}).filter(([,e])=>typeof e=="string").map(([e])=>({props:{color:`text${ft(e)}`},style:{color:(r.vars||r).palette.text[e]}})),{props:({ownerState:e})=>e.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:e})=>e.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:e})=>e.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:e})=>e.paragraph,style:{marginBottom:16}}]}))),YL={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},mr=M.forwardRef(function(e,t){const{color:n,...i}=Xt({props:e,name:"MuiTypography"}),s=!lZ[n],a=uZ({...i,...s&&{color:n}}),{align:o="inherit",className:l,component:u,gutterBottom:c=!1,noWrap:h=!1,paragraph:f=!1,variant:g="body1",variantMapping:v=YL,...y}=a,_={...a,align:o,color:n,className:l,component:u,gutterBottom:c,noWrap:h,paragraph:f,variant:g,variantMapping:v},C=u||(f?"p":v[g]||YL[g])||"span",k=cZ(_);return P.jsx(dZ,{as:C,ref:t,className:Et(k.root,l),...y,ownerState:_,style:{...o!=="inherit"&&{"--Typography-textAlign":o},...y.style}})});function hZ(r){return Zt("MuiDialogTitle",r)}const fZ=Yt("MuiDialogTitle",["root"]),DN=M.createContext({}),pZ=r=>{const{classes:e}=r;return Jt({root:["root"]},hZ,e)},mZ=it(mr,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),eh=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiDialogTitle"}),{className:i,id:s,...a}=n,o=n,l=pZ(o),{titleId:u=s}=M.useContext(DN);return P.jsx(mZ,{component:"h2",className:Et(l.root,i),ownerState:o,ref:t,variant:"h6",id:s??u,...a})});let QL=0;function gZ(r){const[e,t]=M.useState(r),n=r||e;return M.useEffect(()=>{e==null&&(QL+=1,t(`mui-${QL}`))},[e]),n}const vZ={...b_},JL=vZ.useId;function th(r){if(JL!==void 0){const e=JL();return r??e}return gZ(r)}function Ss(r){return r&&r.ownerDocument||document}function yo(r){return Ss(r).defaultView||window}function IN(r=window){const e=r.document.documentElement.clientWidth;return r.innerWidth-e}function yZ(r){const e=Ss(r);return e.body===r?yo(r).innerWidth>e.documentElement.clientWidth:r.scrollHeight>r.clientHeight}function i0(r,e){e?r.setAttribute("aria-hidden","true"):r.removeAttribute("aria-hidden")}function ZL(r){return parseInt(yo(r).getComputedStyle(r).paddingRight,10)||0}function xZ(r){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(r.tagName),n=r.tagName==="INPUT"&&r.getAttribute("type")==="hidden";return t||n}function eO(r,e,t,n,i){const s=[e,t,...n];[].forEach.call(r.children,a=>{const o=!s.includes(a),l=!xZ(a);o&&l&&i0(a,i)})}function J1(r,e){let t=-1;return r.some((n,i)=>e(n)?(t=i,!0):!1),t}function _Z(r,e){const t=[],n=r.container;if(!e.disableScrollLock){if(yZ(n)){const a=IN(yo(n));t.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${ZL(n)+a}px`;const o=Ss(n).querySelectorAll(".mui-fixed");[].forEach.call(o,l=>{t.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${ZL(l)+a}px`})}let s;if(n.parentNode instanceof DocumentFragment)s=Ss(n).body;else{const a=n.parentElement,o=yo(n);s=a?.nodeName==="HTML"&&o.getComputedStyle(a).overflowY==="scroll"?a:n}t.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{t.forEach(({value:s,el:a,property:o})=>{s?a.style.setProperty(o,s):a.style.removeProperty(o)})}}function bZ(r){const e=[];return[].forEach.call(r.children,t=>{t.getAttribute("aria-hidden")==="true"&&e.push(t)}),e}class SZ{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(n!==-1)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&i0(e.modalRef,!1);const i=bZ(t);eO(t,e.mount,e.modalRef,i,!0);const s=J1(this.containers,a=>a.container===t);return s!==-1?(this.containers[s].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}mount(e,t){const n=J1(this.containers,s=>s.modals.includes(e)),i=this.containers[n];i.restore||(i.restore=_Z(i,t))}remove(e,t=!0){const n=this.modals.indexOf(e);if(n===-1)return n;const i=J1(this.containers,a=>a.modals.includes(e)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(n,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&i0(e.modalRef,t),eO(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&i0(a.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Gn(...r){const e=M.useRef(void 0),t=M.useCallback(n=>{const i=r.map(s=>{if(s==null)return null;if(typeof s=="function"){const a=s,o=a(n);return typeof o=="function"?o:()=>{a(null)}}return s.current=n,()=>{s.current=null}});return()=>{i.forEach(s=>s?.())}},r);return M.useMemo(()=>r.every(n=>n==null)?null:n=>{e.current&&(e.current(),e.current=void 0),n!=null&&(e.current=t(n))},r)}function rh(r){return parseInt(M.version,10)>=19?r?.props?.ref||null:r?.ref||null}const TZ=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function CZ(r){const e=parseInt(r.getAttribute("tabindex")||"",10);return Number.isNaN(e)?r.contentEditable==="true"||(r.nodeName==="AUDIO"||r.nodeName==="VIDEO"||r.nodeName==="DETAILS")&&r.getAttribute("tabindex")===null?0:r.tabIndex:e}function wZ(r){if(r.tagName!=="INPUT"||r.type!=="radio"||!r.name)return!1;const e=n=>r.ownerDocument.querySelector(`input[type="radio"]${n}`);let t=e(`[name="${r.name}"]:checked`);return t||(t=e(`[name="${r.name}"]`)),t!==r}function EZ(r){return!(r.disabled||r.tagName==="INPUT"&&r.type==="hidden"||wZ(r))}function kZ(r){const e=[],t=[];return Array.from(r.querySelectorAll(TZ)).forEach((n,i)=>{const s=CZ(n);s===-1||!EZ(n)||(s===0?e.push(n):t.push({documentOrder:i,tabIndex:s,node:n}))}),t.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(e)}function AZ(){return!0}function DZ(r){const{children:e,disableAutoFocus:t=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:s=kZ,isEnabled:a=AZ,open:o}=r,l=M.useRef(!1),u=M.useRef(null),c=M.useRef(null),h=M.useRef(null),f=M.useRef(null),g=M.useRef(!1),v=M.useRef(null),y=Gn(rh(e),v),_=M.useRef(null);M.useEffect(()=>{!o||!v.current||(g.current=!t)},[t,o]),M.useEffect(()=>{if(!o||!v.current)return;const D=Ss(v.current);return v.current.contains(D.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),g.current&&v.current.focus()),()=>{i||(h.current&&h.current.focus&&(l.current=!0,h.current.focus()),h.current=null)}},[o]),M.useEffect(()=>{if(!o||!v.current)return;const D=Ss(v.current),I=N=>{_.current=N,!(n||!a()||N.key!=="Tab")&&D.activeElement===v.current&&N.shiftKey&&(l.current=!0,c.current&&c.current.focus())},A=()=>{const N=v.current;if(N===null)return;if(!D.hasFocus()||!a()||l.current){l.current=!1;return}if(N.contains(D.activeElement)||n&&D.activeElement!==u.current&&D.activeElement!==c.current)return;if(D.activeElement!==f.current)f.current=null;else if(f.current!==null)return;if(!g.current)return;let U=[];if((D.activeElement===u.current||D.activeElement===c.current)&&(U=s(v.current)),U.length>0){const F=!!(_.current?.shiftKey&&_.current?.key==="Tab"),w=U[0],$=U[U.length-1];typeof w!="string"&&typeof $!="string"&&(F?$.focus():w.focus())}else N.focus()};D.addEventListener("focusin",A),D.addEventListener("keydown",I,!0);const R=setInterval(()=>{D.activeElement&&D.activeElement.tagName==="BODY"&&A()},50);return()=>{clearInterval(R),D.removeEventListener("focusin",A),D.removeEventListener("keydown",I,!0)}},[t,n,i,a,o,s]);const C=D=>{h.current===null&&(h.current=D.relatedTarget),g.current=!0,f.current=D.target;const I=e.props.onFocus;I&&I(D)},k=D=>{h.current===null&&(h.current=D.relatedTarget),g.current=!0};return P.jsxs(M.Fragment,{children:[P.jsx("div",{tabIndex:o?0:-1,onFocus:k,ref:u,"data-testid":"sentinelStart"}),M.cloneElement(e,{ref:y,onFocus:C}),P.jsx("div",{tabIndex:o?0:-1,onFocus:k,ref:c,"data-testid":"sentinelEnd"})]})}const il=typeof window<"u"?M.useLayoutEffect:M.useEffect;function tO(r,e){typeof r=="function"?r(e):r&&(r.current=e)}function IZ(r){return typeof r=="function"?r():r}const PN=M.forwardRef(function(e,t){const{children:n,container:i,disablePortal:s=!1}=e,[a,o]=M.useState(null),l=Gn(M.isValidElement(n)?rh(n):null,t);if(il(()=>{s||o(IZ(i)||document.body)},[i,s]),il(()=>{if(a&&!s)return tO(t,a),()=>{tO(t,null)}},[t,a,s]),s){if(M.isValidElement(n)){const u={ref:l};return M.cloneElement(n,u)}return n}return a&&Qo.createPortal(n,a)});function PZ(r){return typeof r=="string"}function RN(r,e,t){return r===void 0||PZ(r)?e:{...e,ownerState:{...e.ownerState,...t}}}function LN(r,e,t){return typeof r=="function"?r(e,t):r}function B_(r,e=[]){if(r===void 0)return{};const t={};return Object.keys(r).filter(n=>n.match(/^on[A-Z]/)&&typeof r[n]=="function"&&!e.includes(n)).forEach(n=>{t[n]=r[n]}),t}function rO(r){if(r===void 0)return{};const e={};return Object.keys(r).filter(t=>!(t.match(/^on[A-Z]/)&&typeof r[t]=="function")).forEach(t=>{e[t]=r[t]}),e}function ON(r){const{getSlotProps:e,additionalProps:t,externalSlotProps:n,externalForwardedProps:i,className:s}=r;if(!e){const g=Et(t?.className,s,i?.className,n?.className),v={...t?.style,...i?.style,...n?.style},y={...t,...i,...n};return g.length>0&&(y.className=g),Object.keys(v).length>0&&(y.style=v),{props:y,internalRef:void 0}}const a=B_({...i,...n}),o=rO(n),l=rO(i),u=e(a),c=Et(u?.className,t?.className,s,i?.className,n?.className),h={...u?.style,...t?.style,...i?.style,...n?.style},f={...u,...t,...l,...o};return c.length>0&&(f.className=c),Object.keys(h).length>0&&(f.style=h),{props:f,internalRef:u.ref}}function ur(r,e){const{className:t,elementType:n,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:o=!1,...l}=e,{component:u,slots:c={[r]:void 0},slotProps:h={[r]:void 0},...f}=s,g=c[r]||n,v=LN(h[r],i),{props:{component:y,..._},internalRef:C}=ON({className:t,...l,externalForwardedProps:r==="root"?f:void 0,externalSlotProps:v}),k=Gn(C,v?.ref,e.ref),D=r==="root"?y||u:y,I=RN(g,{...r==="root"&&!u&&!c[r]&&a,...r!=="root"&&!c[r]&&a,..._,...D&&!o&&{as:D},...D&&o&&{component:D},ref:k},i);return[g,I]}function xS(r,e){if(r==null)return{};var t={};for(var n in r)if({}.hasOwnProperty.call(r,n)){if(e.indexOf(n)!==-1)continue;t[n]=r[n]}return t}function Xp(r,e){return Xp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Xp(r,e)}function Ht(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Xp(r,e)}const nO={disabled:!1},N_=Yr.createContext(null);var RZ=function(e){return e.scrollTop},qg="unmounted",Mh="exited",Fh="entering",dp="entered",Yw="exiting",dl=(function(r){Ht(e,r);function e(n,i){var s;s=r.call(this,n,i)||this;var a=i,o=a&&!a.isMounting?n.enter:n.appear,l;return s.appearStatus=null,n.in?o?(l=Mh,s.appearStatus=Fh):l=dp:n.unmountOnExit||n.mountOnEnter?l=qg:l=Mh,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===qg?{status:Mh}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Fh&&a!==dp&&(s=Fh):(a===Fh||a===dp)&&(s=Yw)}this.updateStatus(!1,s)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var i=this.props.timeout,s,a,o;return s=a=o=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,o=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:o}},t.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Fh){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Ay.findDOMNode(this);a&&RZ(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mh&&this.setState({status:qg})},t.performEnter=function(i){var s=this,a=this.props.enter,o=this.context?this.context.isMounting:i,l=this.props.nodeRef?[o]:[Ay.findDOMNode(this),o],u=l[0],c=l[1],h=this.getTimeouts(),f=o?h.appear:h.enter;if(!i&&!a||nO.disabled){this.safeSetState({status:dp},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:Fh},function(){s.props.onEntering(u,c),s.onTransitionEnd(f,function(){s.safeSetState({status:dp},function(){s.props.onEntered(u,c)})})})},t.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),o=this.props.nodeRef?void 0:Ay.findDOMNode(this);if(!s||nO.disabled){this.safeSetState({status:Mh},function(){i.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:Yw},function(){i.props.onExiting(o),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Mh},function(){i.props.onExited(o)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},t.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(o){a&&(a=!1,s.nextCallback=null,i(o))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},t.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:Ay.findDOMNode(this),o=i==null&&!this.props.addEndListener;if(!a||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},t.render=function(){var i=this.state.status;if(i===qg)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var o=xS(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Yr.createElement(N_.Provider,{value:null},typeof a=="function"?a(i,o):Yr.cloneElement(Yr.Children.only(a),o))},e})(Yr.Component);dl.contextType=N_;dl.propTypes={};function Jf(){}dl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Jf,onEntering:Jf,onEntered:Jf,onExit:Jf,onExiting:Jf,onExited:Jf};dl.UNMOUNTED=qg;dl.EXITED=Mh;dl.ENTERING=Fh;dl.ENTERED=dp;dl.EXITING=Yw;function We(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function vk(r,e){var t=function(s){return e&&M.isValidElement(s)?e(s):s},n=Object.create(null);return r&&M.Children.map(r,function(i){return i}).forEach(function(i){n[i.key]=t(i)}),n}function LZ(r,e){r=r||{},e=e||{};function t(c){return c in e?e[c]:r[c]}var n=Object.create(null),i=[];for(var s in r)s in e?i.length&&(n[s]=i,i=[]):i.push(s);var a,o={};for(var l in e){if(n[l])for(a=0;a<n[l].length;a++){var u=n[l][a];o[n[l][a]]=t(u)}o[l]=t(l)}for(a=0;a<i.length;a++)o[i[a]]=t(i[a]);return o}function Gh(r,e,t){return t[e]!=null?t[e]:r.props[e]}function OZ(r,e){return vk(r.children,function(t){return M.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:Gh(t,"appear",r),enter:Gh(t,"enter",r),exit:Gh(t,"exit",r)})})}function MZ(r,e,t){var n=vk(r.children),i=LZ(e,n);return Object.keys(i).forEach(function(s){var a=i[s];if(M.isValidElement(a)){var o=s in e,l=s in n,u=e[s],c=M.isValidElement(u)&&!u.props.in;l&&(!o||c)?i[s]=M.cloneElement(a,{onExited:t.bind(null,a),in:!0,exit:Gh(a,"exit",r),enter:Gh(a,"enter",r)}):!l&&o&&!c?i[s]=M.cloneElement(a,{in:!1}):l&&o&&M.isValidElement(u)&&(i[s]=M.cloneElement(a,{onExited:t.bind(null,a),in:u.props.in,exit:Gh(a,"exit",r),enter:Gh(a,"enter",r)}))}}),i}var FZ=Object.values||function(r){return Object.keys(r).map(function(e){return r[e]})},BZ={component:"div",childFactory:function(e){return e}},yk=(function(r){Ht(e,r);function e(n,i){var s;s=r.call(this,n,i)||this;var a=s.handleExited.bind(We(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var a=s.children,o=s.handleExited,l=s.firstRender;return{children:l?OZ(i,o):MZ(i,a,o),firstRender:!1}},t.handleExited=function(i,s){var a=vk(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(o){var l=sr({},o.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,a=i.childFactory,o=xS(i,["component","childFactory"]),l=this.state.contextValue,u=FZ(this.state.children).map(a);return delete o.appear,delete o.enter,delete o.exit,s===null?Yr.createElement(N_.Provider,{value:l},u):Yr.createElement(N_.Provider,{value:l},Yr.createElement(s,o,u))},e})(Yr.Component);yk.propTypes={};yk.defaultProps=BZ;const xk=r=>r.scrollTop;function Vd(r,e){const{timeout:t,easing:n,style:i={}}=r;return{duration:i.transitionDuration??(typeof t=="number"?t:t[e.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[e.mode]:n),delay:i.transitionDelay}}const NZ={entering:{opacity:1},entered:{opacity:1}},Qw=M.forwardRef(function(e,t){const n=zl(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:l,in:u,onEnter:c,onEntered:h,onEntering:f,onExit:g,onExited:v,onExiting:y,style:_,timeout:C=i,TransitionComponent:k=dl,...D}=e,I=M.useRef(null),A=Gn(I,rh(o),t),R=Q=>te=>{if(Q){const oe=I.current;te===void 0?Q(oe):Q(oe,te)}},N=R(f),U=R((Q,te)=>{xk(Q);const oe=Vd({style:_,timeout:C,easing:l},{mode:"enter"});Q.style.webkitTransition=n.transitions.create("opacity",oe),Q.style.transition=n.transitions.create("opacity",oe),c&&c(Q,te)}),F=R(h),w=R(y),$=R(Q=>{const te=Vd({style:_,timeout:C,easing:l},{mode:"exit"});Q.style.webkitTransition=n.transitions.create("opacity",te),Q.style.transition=n.transitions.create("opacity",te),g&&g(Q)}),H=R(v),W=Q=>{s&&s(I.current,Q)};return P.jsx(k,{appear:a,in:u,nodeRef:I,onEnter:U,onEntered:F,onEntering:N,onExit:$,onExited:H,onExiting:w,addEndListener:W,timeout:C,...D,children:(Q,{ownerState:te,...oe})=>M.cloneElement(o,{style:{opacity:0,visibility:Q==="exited"&&!u?"hidden":void 0,...NZ[Q],..._,...o.props.style},ref:A,...oe})})});function UZ(r){return Zt("MuiBackdrop",r)}Yt("MuiBackdrop",["root","invisible"]);const $Z=r=>{const{classes:e,invisible:t}=r;return Jt({root:["root",t&&"invisible"]},UZ,e)},jZ=it("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.invisible&&e.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),MN=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:o=!1,open:l,components:u={},componentsProps:c={},slotProps:h={},slots:f={},TransitionComponent:g,transitionDuration:v,...y}=n,_={...n,component:a,invisible:o},C=$Z(_),k={transition:g,root:u.Root,...f},D={...c,...h},I={slots:k,slotProps:D},[A,R]=ur("root",{elementType:jZ,externalForwardedProps:I,className:Et(C.root,s),ownerState:_}),[N,U]=ur("transition",{elementType:Qw,externalForwardedProps:I,ownerState:_});return P.jsx(N,{in:l,timeout:v,...y,...U,children:P.jsx(A,{"aria-hidden":!0,...R,classes:C,ref:t,children:i})})});function ua(r){const e=M.useRef(r);return il(()=>{e.current=r}),M.useRef((...t)=>(0,e.current)(...t)).current}function Jw(...r){return r.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function zZ(r){return typeof r=="function"?r():r}function HZ(r){return r?r.props.hasOwnProperty("in"):!1}const iO=()=>{},Ry=new SZ;function VZ(r){const{container:e,disableEscapeKeyDown:t=!1,disableScrollLock:n=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:o,onClose:l,open:u,rootRef:c}=r,h=M.useRef({}),f=M.useRef(null),g=M.useRef(null),v=Gn(g,c),[y,_]=M.useState(!u),C=HZ(o);let k=!0;(r["aria-hidden"]==="false"||r["aria-hidden"]===!1)&&(k=!1);const D=()=>Ss(f.current),I=()=>(h.current.modalRef=g.current,h.current.mount=f.current,h.current),A=()=>{Ry.mount(I(),{disableScrollLock:n}),g.current&&(g.current.scrollTop=0)},R=ua(()=>{const te=zZ(e)||D().body;Ry.add(I(),te),g.current&&A()}),N=()=>Ry.isTopModal(I()),U=ua(te=>{f.current=te,te&&(u&&N()?A():g.current&&i0(g.current,k))}),F=M.useCallback(()=>{Ry.remove(I(),k)},[k]);M.useEffect(()=>()=>{F()},[F]),M.useEffect(()=>{u?R():(!C||!i)&&F()},[u,F,C,i,R]);const w=te=>oe=>{te.onKeyDown?.(oe),!(oe.key!=="Escape"||oe.which===229||!N())&&(t||(oe.stopPropagation(),l&&l(oe,"escapeKeyDown")))},$=te=>oe=>{te.onClick?.(oe),oe.target===oe.currentTarget&&l&&l(oe,"backdropClick")};return{getRootProps:(te={})=>{const oe=B_(r);delete oe.onTransitionEnter,delete oe.onTransitionExited;const de={...oe,...te};return{role:"presentation",...de,onKeyDown:w(de),ref:v}},getBackdropProps:(te={})=>{const oe=te;return{"aria-hidden":!0,...oe,onClick:$(oe),open:u}},getTransitionProps:()=>{const te=()=>{_(!1),s&&s()},oe=()=>{_(!0),a&&a(),i&&F()};return{onEnter:Jw(te,o?.props.onEnter??iO),onExited:Jw(oe,o?.props.onExited??iO)}},rootRef:v,portalRef:U,isTopModal:N,exited:y,hasTransition:C}}function WZ(r){return Zt("MuiModal",r)}Yt("MuiModal",["root","hidden","backdrop"]);const qZ=r=>{const{open:e,exited:t,classes:n}=r;return Jt({root:["root",!e&&t&&"hidden"],backdrop:["backdrop"]},WZ,n)},GZ=it("div",{name:"MuiModal",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,!t.open&&t.exited&&e.hidden]}})(cr(({theme:r})=>({position:"fixed",zIndex:(r.vars||r).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:e})=>!e.open&&e.exited,style:{visibility:"hidden"}}]}))),KZ=it(MN,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),_k=M.forwardRef(function(e,t){const n=Xt({name:"MuiModal",props:e}),{BackdropComponent:i=KZ,BackdropProps:s,classes:a,className:o,closeAfterTransition:l=!1,children:u,container:c,component:h,components:f={},componentsProps:g={},disableAutoFocus:v=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:_=!1,disablePortal:C=!1,disableRestoreFocus:k=!1,disableScrollLock:D=!1,hideBackdrop:I=!1,keepMounted:A=!1,onClose:R,onTransitionEnter:N,onTransitionExited:U,open:F,slotProps:w={},slots:$={},theme:H,...W}=n,Q={...n,closeAfterTransition:l,disableAutoFocus:v,disableEnforceFocus:y,disableEscapeKeyDown:_,disablePortal:C,disableRestoreFocus:k,disableScrollLock:D,hideBackdrop:I,keepMounted:A},{getRootProps:te,getBackdropProps:oe,getTransitionProps:de,portalRef:le,isTopModal:ae,exited:ie,hasTransition:ee}=VZ({...Q,rootRef:t}),pe={...Q,exited:ie},ve=qZ(pe),_e={};if(u.props.tabIndex===void 0&&(_e.tabIndex="-1"),ee){const{onEnter:Je,onExited:Pt}=de();_e.onEnter=Je,_e.onExited=Pt}const Le={slots:{root:f.Root,backdrop:f.Backdrop,...$},slotProps:{...g,...w}},[Re,ot]=ur("root",{ref:t,elementType:GZ,externalForwardedProps:{...Le,...W,component:h},getSlotProps:te,ownerState:pe,className:Et(o,ve?.root,!pe.open&&pe.exited&&ve?.hidden)}),[ze,mt]=ur("backdrop",{ref:s?.ref,elementType:i,externalForwardedProps:Le,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:Je=>oe({...Je,onClick:Pt=>{Je?.onClick&&Je.onClick(Pt)}}),className:Et(s?.className,ve?.backdrop),ownerState:pe});return!A&&!F&&(!ee||ie)?null:P.jsx(PN,{ref:le,container:c,disablePortal:C,children:P.jsxs(Re,{...ot,children:[!I&&i?P.jsx(ze,{...mt}):null,P.jsx(DZ,{disableEnforceFocus:y,disableAutoFocus:v,disableRestoreFocus:k,isEnabled:ae,open:F,children:M.cloneElement(u,_e)})]})})});function XZ(r){return Zt("MuiPaper",r)}Yt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const YZ=r=>{const{square:e,elevation:t,variant:n,classes:i}=r,s={root:["root",n,!e&&"rounded",n==="elevation"&&`elevation${t}`]};return Jt(s,XZ,i)},QZ=it("div",{name:"MuiPaper",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],!t.square&&e.rounded,t.variant==="elevation"&&e[`elevation${t.elevation}`]]}})(cr(({theme:r})=>({backgroundColor:(r.vars||r).palette.background.paper,color:(r.vars||r).palette.text.primary,transition:r.transitions.create("box-shadow"),variants:[{props:({ownerState:e})=>!e.square,style:{borderRadius:r.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(r.vars||r).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Qu=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiPaper"}),i=zl(),{className:s,component:a="div",elevation:o=1,square:l=!1,variant:u="elevation",...c}=n,h={...n,component:a,elevation:o,square:l,variant:u},f=YZ(h);return P.jsx(QZ,{as:a,ownerState:h,className:Et(f.root,s),ref:t,...c,style:{...u==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[o],...i.vars&&{"--Paper-overlay":i.vars.overlays?.[o]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Kr("#fff",Xw(o))}, ${Kr("#fff",Xw(o))})`}},...c.style}})});function JZ(r){return Zt("MuiDialog",r)}const Z1=Yt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),ZZ=it(MN,{name:"MuiDialog",slot:"Backdrop",overrides:(r,e)=>e.backdrop})({zIndex:-1}),eee=r=>{const{classes:e,scroll:t,maxWidth:n,fullWidth:i,fullScreen:s}=r,a={root:["root"],container:["container",`scroll${ft(t)}`],paper:["paper",`paperScroll${ft(t)}`,`paperWidth${ft(String(n))}`,i&&"paperFullWidth",s&&"paperFullScreen"]};return Jt(a,JZ,e)},tee=it(_k,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),ree=it("div",{name:"MuiDialog",slot:"Container",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.container,e[`scroll${ft(t.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),nee=it(Qu,{name:"MuiDialog",slot:"Paper",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.paper,e[`scrollPaper${ft(t.scroll)}`],e[`paperWidth${ft(String(t.maxWidth))}`],t.fullWidth&&e.paperFullWidth,t.fullScreen&&e.paperFullScreen]}})(cr(({theme:r})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:e})=>!e.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:r.breakpoints.unit==="px"?Math.max(r.breakpoints.values.xs,444):`max(${r.breakpoints.values.xs}${r.breakpoints.unit}, 444px)`,[`&.${Z1.paperScrollBody}`]:{[r.breakpoints.down(Math.max(r.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(r.breakpoints.values).filter(e=>e!=="xs").map(e=>({props:{maxWidth:e},style:{maxWidth:`${r.breakpoints.values[e]}${r.breakpoints.unit}`,[`&.${Z1.paperScrollBody}`]:{[r.breakpoints.down(r.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:e})=>e.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:e})=>e.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${Z1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),xo=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiDialog"}),i=zl(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":a,"aria-labelledby":o,"aria-modal":l=!0,BackdropComponent:u,BackdropProps:c,children:h,className:f,disableEscapeKeyDown:g=!1,fullScreen:v=!1,fullWidth:y=!1,maxWidth:_="sm",onClick:C,onClose:k,open:D,PaperComponent:I=Qu,PaperProps:A={},scroll:R="paper",slots:N={},slotProps:U={},TransitionComponent:F=Qw,transitionDuration:w=s,TransitionProps:$,...H}=n,W={...n,disableEscapeKeyDown:g,fullScreen:v,fullWidth:y,maxWidth:_,scroll:R},Q=eee(W),te=M.useRef(),oe=Ve=>{te.current=Ve.target===Ve.currentTarget},de=Ve=>{C&&C(Ve),te.current&&(te.current=null,k&&k(Ve,"backdropClick"))},le=th(o),ae=M.useMemo(()=>({titleId:le}),[le]),ie={transition:F,...N},ee={transition:$,paper:A,backdrop:c,...U},pe={slots:ie,slotProps:ee},[ve,_e]=ur("root",{elementType:tee,shouldForwardComponentProp:!0,externalForwardedProps:pe,ownerState:W,className:Et(Q.root,f),ref:t}),[Le,Re]=ur("backdrop",{elementType:ZZ,shouldForwardComponentProp:!0,externalForwardedProps:pe,ownerState:W}),[ot,ze]=ur("paper",{elementType:nee,shouldForwardComponentProp:!0,externalForwardedProps:pe,ownerState:W,className:Et(Q.paper,A.className)}),[mt,Je]=ur("container",{elementType:ree,externalForwardedProps:pe,ownerState:W,className:Q.container}),[Pt,Rt]=ur("transition",{elementType:Qw,externalForwardedProps:pe,ownerState:W,additionalProps:{appear:!0,in:D,timeout:w,role:"presentation"}});return P.jsx(ve,{closeAfterTransition:!0,slots:{backdrop:Le},slotProps:{backdrop:{transitionDuration:w,as:u,...Re}},disableEscapeKeyDown:g,onClose:k,open:D,onClick:de,..._e,...H,children:P.jsx(Pt,{...Rt,children:P.jsx(mt,{onMouseDown:oe,...Je,children:P.jsx(ot,{as:I,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":le,"aria-modal":l,...ze,children:P.jsx(DN.Provider,{value:ae,children:h})})})})})});function iee(r){return Zt("MuiSvgIcon",r)}Yt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const see=r=>{const{color:e,fontSize:t,classes:n}=r,i={root:["root",e!=="inherit"&&`color${ft(e)}`,`fontSize${ft(t)}`]};return Jt(i,iee,n)},aee=it("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.color!=="inherit"&&e[`color${ft(t.color)}`],e[`fontSize${ft(t.fontSize)}`]]}})(cr(({theme:r})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:r.transitions?.create?.("fill",{duration:(r.vars??r).transitions?.duration?.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:r.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:r.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:r.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((r.vars??r).palette).filter(([,e])=>e&&e.main).map(([e])=>({props:{color:e},style:{color:(r.vars??r).palette?.[e]?.main}})),{props:{color:"action"},style:{color:(r.vars??r).palette?.action?.active}},{props:{color:"disabled"},style:{color:(r.vars??r).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),U_=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:o="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:h,viewBox:f="0 0 24 24",...g}=n,v=M.isValidElement(i)&&i.type==="svg",y={...n,color:a,component:o,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:f,hasSvgAsChild:v},_={};c||(_.viewBox=f);const C=see(y);return P.jsxs(aee,{as:o,className:Et(C.root,s),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:t,..._,...g,...v&&i.props,ownerState:y,children:[v?i.props.children:i,h?P.jsx("title",{children:h}):null]})});U_.muiName="SvgIcon";function yr(r,e){function t(n,i){return P.jsx(U_,{"data-testid":void 0,ref:i,...n,children:r})}return t.muiName=U_.muiName,M.memo(M.forwardRef(t))}function pv(r,e=166){let t;function n(...i){const s=()=>{r.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return n.clear=()=>{clearTimeout(t)},n}function a_(r,e){return M.isValidElement(r)&&e.indexOf(r.type.muiName??r.type?._payload?.value?.muiName)!==-1}function L0(r){const{controlled:e,default:t,name:n,state:i="value"}=r,{current:s}=M.useRef(e!==void 0),[a,o]=M.useState(t),l=s?e:a,u=M.useCallback(c=>{s||o(c)},[]);return[l,u]}function oee(r,e){const t=r.charCodeAt(2);return r[0]==="o"&&r[1]==="n"&&t>=65&&t<=90&&typeof e=="function"}function bk(r,e){if(!r)return e;function t(a,o){const l={};return Object.keys(o).forEach(u=>{oee(u,o[u])&&typeof a[u]=="function"&&(l[u]=(...c)=>{a[u](...c),o[u](...c)})}),l}if(typeof r=="function"||typeof e=="function")return a=>{const o=typeof e=="function"?e(a):e,l=typeof r=="function"?r({...a,...o}):r,u=Et(a?.className,o?.className,l?.className),c=t(l,o);return{...o,...l,...c,...!!u&&{className:u},...o?.style&&l?.style&&{style:{...o.style,...l.style}},...o?.sx&&l?.sx&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(l.sx)?l.sx:[l.sx]]}}};const n=e,i=t(r,n),s=Et(n?.className,r?.className);return{...e,...r,...i,...!!s&&{className:s},...n?.style&&r?.style&&{style:{...n.style,...r.style}},...n?.sx&&r?.sx&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(r.sx)?r.sx:[r.sx]]}}}const lee=yr(P.jsx("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}));function FN(r,e){const t=sr({},e);return Object.keys(r).forEach(n=>{if(n.toString().match(/^(components|slots)$/))t[n]=sr({},r[n],t[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=r[n]||{},s=e[n];t[n]={},!s||!Object.keys(s)?t[n]=i:!i||!Object.keys(i)?t[n]=s:(t[n]=sr({},s),Object.keys(i).forEach(a=>{t[n][a]=FN(i[a],s[a])}))}else t[n]===void 0&&(t[n]=r[n])}),t}function uee(r,e,t=void 0){const n={};return Object.keys(r).forEach(i=>{n[i]=r[i].reduce((s,a)=>{if(a){const o=e(a);o!==""&&s.push(o),t&&t[a]&&s.push(t[a])}return s},[]).join(" ")}),n}const sO=r=>r,cee=()=>{let r=sO;return{configure(e){r=e},generate(e){return r(e)},reset(){r=sO}}},dee=cee(),hee={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function BN(r,e,t="Mui"){const n=hee[e];return n?`${t}-${n}`:`${dee.generate(r)}-${e}`}function fee(r,e,t="Mui"){const n={};return e.forEach(i=>{n[i]=BN(r,i,t)}),n}var za="top",sl="bottom",al="right",Ha="left",Sk="auto",mv=[za,sl,al,Ha],Yp="start",O0="end",pee="clippingParents",NN="viewport",Eg="popper",mee="reference",aO=mv.reduce(function(r,e){return r.concat([e+"-"+Yp,e+"-"+O0])},[]),UN=[].concat(mv,[Sk]).reduce(function(r,e){return r.concat([e,e+"-"+Yp,e+"-"+O0])},[]),gee="beforeRead",vee="read",yee="afterRead",xee="beforeMain",_ee="main",bee="afterMain",See="beforeWrite",Tee="write",Cee="afterWrite",wee=[gee,vee,yee,xee,_ee,bee,See,Tee,Cee];function Bu(r){return r?(r.nodeName||"").toLowerCase():null}function _o(r){if(r==null)return window;if(r.toString()!=="[object Window]"){var e=r.ownerDocument;return e&&e.defaultView||window}return r}function xf(r){var e=_o(r).Element;return r instanceof e||r instanceof Element}function Zo(r){var e=_o(r).HTMLElement;return r instanceof e||r instanceof HTMLElement}function Tk(r){if(typeof ShadowRoot>"u")return!1;var e=_o(r).ShadowRoot;return r instanceof e||r instanceof ShadowRoot}function Eee(r){var e=r.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];!Zo(s)||!Bu(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(a){var o=i[a];o===!1?s.removeAttribute(a):s.setAttribute(a,o===!0?"":o)}))})}function kee(r){var e=r.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},a=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),o=a.reduce(function(l,u){return l[u]="",l},{});!Zo(i)||!Bu(i)||(Object.assign(i.style,o),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const Aee={name:"applyStyles",enabled:!0,phase:"write",fn:Eee,effect:kee,requires:["computeStyles"]};function Ou(r){return r.split("-")[0]}var Zh=Math.max,$_=Math.min,Qp=Math.round;function Zw(){var r=navigator.userAgentData;return r!=null&&r.brands&&Array.isArray(r.brands)?r.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function $N(){return!/^((?!chrome|android).)*safari/i.test(Zw())}function Jp(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=r.getBoundingClientRect(),i=1,s=1;e&&Zo(r)&&(i=r.offsetWidth>0&&Qp(n.width)/r.offsetWidth||1,s=r.offsetHeight>0&&Qp(n.height)/r.offsetHeight||1);var a=xf(r)?_o(r):window,o=a.visualViewport,l=!$N()&&t,u=(n.left+(l&&o?o.offsetLeft:0))/i,c=(n.top+(l&&o?o.offsetTop:0))/s,h=n.width/i,f=n.height/s;return{width:h,height:f,top:c,right:u+h,bottom:c+f,left:u,x:u,y:c}}function Ck(r){var e=Jp(r),t=r.offsetWidth,n=r.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:r.offsetLeft,y:r.offsetTop,width:t,height:n}}function jN(r,e){var t=e.getRootNode&&e.getRootNode();if(r.contains(e))return!0;if(t&&Tk(t)){var n=e;do{if(n&&r.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Bc(r){return _o(r).getComputedStyle(r)}function Dee(r){return["table","td","th"].indexOf(Bu(r))>=0}function nh(r){return((xf(r)?r.ownerDocument:r.document)||window.document).documentElement}function _S(r){return Bu(r)==="html"?r:r.assignedSlot||r.parentNode||(Tk(r)?r.host:null)||nh(r)}function oO(r){return!Zo(r)||Bc(r).position==="fixed"?null:r.offsetParent}function Iee(r){var e=/firefox/i.test(Zw()),t=/Trident/i.test(Zw());if(t&&Zo(r)){var n=Bc(r);if(n.position==="fixed")return null}var i=_S(r);for(Tk(i)&&(i=i.host);Zo(i)&&["html","body"].indexOf(Bu(i))<0;){var s=Bc(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function gv(r){for(var e=_o(r),t=oO(r);t&&Dee(t)&&Bc(t).position==="static";)t=oO(t);return t&&(Bu(t)==="html"||Bu(t)==="body"&&Bc(t).position==="static")?e:t||Iee(r)||e}function wk(r){return["top","bottom"].indexOf(r)>=0?"x":"y"}function s0(r,e,t){return Zh(r,$_(e,t))}function Pee(r,e,t){var n=s0(r,e,t);return n>t?t:n}function zN(){return{top:0,right:0,bottom:0,left:0}}function HN(r){return Object.assign({},zN(),r)}function VN(r,e){return e.reduce(function(t,n){return t[n]=r,t},{})}var Ree=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,HN(typeof e!="number"?e:VN(e,mv))};function Lee(r){var e,t=r.state,n=r.name,i=r.options,s=t.elements.arrow,a=t.modifiersData.popperOffsets,o=Ou(t.placement),l=wk(o),u=[Ha,al].indexOf(o)>=0,c=u?"height":"width";if(!(!s||!a)){var h=Ree(i.padding,t),f=Ck(s),g=l==="y"?za:Ha,v=l==="y"?sl:al,y=t.rects.reference[c]+t.rects.reference[l]-a[l]-t.rects.popper[c],_=a[l]-t.rects.reference[l],C=gv(s),k=C?l==="y"?C.clientHeight||0:C.clientWidth||0:0,D=y/2-_/2,I=h[g],A=k-f[c]-h[v],R=k/2-f[c]/2+D,N=s0(I,R,A),U=l;t.modifiersData[n]=(e={},e[U]=N,e.centerOffset=N-R,e)}}function Oee(r){var e=r.state,t=r.options,n=t.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||jN(e.elements.popper,i)&&(e.elements.arrow=i))}const Mee={name:"arrow",enabled:!0,phase:"main",fn:Lee,effect:Oee,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Zp(r){return r.split("-")[1]}var Fee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Bee(r,e){var t=r.x,n=r.y,i=e.devicePixelRatio||1;return{x:Qp(t*i)/i||0,y:Qp(n*i)/i||0}}function lO(r){var e,t=r.popper,n=r.popperRect,i=r.placement,s=r.variation,a=r.offsets,o=r.position,l=r.gpuAcceleration,u=r.adaptive,c=r.roundOffsets,h=r.isFixed,f=a.x,g=f===void 0?0:f,v=a.y,y=v===void 0?0:v,_=typeof c=="function"?c({x:g,y}):{x:g,y};g=_.x,y=_.y;var C=a.hasOwnProperty("x"),k=a.hasOwnProperty("y"),D=Ha,I=za,A=window;if(u){var R=gv(t),N="clientHeight",U="clientWidth";if(R===_o(t)&&(R=nh(t),Bc(R).position!=="static"&&o==="absolute"&&(N="scrollHeight",U="scrollWidth")),R=R,i===za||(i===Ha||i===al)&&s===O0){I=sl;var F=h&&R===A&&A.visualViewport?A.visualViewport.height:R[N];y-=F-n.height,y*=l?1:-1}if(i===Ha||(i===za||i===sl)&&s===O0){D=al;var w=h&&R===A&&A.visualViewport?A.visualViewport.width:R[U];g-=w-n.width,g*=l?1:-1}}var $=Object.assign({position:o},u&&Fee),H=c===!0?Bee({x:g,y},_o(t)):{x:g,y};if(g=H.x,y=H.y,l){var W;return Object.assign({},$,(W={},W[I]=k?"0":"",W[D]=C?"0":"",W.transform=(A.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",W))}return Object.assign({},$,(e={},e[I]=k?y+"px":"",e[D]=C?g+"px":"",e.transform="",e))}function Nee(r){var e=r.state,t=r.options,n=t.gpuAcceleration,i=n===void 0?!0:n,s=t.adaptive,a=s===void 0?!0:s,o=t.roundOffsets,l=o===void 0?!0:o,u={placement:Ou(e.placement),variation:Zp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,lO(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,lO(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Uee={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nee,data:{}};var Ly={passive:!0};function $ee(r){var e=r.state,t=r.instance,n=r.options,i=n.scroll,s=i===void 0?!0:i,a=n.resize,o=a===void 0?!0:a,l=_o(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",t.update,Ly)}),o&&l.addEventListener("resize",t.update,Ly),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",t.update,Ly)}),o&&l.removeEventListener("resize",t.update,Ly)}}const jee={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:$ee,data:{}};var zee={left:"right",right:"left",bottom:"top",top:"bottom"};function o_(r){return r.replace(/left|right|bottom|top/g,function(e){return zee[e]})}var Hee={start:"end",end:"start"};function uO(r){return r.replace(/start|end/g,function(e){return Hee[e]})}function Ek(r){var e=_o(r),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function kk(r){return Jp(nh(r)).left+Ek(r).scrollLeft}function Vee(r,e){var t=_o(r),n=nh(r),i=t.visualViewport,s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;var u=$N();(u||!u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o+kk(r),y:l}}function Wee(r){var e,t=nh(r),n=Ek(r),i=(e=r.ownerDocument)==null?void 0:e.body,s=Zh(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Zh(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),o=-n.scrollLeft+kk(r),l=-n.scrollTop;return Bc(i||t).direction==="rtl"&&(o+=Zh(t.clientWidth,i?i.clientWidth:0)-s),{width:s,height:a,x:o,y:l}}function Ak(r){var e=Bc(r),t=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+n)}function WN(r){return["html","body","#document"].indexOf(Bu(r))>=0?r.ownerDocument.body:Zo(r)&&Ak(r)?r:WN(_S(r))}function a0(r,e){var t;e===void 0&&(e=[]);var n=WN(r),i=n===((t=r.ownerDocument)==null?void 0:t.body),s=_o(n),a=i?[s].concat(s.visualViewport||[],Ak(n)?n:[]):n,o=e.concat(a);return i?o:o.concat(a0(_S(a)))}function e2(r){return Object.assign({},r,{left:r.x,top:r.y,right:r.x+r.width,bottom:r.y+r.height})}function qee(r,e){var t=Jp(r,!1,e==="fixed");return t.top=t.top+r.clientTop,t.left=t.left+r.clientLeft,t.bottom=t.top+r.clientHeight,t.right=t.left+r.clientWidth,t.width=r.clientWidth,t.height=r.clientHeight,t.x=t.left,t.y=t.top,t}function cO(r,e,t){return e===NN?e2(Vee(r,t)):xf(e)?qee(e,t):e2(Wee(nh(r)))}function Gee(r){var e=a0(_S(r)),t=["absolute","fixed"].indexOf(Bc(r).position)>=0,n=t&&Zo(r)?gv(r):r;return xf(n)?e.filter(function(i){return xf(i)&&jN(i,n)&&Bu(i)!=="body"}):[]}function Kee(r,e,t,n){var i=e==="clippingParents"?Gee(r):[].concat(e),s=[].concat(i,[t]),a=s[0],o=s.reduce(function(l,u){var c=cO(r,u,n);return l.top=Zh(c.top,l.top),l.right=$_(c.right,l.right),l.bottom=$_(c.bottom,l.bottom),l.left=Zh(c.left,l.left),l},cO(r,a,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function qN(r){var e=r.reference,t=r.element,n=r.placement,i=n?Ou(n):null,s=n?Zp(n):null,a=e.x+e.width/2-t.width/2,o=e.y+e.height/2-t.height/2,l;switch(i){case za:l={x:a,y:e.y-t.height};break;case sl:l={x:a,y:e.y+e.height};break;case al:l={x:e.x+e.width,y:o};break;case Ha:l={x:e.x-t.width,y:o};break;default:l={x:e.x,y:e.y}}var u=i?wk(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Yp:l[u]=l[u]-(e[c]/2-t[c]/2);break;case O0:l[u]=l[u]+(e[c]/2-t[c]/2);break}}return l}function M0(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=n===void 0?r.placement:n,s=t.strategy,a=s===void 0?r.strategy:s,o=t.boundary,l=o===void 0?pee:o,u=t.rootBoundary,c=u===void 0?NN:u,h=t.elementContext,f=h===void 0?Eg:h,g=t.altBoundary,v=g===void 0?!1:g,y=t.padding,_=y===void 0?0:y,C=HN(typeof _!="number"?_:VN(_,mv)),k=f===Eg?mee:Eg,D=r.rects.popper,I=r.elements[v?k:f],A=Kee(xf(I)?I:I.contextElement||nh(r.elements.popper),l,c,a),R=Jp(r.elements.reference),N=qN({reference:R,element:D,placement:i}),U=e2(Object.assign({},D,N)),F=f===Eg?U:R,w={top:A.top-F.top+C.top,bottom:F.bottom-A.bottom+C.bottom,left:A.left-F.left+C.left,right:F.right-A.right+C.right},$=r.modifiersData.offset;if(f===Eg&&$){var H=$[i];Object.keys(w).forEach(function(W){var Q=[al,sl].indexOf(W)>=0?1:-1,te=[za,sl].indexOf(W)>=0?"y":"x";w[W]+=H[te]*Q})}return w}function Xee(r,e){e===void 0&&(e={});var t=e,n=t.placement,i=t.boundary,s=t.rootBoundary,a=t.padding,o=t.flipVariations,l=t.allowedAutoPlacements,u=l===void 0?UN:l,c=Zp(n),h=c?o?aO:aO.filter(function(v){return Zp(v)===c}):mv,f=h.filter(function(v){return u.indexOf(v)>=0});f.length===0&&(f=h);var g=f.reduce(function(v,y){return v[y]=M0(r,{placement:y,boundary:i,rootBoundary:s,padding:a})[Ou(y)],v},{});return Object.keys(g).sort(function(v,y){return g[v]-g[y]})}function Yee(r){if(Ou(r)===Sk)return[];var e=o_(r);return[uO(r),e,uO(e)]}function Qee(r){var e=r.state,t=r.options,n=r.name;if(!e.modifiersData[n]._skip){for(var i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,o=a===void 0?!0:a,l=t.fallbackPlacements,u=t.padding,c=t.boundary,h=t.rootBoundary,f=t.altBoundary,g=t.flipVariations,v=g===void 0?!0:g,y=t.allowedAutoPlacements,_=e.options.placement,C=Ou(_),k=C===_,D=l||(k||!v?[o_(_)]:Yee(_)),I=[_].concat(D).reduce(function(_e,Le){return _e.concat(Ou(Le)===Sk?Xee(e,{placement:Le,boundary:c,rootBoundary:h,padding:u,flipVariations:v,allowedAutoPlacements:y}):Le)},[]),A=e.rects.reference,R=e.rects.popper,N=new Map,U=!0,F=I[0],w=0;w<I.length;w++){var $=I[w],H=Ou($),W=Zp($)===Yp,Q=[za,sl].indexOf(H)>=0,te=Q?"width":"height",oe=M0(e,{placement:$,boundary:c,rootBoundary:h,altBoundary:f,padding:u}),de=Q?W?al:Ha:W?sl:za;A[te]>R[te]&&(de=o_(de));var le=o_(de),ae=[];if(s&&ae.push(oe[H]<=0),o&&ae.push(oe[de]<=0,oe[le]<=0),ae.every(function(_e){return _e})){F=$,U=!1;break}N.set($,ae)}if(U)for(var ie=v?3:1,ee=function(Le){var Re=I.find(function(ot){var ze=N.get(ot);if(ze)return ze.slice(0,Le).every(function(mt){return mt})});if(Re)return F=Re,"break"},pe=ie;pe>0;pe--){var ve=ee(pe);if(ve==="break")break}e.placement!==F&&(e.modifiersData[n]._skip=!0,e.placement=F,e.reset=!0)}}const Jee={name:"flip",enabled:!0,phase:"main",fn:Qee,requiresIfExists:["offset"],data:{_skip:!1}};function dO(r,e,t){return t===void 0&&(t={x:0,y:0}),{top:r.top-e.height-t.y,right:r.right-e.width+t.x,bottom:r.bottom-e.height+t.y,left:r.left-e.width-t.x}}function hO(r){return[za,al,sl,Ha].some(function(e){return r[e]>=0})}function Zee(r){var e=r.state,t=r.name,n=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,a=M0(e,{elementContext:"reference"}),o=M0(e,{altBoundary:!0}),l=dO(a,n),u=dO(o,i,s),c=hO(l),h=hO(u);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}const ete={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zee};function tte(r,e,t){var n=Ou(r),i=[Ha,za].indexOf(n)>=0?-1:1,s=typeof t=="function"?t(Object.assign({},e,{placement:r})):t,a=s[0],o=s[1];return a=a||0,o=(o||0)*i,[Ha,al].indexOf(n)>=0?{x:o,y:a}:{x:a,y:o}}function rte(r){var e=r.state,t=r.options,n=r.name,i=t.offset,s=i===void 0?[0,0]:i,a=UN.reduce(function(c,h){return c[h]=tte(h,e.rects,s),c},{}),o=a[e.placement],l=o.x,u=o.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[n]=a}const nte={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rte};function ite(r){var e=r.state,t=r.name;e.modifiersData[t]=qN({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const ste={name:"popperOffsets",enabled:!0,phase:"read",fn:ite,data:{}};function ate(r){return r==="x"?"y":"x"}function ote(r){var e=r.state,t=r.options,n=r.name,i=t.mainAxis,s=i===void 0?!0:i,a=t.altAxis,o=a===void 0?!1:a,l=t.boundary,u=t.rootBoundary,c=t.altBoundary,h=t.padding,f=t.tether,g=f===void 0?!0:f,v=t.tetherOffset,y=v===void 0?0:v,_=M0(e,{boundary:l,rootBoundary:u,padding:h,altBoundary:c}),C=Ou(e.placement),k=Zp(e.placement),D=!k,I=wk(C),A=ate(I),R=e.modifiersData.popperOffsets,N=e.rects.reference,U=e.rects.popper,F=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,w=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),$=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(R){if(s){var W,Q=I==="y"?za:Ha,te=I==="y"?sl:al,oe=I==="y"?"height":"width",de=R[I],le=de+_[Q],ae=de-_[te],ie=g?-U[oe]/2:0,ee=k===Yp?N[oe]:U[oe],pe=k===Yp?-U[oe]:-N[oe],ve=e.elements.arrow,_e=g&&ve?Ck(ve):{width:0,height:0},Le=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zN(),Re=Le[Q],ot=Le[te],ze=s0(0,N[oe],_e[oe]),mt=D?N[oe]/2-ie-ze-Re-w.mainAxis:ee-ze-Re-w.mainAxis,Je=D?-N[oe]/2+ie+ze+ot+w.mainAxis:pe+ze+ot+w.mainAxis,Pt=e.elements.arrow&&gv(e.elements.arrow),Rt=Pt?I==="y"?Pt.clientTop||0:Pt.clientLeft||0:0,Ve=(W=$?.[I])!=null?W:0,Ne=de+mt-Ve-Rt,et=de+Je-Ve,at=s0(g?$_(le,Ne):le,de,g?Zh(ae,et):ae);R[I]=at,H[I]=at-de}if(o){var Me,$e=I==="x"?za:Ha,qe=I==="x"?sl:al,Ye=R[A],vt=A==="y"?"height":"width",ut=Ye+_[$e],gr=Ye-_[qe],hr=[za,Ha].indexOf(C)!==-1,Rr=(Me=$?.[A])!=null?Me:0,nr=hr?ut:Ye-N[vt]-U[vt]-Rr+w.altAxis,qt=hr?Ye+N[vt]+U[vt]-Rr-w.altAxis:gr,fr=g&&hr?Pee(nr,Ye,qt):s0(g?nr:ut,Ye,g?qt:gr);R[A]=fr,H[A]=fr-Ye}e.modifiersData[n]=H}}const lte={name:"preventOverflow",enabled:!0,phase:"main",fn:ote,requiresIfExists:["offset"]};function ute(r){return{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}}function cte(r){return r===_o(r)||!Zo(r)?Ek(r):ute(r)}function dte(r){var e=r.getBoundingClientRect(),t=Qp(e.width)/r.offsetWidth||1,n=Qp(e.height)/r.offsetHeight||1;return t!==1||n!==1}function hte(r,e,t){t===void 0&&(t=!1);var n=Zo(e),i=Zo(e)&&dte(e),s=nh(e),a=Jp(r,i,t),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((Bu(e)!=="body"||Ak(s))&&(o=cte(e)),Zo(e)?(l=Jp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=kk(s))),{x:a.left+o.scrollLeft-l.x,y:a.top+o.scrollTop-l.y,width:a.width,height:a.height}}function fte(r){var e=new Map,t=new Set,n=[];r.forEach(function(s){e.set(s.name,s)});function i(s){t.add(s.name);var a=[].concat(s.requires||[],s.requiresIfExists||[]);a.forEach(function(o){if(!t.has(o)){var l=e.get(o);l&&i(l)}}),n.push(s)}return r.forEach(function(s){t.has(s.name)||i(s)}),n}function pte(r){var e=fte(r);return wee.reduce(function(t,n){return t.concat(e.filter(function(i){return i.phase===n}))},[])}function mte(r){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(r())})})),e}}function gte(r){var e=r.reduce(function(t,n){var i=t[n.name];return t[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var fO={placement:"bottom",modifiers:[],strategy:"absolute"};function pO(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function vte(r){r===void 0&&(r={});var e=r,t=e.defaultModifiers,n=t===void 0?[]:t,i=e.defaultOptions,s=i===void 0?fO:i;return function(o,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},fO,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},h=[],f=!1,g={state:c,setOptions:function(C){var k=typeof C=="function"?C(c.options):C;y(),c.options=Object.assign({},s,c.options,k),c.scrollParents={reference:xf(o)?a0(o):o.contextElement?a0(o.contextElement):[],popper:a0(l)};var D=pte(gte([].concat(n,c.options.modifiers)));return c.orderedModifiers=D.filter(function(I){return I.enabled}),v(),g.update()},forceUpdate:function(){if(!f){var C=c.elements,k=C.reference,D=C.popper;if(pO(k,D)){c.rects={reference:hte(k,gv(D),c.options.strategy==="fixed"),popper:Ck(D)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(w){return c.modifiersData[w.name]=Object.assign({},w.data)});for(var I=0;I<c.orderedModifiers.length;I++){if(c.reset===!0){c.reset=!1,I=-1;continue}var A=c.orderedModifiers[I],R=A.fn,N=A.options,U=N===void 0?{}:N,F=A.name;typeof R=="function"&&(c=R({state:c,options:U,name:F,instance:g})||c)}}}},update:mte(function(){return new Promise(function(_){g.forceUpdate(),_(c)})}),destroy:function(){y(),f=!0}};if(!pO(o,l))return g;g.setOptions(u).then(function(_){!f&&u.onFirstUpdate&&u.onFirstUpdate(_)});function v(){c.orderedModifiers.forEach(function(_){var C=_.name,k=_.options,D=k===void 0?{}:k,I=_.effect;if(typeof I=="function"){var A=I({state:c,name:C,instance:g,options:D}),R=function(){};h.push(A||R)}})}function y(){h.forEach(function(_){return _()}),h=[]}return g}}var yte=[jee,ste,Uee,Aee,nte,Jee,lte,Mee,ete],xte=vte({defaultModifiers:yte});function _te({theme:r,...e}){const t=Ll in r?r[Ll]:void 0;return P.jsx(gN,{...e,themeId:t?Ll:void 0,theme:t||r})}const Oy={colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"},{CssVarsProvider:bte}=YQ({themeId:Ll,theme:()=>yS({cssVariables:!0}),colorSchemeStorageKey:Oy.colorSchemeStorageKey,modeStorageKey:Oy.modeStorageKey,defaultColorScheme:{light:Oy.defaultLightColorScheme,dark:Oy.defaultDarkColorScheme},resolveTheme:r=>{const e={...r,typography:TN(r.palette,r.typography)};return e.unstable_sx=function(n){return zd({sx:n,theme:this})},e}}),Ste=bte;function Tte({theme:r,...e}){const t=M.useMemo(()=>{if(typeof r=="function")return r;const n=Ll in r?r[Ll]:r;return"colorSchemes"in n?null:"vars"in n?r:{...r,vars:null}},[r]);return t?P.jsx(_te,{theme:t,...e}):P.jsx(Ste,{theme:r,...e})}function GN(r,e){const t={...e};for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)){const i=n;if(i==="components"||i==="slots")t[i]={...r[i],...t[i]};else if(i==="componentsProps"||i==="slotProps"){const s=r[i],a=e[i];if(!a)t[i]=s||{};else if(!s)t[i]=a;else{t[i]={...a};for(const o in s)if(Object.prototype.hasOwnProperty.call(s,o)){const l=o;t[i][l]=GN(s[l],a[l])}}}else t[i]===void 0&&(t[i]=r[i])}return t}function j_(r){try{return r.matches(":focus-visible")}catch{}return!1}const mO={};function KN(r,e){const t=M.useRef(mO);return t.current===mO&&(t.current=r(e)),t}class z_{static create(){return new z_}static use(){const e=KN(z_.create).current,[t,n]=M.useState(!1);return e.shouldMount=t,e.setShouldMount=n,M.useEffect(e.mountEffect,[t]),e}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=wte(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...e){this.mount().then(()=>this.ref.current?.start(...e))}stop(...e){this.mount().then(()=>this.ref.current?.stop(...e))}pulsate(...e){this.mount().then(()=>this.ref.current?.pulsate(...e))}}function Cte(){return z_.use()}function wte(){let r,e;const t=new Promise((n,i)=>{r=n,e=i});return t.resolve=r,t.reject=e,t}const Ete=[];function kte(r){M.useEffect(r,Ete)}class bS{static create(){return new bS}currentId=null;start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function Md(){const r=KN(bS.create).current;return kte(r.disposeEffect),r}function Ate(r){const{className:e,classes:t,pulsate:n=!1,rippleX:i,rippleY:s,rippleSize:a,in:o,onExited:l,timeout:u}=r,[c,h]=M.useState(!1),f=Et(e,t.ripple,t.rippleVisible,n&&t.ripplePulsate),g={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},v=Et(t.child,c&&t.childLeaving,n&&t.childPulsate);return!o&&!c&&h(!0),M.useEffect(()=>{if(!o&&l!=null){const y=setTimeout(l,u);return()=>{clearTimeout(y)}}},[l,o,u]),P.jsx("span",{className:f,style:g,children:P.jsx("span",{className:v})})}const Go=Yt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),t2=550,Dte=80,Ite=dv`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Pte=dv`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Rte=dv`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Lte=it("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ote=it(Ate,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Go.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Ite};
    animation-duration: ${t2}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  &.${Go.ripplePulsate} {
    animation-duration: ${({theme:r})=>r.transitions.duration.shorter}ms;
  }

  & .${Go.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Go.childLeaving} {
    opacity: 0;
    animation-name: ${Pte};
    animation-duration: ${t2}ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
  }

  & .${Go.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Rte};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:r})=>r.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Mte=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...o}=n,[l,u]=M.useState([]),c=M.useRef(0),h=M.useRef(null);M.useEffect(()=>{h.current&&(h.current(),h.current=null)},[l]);const f=M.useRef(!1),g=Md(),v=M.useRef(null),y=M.useRef(null),_=M.useCallback(I=>{const{pulsate:A,rippleX:R,rippleY:N,rippleSize:U,cb:F}=I;u(w=>[...w,P.jsx(Ote,{classes:{ripple:Et(s.ripple,Go.ripple),rippleVisible:Et(s.rippleVisible,Go.rippleVisible),ripplePulsate:Et(s.ripplePulsate,Go.ripplePulsate),child:Et(s.child,Go.child),childLeaving:Et(s.childLeaving,Go.childLeaving),childPulsate:Et(s.childPulsate,Go.childPulsate)},timeout:t2,pulsate:A,rippleX:R,rippleY:N,rippleSize:U},c.current)]),c.current+=1,h.current=F},[s]),C=M.useCallback((I={},A={},R=()=>{})=>{const{pulsate:N=!1,center:U=i||A.pulsate,fakeElement:F=!1}=A;if(I?.type==="mousedown"&&f.current){f.current=!1;return}I?.type==="touchstart"&&(f.current=!0);const w=F?null:y.current,$=w?w.getBoundingClientRect():{width:0,height:0,left:0,top:0};let H,W,Q;if(U||I===void 0||I.clientX===0&&I.clientY===0||!I.clientX&&!I.touches)H=Math.round($.width/2),W=Math.round($.height/2);else{const{clientX:te,clientY:oe}=I.touches&&I.touches.length>0?I.touches[0]:I;H=Math.round(te-$.left),W=Math.round(oe-$.top)}if(U)Q=Math.sqrt((2*$.width**2+$.height**2)/3),Q%2===0&&(Q+=1);else{const te=Math.max(Math.abs((w?w.clientWidth:0)-H),H)*2+2,oe=Math.max(Math.abs((w?w.clientHeight:0)-W),W)*2+2;Q=Math.sqrt(te**2+oe**2)}I?.touches?v.current===null&&(v.current=()=>{_({pulsate:N,rippleX:H,rippleY:W,rippleSize:Q,cb:R})},g.start(Dte,()=>{v.current&&(v.current(),v.current=null)})):_({pulsate:N,rippleX:H,rippleY:W,rippleSize:Q,cb:R})},[i,_,g]),k=M.useCallback(()=>{C({},{pulsate:!0})},[C]),D=M.useCallback((I,A)=>{if(g.clear(),I?.type==="touchend"&&v.current){v.current(),v.current=null,g.start(0,()=>{D(I,A)});return}v.current=null,u(R=>R.length>0?R.slice(1):R),h.current=A},[g]);return M.useImperativeHandle(t,()=>({pulsate:k,start:C,stop:D}),[k,C,D]),P.jsx(Lte,{className:Et(Go.root,s.root,a),ref:y,...o,children:P.jsx(yk,{component:null,exit:!0,children:l})})});function Fte(r){return Zt("MuiButtonBase",r)}const Bte=Yt("MuiButtonBase",["root","disabled","focusVisible"]),Nte=r=>{const{disabled:e,focusVisible:t,focusVisibleClassName:n,classes:i}=r,a=Jt({root:["root",e&&"disabled",t&&"focusVisible"]},Fte,i);return t&&n&&(a.root+=` ${n}`),a},Ute=it("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Bte.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Nu=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:o,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:h=!1,focusRipple:f=!1,focusVisibleClassName:g,LinkComponent:v="a",onBlur:y,onClick:_,onContextMenu:C,onDragLeave:k,onFocus:D,onFocusVisible:I,onKeyDown:A,onKeyUp:R,onMouseDown:N,onMouseLeave:U,onMouseUp:F,onTouchEnd:w,onTouchMove:$,onTouchStart:H,tabIndex:W=0,TouchRippleProps:Q,touchRippleRef:te,type:oe,...de}=n,le=M.useRef(null),ae=Cte(),ie=Gn(ae.ref,te),[ee,pe]=M.useState(!1);u&&ee&&pe(!1),M.useImperativeHandle(i,()=>({focusVisible:()=>{pe(!0),le.current.focus()}}),[]);const ve=ae.shouldMount&&!c&&!u;M.useEffect(()=>{ee&&f&&!c&&ae.pulsate()},[c,f,ee,ae]);const _e=_c(ae,"start",N,h),Le=_c(ae,"stop",C,h),Re=_c(ae,"stop",k,h),ot=_c(ae,"stop",F,h),ze=_c(ae,"stop",ut=>{ee&&ut.preventDefault(),U&&U(ut)},h),mt=_c(ae,"start",H,h),Je=_c(ae,"stop",w,h),Pt=_c(ae,"stop",$,h),Rt=_c(ae,"stop",ut=>{j_(ut.target)||pe(!1),y&&y(ut)},!1),Ve=ua(ut=>{le.current||(le.current=ut.currentTarget),j_(ut.target)&&(pe(!0),I&&I(ut)),D&&D(ut)}),Ne=()=>{const ut=le.current;return l&&l!=="button"&&!(ut.tagName==="A"&&ut.href)},et=ua(ut=>{f&&!ut.repeat&&ee&&ut.key===" "&&ae.stop(ut,()=>{ae.start(ut)}),ut.target===ut.currentTarget&&Ne()&&ut.key===" "&&ut.preventDefault(),A&&A(ut),ut.target===ut.currentTarget&&Ne()&&ut.key==="Enter"&&!u&&(ut.preventDefault(),_&&_(ut))}),at=ua(ut=>{f&&ut.key===" "&&ee&&!ut.defaultPrevented&&ae.stop(ut,()=>{ae.pulsate(ut)}),R&&R(ut),_&&ut.target===ut.currentTarget&&Ne()&&ut.key===" "&&!ut.defaultPrevented&&_(ut)});let Me=l;Me==="button"&&(de.href||de.to)&&(Me=v);const $e={};Me==="button"?($e.type=oe===void 0?"button":oe,$e.disabled=u):(!de.href&&!de.to&&($e.role="button"),u&&($e["aria-disabled"]=u));const qe=Gn(t,le),Ye={...n,centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:h,focusRipple:f,tabIndex:W,focusVisible:ee},vt=Nte(Ye);return P.jsxs(Ute,{as:Me,className:Et(vt.root,o),ownerState:Ye,onBlur:Rt,onClick:_,onContextMenu:Le,onFocus:Ve,onKeyDown:et,onKeyUp:at,onMouseDown:_e,onMouseLeave:ze,onMouseUp:ot,onDragLeave:Re,onTouchEnd:Je,onTouchMove:Pt,onTouchStart:mt,ref:qe,tabIndex:u?-1:W,type:oe,...$e,...de,children:[a,ve?P.jsx(Mte,{ref:ie,center:s,...Q}):null]})});function _c(r,e,t,n=!1){return ua(i=>(t&&t(i),n||r[e](i),!0))}function $te(r){return Zt("MuiCircularProgress",r)}Yt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _d=44,r2=dv`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,n2=dv`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,jte=typeof r2!="string"?lk`
        animation: ${r2} 1.4s linear infinite;
      `:null,zte=typeof n2!="string"?lk`
        animation: ${n2} 1.4s ease-in-out infinite;
      `:null,Hte=r=>{const{classes:e,variant:t,color:n,disableShrink:i}=r,s={root:["root",t,`color${ft(n)}`],svg:["svg"],circle:["circle",`circle${ft(t)}`,i&&"circleDisableShrink"]};return Jt(s,$te,e)},Vte=it("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],e[`color${ft(t.color)}`]]}})(cr(({theme:r})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("transform")}},{props:{variant:"indeterminate"},style:jte||{animation:`${r2} 1.4s linear infinite`}},...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e},style:{color:(r.vars||r).palette[e].main}}))]}))),Wte=it("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),qte=it("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.circle,e[`circle${ft(t.variant)}`],t.disableShrink&&e.circleDisableShrink]}})(cr(({theme:r})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:r.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:e})=>e.variant==="indeterminate"&&!e.disableShrink,style:zte||{animation:`${n2} 1.4s ease-in-out infinite`}}]}))),_f=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:o=40,style:l,thickness:u=3.6,value:c=0,variant:h="indeterminate",...f}=n,g={...n,color:s,disableShrink:a,size:o,thickness:u,value:c,variant:h},v=Hte(g),y={},_={},C={};if(h==="determinate"){const k=2*Math.PI*((_d-u)/2);y.strokeDasharray=k.toFixed(3),C["aria-valuenow"]=Math.round(c),y.strokeDashoffset=`${((100-c)/100*k).toFixed(3)}px`,_.transform="rotate(-90deg)"}return P.jsx(Vte,{className:Et(v.root,i),style:{width:o,height:o,..._,...l},ownerState:g,ref:t,role:"progressbar",...C,...f,children:P.jsx(Wte,{className:v.svg,ownerState:g,viewBox:`${_d/2} ${_d/2} ${_d} ${_d}`,children:P.jsx(qte,{className:v.circle,style:y,ownerState:g,cx:_d,cy:_d,r:(_d-u)/2,fill:"none",strokeWidth:u})})})});function Gte(r){return Zt("MuiButton",r)}const Dh=Yt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),XN=M.createContext({}),Kte=M.createContext(void 0),Xte=r=>{const{color:e,disableElevation:t,fullWidth:n,size:i,variant:s,loading:a,loadingPosition:o,classes:l}=r,u={root:["root",a&&"loading",s,`${s}${ft(e)}`,`size${ft(i)}`,`${s}Size${ft(i)}`,`color${ft(e)}`,t&&"disableElevation",n&&"fullWidth",a&&`loadingPosition${ft(o)}`],startIcon:["icon","startIcon",`iconSize${ft(i)}`],endIcon:["icon","endIcon",`iconSize${ft(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},c=Jt(u,Gte,l);return{...l,...c}},YN=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],Yte=it(Nu,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiButton",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],e[`${t.variant}${ft(t.color)}`],e[`size${ft(t.size)}`],e[`${t.variant}Size${ft(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth,t.loading&&e.loading]}})(cr(({theme:r})=>{const e=r.palette.mode==="light"?r.palette.grey[300]:r.palette.grey[800],t=r.palette.mode==="light"?r.palette.grey.A100:r.palette.grey[700];return{...r.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Dh.disabled}`]:{color:(r.vars||r).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(r.vars||r).shadows[2],"&:hover":{boxShadow:(r.vars||r).shadows[4],"@media (hover: none)":{boxShadow:(r.vars||r).shadows[2]}},"&:active":{boxShadow:(r.vars||r).shadows[8]},[`&.${Dh.focusVisible}`]:{boxShadow:(r.vars||r).shadows[6]},[`&.${Dh.disabled}`]:{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Dh.disabled}`]:{border:`1px solid ${(r.vars||r).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(r.palette).filter(_i()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(r.vars||r).palette[n].main,"--variant-outlinedColor":(r.vars||r).palette[n].main,"--variant-outlinedBorder":r.vars?`rgba(${r.vars.palette[n].mainChannel} / 0.5)`:Kr(r.palette[n].main,.5),"--variant-containedColor":(r.vars||r).palette[n].contrastText,"--variant-containedBg":(r.vars||r).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(r.vars||r).palette[n].dark,"--variant-textBg":r.vars?`rgba(${r.vars.palette[n].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette[n].main,r.palette.action.hoverOpacity),"--variant-outlinedBorder":(r.vars||r).palette[n].main,"--variant-outlinedBg":r.vars?`rgba(${r.vars.palette[n].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette[n].main,r.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":r.vars?r.vars.palette.Button.inheritContainedBg:e,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":r.vars?r.vars.palette.Button.inheritContainedHoverBg:t,"--variant-textBg":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette.text.primary,r.palette.action.hoverOpacity),"--variant-outlinedBg":r.vars?`rgba(${r.vars.palette.text.primaryChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette.text.primary,r.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:r.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:r.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:r.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:r.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:r.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:r.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Dh.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Dh.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:r.transitions.create(["background-color","box-shadow","border-color"],{duration:r.transitions.duration.short}),[`&.${Dh.loading}`]:{color:"transparent"}}}]}})),Qte=it("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.startIcon,t.loading&&e.startIconLoadingStart,e[`iconSize${ft(t.size)}`]]}})(({theme:r})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...YN]})),Jte=it("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.endIcon,t.loading&&e.endIconLoadingEnd,e[`iconSize${ft(t.size)}`]]}})(({theme:r})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...YN]})),Zte=it("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:r})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(r.vars||r).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),gO=it("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Sr=M.forwardRef(function(e,t){const n=M.useContext(XN),i=M.useContext(Kte),s=GN(n,e),a=Xt({props:s,name:"MuiButton"}),{children:o,color:l="primary",component:u="button",className:c,disabled:h=!1,disableElevation:f=!1,disableFocusRipple:g=!1,endIcon:v,focusVisibleClassName:y,fullWidth:_=!1,id:C,loading:k=null,loadingIndicator:D,loadingPosition:I="center",size:A="medium",startIcon:R,type:N,variant:U="text",...F}=a,w=th(C),$=D??P.jsx(_f,{"aria-labelledby":w,color:"inherit",size:16}),H={...a,color:l,component:u,disabled:h,disableElevation:f,disableFocusRipple:g,fullWidth:_,loading:k,loadingIndicator:$,loadingPosition:I,size:A,type:N,variant:U},W=Xte(H),Q=(R||k&&I==="start")&&P.jsx(Qte,{className:W.startIcon,ownerState:H,children:R||P.jsx(gO,{className:W.loadingIconPlaceholder,ownerState:H})}),te=(v||k&&I==="end")&&P.jsx(Jte,{className:W.endIcon,ownerState:H,children:v||P.jsx(gO,{className:W.loadingIconPlaceholder,ownerState:H})}),oe=i||"",de=typeof k=="boolean"?P.jsx("span",{className:W.loadingWrapper,style:{display:"contents"},children:k&&P.jsx(Zte,{className:W.loadingIndicator,ownerState:H,children:$})}):null;return P.jsxs(Yte,{ownerState:H,className:Et(n.className,W.root,c,oe),component:u,disabled:h||k,focusRipple:!g,focusVisibleClassName:Et(W.focusVisible,y),ref:t,type:N,id:k?w:C,...F,classes:W,children:[Q,I!=="end"&&de,o,I==="end"&&de,te]})});function ere(r){return BN("MuiLoadingButton",r)}const bc=fee("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),tre=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],rre=r=>{const{loading:e,loadingPosition:t,classes:n}=r,i={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${ft(t)}`],endIcon:[e&&`endIconLoading${ft(t)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${ft(t)}`]},s=uee(i,ere,n);return sr({},n,s)},nre=r=>r!=="ownerState"&&r!=="theme"&&r!=="sx"&&r!=="as"&&r!=="classes",ire=it(Sr,{shouldForwardProp:r=>nre(r)||r==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(r,e)=>[e.root,e.startIconLoadingStart&&{[`& .${bc.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${bc.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:r,theme:e})=>sr({[`& .${bc.startIconLoadingStart}, & .${bc.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},r.loadingPosition==="center"&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${bc.loading}`]:{color:"transparent"}},r.loadingPosition==="start"&&r.fullWidth&&{[`& .${bc.startIconLoadingStart}, & .${bc.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},r.loadingPosition==="end"&&r.fullWidth&&{[`& .${bc.startIconLoadingStart}, & .${bc.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),sre=it("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.loadingIndicator,e[`loadingIndicator${ft(t.loadingPosition)}`]]}})(({theme:r,ownerState:e})=>sr({position:"absolute",visibility:"visible",display:"flex"},e.loadingPosition==="start"&&(e.variant==="outlined"||e.variant==="contained")&&{left:e.size==="small"?10:14},e.loadingPosition==="start"&&e.variant==="text"&&{left:6},e.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(r.vars||r).palette.action.disabled},e.loadingPosition==="end"&&(e.variant==="outlined"||e.variant==="contained")&&{right:e.size==="small"?10:14},e.loadingPosition==="end"&&e.variant==="text"&&{right:6},e.loadingPosition==="start"&&e.fullWidth&&{position:"relative",left:-10},e.loadingPosition==="end"&&e.fullWidth&&{position:"relative",right:-10})),mo=M.forwardRef(function(e,t){const n=M.useContext(XN),i=FN(n,e),s=Xt({props:i,name:"MuiLoadingButton"}),{children:a,disabled:o=!1,id:l,loading:u=!1,loadingIndicator:c,loadingPosition:h="center",variant:f="text"}=s,g=xS(s,tre),v=th(l),y=c??P.jsx(_f,{"aria-labelledby":v,color:"inherit",size:16}),_=sr({},s,{disabled:o,loading:u,loadingIndicator:y,loadingPosition:h,variant:f}),C=rre(_),k=u?P.jsx(sre,{className:C.loadingIndicator,ownerState:_,children:y}):null;return P.jsxs(ire,sr({disabled:o||u,id:v,ref:t},g,{variant:f,classes:C,ownerState:_,children:[_.loadingPosition==="end"?a:k,_.loadingPosition==="end"?k:a]}))}),i2=yr(P.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39"})),are="/assets/icon-BiexIA3y.png",ore=Yt("MuiBox",["root"]),lre=yS(),pt=yQ({themeId:Ll,defaultTheme:lre,defaultClassName:ore.root,generateClassName:SN.generate}),vO=yr(P.jsx("path",{d:"M19 3H4.99C3.89 3 3 3.9 3 5l.01 14c0 1.1.89 2 1.99 2h10l6-6V5c0-1.1-.9-2-2-2M7 8h10v2H7zm5 6H7v-2h5zm2 5.5V14h5.5z"})),Ol=M.createContext({});function ure(r){return Zt("MuiList",r)}Yt("MuiList",["root","padding","dense","subheader"]);const cre=r=>{const{classes:e,disablePadding:t,dense:n,subheader:i}=r;return Jt({root:["root",!t&&"padding",n&&"dense",i&&"subheader"]},ure,e)},dre=it("ul",{name:"MuiList",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,!t.disablePadding&&e.padding,t.dense&&e.dense,t.subheader&&e.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:r})=>!r.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:r})=>r.subheader,style:{paddingTop:0}}]}),s2=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:o=!1,disablePadding:l=!1,subheader:u,...c}=n,h=M.useMemo(()=>({dense:o}),[o]),f={...n,component:a,dense:o,disablePadding:l},g=cre(f);return P.jsx(Ol.Provider,{value:h,children:P.jsxs(dre,{as:a,className:Et(g.root,s),ref:t,ownerState:f,...c,children:[u,i]})})});function F0(r){return typeof r=="string"}function hre(r){return Zt("MuiListItem",r)}Yt("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function fre(r){return Zt("MuiListItemButton",r)}const hp=Yt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),pre=(r,e)=>{const{ownerState:t}=r;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters]},mre=r=>{const{alignItems:e,classes:t,dense:n,disabled:i,disableGutters:s,divider:a,selected:o}=r,u=Jt({root:["root",n&&"dense",!s&&"gutters",a&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",o&&"selected"]},fre,t);return{...t,...u}},gre=it(Nu,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:pre})(cr(({theme:r})=>({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${hp.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${hp.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${hp.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${hp.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${hp.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},variants:[{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.dense,style:{paddingTop:4,paddingBottom:4}}]}))),yO=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:a="div",children:o,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:h,selected:f=!1,className:g,...v}=n,y=M.useContext(Ol),_=M.useMemo(()=>({dense:l||y.dense||!1,alignItems:i,disableGutters:u}),[i,y.dense,l,u]),C=M.useRef(null);il(()=>{s&&C.current&&C.current.focus()},[s]);const k={...n,alignItems:i,dense:_.dense,disableGutters:u,divider:c,selected:f},D=mre(k),I=Gn(C,t);return P.jsx(Ol.Provider,{value:_,children:P.jsx(gre,{ref:I,href:v.href||v.to,component:(v.href||v.to)&&a==="div"?"button":a,focusVisibleClassName:Et(D.focusVisible,h),ownerState:k,className:Et(D.root,g),...v,classes:D,children:o})})});function vre(r){return Zt("MuiListItemSecondaryAction",r)}Yt("MuiListItemSecondaryAction",["root","disableGutters"]);const yre=r=>{const{disableGutters:e,classes:t}=r;return Jt({root:["root",e&&"disableGutters"]},vre,t)},xre=it("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.disableGutters&&e.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:({ownerState:r})=>r.disableGutters,style:{right:0}}]}),QN=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiListItemSecondaryAction"}),{className:i,...s}=n,a=M.useContext(Ol),o={...n,disableGutters:a.disableGutters},l=yre(o);return P.jsx(xre,{className:Et(l.root,i),ownerState:o,ref:t,...s})});QN.muiName="ListItemSecondaryAction";const _re=(r,e)=>{const{ownerState:t}=r;return[e.root,t.dense&&e.dense,t.alignItems==="flex-start"&&e.alignItemsFlexStart,t.divider&&e.divider,!t.disableGutters&&e.gutters,!t.disablePadding&&e.padding,t.hasSecondaryAction&&e.secondaryAction]},bre=r=>{const{alignItems:e,classes:t,dense:n,disableGutters:i,disablePadding:s,divider:a,hasSecondaryAction:o}=r;return Jt({root:["root",n&&"dense",!i&&"gutters",!s&&"padding",a&&"divider",e==="flex-start"&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"]},hre,t)},Sre=it("div",{name:"MuiListItem",slot:"Root",overridesResolver:_re})(cr(({theme:r})=>({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>!e.disablePadding&&e.dense,style:{paddingTop:4,paddingBottom:4}},{props:({ownerState:e})=>!e.disablePadding&&!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>!e.disablePadding&&!!e.secondaryAction,style:{paddingRight:48}},{props:({ownerState:e})=>!!e.secondaryAction,style:{[`& > .${hp.root}`]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>e.button,style:{transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:({ownerState:e})=>e.hasSecondaryAction,style:{paddingRight:48}}]}))),Tre=it("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Cre=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiListItem"}),{alignItems:i="center",children:s,className:a,component:o,components:l={},componentsProps:u={},ContainerComponent:c="li",ContainerProps:{className:h,...f}={},dense:g=!1,disableGutters:v=!1,disablePadding:y=!1,divider:_=!1,secondaryAction:C,slotProps:k={},slots:D={},...I}=n,A=M.useContext(Ol),R=M.useMemo(()=>({dense:g||A.dense||!1,alignItems:i,disableGutters:v}),[i,A.dense,g,v]),N=M.useRef(null),U=M.Children.toArray(s),F=U.length&&a_(U[U.length-1],["ListItemSecondaryAction"]),w={...n,alignItems:i,dense:R.dense,disableGutters:v,disablePadding:y,divider:_,hasSecondaryAction:F},$=bre(w),H=Gn(N,t),W=D.root||l.Root||Sre,Q=k.root||u.root||{},te={className:Et($.root,Q.className,a),...I};let oe=o||"li";return F?(oe=!te.component&&!o?"div":oe,c==="li"&&(oe==="li"?oe="div":te.component==="li"&&(te.component="div")),P.jsx(Ol.Provider,{value:R,children:P.jsxs(Tre,{as:c,className:Et($.container,h),ref:H,ownerState:w,...f,children:[P.jsx(W,{...Q,...!F0(W)&&{as:oe,ownerState:{...w,...Q.ownerState}},...te,children:U}),U.pop()]})})):P.jsx(Ol.Provider,{value:R,children:P.jsxs(W,{...Q,as:oe,ref:H,...!F0(W)&&{ownerState:{...w,...Q.ownerState}},...te,children:[U,C&&P.jsx(QN,{children:C})]})})});function wre(r){return Zt("MuiListItemIcon",r)}const xO=Yt("MuiListItemIcon",["root","alignItemsFlexStart"]),Ere=r=>{const{alignItems:e,classes:t}=r;return Jt({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},wre,t)},kre=it("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(cr(({theme:r})=>({minWidth:56,color:(r.vars||r).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}))),_O=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiListItemIcon"}),{className:i,...s}=n,a=M.useContext(Ol),o={...n,alignItems:a.alignItems},l=Ere(o);return P.jsx(kre,{className:Et(l.root,i),ownerState:o,ref:t,...s})});function Are(r){return Zt("MuiListItemText",r)}const mp=Yt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Dre=r=>{const{classes:e,inset:t,primary:n,secondary:i,dense:s}=r;return Jt({root:["root",t&&"inset",s&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},Are,e)},Ire=it("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${mp.primary}`]:e.primary},{[`& .${mp.secondary}`]:e.secondary},e.root,t.inset&&e.inset,t.primary&&t.secondary&&e.multiline,t.dense&&e.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[`.${XL.root}:where(& .${mp.primary})`]:{display:"block"},[`.${XL.root}:where(& .${mp.secondary})`]:{display:"block"},variants:[{props:({ownerState:r})=>r.primary&&r.secondary,style:{marginTop:6,marginBottom:6}},{props:({ownerState:r})=>r.inset,style:{paddingLeft:56}}]}),H_=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:a=!1,inset:o=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:h,slots:f={},slotProps:g={},...v}=n,{dense:y}=M.useContext(Ol);let _=l??i,C=c;const k={...n,disableTypography:a,inset:o,primary:!!_,secondary:!!C,dense:y},D=Dre(k),I={slots:f,slotProps:{primary:u,secondary:h,...g}},[A,R]=ur("root",{className:Et(D.root,s),elementType:Ire,externalForwardedProps:{...I,...v},ownerState:k,ref:t}),[N,U]=ur("primary",{className:D.primary,elementType:mr,externalForwardedProps:I,ownerState:k}),[F,w]=ur("secondary",{className:D.secondary,elementType:mr,externalForwardedProps:I,ownerState:k});return _!=null&&_.type!==mr&&!a&&(_=P.jsx(N,{variant:y?"body2":"body1",component:U?.variant?void 0:"span",...U,children:_})),C!=null&&C.type!==mr&&!a&&(C=P.jsx(F,{variant:"body2",color:"textSecondary",...w,children:C})),P.jsxs(A,{...R,children:[_,C]})}),Pre=yr(P.jsx("path",{d:"M11 21h-1l1-7H7.5c-.58 0-.57-.32-.38-.66s.05-.08.07-.12C8.48 10.94 10.42 7.54 13 3h1l-1 7h3.5c.49 0 .56.33.47.51l-.07.15C12.96 17.55 11 21 11 21"})),bO=yr(P.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),Rre=yr(P.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3"})),Lre=yr(P.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3"})),JN=yr(P.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"})),Dk=yr(P.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"})),Ore=yr(P.jsx("path",{d:"M7 9H2V7h5zm0 3H2v2h5zm13.59 7-3.83-3.83c-.8.52-1.74.83-2.76.83-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5c0 1.02-.31 1.96-.83 2.75L22 17.59zM17 11c0-1.65-1.35-3-3-3s-3 1.35-3 3 1.35 3 3 3 3-1.35 3-3M2 19h10v-2H2z"})),Mre=yr(P.jsx("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"})),Fre=yr(P.jsx("path",{d:"M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3m-4.4 15.55-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05"})),SO=yr(P.jsx("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}));function Bre(r){return Zt("MuiCollapse",r)}Yt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Nre=r=>{const{orientation:e,classes:t}=r,n={root:["root",`${e}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${e}`],wrapperInner:["wrapperInner",`${e}`]};return Jt(n,Bre,t)},Ure=it("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.orientation],t.state==="entered"&&e.entered,t.state==="exited"&&!t.in&&t.collapsedSize==="0px"&&e.hidden]}})(cr(({theme:r})=>({height:0,overflow:"hidden",transition:r.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:r.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:e})=>e.state==="exited"&&!e.in&&e.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),$re=it("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),jre=it("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),a2=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiCollapse"}),{addEndListener:i,children:s,className:a,collapsedSize:o="0px",component:l,easing:u,in:c,onEnter:h,onEntered:f,onEntering:g,onExit:v,onExited:y,onExiting:_,orientation:C="vertical",style:k,timeout:D=CN.standard,TransitionComponent:I=dl,...A}=n,R={...n,orientation:C,collapsedSize:o},N=Nre(R),U=zl(),F=Md(),w=M.useRef(null),$=M.useRef(),H=typeof o=="number"?`${o}px`:o,W=C==="horizontal",Q=W?"width":"height",te=M.useRef(null),oe=Gn(t,te),de=Re=>ot=>{if(Re){const ze=te.current;ot===void 0?Re(ze):Re(ze,ot)}},le=()=>w.current?w.current[W?"clientWidth":"clientHeight"]:0,ae=de((Re,ot)=>{w.current&&W&&(w.current.style.position="absolute"),Re.style[Q]=H,h&&h(Re,ot)}),ie=de((Re,ot)=>{const ze=le();w.current&&W&&(w.current.style.position="");const{duration:mt,easing:Je}=Vd({style:k,timeout:D,easing:u},{mode:"enter"});if(D==="auto"){const Pt=U.transitions.getAutoHeightDuration(ze);Re.style.transitionDuration=`${Pt}ms`,$.current=Pt}else Re.style.transitionDuration=typeof mt=="string"?mt:`${mt}ms`;Re.style[Q]=`${ze}px`,Re.style.transitionTimingFunction=Je,g&&g(Re,ot)}),ee=de((Re,ot)=>{Re.style[Q]="auto",f&&f(Re,ot)}),pe=de(Re=>{Re.style[Q]=`${le()}px`,v&&v(Re)}),ve=de(y),_e=de(Re=>{const ot=le(),{duration:ze,easing:mt}=Vd({style:k,timeout:D,easing:u},{mode:"exit"});if(D==="auto"){const Je=U.transitions.getAutoHeightDuration(ot);Re.style.transitionDuration=`${Je}ms`,$.current=Je}else Re.style.transitionDuration=typeof ze=="string"?ze:`${ze}ms`;Re.style[Q]=H,Re.style.transitionTimingFunction=mt,_&&_(Re)}),Le=Re=>{D==="auto"&&F.start($.current||0,Re),i&&i(te.current,Re)};return P.jsx(I,{in:c,onEnter:ae,onEntered:ee,onEntering:ie,onExit:pe,onExited:ve,onExiting:_e,addEndListener:Le,nodeRef:te,timeout:D==="auto"?null:D,...A,children:(Re,{ownerState:ot,...ze})=>P.jsx(Ure,{as:l,className:Et(N.root,a,{entered:N.entered,exited:!c&&H==="0px"&&N.hidden}[Re]),style:{[W?"minWidth":"minHeight"]:H,...k},ref:oe,ownerState:{...R,state:Re},...ze,children:P.jsx($re,{ownerState:{...R,state:Re},className:N.wrapper,ref:w,children:P.jsx(jre,{ownerState:{...R,state:Re},className:N.wrapperInner,children:s})})})})});a2&&(a2.muiSupportAuto=!0);const zre=yr(P.jsx("path",{d:"M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1q-.09-.03-.18-.03c-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1q.09.03.18.03c.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73s-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"})),Hre=yr(P.jsx("path",{d:"M1 11h4v11H1zm15-7.75C16.65 2.49 17.66 2 18.7 2 20.55 2 22 3.45 22 5.3c0 2.27-2.91 4.9-6 7.7-3.09-2.81-6-5.44-6-7.7C10 3.45 11.45 2 13.3 2c1.04 0 2.05.49 2.7 1.25M20 17h-7l-2.09-.73.33-.94L13 16h2.82c.65 0 1.18-.53 1.18-1.18 0-.49-.31-.93-.77-1.11L8.97 11H7v9.02L14 22l8.01-3c-.01-1.1-.9-2-2.01-2"})),Vre=yr(P.jsx("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"})),Wre=yr(P.jsx("path",{d:"m12 5.69 5 4.5V18h-2v-6H9v6H7v-7.81zM12 3 2 12h3v8h6v-6h2v6h6v-8h3z"})),TO=yr(P.jsx("path",{d:"M14 12c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2m-2-9c-4.97 0-9 4.03-9 9H0l4 4 4-4H5c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.51 0-2.91-.49-4.06-1.3l-1.42 1.44C8.04 20.3 9.94 21 12 21c4.97 0 9-4.03 9-9s-4.03-9-9-9"}));function qre(){if(console&&console.warn){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];ef(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const CO={};function o2(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];ef(e[0])&&CO[e[0]]||(ef(e[0])&&(CO[e[0]]=new Date),qre(...e))}const ZN=(r,e)=>()=>{if(r.isInitialized)e();else{const t=()=>{setTimeout(()=>{r.off("initialized",t)},0),e()};r.on("initialized",t)}},wO=(r,e,t)=>{r.loadNamespaces(e,ZN(r,t))},EO=(r,e,t,n)=>{ef(t)&&(t=[t]),t.forEach(i=>{r.options.ns.indexOf(i)<0&&r.options.ns.push(i)}),r.loadLanguages(e,ZN(r,n))},Gre=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=e.services.backendConnector.state[`${o}|${l}`];return u===-1||u===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,r)?!1:!!(e.hasResourceBundle(n,r)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(n,r)&&(!i||a(s,r)))},Kre=function(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(o2("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(r,{lng:t.lng,precheck:(i,s)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,r))return!1}}):Gre(r,e,t)},ef=r=>typeof r=="string",Xre=r=>typeof r=="object"&&r!==null,Yre=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Qre={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Jre=r=>Qre[r],Zre=r=>r.replace(Yre,Jre);let l2={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Zre};const ene=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};l2={...l2,...r}},tne=()=>l2;let e5;const rne=r=>{e5=r},nne=()=>e5,ine={type:"3rdParty",init(r){ene(r.options.react),rne(r)}},sne=M.createContext();class ane{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces=()=>Object.keys(this.usedNamespaces)}const one=(r,e)=>{const t=M.useRef();return M.useEffect(()=>{t.current=r},[r,e]),t.current},t5=(r,e,t,n)=>r.getFixedT(e,t,n),lne=(r,e,t,n)=>M.useCallback(t5(r,e,t,n),[r,e,t,n]),Ti=function(r){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:t}=e,{i18n:n,defaultNS:i}=M.useContext(sne)||{},s=t||n||nne();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new ane),!s){o2("You will need to pass in an i18next instance by using initReactI18next");const I=(R,N)=>ef(N)?N:Xre(N)&&ef(N.defaultValue)?N.defaultValue:Array.isArray(R)?R[R.length-1]:R,A=[I,{},!1];return A.t=I,A.i18n={},A.ready=!1,A}s.options.react&&s.options.react.wait!==void 0&&o2("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...tne(),...s.options.react,...e},{useSuspense:o,keyPrefix:l}=a;let u=i||s.options&&s.options.defaultNS;u=ef(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(I=>Kre(I,s,a)),h=lne(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),f=()=>h,g=()=>t5(s,e.lng||null,a.nsMode==="fallback"?u:u[0],l),[v,y]=M.useState(f);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const C=one(_),k=M.useRef(!0);M.useEffect(()=>{const{bindI18n:I,bindI18nStore:A}=a;k.current=!0,!c&&!o&&(e.lng?EO(s,e.lng,u,()=>{k.current&&y(g)}):wO(s,u,()=>{k.current&&y(g)})),c&&C&&C!==_&&k.current&&y(g);const R=()=>{k.current&&y(g)};return I&&s&&s.on(I,R),A&&s&&s.store.on(A,R),()=>{k.current=!1,I&&s&&I.split(" ").forEach(N=>s.off(N,R)),A&&s&&A.split(" ").forEach(N=>s.store.off(N,R))}},[s,_]),M.useEffect(()=>{k.current&&c&&y(f)},[s,l,c]);const D=[v,s,c];if(D.t=v,D.i18n=s,D.ready=c,c||!c&&!o)return D;throw new Promise(I=>{e.lng?EO(s,e.lng,u,()=>I()):wO(s,u,()=>I())})};function une(r){return Zt("MuiDivider",r)}const kO=Yt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),cne=r=>{const{absolute:e,children:t,classes:n,flexItem:i,light:s,orientation:a,textAlign:o,variant:l}=r;return Jt({root:["root",e&&"absolute",l,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",t&&"withChildren",t&&a==="vertical"&&"withChildrenVertical",o==="right"&&a!=="vertical"&&"textAlignRight",o==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},une,n)},dne=it("div",{name:"MuiDivider",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.absolute&&e.absolute,e[t.variant],t.light&&e.light,t.orientation==="vertical"&&e.vertical,t.flexItem&&e.flexItem,t.children&&e.withChildren,t.children&&t.orientation==="vertical"&&e.withChildrenVertical,t.textAlign==="right"&&t.orientation!=="vertical"&&e.textAlignRight,t.textAlign==="left"&&t.orientation!=="vertical"&&e.textAlignLeft]}})(cr(({theme:r})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(r.vars||r).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:r.vars?`rgba(${r.vars.palette.dividerChannel} / 0.08)`:Kr(r.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:r.spacing(2),marginRight:r.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:r.spacing(1),marginBottom:r.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:e})=>!!e.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:e})=>e.children&&e.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(r.vars||r).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:e})=>e.orientation==="vertical"&&e.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(r.vars||r).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:e})=>e.textAlign==="right"&&e.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:e})=>e.textAlign==="left"&&e.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),hne=it("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.wrapper,t.orientation==="vertical"&&e.wrapperVertical]}})(cr(({theme:r})=>({display:"inline-block",paddingLeft:`calc(${r.spacing(1)} * 1.2)`,paddingRight:`calc(${r.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${r.spacing(1)} * 1.2)`,paddingBottom:`calc(${r.spacing(1)} * 1.2)`}}]}))),u2=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,orientation:o="horizontal",component:l=s||o==="vertical"?"div":"hr",flexItem:u=!1,light:c=!1,role:h=l!=="hr"?"separator":void 0,textAlign:f="center",variant:g="fullWidth",...v}=n,y={...n,absolute:i,component:l,flexItem:u,light:c,orientation:o,role:h,textAlign:f,variant:g},_=cne(y);return P.jsx(dne,{as:l,className:Et(_.root,a),role:h,ref:t,ownerState:y,"aria-orientation":h==="separator"&&(l!=="hr"||o==="vertical")?o:void 0,...v,children:s?P.jsx(hne,{className:_.wrapper,ownerState:y,children:s}):null})});u2&&(u2.muiSkipListHighlight=!0);const AO=yr(P.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),DO=yr(P.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}));function fne(r,e,t){const n=e.getBoundingClientRect(),i=t&&t.getBoundingClientRect(),s=yo(e);let a;if(e.fakeTransform)a=e.fakeTransform;else{const u=s.getComputedStyle(e);a=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let o=0,l=0;if(a&&a!=="none"&&typeof a=="string"){const u=a.split("(")[1].split(")")[0].split(",");o=parseInt(u[4],10),l=parseInt(u[5],10)}return r==="left"?i?`translateX(${i.right+o-n.left}px)`:`translateX(${s.innerWidth+o-n.left}px)`:r==="right"?i?`translateX(-${n.right-i.left-o}px)`:`translateX(-${n.left+n.width-o}px)`:r==="up"?i?`translateY(${i.bottom+l-n.top}px)`:`translateY(${s.innerHeight+l-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-l}px)`:`translateY(-${n.top+n.height-l}px)`}function pne(r){return typeof r=="function"?r():r}function My(r,e,t){const n=pne(t),i=fne(r,e,n);i&&(e.style.webkitTransform=i,e.style.transform=i)}const mne=M.forwardRef(function(e,t){const n=zl(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:l,container:u,direction:c="down",easing:h=i,in:f,onEnter:g,onEntered:v,onEntering:y,onExit:_,onExited:C,onExiting:k,style:D,timeout:I=s,TransitionComponent:A=dl,...R}=e,N=M.useRef(null),U=Gn(rh(l),N,t),F=le=>ae=>{le&&(ae===void 0?le(N.current):le(N.current,ae))},w=F((le,ae)=>{My(c,le,u),xk(le),g&&g(le,ae)}),$=F((le,ae)=>{const ie=Vd({timeout:I,style:D,easing:h},{mode:"enter"});le.style.webkitTransition=n.transitions.create("-webkit-transform",{...ie}),le.style.transition=n.transitions.create("transform",{...ie}),le.style.webkitTransform="none",le.style.transform="none",y&&y(le,ae)}),H=F(v),W=F(k),Q=F(le=>{const ae=Vd({timeout:I,style:D,easing:h},{mode:"exit"});le.style.webkitTransition=n.transitions.create("-webkit-transform",ae),le.style.transition=n.transitions.create("transform",ae),My(c,le,u),_&&_(le)}),te=F(le=>{le.style.webkitTransition="",le.style.transition="",C&&C(le)}),oe=le=>{a&&a(N.current,le)},de=M.useCallback(()=>{N.current&&My(c,N.current,u)},[c,u]);return M.useEffect(()=>{if(f||c==="down"||c==="right")return;const le=pv(()=>{N.current&&My(c,N.current,u)}),ae=yo(N.current);return ae.addEventListener("resize",le),()=>{le.clear(),ae.removeEventListener("resize",le)}},[c,f,u]),M.useEffect(()=>{f||de()},[f,de]),P.jsx(A,{nodeRef:N,onEnter:w,onEntered:H,onEntering:$,onExit:Q,onExited:te,onExiting:W,addEndListener:oe,appear:o,in:f,timeout:I,...R,children:(le,{ownerState:ae,...ie})=>M.cloneElement(l,{ref:U,style:{visibility:le==="exited"&&!f?"hidden":void 0,...D,...l.props.style},...ie})})});function gne(r){return Zt("MuiDrawer",r)}Yt("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const r5=(r,e)=>{const{ownerState:t}=r;return[e.root,(t.variant==="permanent"||t.variant==="persistent")&&e.docked,e.modal]},vne=r=>{const{classes:e,anchor:t,variant:n}=r,i={root:["root",`anchor${ft(t)}`],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${ft(t)}`,n!=="temporary"&&`paperAnchorDocked${ft(t)}`]};return Jt(i,gne,e)},yne=it(_k,{name:"MuiDrawer",slot:"Root",overridesResolver:r5})(cr(({theme:r})=>({zIndex:(r.vars||r).zIndex.drawer}))),xne=it("div",{shouldForwardProp:ji,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:r5})({flex:"0 0 auto"}),_ne=it(Qu,{name:"MuiDrawer",slot:"Paper",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.paper,e[`paperAnchor${ft(t.anchor)}`],t.variant!=="temporary"&&e[`paperAnchorDocked${ft(t.anchor)}`]]}})(cr(({theme:r})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(r.vars||r).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:e})=>e.anchor==="left"&&e.variant!=="temporary",style:{borderRight:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="top"&&e.variant!=="temporary",style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="right"&&e.variant!=="temporary",style:{borderLeft:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:e})=>e.anchor==="bottom"&&e.variant!=="temporary",style:{borderTop:`1px solid ${(r.vars||r).palette.divider}`}}]}))),n5={left:"right",right:"left",top:"down",bottom:"up"};function bne(r){return["left","right"].includes(r)}function Sne({direction:r},e){return r==="rtl"&&bne(e)?n5[e]:e}const Tne=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiDrawer"}),i=zl(),s=Em(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:l,children:u,className:c,elevation:h=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:g,...v}={},onClose:y,open:_=!1,PaperProps:C={},SlideProps:k,TransitionComponent:D,transitionDuration:I=a,variant:A="temporary",slots:R={},slotProps:N={},...U}=n,F=M.useRef(!1);M.useEffect(()=>{F.current=!0},[]);const w=Sne({direction:s?"rtl":"ltr"},o),H={...n,anchor:o,elevation:h,open:_,variant:A,...U},W=vne(H),Q={slots:{transition:D,...R},slotProps:{paper:C,transition:k,...N,backdrop:bk(N.backdrop||{...l,...g},{transitionDuration:I})}},[te,oe]=ur("root",{ref:t,elementType:yne,className:Et(W.root,W.modal,c),shouldForwardComponentProp:!0,ownerState:H,externalForwardedProps:{...Q,...U,...v},additionalProps:{open:_,onClose:y,hideBackdrop:f,slots:{backdrop:Q.slots.backdrop},slotProps:{backdrop:Q.slotProps.backdrop}}}),[de,le]=ur("paper",{elementType:_ne,shouldForwardComponentProp:!0,className:Et(W.paper,C.className),ownerState:H,externalForwardedProps:Q,additionalProps:{elevation:A==="temporary"?h:0,square:!0}}),[ae,ie]=ur("docked",{elementType:xne,ref:t,className:Et(W.root,W.docked,c),ownerState:H,externalForwardedProps:Q,additionalProps:U}),[ee,pe]=ur("transition",{elementType:mne,ownerState:H,externalForwardedProps:Q,additionalProps:{in:_,direction:n5[w],timeout:I,appear:F.current}}),ve=P.jsx(de,{...le,children:u});if(A==="permanent")return P.jsx(ae,{...ie,children:ve});const _e=P.jsx(ee,{...pe,children:ve});return A==="persistent"?P.jsx(ae,{...ie,children:_e}):P.jsx(te,{...oe,children:_e})});function Cne(r){return Zt("MuiIconButton",r)}const IO=Yt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),wne=r=>{const{classes:e,disabled:t,color:n,edge:i,size:s,loading:a}=r,o={root:["root",a&&"loading",t&&"disabled",n!=="default"&&`color${ft(n)}`,i&&`edge${ft(i)}`,`size${ft(s)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]};return Jt(o,Cne,e)},Ene=it(Nu,{name:"MuiIconButton",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.loading&&e.loading,t.color!=="default"&&e[`color${ft(t.color)}`],t.edge&&e[`edge${ft(t.edge)}`],e[`size${ft(t.size)}`]]}})(cr(({theme:r})=>({textAlign:"center",flex:"0 0 auto",fontSize:r.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(r.vars||r).palette.action.active,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette.action.active,r.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]})),cr(({theme:r})=>({variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e},style:{color:(r.vars||r).palette[e].main}})),...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e},style:{"--IconButton-hoverBg":r.vars?`rgba(${(r.vars||r).palette[e].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr((r.vars||r).palette[e].main,r.palette.action.hoverOpacity)}})),{props:{size:"small"},style:{padding:5,fontSize:r.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:r.typography.pxToRem(28)}}],[`&.${IO.disabled}`]:{backgroundColor:"transparent",color:(r.vars||r).palette.action.disabled},[`&.${IO.loading}`]:{color:"transparent"}}))),kne=it("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(({theme:r})=>({display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(r.vars||r).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]})),Ml=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:a,color:o="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium",id:h,loading:f=null,loadingIndicator:g,...v}=n,y=th(h),_=g??P.jsx(_f,{"aria-labelledby":y,color:"inherit",size:16}),C={...n,edge:i,color:o,disabled:l,disableFocusRipple:u,loading:f,loadingIndicator:_,size:c},k=wne(C);return P.jsxs(Ene,{id:f?y:h,className:Et(k.root,a),centerRipple:!0,focusRipple:!u,disabled:l||f,ref:t,...v,ownerState:C,children:[typeof f=="boolean"&&P.jsx("span",{className:k.loadingWrapper,style:{display:"contents"},children:P.jsx(kne,{className:k.loadingIndicator,ownerState:C,children:f&&_})}),s]})}),Ane=yr(P.jsx("path",{d:"M2 15.5v2h20v-2zm0-5v2h20v-2zm0-5v2h20v-2z"})),Dne=cN({themeId:Ll}),c2=typeof gk({})=="function",Ine=(r,e)=>({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%",...e&&!r.vars&&{colorScheme:r.palette.mode}}),Pne=r=>({color:(r.vars||r).palette.text.primary,...r.typography.body1,backgroundColor:(r.vars||r).palette.background.default,"@media print":{backgroundColor:(r.vars||r).palette.common.white}}),i5=(r,e=!1)=>{const t={};e&&r.colorSchemes&&typeof r.getColorSchemeSelector=="function"&&Object.entries(r.colorSchemes).forEach(([s,a])=>{const o=r.getColorSchemeSelector(s);o.startsWith("@")?t[o]={":root":{colorScheme:a.palette?.mode}}:t[o.replace(/\s*&/,"")]={colorScheme:a.palette?.mode}});let n={html:Ine(r,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:r.typography.fontWeightBold},body:{margin:0,...Pne(r),"&::backdrop":{backgroundColor:(r.vars||r).palette.background.default}},...t};const i=r.components?.MuiCssBaseline?.styleOverrides;return i&&(n=[n,i]),n},l_="mui-ecs",Rne=r=>{const e=i5(r,!1),t=Array.isArray(e)?e[0]:e;return!r.vars&&t&&(t.html[`:root:has(${l_})`]={colorScheme:r.palette.mode}),r.colorSchemes&&Object.entries(r.colorSchemes).forEach(([n,i])=>{const s=r.getColorSchemeSelector(n);s.startsWith("@")?t[s]={[`:root:not(:has(.${l_}))`]:{colorScheme:i.palette?.mode}}:t[s.replace(/\s*&/,"")]={[`&:not(:has(.${l_}))`]:{colorScheme:i.palette?.mode}}}),e},Lne=gk(c2?({theme:r,enableColorScheme:e})=>i5(r,e):({theme:r})=>Rne(r));function One(r){const e=Xt({props:r,name:"MuiCssBaseline"}),{children:t,enableColorScheme:n=!1}=e;return P.jsxs(M.Fragment,{children:[c2&&P.jsx(Lne,{enableColorScheme:n}),!c2&&!n&&P.jsx("span",{className:l_,style:{display:"none"}}),t]})}const SS=M.createContext(void 0);function Hl(){return M.useContext(SS)}function Mne(r){return Zt("PrivateSwitchBase",r)}Yt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Fne=r=>{const{classes:e,checked:t,disabled:n,edge:i}=r,s={root:["root",t&&"checked",n&&"disabled",i&&`edge${ft(i)}`],input:["input"]};return Jt(s,Mne,e)},Bne=it(Nu)({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:r,ownerState:e})=>r==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:r,ownerState:e})=>r==="end"&&e.size!=="small",style:{marginRight:-12}}]}),Nne=it("input",{shouldForwardProp:ji})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Ik=M.forwardRef(function(e,t){const{autoFocus:n,checked:i,checkedIcon:s,defaultChecked:a,disabled:o,disableFocusRipple:l=!1,edge:u=!1,icon:c,id:h,inputProps:f,inputRef:g,name:v,onBlur:y,onChange:_,onFocus:C,readOnly:k,required:D=!1,tabIndex:I,type:A,value:R,slots:N={},slotProps:U={},...F}=e,[w,$]=L0({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),H=Hl(),W=Le=>{C&&C(Le),H&&H.onFocus&&H.onFocus(Le)},Q=Le=>{y&&y(Le),H&&H.onBlur&&H.onBlur(Le)},te=Le=>{if(Le.nativeEvent.defaultPrevented)return;const Re=Le.target.checked;$(Re),_&&_(Le,Re)};let oe=o;H&&typeof oe>"u"&&(oe=H.disabled);const de=A==="checkbox"||A==="radio",le={...e,checked:w,disabled:oe,disableFocusRipple:l,edge:u},ae=Fne(le),ie={slots:N,slotProps:{input:f,...U}},[ee,pe]=ur("root",{ref:t,elementType:Bne,className:ae.root,shouldForwardComponentProp:!0,externalForwardedProps:{...ie,component:"span",...F},getSlotProps:Le=>({...Le,onFocus:Re=>{Le.onFocus?.(Re),W(Re)},onBlur:Re=>{Le.onBlur?.(Re),Q(Re)}}),ownerState:le,additionalProps:{centerRipple:!0,focusRipple:!l,disabled:oe,role:void 0,tabIndex:null}}),[ve,_e]=ur("input",{ref:g,elementType:Nne,className:ae.input,externalForwardedProps:ie,getSlotProps:Le=>({...Le,onChange:Re=>{Le.onChange?.(Re),te(Re)}}),ownerState:le,additionalProps:{autoFocus:n,checked:i,defaultChecked:a,disabled:oe,id:de?h:void 0,name:v,readOnly:k,required:D,tabIndex:I,type:A,...A==="checkbox"&&R===void 0?{}:{value:R}}});return P.jsxs(ee,{...pe,children:[P.jsx(ve,{..._e}),w?s:c]})}),Une=yr(P.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),$ne=yr(P.jsx("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"})),jne=it("span",{shouldForwardProp:ji})({position:"relative",display:"flex"}),zne=it(Une)({transform:"scale(1)"}),Hne=it($ne)(cr(({theme:r})=>({left:0,position:"absolute",transform:"scale(0)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeIn,duration:r.transitions.duration.shortest}),variants:[{props:{checked:!0},style:{transform:"scale(1)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.shortest})}}]})));function s5(r){const{checked:e=!1,classes:t={},fontSize:n}=r,i={...r,checked:e};return P.jsxs(jne,{className:t.root,ownerState:i,children:[P.jsx(zne,{fontSize:n,className:t.background,ownerState:i}),P.jsx(Hne,{fontSize:n,className:t.dot,ownerState:i})]})}const a5=M.createContext(void 0);function Vne(){return M.useContext(a5)}function Wne(r){return Zt("MuiRadio",r)}const PO=Yt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),qne=r=>{const{classes:e,color:t,size:n}=r,i={root:["root",`color${ft(t)}`,n!=="medium"&&`size${ft(n)}`]};return{...e,...Jt(i,Wne,e)}},Gne=it(Ik,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.size!=="medium"&&e[`size${ft(t.size)}`],e[`color${ft(t.color)}`]]}})(cr(({theme:r})=>({color:(r.vars||r).palette.text.secondary,[`&.${PO.disabled}`]:{color:(r.vars||r).palette.action.disabled},variants:[{props:{color:"default",disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette.action.active,r.palette.action.hoverOpacity)}}},...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e,disabled:!1,disableRipple:!1},style:{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette[e].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette[e].main,r.palette.action.hoverOpacity)}}})),...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e,disabled:!1},style:{[`&.${PO.checked}`]:{color:(r.vars||r).palette[e].main}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]})));function Kne(r,e){return typeof e=="object"&&e!==null?r===e:String(r)===String(e)}const Xne=P.jsx(s5,{checked:!0}),Yne=P.jsx(s5,{}),jo=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiRadio"}),{checked:i,checkedIcon:s=Xne,color:a="primary",icon:o=Yne,name:l,onChange:u,size:c="medium",className:h,disabled:f,disableRipple:g=!1,slots:v={},slotProps:y={},inputProps:_,...C}=n,k=Hl();let D=f;k&&typeof D>"u"&&(D=k.disabled),D??=!1;const I={...n,disabled:D,disableRipple:g,color:a,size:c},A=qne(I),R=Vne();let N=i;const U=Jw(u,R&&R.onChange);let F=l;R&&(typeof N>"u"&&(N=Kne(R.value,n.value)),typeof F>"u"&&(F=R.name));const w=y.input??_,[$,H]=ur("root",{ref:t,elementType:Gne,className:Et(A.root,h),shouldForwardComponentProp:!0,externalForwardedProps:{slots:v,slotProps:y,...C},getSlotProps:W=>({...W,onChange:(Q,...te)=>{W.onChange?.(Q,...te),U(Q,...te)}}),ownerState:I,additionalProps:{type:"radio",icon:M.cloneElement(o,{fontSize:o.props.fontSize??c}),checkedIcon:M.cloneElement(s,{fontSize:s.props.fontSize??c}),disabled:D,name:F,checked:N,slots:v,slotProps:{input:typeof w=="function"?w(I):w}}});return P.jsx($,{...H,classes:A})});function Qne(r){return Zt("MuiFormGroup",r)}Yt("MuiFormGroup",["root","row","error"]);function ih({props:r,states:e,muiFormControl:t}){return e.reduce((n,i)=>(n[i]=r[i],t&&typeof r[i]>"u"&&(n[i]=t[i]),n),{})}const Jne=r=>{const{classes:e,row:t,error:n}=r;return Jt({root:["root",t&&"row",n&&"error"]},Qne,e)},Zne=it("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.row&&e.row]}})({display:"flex",flexDirection:"column",flexWrap:"wrap",variants:[{props:{row:!0},style:{flexDirection:"row"}}]}),o5=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiFormGroup"}),{className:i,row:s=!1,...a}=n,o=Hl(),l=ih({props:n,muiFormControl:o,states:["error"]}),u={...n,row:s,error:l.error},c=Jne(u);return P.jsx(Zne,{className:Et(c.root,i),ownerState:u,ref:t,...a})});function eie(r){return Zt("MuiRadioGroup",r)}Yt("MuiRadioGroup",["root","row","error"]);const tie=r=>{const{classes:e,row:t,error:n}=r;return Jt({root:["root",t&&"row",n&&"error"]},eie,e)},Zf=M.forwardRef(function(e,t){const{actions:n,children:i,className:s,defaultValue:a,name:o,onChange:l,value:u,...c}=e,h=M.useRef(null),f=tie(e),[g,v]=L0({controlled:u,default:a,name:"RadioGroup"});M.useImperativeHandle(n,()=>({focus:()=>{let k=h.current.querySelector("input:not(:disabled):checked");k||(k=h.current.querySelector("input:not(:disabled)")),k&&k.focus()}}),[]);const y=Gn(t,h),_=th(o),C=M.useMemo(()=>({name:_,onChange(k){v(k.target.value),l&&l(k,k.target.value)},value:g}),[_,l,v,g]);return P.jsx(a5.Provider,{value:C,children:P.jsx(o5,{role:"radiogroup",ref:y,className:Et(f.root,s),...c,children:i})})});function RO(r){return r!=null&&!(Array.isArray(r)&&r.length===0)}function V_(r,e=!1){return r&&(RO(r.value)&&r.value!==""||e&&RO(r.defaultValue)&&r.defaultValue!=="")}function rie(r){return r.startAdornment}function nie(r){return Zt("MuiFormControl",r)}Yt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const iie=r=>{const{classes:e,margin:t,fullWidth:n}=r,i={root:["root",t!=="none"&&`margin${ft(t)}`,n&&"fullWidth"]};return Jt(i,nie,e)},sie=it("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[`margin${ft(t.margin)}`],t.fullWidth&&e.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),Nr=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:o="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:h=!1,hiddenLabel:f=!1,margin:g="none",required:v=!1,size:y="medium",variant:_="outlined",...C}=n,k={...n,color:a,component:o,disabled:l,error:u,fullWidth:h,hiddenLabel:f,margin:g,required:v,size:y,variant:_},D=iie(k),[I,A]=M.useState(()=>{let te=!1;return i&&M.Children.forEach(i,oe=>{if(!a_(oe,["Input","Select"]))return;const de=a_(oe,["Select"])?oe.props.input:oe;de&&rie(de.props)&&(te=!0)}),te}),[R,N]=M.useState(()=>{let te=!1;return i&&M.Children.forEach(i,oe=>{a_(oe,["Input","Select"])&&(V_(oe.props,!0)||V_(oe.props.inputProps,!0))&&(te=!0)}),te}),[U,F]=M.useState(!1);l&&U&&F(!1);const w=c!==void 0&&!l?c:U;let $;M.useRef(!1);const H=M.useCallback(()=>{N(!0)},[]),W=M.useCallback(()=>{N(!1)},[]),Q=M.useMemo(()=>({adornedStart:I,setAdornedStart:A,color:a,disabled:l,error:u,filled:R,focused:w,fullWidth:h,hiddenLabel:f,size:y,onBlur:()=>{F(!1)},onFocus:()=>{F(!0)},onEmpty:W,onFilled:H,registerEffect:$,required:v,variant:_}),[I,a,l,u,R,w,h,f,$,W,H,v,y,_]);return P.jsx(SS.Provider,{value:Q,children:P.jsx(sie,{as:o,ownerState:k,className:Et(D.root,s),ref:t,...C,children:i})})});function aie(r){return Zt("MuiFormControlLabel",r)}const Gg=Yt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),oie=r=>{const{classes:e,disabled:t,labelPlacement:n,error:i,required:s}=r,a={root:["root",t&&"disabled",`labelPlacement${ft(n)}`,i&&"error",s&&"required"],label:["label",t&&"disabled"],asterisk:["asterisk",i&&"error"]};return Jt(a,aie,e)},lie=it("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${Gg.label}`]:e.label},e.root,e[`labelPlacement${ft(t.labelPlacement)}`]]}})(cr(({theme:r})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Gg.disabled}`]:{cursor:"default"},[`& .${Gg.label}`]:{[`&.${Gg.disabled}`]:{color:(r.vars||r).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),uie=it("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(cr(({theme:r})=>({[`&.${Gg.error}`]:{color:(r.vars||r).palette.error.main}}))),Zs=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiFormControlLabel"}),{checked:i,className:s,componentsProps:a={},control:o,disabled:l,disableTypography:u,inputRef:c,label:h,labelPlacement:f="end",name:g,onChange:v,required:y,slots:_={},slotProps:C={},value:k,...D}=n,I=Hl(),A=l??o.props.disabled??I?.disabled,R=y??o.props.required,N={disabled:A,required:R};["checked","name","onChange","value","inputRef"].forEach(te=>{typeof o.props[te]>"u"&&typeof n[te]<"u"&&(N[te]=n[te])});const U=ih({props:n,muiFormControl:I,states:["error"]}),F={...n,disabled:A,labelPlacement:f,required:R,error:U.error},w=oie(F),$={slots:_,slotProps:{...a,...C}},[H,W]=ur("typography",{elementType:mr,externalForwardedProps:$,ownerState:F});let Q=h;return Q!=null&&Q.type!==mr&&!u&&(Q=P.jsx(H,{component:"span",...W,className:Et(w.label,W?.className),children:Q})),P.jsxs(lie,{className:Et(w.root,s),ownerState:F,ref:t,...D,children:[M.cloneElement(o,N),R?P.jsxs("div",{children:[Q,P.jsxs(uie,{ownerState:F,"aria-hidden":!0,className:w.asterisk,children:["","*"]})]}):Q]})});function cie(r){return Zt("MuiFormLabel",r)}const o0=Yt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),die=r=>{const{classes:e,color:t,focused:n,disabled:i,error:s,filled:a,required:o}=r,l={root:["root",`color${ft(t)}`,i&&"disabled",s&&"error",a&&"filled",n&&"focused",o&&"required"],asterisk:["asterisk",s&&"error"]};return Jt(l,cie,e)},hie=it("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled]}})(cr(({theme:r})=>({color:(r.vars||r).palette.text.secondary,...r.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e},style:{[`&.${o0.focused}`]:{color:(r.vars||r).palette[e].main}}})),{props:{},style:{[`&.${o0.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${o0.error}`]:{color:(r.vars||r).palette.error.main}}}]}))),fie=it("span",{name:"MuiFormLabel",slot:"Asterisk"})(cr(({theme:r})=>({[`&.${o0.error}`]:{color:(r.vars||r).palette.error.main}}))),pie=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiFormLabel"}),{children:i,className:s,color:a,component:o="label",disabled:l,error:u,filled:c,focused:h,required:f,...g}=n,v=Hl(),y=ih({props:n,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]}),_={...n,color:y.color||"primary",component:o,disabled:y.disabled,error:y.error,filled:y.filled,focused:y.focused,required:y.required},C=die(_);return P.jsxs(hie,{as:o,ownerState:_,className:Et(C.root,s),ref:t,...g,children:[i,y.required&&P.jsxs(fie,{ownerState:_,"aria-hidden":!0,className:C.asterisk,children:["","*"]})]})});class Ed{static STORAGE_KEY="local_tasks";static getTasks(){try{const e=localStorage.getItem(this.STORAGE_KEY);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting tasks from localStorage:",e),[]}}static addTask(e){try{const t=this.getTasks(),n={...e,id:this.generateTaskId(),create_time:Date.now(),task_info:{run_type:e.original.run_type,last_run_time:0,next_run_time:0,is_running:!1,task_status:"Prepare"}};return t.push(n),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(t)),n}catch(t){throw console.error("Error adding task to localStorage:",t),new Error("Failed to add task")}}static updateTask(e,t){try{const n=this.getTasks(),i=n.findIndex(a=>a.id===e);if(i===-1)throw new Error("Task not found");const s={...t,id:e,task_info:{...n[i].task_info,...t.task_info}};return n[i]=s,localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n)),s}catch(n){throw console.error("Error updating task in localStorage:",n),new Error("Failed to update task")}}static deleteTask(e){try{const t=this.getTasks(),n=t.filter(i=>i.id!==e);if(n.length===t.length)throw new Error("Task not found");return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n)),!0}catch(t){throw console.error("Error deleting task from localStorage:",t),new Error("Failed to delete task")}}static generateTaskId(){return"task_"+Date.now()+"_"+Math.random().toString(36).substr(2,9)}static clearAllTasks(){try{localStorage.removeItem(this.STORAGE_KEY)}catch(e){throw console.error("Error clearing tasks from localStorage:",e),new Error("Failed to clear tasks")}}}const l5=M.createContext(),mie=({children:r})=>{const[e,t]=M.useState(0),[n,i]=M.useState(4),[s,a]=M.useState(""),[o,l]=M.useState([]),[u,c]=M.useState([]),[h,f]=M.useState(new Set),g=M.useRef([]);M.useRef(0);const v=M.useRef([]),y=M.useRef(""),_=M.useRef([]),C=M.useRef(null),k=M.useRef(null),D=M.useRef(0),I="local_tasks",A="nowTaskId",R="nowTaskList",N=(Ve,Ne)=>{localStorage.setItem(Ne,JSON.stringify(Ve))},U=()=>{console.log("start load data"),F(),w();const Ve=localStorage.getItem(A);if(Ve!==""){for(let Ne=0;Ne<_.current.length;Ne++)_.current[Ne].id===Ve&&(k.current=_.current[Ne]);Q(Ve,!1)}else Q("",!1)},F=()=>{let Ve=Ed.getTasks();c(Ve),_.current=Ve},w=()=>{const Ve=localStorage.getItem(R);if(Ve)try{let Ne=JSON.parse(Ve);W(Ne)}catch{W([])}else W([])},$=Ve=>{try{return an.parseM3uBody(Ve)}catch(Ne){return console.log("m3u8BodyToStructList err",Ne),[]}},H=(Ve,Ne)=>{c(et=>{const at=et.map(Me=>Me.id===Ve?{...Me,task_info:{...Me.task_info,task_status:"Completed"},list:Ne}:Me);return N(at,I),_.current=at,at}),W([]),Q("",!0)},W=Ve=>{l(Ve),N(Ve,R),v.current=Ve},Q=(Ve,Ne)=>{a(Ve),Ne&&localStorage.setItem(A,Ve),y.current=Ve},te=(Ve,Ne)=>{c(et=>{const at=et.map(Me=>Me.id===Ve?{...Me,list:Ne}:Me);return N(at,I),_.current=at,at})},oe=()=>{C.current||(C.current=setInterval(pe,1e4))},de=async(Ve,Ne)=>{console.log(`Checking URL: ${Ve.url}`);let et=!1;Ne.no_check&&(et=!0);let at=null;return et?at={status:300,audio:null,video:null,error:""}:Ne.ffmpeg_check?at=await le(Ve):at=await ae(Ve,Ne),console.log("checkUrl result",at),at},le=async(Ve,Ne)=>{try{let et=await Ot("get_video_info",{url:Ve.url});if(console.log("checkUrlByCmd",et),et?.streams?.length>0){let at=[],Me=[];for(let $e=0;$e<et.streams.length;$e++)et.streams[$e].codec_type==="video"&&at.push(et.streams[$e]);for(let $e=0;$e<et.streams.length;$e++)et.streams[$e].codec_type==="audio"&&Me.push(et.streams[$e]);return{status:200,audio:Me,video:at,error:""}}else return console.log("checkUrlByCmd error empty"),{status:500,audio:null,video:null,error:"empty data"}}catch(et){return console.log("checkUrlByCmd error",et),{status:500,audio:null,video:null,error:et}}},ae=async(Ve,Ne)=>{try{let et=!1;if(!Ve.url.startsWith("http://")&&!Ve.url.startsWith("https://")&&(et=!0),et)return{status:300,audio:null,video:null,error:""};console.log("checkUrlByWeb, task timout ",Ne.http_timeout);const at=new AbortController,Me=setTimeout(()=>at.abort(),Ne.http_timeout),$e=await fetch(Ve.url,{method:"HEAD",signal:at.signal});if(!$e.ok||$e.bodyUsed)return console.log(`Request failed for ${Ve.url}:`,{ok:$e.ok,bodyUsed:$e.bodyUsed}),clearTimeout(Me),at.abort(),{status:500,audio:null,video:null};clearTimeout(Me);const qe=$e.headers.get("content-type");return console.log(`Content-Type for ${Ve.url}:`,qe),!qe||!(qe.includes("application/vnd.apple.mpegurl")||qe.includes("application/x-mpegurl")||qe.includes("audio/mpegurl")||qe.includes("audio/x-mpegurl")||qe.includes("text/plain")||qe.includes("application/x-mpegURL")||qe.includes("application/vnd.apple.mpegURL"))?{status:500,audio:null,video:null,contentType:qe}:{status:200,audio:null,video:null,contentType:qe}}catch(et){return console.log(`Error checking ${Ve.url}:`,et),{status:500,audio:null,video:null,contentType:""}}},ie=async Ve=>{for(;;){console.log("createTaskProcessor, nowIndex:",Ve);let Ne=null;for(let et=0;et<v.current.length;et++)if(v.current[et].status===0){Ne=v.current[et];break}if(!Ne)break;v.current=v.current.map(et=>et.index===Ne.index?{...et,status:1}:et),Le(v.current);try{const et=await de(Ne,k.current.original);console.log("checkUrl result",et),console.log(et.status),v.current=v.current.map(at=>at.index===Ne.index?{...at,status:et.status,audio:et.audio,video:et.video}:at),Le(v.current)}catch(et){console.error(`Task processor ${Ve} error:`,et),v.current=v.current.map(at=>at.index===Ne.index?{...at,status:500}:at),Le(v.current)}}},ee=()=>{const Ve=[];if(console.log("startJobWorker, nowTaskRef.current",k.current),k.current!==null){D.current=1;for(let Ne=0;Ne<k.current.original.concurrent;Ne++)Ve.push(ie(Ne));Promise.all(Ve).then(()=>{D.current=0,console.log("All task processors completed"),g.current=[]}).catch(Ne=>{D.current=0,console.error("Task processor error:",Ne),g.current=[]})}},pe=async()=>{await ze();let Ve=!1,Ne="";if(y.current!==""&&v.current.length>0||y.current===""&&v.current.length>0){let et=!1;for(let at=0;at<_.current.length;at++)_.current[at].id===y.current&&(et=!0);(!et||y.current==="")&&(Q("",!0),W([]))}if(v.current.length===0){let et="",at=[],Me=null;for(let $e=0;$e<_.current.length;$e++)_.current[$e].task_info.task_status.toLowerCase()==="pending"&&et===""&&_.current[$e].id!==Ne&&(et=_.current[$e].id,at=_.current[$e].list,Me=_.current[$e]);k.current=Me,console.log("----- task list reset",et,at),W(at),Q(et,!0),at.length>0&&(Ve=!0)}else{let et=!0;for(let at=0;at<v.current.length;at++)v.current[at].status==0&&(et=!1);et?(Ne=y.current,console.log("set task complate",Ne,v.current),H(Ne,v.current)):Ve=!0}if(console.log("nowTaskIdRef.current",y.current),y.current!==""&&k.current!==null)for(let et=0;et<_.current.length;et++)_.current[et].id===y.current&&(k.current=_.current[et]);Ve&&D.current===0&&(console.log("startJobWorker"),ee())},ve=()=>{_e(),C.current&&(clearInterval(C.current),C.current=null)},_e=()=>{g.current.forEach(Ve=>Ve.terminate())};M.useEffect(()=>(U(),console.log("-----task start--",u,_.current),oe(),()=>{ve()}),[]);const Le=Ve=>{l(Ve),N(Ve,R)},Re=(Ve,Ne)=>{c(et=>{const at=et.map(Me=>Me.id===Ve?Ne==="Prepare"?{...Me,task_info:{...Me.task_info,task_status:Ne},list:[],bodies:[]}:{...Me,task_info:{...Me.task_info,task_status:Ne}}:Me);return N(at,I),_.current=at,at})},ot=(Ve,Ne)=>{c(et=>{const at=et.map(Me=>Me.id===Ve?{...Me,bodies:Ne}:Me);return N(at,I),_.current=at,at})},ze=async()=>{console.log("------prepare");for(const Ve of _.current)if(Ve.task_info.task_status==="Prepare")try{let Ne=await Pt(Ve.original.urls),et="Pending",at=!1,Me=!1;for(let $e=0;$e<Ne.length;$e++)Ne[$e].status===200&&(Me=!0),Ne[$e].status!==200&&(at=!0);if(at&&Me&&(et="FetchSomeDataError"),at&&!Me&&(et="FetchDataError"),Me){let $e=[];for(let qe=0;qe<Ne.length;qe++)if(Ne[qe].status===200){let Ye=$(Ne[qe].body,Ve.original.rename);for(let vt=0;vt<Ye.length;vt++)$e.push(Ye[vt])}$e=$e.filter((qe,Ye,vt)=>Ye===vt.findIndex(ut=>ut.url===qe.url)),te(Ve.id,$e)}ot(Ve.id,Ne),Re(Ve.id,et)}catch(Ne){console.error("Error preparing task:",Ne)}},mt=(Ve,Ne)=>{if(e===0)return Ve;let et=parseInt(Ne,10);return"/fetch/m3u-body?url="+Ve+"&timeout="+(isNaN(et)?"-1":et)},Je=Ve=>Ve.substr(0,7)==="#EXTM3U",Pt=async Ve=>{let Ne=[],et=[];for(let at=0;at<Ve.length;at++){let Me=Ve[at];if(!Me.startsWith("localstorage/")){let $e=2e3;Me=mt(Me,$e),Ne.push(Cr.get(Me,{timeout:$e}))}}for(let at=0;at<Ve.length;at++){let Me=Ve[at];if(Me.startsWith("localstorage/")){const $e=localStorage.getItem(Me);if($e){let qe={status:200,url:Me,body:$e};et.push(qe)}else{let qe={status:404,url:Me,body:"Data not found in localStorage"};et.push(qe)}}}return Ne.length>0&&(await Promise.allSettled(Ne)).forEach((Me,$e)=>{let qe=!0,Ye="";if(Me.status==="fulfilled"){const ut=Me.value.data;Je(ut)?(qe=!1,Ye=ut):(qe=!0,Ye=ut)}else qe=!0,Ye=Me.reason.message;let vt=Ve[$e];qe?et.push({status:500,url:vt,body:Ye}):et.push({status:200,url:vt,body:Ye})}),et},Rt={tasks:u,runningTasks:h,freshTaskList:F,updateTaskStatus:Re};return P.jsx(l5.Provider,{value:Rt,children:r})},u5=M.createContext();function gie(r){return Zt("MuiTable",r)}Yt("MuiTable",["root","stickyHeader"]);const vie=r=>{const{classes:e,stickyHeader:t}=r;return Jt({root:["root",t&&"stickyHeader"]},gie,e)},yie=it("table",{name:"MuiTable",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.stickyHeader&&e.stickyHeader]}})(cr(({theme:r})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...r.typography.body2,padding:r.spacing(2),color:(r.vars||r).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:e})=>e.stickyHeader,style:{borderCollapse:"separate"}}]}))),LO="table",c5=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTable"}),{className:i,component:s=LO,padding:a="normal",size:o="medium",stickyHeader:l=!1,...u}=n,c={...n,component:s,padding:a,size:o,stickyHeader:l},h=vie(c),f=M.useMemo(()=>({padding:a,size:o,stickyHeader:l}),[a,o,l]);return P.jsx(u5.Provider,{value:f,children:P.jsx(yie,{as:s,role:s===LO?null:"table",ref:t,className:Et(h.root,i),ownerState:c,...u})})}),TS=M.createContext();function xie(r){return Zt("MuiTableBody",r)}Yt("MuiTableBody",["root"]);const _ie=r=>{const{classes:e}=r;return Jt({root:["root"]},xie,e)},bie=it("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),Sie={variant:"body"},OO="tbody",d5=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTableBody"}),{className:i,component:s=OO,...a}=n,o={...n,component:s},l=_ie(o);return P.jsx(TS.Provider,{value:Sie,children:P.jsx(bie,{className:Et(l.root,i),as:s,ref:t,role:s===OO?null:"rowgroup",ownerState:o,...a})})});function Tie(r){return Zt("MuiTableCell",r)}const Cie=Yt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),wie=r=>{const{classes:e,variant:t,align:n,padding:i,size:s,stickyHeader:a}=r,o={root:["root",t,a&&"stickyHeader",n!=="inherit"&&`align${ft(n)}`,i!=="normal"&&`padding${ft(i)}`,`size${ft(s)}`]};return Jt(o,Tie,e)},Eie=it("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],e[`size${ft(t.size)}`],t.padding!=="normal"&&e[`padding${ft(t.padding)}`],t.align!=="inherit"&&e[`align${ft(t.align)}`],t.stickyHeader&&e.stickyHeader]}})(cr(({theme:r})=>({...r.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:r.vars?`1px solid ${r.vars.palette.TableCell.border}`:`1px solid
    ${r.palette.mode==="light"?vf(Kr(r.palette.divider,1),.88):gf(Kr(r.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(r.vars||r).palette.text.primary,lineHeight:r.typography.pxToRem(24),fontWeight:r.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(r.vars||r).palette.text.primary}},{props:{variant:"footer"},style:{color:(r.vars||r).palette.text.secondary,lineHeight:r.typography.pxToRem(21),fontSize:r.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${Cie.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:e})=>e.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(r.vars||r).palette.background.default}}]}))),Wd=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTableCell"}),{align:i="inherit",className:s,component:a,padding:o,scope:l,size:u,sortDirection:c,variant:h,...f}=n,g=M.useContext(u5),v=M.useContext(TS),y=v&&v.variant==="head";let _;a?_=a:_=y?"th":"td";let C=l;_==="td"?C=void 0:!C&&y&&(C="col");const k=h||v&&v.variant,D={...n,align:i,component:_,padding:o||(g&&g.padding?g.padding:"normal"),size:u||(g&&g.size?g.size:"medium"),sortDirection:c,stickyHeader:k==="head"&&g&&g.stickyHeader,variant:k},I=wie(D);let A=null;return c&&(A=c==="asc"?"ascending":"descending"),P.jsx(Eie,{as:_,ref:t,className:Et(I.root,s),"aria-sort":A,scope:C,ownerState:D,...f})});function kie(r){return Zt("MuiTableContainer",r)}Yt("MuiTableContainer",["root"]);const Aie=r=>{const{classes:e}=r;return Jt({root:["root"]},kie,e)},Die=it("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),h5=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTableContainer"}),{className:i,component:s="div",...a}=n,o={...n,component:s},l=Aie(o);return P.jsx(Die,{ref:t,as:s,className:Et(l.root,i),ownerState:o,...a})});function Iie(r){return Zt("MuiTableHead",r)}Yt("MuiTableHead",["root"]);const Pie=r=>{const{classes:e}=r;return Jt({root:["root"]},Iie,e)},Rie=it("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),Lie={variant:"head"},MO="thead",f5=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTableHead"}),{className:i,component:s=MO,...a}=n,o={...n,component:s},l=Pie(o);return P.jsx(TS.Provider,{value:Lie,children:P.jsx(Rie,{as:s,className:Et(l.root,i),ref:t,role:s===MO?null:"rowgroup",ownerState:o,...a})})});function Oie(r){return Zt("MuiTableRow",r)}const FO=Yt("MuiTableRow",["root","selected","hover","head","footer"]),Mie=r=>{const{classes:e,selected:t,hover:n,head:i,footer:s}=r;return Jt({root:["root",t&&"selected",n&&"hover",i&&"head",s&&"footer"]},Oie,e)},Fie=it("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.head&&e.head,t.footer&&e.footer]}})(cr(({theme:r})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${FO.hover}:hover`]:{backgroundColor:(r.vars||r).palette.action.hover},[`&.${FO.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity),"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity)}}}))),BO="tr",Pk=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTableRow"}),{className:i,component:s=BO,hover:a=!1,selected:o=!1,...l}=n,u=M.useContext(TS),c={...n,component:s,hover:a,selected:o,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},h=Mie(c);return P.jsx(Fie,{as:s,ref:t,className:Et(h.root,i),role:s===BO?null:"row",ownerState:c,...l})});function Bie(r={}){const{autoHideDuration:e=null,disableWindowBlurListener:t=!1,onClose:n,open:i,resumeHideDuration:s}=r,a=Md();M.useEffect(()=>{if(!i)return;function C(k){k.defaultPrevented||k.key==="Escape"&&n?.(k,"escapeKeyDown")}return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[i,n]);const o=ua((C,k)=>{n?.(C,k)}),l=ua(C=>{!n||C==null||a.start(C,()=>{o(null,"timeout")})});M.useEffect(()=>(i&&l(e),a.clear),[i,e,l,a]);const u=C=>{n?.(C,"clickaway")},c=a.clear,h=M.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),f=C=>k=>{const D=C.onBlur;D?.(k),h()},g=C=>k=>{const D=C.onFocus;D?.(k),c()},v=C=>k=>{const D=C.onMouseEnter;D?.(k),c()},y=C=>k=>{const D=C.onMouseLeave;D?.(k),h()};return M.useEffect(()=>{if(!t&&i)return window.addEventListener("focus",h),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",h),window.removeEventListener("blur",c)}},[t,i,h,c]),{getRootProps:(C={})=>{const k={...B_(r),...B_(C)};return{role:"presentation",...C,...k,onBlur:f(k),onFocus:g(k),onMouseEnter:v(k),onMouseLeave:y(k)}},onClickAway:u}}function NO(r){return r.substring(2).toLowerCase()}function Nie(r,e){return e.documentElement.clientWidth<r.clientX||e.documentElement.clientHeight<r.clientY}function Uie(r){const{children:e,disableReactTree:t=!1,mouseEvent:n="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=r,a=M.useRef(!1),o=M.useRef(null),l=M.useRef(!1),u=M.useRef(!1);M.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=Gn(rh(e),o),h=ua(v=>{const y=u.current;u.current=!1;const _=Ss(o.current);if(!l.current||!o.current||"clientX"in v&&Nie(v,_))return;if(a.current){a.current=!1;return}let C;v.composedPath?C=v.composedPath().includes(o.current):C=!_.documentElement.contains(v.target)||o.current.contains(v.target),!C&&(t||!y)&&i(v)}),f=v=>y=>{u.current=!0;const _=e.props[v];_&&_(y)},g={ref:c};return s!==!1&&(g[s]=f(s)),M.useEffect(()=>{if(s!==!1){const v=NO(s),y=Ss(o.current),_=()=>{a.current=!0};return y.addEventListener(v,h),y.addEventListener("touchmove",_),()=>{y.removeEventListener(v,h),y.removeEventListener("touchmove",_)}}},[h,s]),n!==!1&&(g[n]=f(n)),M.useEffect(()=>{if(n!==!1){const v=NO(n),y=Ss(o.current);return y.addEventListener(v,h),()=>{y.removeEventListener(v,h)}}},[h,n]),M.cloneElement(e,g)}function d2(r){return`scale(${r}, ${r**2})`}const $ie={entering:{opacity:1,transform:d2(1)},entered:{opacity:1,transform:"none"}},eC=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),B0=M.forwardRef(function(e,t){const{addEndListener:n,appear:i=!0,children:s,easing:a,in:o,onEnter:l,onEntered:u,onEntering:c,onExit:h,onExited:f,onExiting:g,style:v,timeout:y="auto",TransitionComponent:_=dl,...C}=e,k=Md(),D=M.useRef(),I=zl(),A=M.useRef(null),R=Gn(A,rh(s),t),N=te=>oe=>{if(te){const de=A.current;oe===void 0?te(de):te(de,oe)}},U=N(c),F=N((te,oe)=>{xk(te);const{duration:de,delay:le,easing:ae}=Vd({style:v,timeout:y,easing:a},{mode:"enter"});let ie;y==="auto"?(ie=I.transitions.getAutoHeightDuration(te.clientHeight),D.current=ie):ie=de,te.style.transition=[I.transitions.create("opacity",{duration:ie,delay:le}),I.transitions.create("transform",{duration:eC?ie:ie*.666,delay:le,easing:ae})].join(","),l&&l(te,oe)}),w=N(u),$=N(g),H=N(te=>{const{duration:oe,delay:de,easing:le}=Vd({style:v,timeout:y,easing:a},{mode:"exit"});let ae;y==="auto"?(ae=I.transitions.getAutoHeightDuration(te.clientHeight),D.current=ae):ae=oe,te.style.transition=[I.transitions.create("opacity",{duration:ae,delay:de}),I.transitions.create("transform",{duration:eC?ae:ae*.666,delay:eC?de:de||ae*.333,easing:le})].join(","),te.style.opacity=0,te.style.transform=d2(.75),h&&h(te)}),W=N(f),Q=te=>{y==="auto"&&k.start(D.current||0,te),n&&n(A.current,te)};return P.jsx(_,{appear:i,in:o,nodeRef:A,onEnter:F,onEntered:w,onEntering:U,onExit:H,onExited:W,onExiting:$,addEndListener:Q,timeout:y==="auto"?null:y,...C,children:(te,{ownerState:oe,...de})=>M.cloneElement(s,{style:{opacity:0,transform:d2(.75),visibility:te==="exited"&&!o?"hidden":void 0,...$ie[te],...v,...s.props.style},ref:R,...de})})});B0&&(B0.muiSupportAuto=!0);function jie(r){return Zt("MuiSnackbarContent",r)}Yt("MuiSnackbarContent",["root","message","action"]);const zie=r=>{const{classes:e}=r;return Jt({root:["root"],action:["action"],message:["message"]},jie,e)},Hie=it(Qu,{name:"MuiSnackbarContent",slot:"Root"})(cr(({theme:r})=>{const e=r.palette.mode==="light"?.8:.98,t=hN(r.palette.background.default,e);return{...r.typography.body2,color:r.vars?r.vars.palette.SnackbarContent.color:r.palette.getContrastText(t),backgroundColor:r.vars?r.vars.palette.SnackbarContent.bg:t,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,flexGrow:1,[r.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Vie=it("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),Wie=it("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),qie=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:a,role:o="alert",...l}=n,u=n,c=zie(u);return P.jsxs(Hie,{role:o,square:!0,elevation:6,className:Et(c.root,s),ownerState:u,ref:t,...l,children:[P.jsx(Vie,{className:c.message,ownerState:u,children:a}),i?P.jsx(Wie,{className:c.action,ownerState:u,children:i}):null]})});function Gie(r){return Zt("MuiSnackbar",r)}Yt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Kie=r=>{const{classes:e,anchorOrigin:t}=r,n={root:["root",`anchorOrigin${ft(t.vertical)}${ft(t.horizontal)}`]};return Jt(n,Gie,e)},Xie=it("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[`anchorOrigin${ft(t.anchorOrigin.vertical)}${ft(t.anchorOrigin.horizontal)}`]]}})(cr(({theme:r})=>({zIndex:(r.vars||r).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:e})=>e.anchorOrigin.vertical==="top",style:{top:8,[r.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:e})=>e.anchorOrigin.vertical!=="top",style:{bottom:8,[r.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[r.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[r.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:e})=>e.anchorOrigin.horizontal==="center",style:{[r.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),sh=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiSnackbar"}),i=zl(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:o,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:h,ClickAwayListenerProps:f,ContentProps:g,disableWindowBlurListener:v=!1,message:y,onBlur:_,onClose:C,onFocus:k,onMouseEnter:D,onMouseLeave:I,open:A,resumeHideDuration:R,slots:N={},slotProps:U={},TransitionComponent:F,transitionDuration:w=s,TransitionProps:{onEnter:$,onExited:H,...W}={},...Q}=n,te={...n,anchorOrigin:{vertical:o,horizontal:l},autoHideDuration:u,disableWindowBlurListener:v,TransitionComponent:F,transitionDuration:w},oe=Kie(te),{getRootProps:de,onClickAway:le}=Bie({...te}),[ae,ie]=M.useState(!0),ee=Ve=>{ie(!0),H&&H(Ve)},pe=(Ve,Ne)=>{ie(!1),$&&$(Ve,Ne)},ve={slots:{transition:F,...N},slotProps:{content:g,clickAwayListener:f,transition:W,...U}},[_e,Le]=ur("root",{ref:t,className:[oe.root,h],elementType:Xie,getSlotProps:de,externalForwardedProps:{...ve,...Q},ownerState:te}),[Re,{ownerState:ot,...ze}]=ur("clickAwayListener",{elementType:Uie,externalForwardedProps:ve,getSlotProps:Ve=>({onClickAway:(...Ne)=>{const et=Ne[0];Ve.onClickAway?.(...Ne),!et?.defaultMuiPrevented&&le(...Ne)}}),ownerState:te}),[mt,Je]=ur("content",{elementType:qie,shouldForwardComponentProp:!0,externalForwardedProps:ve,additionalProps:{message:y,action:a},ownerState:te}),[Pt,Rt]=ur("transition",{elementType:B0,externalForwardedProps:ve,getSlotProps:Ve=>({onEnter:(...Ne)=>{Ve.onEnter?.(...Ne),pe(...Ne)},onExited:(...Ne)=>{Ve.onExited?.(...Ne),ee(...Ne)}}),additionalProps:{appear:!0,in:A,timeout:w,direction:o==="top"?"down":"up"},ownerState:te});return!A&&ae?null:P.jsx(Re,{...ze,...N.clickAwayListener&&{ownerState:ot},children:P.jsx(_e,{...Le,children:P.jsx(Pt,{...Rt,children:c||P.jsx(mt,{...Je})})})})}),bf=yr(P.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),Yie=yr(P.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"})),UO=yr(P.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"}));class Qie{static STORAGE_PREFIX="localstorage/";static saveFile(e,t){const n=this.STORAGE_PREFIX+e;try{return localStorage.setItem(n,t),n}catch(i){throw console.error("Error saving file to localStorage:",i),new Error("Failed to save file to localStorage")}}static getFile(e){const t=this.STORAGE_PREFIX+e;try{return localStorage.getItem(t)}catch(n){return console.error("Error reading file from localStorage:",n),null}}static deleteFile(e){const t=this.STORAGE_PREFIX+e;try{localStorage.removeItem(t)}catch(n){console.error("Error deleting file from localStorage:",n)}}static async readAndSaveFile(e){return new Promise((t,n)=>{if(!e||!(e instanceof Blob)){n(new Error("Invalid file object"));return}const i=new FileReader;i.onload=s=>{try{const a=s.target.result,o=e.name||`file_${Date.now()}`,l=this.saveFile(o,a);t(l)}catch(a){n(a)}},i.onerror=s=>{n(new Error("Failed to read file: "+s.message))};try{i.readAsText(e)}catch(s){n(new Error("Failed to read file: "+s.message))}})}static hasFile(e){const t=this.STORAGE_PREFIX+e;return localStorage.getItem(t)!==null}static getAllFileKeys(){const e=[];for(let t=0;t<localStorage.length;t++){const n=localStorage.key(t);n.startsWith(this.STORAGE_PREFIX)&&e.push(n.replace(this.STORAGE_PREFIX,""))}return e}}class Jie{constructor(e=""){this.baseUrl=e}async getTaskList(){try{return{list:Ed.getTasks()}}catch(e){return console.error("Error getting task list:",e),{list:[]}}}async addTask(e){try{return{code:"200",msg:"Success",data:Ed.addTask(e)}}catch(t){return console.error("Error adding task:",t),{code:"500",msg:t.message}}}async uploadFile(e){try{const t=e.get("file");if(!t)throw new Error("No file found in FormData");return{code:"200",msg:"Success",url:await Qie.readAndSaveFile(t)}}catch(t){throw console.error("File upload failed:",t),t}}async updateTask(e,t){try{return{code:"200",msg:"Success",data:Ed.updateTask(e,t)}}catch(n){return console.error("Error updating task:",n),{code:"500",msg:n.message}}}async deleteTask(e){try{return Ed.deleteTask(e),{code:"200",msg:"Success"}}catch(t){return console.error("Error deleting task:",t),{code:"500",msg:t.message}}}async runTask(e){return{code:"200",msg:"Success"}}async getDownloadBody(e){return{content:"",url:""}}async exportTasks(){try{return Ed.getTasks()}catch(e){return console.error("Error exporting tasks:",e),[]}}async importTasks(e){try{return Ed.clearAllTasks(),e.forEach(t=>{Ed.addTask(t)}),{code:"200",msg:"Success"}}catch(t){return console.error("Error importing tasks:",t),{code:"500",msg:t.message}}}}const Zie={500:"#e91e63"};function ese(r){return Zt("MuiAlert",r)}const $O=Yt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),tse=yr(P.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),rse=yr(P.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),nse=yr(P.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),ise=yr(P.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),sse=yr(P.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),ase=r=>{const{variant:e,color:t,severity:n,classes:i}=r,s={root:["root",`color${ft(t||n)}`,`${e}${ft(t||n)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return Jt(s,ese,i)},ose=it(Qu,{name:"MuiAlert",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],e[`${t.variant}${ft(t.color||t.severity)}`]]}})(cr(({theme:r})=>{const e=r.palette.mode==="light"?gf:vf,t=r.palette.mode==="light"?vf:gf;return{...r.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(r.palette).filter(_i(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"standard"},style:{color:r.vars?r.vars.palette.Alert[`${n}Color`]:e(r.palette[n].light,.6),backgroundColor:r.vars?r.vars.palette.Alert[`${n}StandardBg`]:t(r.palette[n].light,.9),[`& .${$O.icon}`]:r.vars?{color:r.vars.palette.Alert[`${n}IconColor`]}:{color:r.palette[n].main}}})),...Object.entries(r.palette).filter(_i(["light"])).map(([n])=>({props:{colorSeverity:n,variant:"outlined"},style:{color:r.vars?r.vars.palette.Alert[`${n}Color`]:e(r.palette[n].light,.6),border:`1px solid ${(r.vars||r).palette[n].light}`,[`& .${$O.icon}`]:r.vars?{color:r.vars.palette.Alert[`${n}IconColor`]}:{color:r.palette[n].main}}})),...Object.entries(r.palette).filter(_i(["dark"])).map(([n])=>({props:{colorSeverity:n,variant:"filled"},style:{fontWeight:r.typography.fontWeightMedium,...r.vars?{color:r.vars.palette.Alert[`${n}FilledColor`],backgroundColor:r.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:r.palette.mode==="dark"?r.palette[n].dark:r.palette[n].main,color:r.palette.getContrastText(r.palette[n].main)}}}))]}})),lse=it("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),use=it("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),cse=it("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),jO={success:P.jsx(tse,{fontSize:"inherit"}),warning:P.jsx(rse,{fontSize:"inherit"}),error:P.jsx(nse,{fontSize:"inherit"}),info:P.jsx(ise,{fontSize:"inherit"})},dse=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiAlert"}),{action:i,children:s,className:a,closeText:o="Close",color:l,components:u={},componentsProps:c={},icon:h,iconMapping:f=jO,onClose:g,role:v="alert",severity:y="success",slotProps:_={},slots:C={},variant:k="standard",...D}=n,I={...n,color:l,severity:y,variant:k,colorSeverity:l||y},A=ase(I),R={slots:{closeButton:u.CloseButton,closeIcon:u.CloseIcon,...C},slotProps:{...c,..._}},[N,U]=ur("root",{ref:t,shouldForwardComponentProp:!0,className:Et(A.root,a),elementType:ose,externalForwardedProps:{...R,...D},ownerState:I,additionalProps:{role:v,elevation:0}}),[F,w]=ur("icon",{className:A.icon,elementType:lse,externalForwardedProps:R,ownerState:I}),[$,H]=ur("message",{className:A.message,elementType:use,externalForwardedProps:R,ownerState:I}),[W,Q]=ur("action",{className:A.action,elementType:cse,externalForwardedProps:R,ownerState:I}),[te,oe]=ur("closeButton",{elementType:Ml,externalForwardedProps:R,ownerState:I}),[de,le]=ur("closeIcon",{elementType:sse,externalForwardedProps:R,ownerState:I});return P.jsxs(N,{...U,children:[h!==!1?P.jsx(F,{...w,children:h||f[y]||jO[y]}):null,P.jsx($,{...H,children:s}),i!=null?P.jsx(W,{...Q,children:i}):null,i==null&&g?P.jsx(W,{...Q,children:P.jsx(te,{size:"small","aria-label":o,title:o,color:"inherit",onClick:g,...oe,children:P.jsx(de,{fontSize:"small",...le})})}):null]})});function em(r){const{elementType:e,externalSlotProps:t,ownerState:n,skipResolvingSlotProps:i=!1,...s}=r,a=i?{}:LN(t,n),{props:o,internalRef:l}=ON({...s,externalSlotProps:a}),u=Gn(l,a?.ref,r.additionalProps?.ref);return RN(e,{...o,ref:u},n)}function hse(r){return Zt("MuiPopper",r)}Yt("MuiPopper",["root"]);function fse(r,e){if(e==="ltr")return r;switch(r){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return r}}function h2(r){return typeof r=="function"?r():r}function pse(r){return r.nodeType!==void 0}const mse=r=>{const{classes:e}=r;return Jt({root:["root"]},hse,e)},gse={},vse=M.forwardRef(function(e,t){const{anchorEl:n,children:i,direction:s,disablePortal:a,modifiers:o,open:l,placement:u,popperOptions:c,popperRef:h,slotProps:f={},slots:g={},TransitionProps:v,ownerState:y,..._}=e,C=M.useRef(null),k=Gn(C,t),D=M.useRef(null),I=Gn(D,h),A=M.useRef(I);il(()=>{A.current=I},[I]),M.useImperativeHandle(h,()=>D.current,[]);const R=fse(u,s),[N,U]=M.useState(R),[F,w]=M.useState(h2(n));M.useEffect(()=>{D.current&&D.current.forceUpdate()}),M.useEffect(()=>{n&&w(h2(n))},[n]),il(()=>{if(!F||!l)return;const te=le=>{U(le.placement)};let oe=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:le})=>{te(le)}}];o!=null&&(oe=oe.concat(o)),c&&c.modifiers!=null&&(oe=oe.concat(c.modifiers));const de=xte(F,C.current,{placement:R,...c,modifiers:oe});return A.current(de),()=>{de.destroy(),A.current(null)}},[F,a,o,l,c,R]);const $={placement:N};v!==null&&($.TransitionProps=v);const H=mse(e),W=g.root??"div",Q=em({elementType:W,externalSlotProps:f.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:k},ownerState:e,className:H.root});return P.jsx(W,{...Q,children:typeof i=="function"?i($):i})}),yse=M.forwardRef(function(e,t){const{anchorEl:n,children:i,container:s,direction:a="ltr",disablePortal:o=!1,keepMounted:l=!1,modifiers:u,open:c,placement:h="bottom",popperOptions:f=gse,popperRef:g,style:v,transition:y=!1,slotProps:_={},slots:C={},...k}=e,[D,I]=M.useState(!0),A=()=>{I(!1)},R=()=>{I(!0)};if(!l&&!c&&(!y||D))return null;let N;if(s)N=s;else if(n){const w=h2(n);N=w&&pse(w)?Ss(w).body:Ss(null).body}const U=!c&&l&&(!y||D)?"none":void 0,F=y?{in:c,onEnter:A,onExited:R}:void 0;return P.jsx(PN,{disablePortal:o,container:N,children:P.jsx(vse,{anchorEl:n,direction:a,disablePortal:o,modifiers:u,ref:t,open:y?!D:c,placement:h,popperOptions:f,popperRef:g,slotProps:_,slots:C,...k,style:{position:"fixed",top:0,left:0,display:U,...v},TransitionProps:F,children:i})})}),xse=it(yse,{name:"MuiPopper",slot:"Root"})({}),p5=M.forwardRef(function(e,t){const n=Em(),i=Xt({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:o,componentsProps:l,container:u,disablePortal:c,keepMounted:h,modifiers:f,open:g,placement:v,popperOptions:y,popperRef:_,transition:C,slots:k,slotProps:D,...I}=i,A=k?.root??o?.Root,R={anchorEl:s,container:u,disablePortal:c,keepMounted:h,modifiers:f,open:g,placement:v,popperOptions:y,popperRef:_,transition:C,...I};return P.jsx(xse,{as:a,direction:n?"rtl":"ltr",slots:{root:A},slotProps:D??l,...R,ref:t})}),_se=yr(P.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function bse(r){return Zt("MuiChip",r)}const en=Yt("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Sse=r=>{const{classes:e,disabled:t,size:n,color:i,iconColor:s,onDelete:a,clickable:o,variant:l}=r,u={root:["root",l,t&&"disabled",`size${ft(n)}`,`color${ft(i)}`,o&&"clickable",o&&`clickableColor${ft(i)}`,a&&"deletable",a&&`deletableColor${ft(i)}`,`${l}${ft(i)}`],label:["label",`label${ft(n)}`],avatar:["avatar",`avatar${ft(n)}`,`avatarColor${ft(i)}`],icon:["icon",`icon${ft(n)}`,`iconColor${ft(s)}`],deleteIcon:["deleteIcon",`deleteIcon${ft(n)}`,`deleteIconColor${ft(i)}`,`deleteIcon${ft(l)}Color${ft(i)}`]};return Jt(u,bse,e)},Tse=it("div",{name:"MuiChip",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r,{color:n,iconColor:i,clickable:s,onDelete:a,size:o,variant:l}=t;return[{[`& .${en.avatar}`]:e.avatar},{[`& .${en.avatar}`]:e[`avatar${ft(o)}`]},{[`& .${en.avatar}`]:e[`avatarColor${ft(n)}`]},{[`& .${en.icon}`]:e.icon},{[`& .${en.icon}`]:e[`icon${ft(o)}`]},{[`& .${en.icon}`]:e[`iconColor${ft(i)}`]},{[`& .${en.deleteIcon}`]:e.deleteIcon},{[`& .${en.deleteIcon}`]:e[`deleteIcon${ft(o)}`]},{[`& .${en.deleteIcon}`]:e[`deleteIconColor${ft(n)}`]},{[`& .${en.deleteIcon}`]:e[`deleteIcon${ft(l)}Color${ft(n)}`]},e.root,e[`size${ft(o)}`],e[`color${ft(n)}`],s&&e.clickable,s&&n!=="default"&&e[`clickableColor${ft(n)})`],a&&e.deletable,a&&n!=="default"&&e[`deletableColor${ft(n)}`],e[l],e[`${l}${ft(n)}`]]}})(cr(({theme:r})=>{const e=r.palette.mode==="light"?r.palette.grey[700]:r.palette.grey[300];return{maxWidth:"100%",fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(r.vars||r).palette.text.primary,backgroundColor:(r.vars||r).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:r.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${en.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${en.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:r.vars?r.vars.palette.Chip.defaultAvatarColor:e,fontSize:r.typography.pxToRem(12)},[`& .${en.avatarColorPrimary}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.dark},[`& .${en.avatarColorSecondary}`]:{color:(r.vars||r).palette.secondary.contrastText,backgroundColor:(r.vars||r).palette.secondary.dark},[`& .${en.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:r.typography.pxToRem(10)},[`& .${en.icon}`]:{marginLeft:5,marginRight:-6},[`& .${en.deleteIcon}`]:{WebkitTapHighlightColor:"transparent",color:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.26)`:Kr(r.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:r.vars?`rgba(${r.vars.palette.text.primaryChannel} / 0.4)`:Kr(r.palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,[`& .${en.icon}`]:{fontSize:18,marginLeft:4,marginRight:-4},[`& .${en.deleteIcon}`]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(r.palette).filter(_i(["contrastText"])).map(([t])=>({props:{color:t},style:{backgroundColor:(r.vars||r).palette[t].main,color:(r.vars||r).palette[t].contrastText,[`& .${en.deleteIcon}`]:{color:r.vars?`rgba(${r.vars.palette[t].contrastTextChannel} / 0.7)`:Kr(r.palette[t].contrastText,.7),"&:hover, &:active":{color:(r.vars||r).palette[t].contrastText}}}})),{props:t=>t.iconColor===t.color,style:{[`& .${en.icon}`]:{color:r.vars?r.vars.palette.Chip.defaultIconColor:e}}},{props:t=>t.iconColor===t.color&&t.color!=="default",style:{[`& .${en.icon}`]:{color:"inherit"}}},{props:{onDelete:!0},style:{[`&.${en.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Kr(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}}},...Object.entries(r.palette).filter(_i(["dark"])).map(([t])=>({props:{color:t,onDelete:!0},style:{[`&.${en.focusVisible}`]:{background:(r.vars||r).palette[t].dark}}})),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Kr(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity)},[`&.${en.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.action.selectedChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Kr(r.palette.action.selected,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)},"&:active":{boxShadow:(r.vars||r).shadows[1]}}},...Object.entries(r.palette).filter(_i(["dark"])).map(([t])=>({props:{color:t,clickable:!0},style:{[`&:hover, &.${en.focusVisible}`]:{backgroundColor:(r.vars||r).palette[t].dark}}})),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:r.vars?`1px solid ${r.vars.palette.Chip.defaultBorder}`:`1px solid ${r.palette.mode==="light"?r.palette.grey[400]:r.palette.grey[700]}`,[`&.${en.clickable}:hover`]:{backgroundColor:(r.vars||r).palette.action.hover},[`&.${en.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`& .${en.avatar}`]:{marginLeft:4},[`& .${en.avatarSmall}`]:{marginLeft:2},[`& .${en.icon}`]:{marginLeft:4},[`& .${en.iconSmall}`]:{marginLeft:2},[`& .${en.deleteIcon}`]:{marginRight:5},[`& .${en.deleteIconSmall}`]:{marginRight:3}}},...Object.entries(r.palette).filter(_i()).map(([t])=>({props:{variant:"outlined",color:t},style:{color:(r.vars||r).palette[t].main,border:`1px solid ${r.vars?`rgba(${r.vars.palette[t].mainChannel} / 0.7)`:Kr(r.palette[t].main,.7)}`,[`&.${en.clickable}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette[t].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette[t].main,r.palette.action.hoverOpacity)},[`&.${en.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette[t].mainChannel} / ${r.vars.palette.action.focusOpacity})`:Kr(r.palette[t].main,r.palette.action.focusOpacity)},[`& .${en.deleteIcon}`]:{color:r.vars?`rgba(${r.vars.palette[t].mainChannel} / 0.7)`:Kr(r.palette[t].main,.7),"&:hover, &:active":{color:(r.vars||r).palette[t].main}}}}))]}})),Cse=it("span",{name:"MuiChip",slot:"Label",overridesResolver:(r,e)=>{const{ownerState:t}=r,{size:n}=t;return[e.label,e[`label${ft(n)}`]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function zO(r){return r.key==="Backspace"||r.key==="Delete"}const f2=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiChip"}),{avatar:i,className:s,clickable:a,color:o="default",component:l,deleteIcon:u,disabled:c=!1,icon:h,label:f,onClick:g,onDelete:v,onKeyDown:y,onKeyUp:_,size:C="medium",variant:k="filled",tabIndex:D,skipFocusWhenDisabled:I=!1,...A}=n,R=M.useRef(null),N=Gn(R,t),U=ae=>{ae.stopPropagation(),v&&v(ae)},F=ae=>{ae.currentTarget===ae.target&&zO(ae)&&ae.preventDefault(),y&&y(ae)},w=ae=>{ae.currentTarget===ae.target&&v&&zO(ae)&&v(ae),_&&_(ae)},$=a!==!1&&g?!0:a,H=$||v?Nu:l||"div",W={...n,component:H,disabled:c,size:C,color:o,iconColor:M.isValidElement(h)&&h.props.color||o,onDelete:!!v,clickable:$,variant:k},Q=Sse(W),te=H===Nu?{component:l||"div",focusVisibleClassName:Q.focusVisible,...v&&{disableRipple:!0}}:{};let oe=null;v&&(oe=u&&M.isValidElement(u)?M.cloneElement(u,{className:Et(u.props.className,Q.deleteIcon),onClick:U}):P.jsx(_se,{className:Q.deleteIcon,onClick:U}));let de=null;i&&M.isValidElement(i)&&(de=M.cloneElement(i,{className:Et(Q.avatar,i.props.className)}));let le=null;return h&&M.isValidElement(h)&&(le=M.cloneElement(h,{className:Et(Q.icon,h.props.className)})),P.jsxs(Tse,{as:H,className:Et(Q.root,s),disabled:$&&c?!0:void 0,onClick:g,onKeyDown:F,onKeyUp:w,ref:N,tabIndex:I&&c?-1:D,ownerState:W,...te,...A,children:[de||le,P.jsx(Cse,{className:Q.label,ownerState:W,children:f}),oe]})});function Fy(r){return parseInt(r,10)||0}const wse={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Ese(r){for(const e in r)return!1;return!0}function HO(r){return Ese(r)||r.outerHeightStyle===0&&!r.overflowing}const kse=M.forwardRef(function(e,t){const{onChange:n,maxRows:i,minRows:s=1,style:a,value:o,...l}=e,{current:u}=M.useRef(o!=null),c=M.useRef(null),h=Gn(t,c),f=M.useRef(null),g=M.useRef(null),v=M.useCallback(()=>{const D=c.current,I=g.current;if(!D||!I)return;const R=yo(D).getComputedStyle(D);if(R.width==="0px")return{outerHeightStyle:0,overflowing:!1};I.style.width=R.width,I.value=D.value||e.placeholder||"x",I.value.slice(-1)===`
`&&(I.value+=" ");const N=R.boxSizing,U=Fy(R.paddingBottom)+Fy(R.paddingTop),F=Fy(R.borderBottomWidth)+Fy(R.borderTopWidth),w=I.scrollHeight;I.value="x";const $=I.scrollHeight;let H=w;s&&(H=Math.max(Number(s)*$,H)),i&&(H=Math.min(Number(i)*$,H)),H=Math.max(H,$);const W=H+(N==="border-box"?U+F:0),Q=Math.abs(H-w)<=1;return{outerHeightStyle:W,overflowing:Q}},[i,s,e.placeholder]),y=ua(()=>{const D=c.current,I=v();if(!D||!I||HO(I))return!1;const A=I.outerHeightStyle;return f.current!=null&&f.current!==A}),_=M.useCallback(()=>{const D=c.current,I=v();if(!D||!I||HO(I))return;const A=I.outerHeightStyle;f.current!==A&&(f.current=A,D.style.height=`${A}px`),D.style.overflow=I.overflowing?"hidden":""},[v]),C=M.useRef(-1);il(()=>{const D=pv(_),I=c?.current;if(!I)return;const A=yo(I);A.addEventListener("resize",D);let R;return typeof ResizeObserver<"u"&&(R=new ResizeObserver(()=>{y()&&(R.unobserve(I),cancelAnimationFrame(C.current),_(),C.current=requestAnimationFrame(()=>{R.observe(I)}))}),R.observe(I)),()=>{D.clear(),cancelAnimationFrame(C.current),A.removeEventListener("resize",D),R&&R.disconnect()}},[v,_,y]),il(()=>{_()});const k=D=>{u||_();const I=D.target,A=I.value.length,R=I.value.endsWith(`
`),N=I.selectionStart===A;R&&N&&I.setSelectionRange(A,A),n&&n(D)};return P.jsxs(M.Fragment,{children:[P.jsx("textarea",{value:o,onChange:k,ref:h,rows:s,style:a,...l}),P.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:g,tabIndex:-1,style:{...wse.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function Ase(r){return Zt("MuiInputBase",r)}const tm=Yt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var VO;const CS=(r,e)=>{const{ownerState:t}=r;return[e.root,t.formControl&&e.formControl,t.startAdornment&&e.adornedStart,t.endAdornment&&e.adornedEnd,t.error&&e.error,t.size==="small"&&e.sizeSmall,t.multiline&&e.multiline,t.color&&e[`color${ft(t.color)}`],t.fullWidth&&e.fullWidth,t.hiddenLabel&&e.hiddenLabel]},wS=(r,e)=>{const{ownerState:t}=r;return[e.input,t.size==="small"&&e.inputSizeSmall,t.multiline&&e.inputMultiline,t.type==="search"&&e.inputTypeSearch,t.startAdornment&&e.inputAdornedStart,t.endAdornment&&e.inputAdornedEnd,t.hiddenLabel&&e.inputHiddenLabel]},Dse=r=>{const{classes:e,color:t,disabled:n,error:i,endAdornment:s,focused:a,formControl:o,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:h,size:f,startAdornment:g,type:v}=r,y={root:["root",`color${ft(t)}`,n&&"disabled",i&&"error",l&&"fullWidth",a&&"focused",o&&"formControl",f&&f!=="medium"&&`size${ft(f)}`,c&&"multiline",g&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",n&&"disabled",v==="search"&&"inputTypeSearch",c&&"inputMultiline",f==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",g&&"inputAdornedStart",s&&"inputAdornedEnd",h&&"readOnly"]};return Jt(y,Ase,e)},ES=it("div",{name:"MuiInputBase",slot:"Root",overridesResolver:CS})(cr(({theme:r})=>({...r.typography.body1,color:(r.vars||r).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${tm.disabled}`]:{color:(r.vars||r).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:e})=>e.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:e,size:t})=>e.multiline&&t==="small",style:{paddingTop:1}},{props:({ownerState:e})=>e.fullWidth,style:{width:"100%"}}]}))),kS=it("input",{name:"MuiInputBase",slot:"Input",overridesResolver:wS})(cr(({theme:r})=>{const e=r.palette.mode==="light",t={color:"currentColor",...r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5},transition:r.transitions.create("opacity",{duration:r.transitions.duration.shorter})},n={opacity:"0 !important"},i=r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:e?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":t,"&::-moz-placeholder":t,"&::-ms-input-placeholder":t,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${tm.formControl} &`]:{"&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${tm.disabled}`]:{opacity:1,WebkitTextFillColor:(r.vars||r).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),WO=gk({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Rk=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:o,color:l,components:u={},componentsProps:c={},defaultValue:h,disabled:f,disableInjectingGlobalStyles:g,endAdornment:v,error:y,fullWidth:_=!1,id:C,inputComponent:k="input",inputProps:D={},inputRef:I,margin:A,maxRows:R,minRows:N,multiline:U=!1,name:F,onBlur:w,onChange:$,onClick:H,onFocus:W,onKeyDown:Q,onKeyUp:te,placeholder:oe,readOnly:de,renderSuffix:le,rows:ae,size:ie,slotProps:ee={},slots:pe={},startAdornment:ve,type:_e="text",value:Le,...Re}=n,ot=D.value!=null?D.value:Le,{current:ze}=M.useRef(ot!=null),mt=M.useRef(),Je=M.useCallback(xt=>{},[]),Pt=Gn(mt,I,D.ref,Je),[Rt,Ve]=M.useState(!1),Ne=Hl(),et=ih({props:n,muiFormControl:Ne,states:["color","disabled","error","hiddenLabel","size","required","filled"]});et.focused=Ne?Ne.focused:Rt,M.useEffect(()=>{!Ne&&f&&Rt&&(Ve(!1),w&&w())},[Ne,f,Rt,w]);const at=Ne&&Ne.onFilled,Me=Ne&&Ne.onEmpty,$e=M.useCallback(xt=>{V_(xt)?at&&at():Me&&Me()},[at,Me]);il(()=>{ze&&$e({value:ot})},[ot,$e,ze]);const qe=xt=>{W&&W(xt),D.onFocus&&D.onFocus(xt),Ne&&Ne.onFocus?Ne.onFocus(xt):Ve(!0)},Ye=xt=>{w&&w(xt),D.onBlur&&D.onBlur(xt),Ne&&Ne.onBlur?Ne.onBlur(xt):Ve(!1)},vt=(xt,...Ut)=>{if(!ze){const rn=xt.target||mt.current;if(rn==null)throw new Error(yf(1));$e({value:rn.value})}D.onChange&&D.onChange(xt,...Ut),$&&$(xt,...Ut)};M.useEffect(()=>{$e(mt.current)},[]);const ut=xt=>{mt.current&&xt.currentTarget===xt.target&&mt.current.focus(),H&&H(xt)};let gr=k,hr=D;U&&gr==="input"&&(ae?hr={type:void 0,minRows:ae,maxRows:ae,...hr}:hr={type:void 0,maxRows:R,minRows:N,...hr},gr=kse);const Rr=xt=>{$e(xt.animationName==="mui-auto-fill-cancel"?mt.current:{value:"x"})};M.useEffect(()=>{Ne&&Ne.setAdornedStart(!!ve)},[Ne,ve]);const nr={...n,color:et.color||"primary",disabled:et.disabled,endAdornment:v,error:et.error,focused:et.focused,formControl:Ne,fullWidth:_,hiddenLabel:et.hiddenLabel,multiline:U,size:et.size,startAdornment:ve,type:_e},qt=Dse(nr),fr=pe.root||u.Root||ES,xr=ee.root||c.root||{},Lr=pe.input||u.Input||kS;return hr={...hr,...ee.input??c.input},P.jsxs(M.Fragment,{children:[!g&&typeof WO=="function"&&(VO||(VO=P.jsx(WO,{}))),P.jsxs(fr,{...xr,ref:t,onClick:ut,...Re,...!F0(fr)&&{ownerState:{...nr,...xr.ownerState}},className:Et(qt.root,xr.className,o,de&&"MuiInputBase-readOnly"),children:[ve,P.jsx(SS.Provider,{value:null,children:P.jsx(Lr,{"aria-invalid":et.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:h,disabled:et.disabled,id:C,onAnimationStart:Rr,name:F,placeholder:oe,readOnly:de,required:et.required,rows:ae,value:ot,onKeyDown:Q,onKeyUp:te,type:_e,...hr,...!F0(Lr)&&{as:gr,ownerState:{...nr,...hr.ownerState}},ref:Pt,className:Et(qt.input,hr.className,de&&"MuiInputBase-readOnly"),onBlur:Ye,onChange:vt,onFocus:qe})}),v,le?le({...et,startAdornment:ve}):null]})]})});function Ise(r){return Zt("MuiInput",r)}const kg={...tm,...Yt("MuiInput",["root","underline","input"])};function Pse(r){return Zt("MuiOutlinedInput",r)}const hu={...tm,...Yt("MuiOutlinedInput",["root","notchedOutline","input"])};function Rse(r){return Zt("MuiFilledInput",r)}const Ih={...tm,...Yt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},Lse=yr(P.jsx("path",{d:"M7 10l5 5 5-5z"})),Ose=yr(P.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Mse(r){return Zt("MuiAvatar",r)}Yt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Fse=r=>{const{classes:e,variant:t,colorDefault:n}=r;return Jt({root:["root",t,n&&"colorDefault"],img:["img"],fallback:["fallback"]},Mse,e)},Bse=it("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.variant],t.colorDefault&&e.colorDefault]}})(cr(({theme:r})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(r.vars||r).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(r.vars||r).palette.background.default,...r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:r.palette.grey[400],...r.applyStyles("dark",{backgroundColor:r.palette.grey[600]})}}}]}))),Nse=it("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Use=it(Ose,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function $se({crossOrigin:r,referrerPolicy:e,src:t,srcSet:n}){const[i,s]=M.useState(!1);return M.useEffect(()=>{if(!t&&!n)return;s(!1);let a=!0;const o=new Image;return o.onload=()=>{a&&s("loaded")},o.onerror=()=>{a&&s("error")},o.crossOrigin=r,o.referrerPolicy=e,o.src=t,n&&(o.srcset=n),()=>{a=!1}},[r,e,t,n]),i}const tC=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:a,component:o="div",slots:l={},slotProps:u={},imgProps:c,sizes:h,src:f,srcSet:g,variant:v="circular",...y}=n;let _=null;const C={...n,component:o,variant:v},k=$se({...c,...typeof u.img=="function"?u.img(C):u.img,src:f,srcSet:g}),D=f||g,I=D&&k!=="error";C.colorDefault=!I,delete C.ownerState;const A=Fse(C),[R,N]=ur("root",{ref:t,className:Et(A.root,a),elementType:Bse,externalForwardedProps:{slots:l,slotProps:u,component:o,...y},ownerState:C}),[U,F]=ur("img",{className:A.img,elementType:Nse,externalForwardedProps:{slots:l,slotProps:{img:{...c,...u.img}}},additionalProps:{alt:i,src:f,srcSet:g,sizes:h},ownerState:C}),[w,$]=ur("fallback",{className:A.fallback,elementType:Use,externalForwardedProps:{slots:l,slotProps:u},shouldForwardComponentProp:!0,ownerState:C});return I?_=P.jsx(U,{...F}):s||s===0?_=s:D&&i?_=i[0]:_=P.jsx(w,{...$}),P.jsx(R,{...N,children:_})});function jse(r){return Zt("MuiCard",r)}Yt("MuiCard",["root"]);const zse=r=>{const{classes:e}=r;return Jt({root:["root"]},jse,e)},Hse=it(Qu,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Mu=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiCard"}),{className:i,raised:s=!1,...a}=n,o={...n,raised:s},l=zse(o);return P.jsx(Hse,{className:Et(l.root,i),elevation:s?8:void 0,ref:t,ownerState:o,...a})});function Vse(r){return Zt("MuiCardActionArea",r)}const rC=Yt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Wse=r=>{const{classes:e}=r;return Jt({root:["root"],focusHighlight:["focusHighlight"]},Vse,e)},qse=it(Nu,{name:"MuiCardActionArea",slot:"Root"})(cr(({theme:r})=>({display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${rC.focusHighlight}`]:{opacity:(r.vars||r).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${rC.focusVisible} .${rC.focusHighlight}`]:{opacity:(r.vars||r).palette.action.focusOpacity}}))),Gse=it("span",{name:"MuiCardActionArea",slot:"FocusHighlight"})(cr(({theme:r})=>({overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:r.transitions.create("opacity",{duration:r.transitions.duration.short})}))),qO=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiCardActionArea"}),{children:i,className:s,focusVisibleClassName:a,slots:o={},slotProps:l={},...u}=n,c=n,h=Wse(c),f={slots:o,slotProps:l},[g,v]=ur("root",{elementType:qse,externalForwardedProps:{...f,...u},shouldForwardComponentProp:!0,ownerState:c,ref:t,className:Et(h.root,s),additionalProps:{focusVisibleClassName:Et(a,h.focusVisible)}}),[y,_]=ur("focusHighlight",{elementType:Gse,externalForwardedProps:f,ownerState:c,ref:t,className:h.focusHighlight});return P.jsxs(g,{...v,children:[i,P.jsx(y,{..._})]})});function Kse(r){return Zt("MuiCardContent",r)}Yt("MuiCardContent",["root"]);const Xse=r=>{const{classes:e}=r;return Jt({root:["root"]},Kse,e)},Yse=it("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Ud=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiCardContent"}),{className:i,component:s="div",...a}=n,o={...n,component:s},l=Xse(o);return P.jsx(Yse,{as:s,className:Et(l.root,i),ownerState:o,ref:t,...a})}),Qse=yr(P.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),Jse=yr(P.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),Zse=yr(P.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function eae(r){return Zt("MuiCheckbox",r)}const nC=Yt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),tae=r=>{const{classes:e,indeterminate:t,color:n,size:i}=r,s={root:["root",t&&"indeterminate",`color${ft(n)}`,`size${ft(i)}`]},a=Jt(s,eae,e);return{...e,...a}},rae=it(Ik,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.indeterminate&&e.indeterminate,e[`size${ft(t.size)}`],t.color!=="default"&&e[`color${ft(t.color)}`]]}})(cr(({theme:r})=>({color:(r.vars||r).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette.action.active,r.palette.action.hoverOpacity)}}},...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e,disableRipple:!1},style:{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette[e].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette[e].main,r.palette.action.hoverOpacity)}}})),...Object.entries(r.palette).filter(_i()).map(([e])=>({props:{color:e},style:{[`&.${nC.checked}, &.${nC.indeterminate}`]:{color:(r.vars||r).palette[e].main},[`&.${nC.disabled}`]:{color:(r.vars||r).palette.action.disabled}}})),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}))),nae=P.jsx(Jse,{}),iae=P.jsx(Qse,{}),sae=P.jsx(Zse,{}),Pp=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiCheckbox"}),{checkedIcon:i=nae,color:s="primary",icon:a=iae,indeterminate:o=!1,indeterminateIcon:l=sae,inputProps:u,size:c="medium",disableRipple:h=!1,className:f,slots:g={},slotProps:v={},...y}=n,_=o?l:a,C=o?l:i,k={...n,disableRipple:h,color:s,indeterminate:o,size:c},D=tae(k),I=v.input??u,[A,R]=ur("root",{ref:t,elementType:rae,className:Et(D.root,f),shouldForwardComponentProp:!0,externalForwardedProps:{slots:g,slotProps:v,...y},ownerState:k,additionalProps:{type:"checkbox",icon:M.cloneElement(_,{fontSize:_.props.fontSize??c}),checkedIcon:M.cloneElement(C,{fontSize:C.props.fontSize??c}),disableRipple:h,slots:g,slotProps:{input:bk(typeof I=="function"?I(k):I,{"data-indeterminate":o})}}});return P.jsx(A,{...R,classes:D})});function aae(r){return Zt("MuiDialogActions",r)}Yt("MuiDialogActions",["root","spacing"]);const oae=r=>{const{classes:e,disableSpacing:t}=r;return Jt({root:["root",!t&&"spacing"]},aae,e)},lae=it("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,!t.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:r})=>!r.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Lk=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:s=!1,...a}=n,o={...n,disableSpacing:s},l=oae(o);return P.jsx(lae,{className:Et(l.root,i),ownerState:o,ref:t,...a})});function uae(r){return Zt("MuiDialogContent",r)}Yt("MuiDialogContent",["root","dividers"]);const cae=r=>{const{classes:e,dividers:t}=r;return Jt({root:["root",t&&"dividers"]},uae,e)},dae=it("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.dividers&&e.dividers]}})(cr(({theme:r})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(r.vars||r).palette.divider}`,borderBottom:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${fZ.root} + &`]:{paddingTop:0}}}]}))),vv=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiDialogContent"}),{className:i,dividers:s=!1,...a}=n,o={...n,dividers:s},l=cae(o);return P.jsx(dae,{className:Et(l.root,i),ownerState:o,ref:t,...a})});function hae(r){return Zt("MuiDialogContentText",r)}Yt("MuiDialogContentText",["root"]);const fae=r=>{const{classes:e}=r,n=Jt({root:["root"]},hae,e);return{...e,...n}},pae=it(mr,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiDialogContentText",slot:"Root"})({}),mae=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiDialogContentText"}),{children:i,className:s,...a}=n,o=fae(a);return P.jsx(pae,{component:"p",variant:"body1",color:"textSecondary",ref:t,ownerState:a,className:Et(o.root,s),...n,classes:o})}),gae=r=>{const{classes:e,disableUnderline:t,startAdornment:n,endAdornment:i,size:s,hiddenLabel:a,multiline:o}=r,l={root:["root",!t&&"underline",n&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${ft(s)}`,a&&"hiddenLabel",o&&"multiline"],input:["input"]},u=Jt(l,Rse,e);return{...e,...u}},vae=it(ES,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[...CS(r,e),!t.disableUnderline&&e.underline]}})(cr(({theme:r})=>{const e=r.palette.mode==="light",t=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=e?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n}},[`&.${Ih.focused}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n},[`&.${Ih.disabled}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ih.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ih.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ih.disabled}, .${Ih.error}):before`]:{borderBottom:`1px solid ${(r.vars||r).palette.text.primary}`},[`&.${Ih.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(r.palette).filter(_i()).map(([a])=>({props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[a]?.main}`}}})),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:o})=>a.multiline&&o==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),yae=it(kS,{name:"MuiFilledInput",slot:"Input",overridesResolver:wS})(cr(({theme:r})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...r.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:e})=>e.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}},{props:({ownerState:e})=>e.hiddenLabel&&e.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:e})=>e.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),Ok=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:o=!1,hiddenLabel:l,inputComponent:u="input",multiline:c=!1,slotProps:h,slots:f={},type:g="text",...v}=n,y={...n,disableUnderline:i,fullWidth:o,inputComponent:u,multiline:c,type:g},_=gae(n),C={root:{ownerState:y},input:{ownerState:y}},k=h??a?Lu(C,h??a):C,D=f.root??s.Root??vae,I=f.input??s.Input??yae;return P.jsx(Rk,{slots:{root:D,input:I},slotProps:k,fullWidth:o,inputComponent:u,multiline:c,ref:t,type:g,...v,classes:_})});Ok.muiName="Input";function xae(r){return Zt("MuiFormHelperText",r)}const GO=Yt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var KO;const _ae=r=>{const{classes:e,contained:t,size:n,disabled:i,error:s,filled:a,focused:o,required:l}=r,u={root:["root",i&&"disabled",s&&"error",n&&`size${ft(n)}`,t&&"contained",o&&"focused",a&&"filled",l&&"required"]};return Jt(u,xae,e)},bae=it("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.size&&e[`size${ft(t.size)}`],t.contained&&e.contained,t.filled&&e.filled]}})(cr(({theme:r})=>({color:(r.vars||r).palette.text.secondary,...r.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${GO.disabled}`]:{color:(r.vars||r).palette.text.disabled},[`&.${GO.error}`]:{color:(r.vars||r).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:e})=>e.contained,style:{marginLeft:14,marginRight:14}}]}))),m5=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p",disabled:o,error:l,filled:u,focused:c,margin:h,required:f,variant:g,...v}=n,y=Hl(),_=ih({props:n,muiFormControl:y,states:["variant","size","disabled","error","filled","focused","required"]}),C={...n,component:a,contained:_.variant==="filled"||_.variant==="outlined",variant:_.variant,size:_.size,disabled:_.disabled,error:_.error,filled:_.filled,focused:_.focused,required:_.required};delete C.ownerState;const k=_ae(C);return P.jsx(bae,{as:a,className:Et(k.root,s),ref:t,...v,ownerState:C,children:i===" "?KO||(KO=P.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):i})}),Jo=yJ({createStyledComponent:it("div",{name:"MuiGrid",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:r=>Xt({props:r,name:"MuiGrid"}),useTheme:zl}),Sae=r=>{const{classes:e,disableUnderline:t}=r,i=Jt({root:["root",!t&&"underline"],input:["input"]},Ise,e);return{...e,...i}},Tae=it(ES,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiInput",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[...CS(r,e),!t.disableUnderline&&e.underline]}})(cr(({theme:r})=>{let t=r.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return r.vars&&(t=`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:n})=>n.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:n})=>!n.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${kg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${kg.error}`]:{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${kg.disabled}, .${kg.error}):before`]:{borderBottom:`2px solid ${(r.vars||r).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${kg.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(r.palette).filter(_i()).map(([n])=>({props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[n].main}`}}}))]}})),Cae=it(kS,{name:"MuiInput",slot:"Input",overridesResolver:wS})({}),Mk=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:o=!1,inputComponent:l="input",multiline:u=!1,slotProps:c,slots:h={},type:f="text",...g}=n,v=Sae(n),_={root:{ownerState:{disableUnderline:i}}},C=c??a?Lu(c??a,_):_,k=h.root??s.Root??Tae,D=h.input??s.Input??Cae;return P.jsx(Rk,{slots:{root:k,input:D},slotProps:C,fullWidth:o,inputComponent:l,multiline:u,ref:t,type:f,...g,classes:v})});Mk.muiName="Input";function wae(r){return Zt("MuiInputAdornment",r)}const XO=Yt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var YO;const Eae=(r,e)=>{const{ownerState:t}=r;return[e.root,e[`position${ft(t.position)}`],t.disablePointerEvents===!0&&e.disablePointerEvents,e[t.variant]]},kae=r=>{const{classes:e,disablePointerEvents:t,hiddenLabel:n,position:i,size:s,variant:a}=r,o={root:["root",t&&"disablePointerEvents",i&&`position${ft(i)}`,a,n&&"hiddenLabel",s&&`size${ft(s)}`]};return Jt(o,wae,e)},Aae=it("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Eae})(cr(({theme:r})=>({display:"flex",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active,variants:[{props:{variant:"filled"},style:{[`&.${XO.positionStart}&:not(.${XO.hiddenLabel})`]:{marginTop:16}}},{props:{position:"start"},style:{marginRight:8}},{props:{position:"end"},style:{marginLeft:8}},{props:{disablePointerEvents:!0},style:{pointerEvents:"none"}}]}))),Dae=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiInputAdornment"}),{children:i,className:s,component:a="div",disablePointerEvents:o=!1,disableTypography:l=!1,position:u,variant:c,...h}=n,f=Hl()||{};let g=c;c&&f.variant,f&&!g&&(g=f.variant);const v={...n,hiddenLabel:f.hiddenLabel,size:f.size,disablePointerEvents:o,position:u,variant:g},y=kae(v);return P.jsx(SS.Provider,{value:null,children:P.jsx(Aae,{as:a,ownerState:v,className:Et(y.root,s),ref:t,...h,children:typeof i=="string"&&!l?P.jsx(mr,{color:"textSecondary",children:i}):P.jsxs(M.Fragment,{children:[u==="start"?YO||(YO=P.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):null,i]})})})});function Iae(r){return Zt("MuiInputLabel",r)}Yt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Pae=r=>{const{classes:e,formControl:t,size:n,shrink:i,disableAnimation:s,variant:a,required:o}=r,l={root:["root",t&&"formControl",!s&&"animated",i&&"shrink",n&&n!=="medium"&&`size${ft(n)}`,a],asterisk:[o&&"asterisk"]},u=Jt(l,Iae,e);return{...e,...u}},Rae=it(pie,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${o0.asterisk}`]:e.asterisk},e.root,t.formControl&&e.formControl,t.size==="small"&&e.sizeSmall,t.shrink&&e.shrink,!t.disableAnimation&&e.animated,t.focused&&e.focused,e[t.variant]]}})(cr(({theme:r})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:e})=>e.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:e})=>e.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:e})=>!e.disableAnimation,style:{transition:r.transitions.create(["color","transform","max-width"],{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="filled"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:e,ownerState:t,size:n})=>e==="filled"&&t.shrink&&n==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:e,ownerState:t})=>e==="outlined"&&t.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),Uu=M.forwardRef(function(e,t){const n=Xt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,margin:s,shrink:a,variant:o,className:l,...u}=n,c=Hl();let h=a;typeof h>"u"&&c&&(h=c.filled||c.focused||c.adornedStart);const f=ih({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),g={...n,disableAnimation:i,formControl:c,shrink:h,size:f.size,variant:f.variant,required:f.required,focused:f.focused},v=Pae(g);return P.jsx(Rae,{"data-shrink":h,ref:t,className:Et(v.root,l),...u,ownerState:g,classes:v})});function iC(r,e,t){return r===e?r.firstChild:e&&e.nextElementSibling?e.nextElementSibling:t?null:r.firstChild}function QO(r,e,t){return r===e?t?r.firstChild:r.lastChild:e&&e.previousElementSibling?e.previousElementSibling:t?null:r.lastChild}function g5(r,e){if(e===void 0)return!0;let t=r.innerText;return t===void 0&&(t=r.textContent),t=t.trim().toLowerCase(),t.length===0?!1:e.repeating?t[0]===e.keys[0]:t.startsWith(e.keys.join(""))}function Ag(r,e,t,n,i,s){let a=!1,o=i(r,e,e?t:!1);for(;o;){if(o===r.firstChild){if(a)return!1;a=!0}const l=n?!1:o.disabled||o.getAttribute("aria-disabled")==="true";if(!o.hasAttribute("tabindex")||!g5(o,s)||l)o=i(r,o,t);else return o.focus(),!0}return!1}const Lae=M.forwardRef(function(e,t){const{actions:n,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:o,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:h="selectedMenu",...f}=e,g=M.useRef(null),v=M.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});il(()=>{i&&g.current.focus()},[i]),M.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(D,{direction:I})=>{const A=!g.current.style.width;if(D.clientHeight<g.current.clientHeight&&A){const R=`${IN(yo(D))}px`;g.current.style[I==="rtl"?"paddingLeft":"paddingRight"]=R,g.current.style.width=`calc(100% + ${R})`}return g.current}}),[]);const y=D=>{const I=g.current,A=D.key;if(D.ctrlKey||D.metaKey||D.altKey){c&&c(D);return}const N=Ss(I).activeElement;if(A==="ArrowDown")D.preventDefault(),Ag(I,N,u,l,iC);else if(A==="ArrowUp")D.preventDefault(),Ag(I,N,u,l,QO);else if(A==="Home")D.preventDefault(),Ag(I,null,u,l,iC);else if(A==="End")D.preventDefault(),Ag(I,null,u,l,QO);else if(A.length===1){const U=v.current,F=A.toLowerCase(),w=performance.now();U.keys.length>0&&(w-U.lastTime>500?(U.keys=[],U.repeating=!0,U.previousKeyMatched=!0):U.repeating&&F!==U.keys[0]&&(U.repeating=!1)),U.lastTime=w,U.keys.push(F);const $=N&&!U.repeating&&g5(N,U);U.previousKeyMatched&&($||Ag(I,N,!1,l,iC,U))?D.preventDefault():U.previousKeyMatched=!1}c&&c(D)},_=Gn(g,t);let C=-1;M.Children.forEach(a,(D,I)=>{if(!M.isValidElement(D)){C===I&&(C+=1,C>=a.length&&(C=-1));return}D.props.disabled||(h==="selectedMenu"&&D.props.selected||C===-1)&&(C=I),C===I&&(D.props.disabled||D.props.muiSkipListHighlight||D.type.muiSkipListHighlight)&&(C+=1,C>=a.length&&(C=-1))});const k=M.Children.map(a,(D,I)=>{if(I===C){const A={};return s&&(A.autoFocus=!0),D.props.tabIndex===void 0&&h==="selectedMenu"&&(A.tabIndex=0),M.cloneElement(D,A)}return D});return P.jsx(s2,{role:"menu",ref:_,className:o,onKeyDown:y,tabIndex:i?0:-1,...f,children:k})});function Oae(r){return Zt("MuiPopover",r)}Yt("MuiPopover",["root","paper"]);function JO(r,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=r.height/2:e==="bottom"&&(t=r.height),t}function ZO(r,e){let t=0;return typeof e=="number"?t=e:e==="center"?t=r.width/2:e==="right"&&(t=r.width),t}function e4(r){return[r.horizontal,r.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function By(r){return typeof r=="function"?r():r}const Mae=r=>{const{classes:e}=r;return Jt({root:["root"],paper:["paper"]},Oae,e)},Fae=it(_k,{name:"MuiPopover",slot:"Root"})({}),v5=it(Qu,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Bae=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:o,anchorReference:l="anchorEl",children:u,className:c,container:h,elevation:f=8,marginThreshold:g=16,open:v,PaperProps:y={},slots:_={},slotProps:C={},transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:D,transitionDuration:I="auto",TransitionProps:A={},disableScrollLock:R=!1,...N}=n,U=M.useRef(),F={...n,anchorOrigin:a,anchorReference:l,elevation:f,marginThreshold:g,transformOrigin:k,TransitionComponent:D,transitionDuration:I,TransitionProps:A},w=Mae(F),$=M.useCallback(()=>{if(l==="anchorPosition")return o;const Je=By(s),Rt=(Je&&Je.nodeType===1?Je:Ss(U.current).body).getBoundingClientRect();return{top:Rt.top+JO(Rt,a.vertical),left:Rt.left+ZO(Rt,a.horizontal)}},[s,a.horizontal,a.vertical,o,l]),H=M.useCallback(Je=>({vertical:JO(Je,k.vertical),horizontal:ZO(Je,k.horizontal)}),[k.horizontal,k.vertical]),W=M.useCallback(Je=>{const Pt={width:Je.offsetWidth,height:Je.offsetHeight},Rt=H(Pt);if(l==="none")return{top:null,left:null,transformOrigin:e4(Rt)};const Ve=$();let Ne=Ve.top-Rt.vertical,et=Ve.left-Rt.horizontal;const at=Ne+Pt.height,Me=et+Pt.width,$e=yo(By(s)),qe=$e.innerHeight-g,Ye=$e.innerWidth-g;if(g!==null&&Ne<g){const vt=Ne-g;Ne-=vt,Rt.vertical+=vt}else if(g!==null&&at>qe){const vt=at-qe;Ne-=vt,Rt.vertical+=vt}if(g!==null&&et<g){const vt=et-g;et-=vt,Rt.horizontal+=vt}else if(Me>Ye){const vt=Me-Ye;et-=vt,Rt.horizontal+=vt}return{top:`${Math.round(Ne)}px`,left:`${Math.round(et)}px`,transformOrigin:e4(Rt)}},[s,l,$,H,g]),[Q,te]=M.useState(v),oe=M.useCallback(()=>{const Je=U.current;if(!Je)return;const Pt=W(Je);Pt.top!==null&&Je.style.setProperty("top",Pt.top),Pt.left!==null&&(Je.style.left=Pt.left),Je.style.transformOrigin=Pt.transformOrigin,te(!0)},[W]);M.useEffect(()=>(R&&window.addEventListener("scroll",oe),()=>window.removeEventListener("scroll",oe)),[s,R,oe]);const de=()=>{oe()},le=()=>{te(!1)};M.useEffect(()=>{v&&oe()}),M.useImperativeHandle(i,()=>v?{updatePosition:()=>{oe()}}:null,[v,oe]),M.useEffect(()=>{if(!v)return;const Je=pv(()=>{oe()}),Pt=yo(By(s));return Pt.addEventListener("resize",Je),()=>{Je.clear(),Pt.removeEventListener("resize",Je)}},[s,v,oe]);let ae=I;const ie={slots:{transition:D,..._},slotProps:{transition:A,paper:y,...C}},[ee,pe]=ur("transition",{elementType:B0,externalForwardedProps:ie,ownerState:F,getSlotProps:Je=>({...Je,onEntering:(Pt,Rt)=>{Je.onEntering?.(Pt,Rt),de()},onExited:Pt=>{Je.onExited?.(Pt),le()}}),additionalProps:{appear:!0,in:v}});I==="auto"&&!ee.muiSupportAuto&&(ae=void 0);const ve=h||(s?Ss(By(s)).body:void 0),[_e,{slots:Le,slotProps:Re,...ot}]=ur("root",{ref:t,elementType:Fae,externalForwardedProps:{...ie,...N},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:_.backdrop},slotProps:{backdrop:bk(typeof C.backdrop=="function"?C.backdrop(F):C.backdrop,{invisible:!0})},container:ve,open:v},ownerState:F,className:Et(w.root,c)}),[ze,mt]=ur("paper",{ref:U,className:w.paper,elementType:v5,externalForwardedProps:ie,shouldForwardComponentProp:!0,additionalProps:{elevation:f,style:Q?void 0:{opacity:0}},ownerState:F});return P.jsx(_e,{...ot,...!F0(_e)&&{slots:Le,slotProps:Re,disableScrollLock:R},children:P.jsx(ee,{...pe,timeout:ae,children:P.jsx(ze,{...mt,children:u})})})});function Nae(r){return Zt("MuiMenu",r)}Yt("MuiMenu",["root","paper","list"]);const Uae={vertical:"top",horizontal:"right"},$ae={vertical:"top",horizontal:"left"},jae=r=>{const{classes:e}=r;return Jt({root:["root"],paper:["paper"],list:["list"]},Nae,e)},zae=it(Bae,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiMenu",slot:"Root"})({}),Hae=it(v5,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Vae=it(Lae,{name:"MuiMenu",slot:"List"})({outline:0}),Wae=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:a,disableAutoFocusItem:o=!1,MenuListProps:l={},onClose:u,open:c,PaperProps:h={},PopoverClasses:f,transitionDuration:g="auto",TransitionProps:{onEntering:v,...y}={},variant:_="selectedMenu",slots:C={},slotProps:k={},...D}=n,I=Em(),A={...n,autoFocus:i,disableAutoFocusItem:o,MenuListProps:l,onEntering:v,PaperProps:h,transitionDuration:g,TransitionProps:y,variant:_},R=jae(A),N=i&&!o&&c,U=M.useRef(null),F=(ae,ie)=>{U.current&&U.current.adjustStyleForScrollbar(ae,{direction:I?"rtl":"ltr"}),v&&v(ae,ie)},w=ae=>{ae.key==="Tab"&&(ae.preventDefault(),u&&u(ae,"tabKeyDown"))};let $=-1;M.Children.map(s,(ae,ie)=>{M.isValidElement(ae)&&(ae.props.disabled||(_==="selectedMenu"&&ae.props.selected||$===-1)&&($=ie))});const H={slots:C,slotProps:{list:l,transition:y,paper:h,...k}},W=em({elementType:C.root,externalSlotProps:k.root,ownerState:A,className:[R.root,a]}),[Q,te]=ur("paper",{className:R.paper,elementType:Hae,externalForwardedProps:H,shouldForwardComponentProp:!0,ownerState:A}),[oe,de]=ur("list",{className:Et(R.list,l.className),elementType:Vae,shouldForwardComponentProp:!0,externalForwardedProps:H,getSlotProps:ae=>({...ae,onKeyDown:ie=>{w(ie),ae.onKeyDown?.(ie)}}),ownerState:A}),le=typeof H.slotProps.transition=="function"?H.slotProps.transition(A):H.slotProps.transition;return P.jsx(zae,{onClose:u,anchorOrigin:{vertical:"bottom",horizontal:I?"right":"left"},transformOrigin:I?Uae:$ae,slots:{root:C.root,paper:Q,backdrop:C.backdrop,...C.transition&&{transition:C.transition}},slotProps:{root:W,paper:te,backdrop:typeof k.backdrop=="function"?k.backdrop(A):k.backdrop,transition:{...le,onEntering:(...ae)=>{F(...ae),le?.onEntering?.(...ae)}}},open:c,ref:t,transitionDuration:g,ownerState:A,...D,classes:f,children:P.jsx(oe,{actions:U,autoFocus:i&&($===-1||o),autoFocusItem:N,variant:_,...de,children:s})})});function qae(r){return Zt("MuiMenuItem",r)}const Dg=Yt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Gae=(r,e)=>{const{ownerState:t}=r;return[e.root,t.dense&&e.dense,t.divider&&e.divider,!t.disableGutters&&e.gutters]},Kae=r=>{const{disabled:e,dense:t,divider:n,disableGutters:i,selected:s,classes:a}=r,l=Jt({root:["root",t&&"dense",e&&"disabled",!i&&"gutters",n&&"divider",s&&"selected"]},qae,a);return{...a,...l}},Xae=it(Nu,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:Gae})(cr(({theme:r})=>({...r.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Dg.selected}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity),[`&.${Dg.focusVisible}`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.focusOpacity}))`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.focusOpacity)}},[`&.${Dg.selected}:hover`]:{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / calc(${r.vars.palette.action.selectedOpacity} + ${r.vars.palette.action.hoverOpacity}))`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.selectedOpacity})`:Kr(r.palette.primary.main,r.palette.action.selectedOpacity)}},[`&.${Dg.focusVisible}`]:{backgroundColor:(r.vars||r).palette.action.focus},[`&.${Dg.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity},[`& + .${kO.root}`]:{marginTop:r.spacing(1),marginBottom:r.spacing(1)},[`& + .${kO.inset}`]:{marginLeft:52},[`& .${mp.root}`]:{marginTop:0,marginBottom:0},[`& .${mp.inset}`]:{paddingLeft:36},[`& .${xO.root}`]:{minWidth:36},variants:[{props:({ownerState:e})=>!e.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:e})=>e.divider,style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:e})=>!e.dense,style:{[r.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:e})=>e.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...r.typography.body2,[`& .${xO.root} svg`]:{fontSize:"1.25rem"}}}]}))),Nc=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:s="li",dense:a=!1,divider:o=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:h,className:f,...g}=n,v=M.useContext(Ol),y=M.useMemo(()=>({dense:a||v.dense||!1,disableGutters:l}),[v.dense,a,l]),_=M.useRef(null);il(()=>{i&&_.current&&_.current.focus()},[i]);const C={...n,dense:y.dense,divider:o,disableGutters:l},k=Kae(n),D=Gn(_,t);let I;return n.disabled||(I=h!==void 0?h:-1),P.jsx(Ol.Provider,{value:y,children:P.jsx(Xae,{ref:D,role:c,tabIndex:I,component:s,focusVisibleClassName:Et(k.focusVisible,u),className:Et(k.root,f),...g,ownerState:C,classes:k})})});function Yae(r){return Zt("MuiNativeSelect",r)}const Fk=Yt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Qae=r=>{const{classes:e,variant:t,disabled:n,multiple:i,open:s,error:a}=r,o={select:["select",t,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${ft(t)}`,s&&"iconOpen",n&&"disabled"]};return Jt(o,Yae,e)},y5=it("select")(({theme:r})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Fk.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(r.vars||r).palette.background.paper},variants:[{props:({ownerState:e})=>e.variant!=="filled"&&e.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(r.vars||r).shape.borderRadius,"&:focus":{borderRadius:(r.vars||r).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Jae=it(y5,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:ji,overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.select,e[t.variant],t.error&&e.error,{[`&.${Fk.multiple}`]:e.multiple}]}})({}),x5=it("svg")(({theme:r})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(r.vars||r).palette.action.active,[`&.${Fk.disabled}`]:{color:(r.vars||r).palette.action.disabled},variants:[{props:({ownerState:e})=>e.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),Zae=it(x5,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.icon,t.variant&&e[`icon${ft(t.variant)}`],t.open&&e.iconOpen]}})({}),eoe=M.forwardRef(function(e,t){const{className:n,disabled:i,error:s,IconComponent:a,inputRef:o,variant:l="standard",...u}=e,c={...e,disabled:i,variant:l,error:s},h=Qae(c);return P.jsxs(M.Fragment,{children:[P.jsx(Jae,{ownerState:c,className:Et(h.select,n),disabled:i,ref:o||t,...u}),e.multiple?null:P.jsx(Zae,{as:a,ownerState:c,className:h.icon})]})});var t4;const toe=it("fieldset",{shouldForwardProp:ji})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),roe=it("legend",{shouldForwardProp:ji})(cr(({theme:r})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:e})=>!e.withLabel,style:{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})}},{props:({ownerState:e})=>e.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:e})=>e.withLabel&&e.notched,style:{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}}]})));function noe(r){const{children:e,classes:t,className:n,label:i,notched:s,...a}=r,o=i!=null&&i!=="",l={...r,notched:s,withLabel:o};return P.jsx(toe,{"aria-hidden":!0,className:n,ownerState:l,...a,children:P.jsx(roe,{ownerState:l,children:o?P.jsx("span",{children:i}):t4||(t4=P.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}const ioe=r=>{const{classes:e}=r,n=Jt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Pse,e);return{...e,...n}},soe=it(ES,{shouldForwardProp:r=>ji(r)||r==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:CS})(cr(({theme:r})=>{const e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(r.vars||r).shape.borderRadius,[`&:hover .${hu.notchedOutline}`]:{borderColor:(r.vars||r).palette.text.primary},"@media (hover: none)":{[`&:hover .${hu.notchedOutline}`]:{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:e}},[`&.${hu.focused} .${hu.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(r.palette).filter(_i()).map(([t])=>({props:{color:t},style:{[`&.${hu.focused} .${hu.notchedOutline}`]:{borderColor:(r.vars||r).palette[t].main}}})),{props:{},style:{[`&.${hu.error} .${hu.notchedOutline}`]:{borderColor:(r.vars||r).palette.error.main},[`&.${hu.disabled} .${hu.notchedOutline}`]:{borderColor:(r.vars||r).palette.action.disabled}}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:14}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:14}},{props:({ownerState:t})=>t.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{padding:"8.5px 14px"}}]}})),aoe=it(noe,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(cr(({theme:r})=>{const e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:e}})),ooe=it(kS,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:wS})(cr(({theme:r})=>({padding:"16.5px 14px",...!r.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:r.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:r.palette.mode==="light"?null:"#fff",caretColor:r.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...r.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[r.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:e})=>e.multiline,style:{padding:0}},{props:({ownerState:e})=>e.startAdornment,style:{paddingLeft:0}},{props:({ownerState:e})=>e.endAdornment,style:{paddingRight:0}}]}))),rm=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiOutlinedInput"}),{components:i={},fullWidth:s=!1,inputComponent:a="input",label:o,multiline:l=!1,notched:u,slots:c={},slotProps:h={},type:f="text",...g}=n,v=ioe(n),y=Hl(),_=ih({props:n,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),C={...n,color:_.color||"primary",disabled:_.disabled,error:_.error,focused:_.focused,formControl:y,fullWidth:s,hiddenLabel:_.hiddenLabel,multiline:l,size:_.size,type:f},k=c.root??i.Root??soe,D=c.input??i.Input??ooe,[I,A]=ur("notchedOutline",{elementType:aoe,className:v.notchedOutline,shouldForwardComponentProp:!0,ownerState:C,externalForwardedProps:{slots:c,slotProps:h},additionalProps:{label:o!=null&&o!==""&&_.required?P.jsxs(M.Fragment,{children:[o,"","*"]}):o}});return P.jsx(Rk,{slots:{root:k,input:D},slotProps:h,renderSuffix:R=>P.jsx(I,{...A,notched:typeof u<"u"?u:!!(R.startAdornment||R.filled||R.focused)}),fullWidth:s,inputComponent:a,multiline:l,ref:t,type:f,...g,classes:{...v,notchedOutline:null}})});rm.muiName="Input";function _5(r){return Zt("MuiSelect",r)}const Ig=Yt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var r4;const loe=it(y5,{name:"MuiSelect",slot:"Select",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`&.${Ig.select}`]:e.select},{[`&.${Ig.select}`]:e[t.variant]},{[`&.${Ig.error}`]:e.error},{[`&.${Ig.multiple}`]:e.multiple}]}})({[`&.${Ig.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),uoe=it(x5,{name:"MuiSelect",slot:"Icon",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.icon,t.variant&&e[`icon${ft(t.variant)}`],t.open&&e.iconOpen]}})({}),coe=it("input",{shouldForwardProp:r=>AN(r)&&r!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function n4(r,e){return typeof e=="object"&&e!==null?r===e:String(r)===String(e)}function doe(r){return r==null||typeof r=="string"&&!r.trim()}const hoe=r=>{const{classes:e,variant:t,disabled:n,multiple:i,open:s,error:a}=r,o={select:["select",t,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${ft(t)}`,s&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return Jt(o,_5,e)},foe=M.forwardRef(function(e,t){const{"aria-describedby":n,"aria-label":i,autoFocus:s,autoWidth:a,children:o,className:l,defaultOpen:u,defaultValue:c,disabled:h,displayEmpty:f,error:g=!1,IconComponent:v,inputRef:y,labelId:_,MenuProps:C={},multiple:k,name:D,onBlur:I,onChange:A,onClose:R,onFocus:N,onOpen:U,open:F,readOnly:w,renderValue:$,required:H,SelectDisplayProps:W={},tabIndex:Q,type:te,value:oe,variant:de="standard",...le}=e,[ae,ie]=L0({controlled:oe,default:c,name:"Select"}),[ee,pe]=L0({controlled:F,default:u,name:"Select"}),ve=M.useRef(null),_e=M.useRef(null),[Le,Re]=M.useState(null),{current:ot}=M.useRef(F!=null),[ze,mt]=M.useState(),Je=Gn(t,y),Pt=M.useCallback(jt=>{_e.current=jt,jt&&Re(jt)},[]),Rt=Le?.parentNode;M.useImperativeHandle(Je,()=>({focus:()=>{_e.current.focus()},node:ve.current,value:ae}),[ae]),M.useEffect(()=>{u&&ee&&Le&&!ot&&(mt(a?null:Rt.clientWidth),_e.current.focus())},[Le,a]),M.useEffect(()=>{s&&_e.current.focus()},[s]),M.useEffect(()=>{if(!_)return;const jt=Ss(_e.current).getElementById(_);if(jt){const Tr=()=>{getSelection().isCollapsed&&_e.current.focus()};return jt.addEventListener("click",Tr),()=>{jt.removeEventListener("click",Tr)}}},[_]);const Ve=(jt,Tr)=>{jt?U&&U(Tr):R&&R(Tr),ot||(mt(a?null:Rt.clientWidth),pe(jt))},Ne=jt=>{jt.button===0&&(jt.preventDefault(),_e.current.focus(),Ve(!0,jt))},et=jt=>{Ve(!1,jt)},at=M.Children.toArray(o),Me=jt=>{const Tr=at.find(Or=>Or.props.value===jt.target.value);Tr!==void 0&&(ie(Tr.props.value),A&&A(jt,Tr))},$e=jt=>Tr=>{let Or;if(Tr.currentTarget.hasAttribute("tabindex")){if(k){Or=Array.isArray(ae)?ae.slice():[];const Hr=ae.indexOf(jt.props.value);Hr===-1?Or.push(jt.props.value):Or.splice(Hr,1)}else Or=jt.props.value;if(jt.props.onClick&&jt.props.onClick(Tr),ae!==Or&&(ie(Or),A)){const Hr=Tr.nativeEvent||Tr,ln=new Hr.constructor(Hr.type,Hr);Object.defineProperty(ln,"target",{writable:!0,value:{value:Or,name:D}}),A(ln,jt)}k||Ve(!1,Tr)}},qe=jt=>{w||[" ","ArrowUp","ArrowDown","Enter"].includes(jt.key)&&(jt.preventDefault(),Ve(!0,jt))},Ye=Le!==null&&ee,vt=jt=>{!Ye&&I&&(Object.defineProperty(jt,"target",{writable:!0,value:{value:ae,name:D}}),I(jt))};delete le["aria-invalid"];let ut,gr;const hr=[];let Rr=!1;(V_({value:ae})||f)&&($?ut=$(ae):Rr=!0);const nr=at.map(jt=>{if(!M.isValidElement(jt))return null;let Tr;if(k){if(!Array.isArray(ae))throw new Error(yf(2));Tr=ae.some(Or=>n4(Or,jt.props.value)),Tr&&Rr&&hr.push(jt.props.children)}else Tr=n4(ae,jt.props.value),Tr&&Rr&&(gr=jt.props.children);return M.cloneElement(jt,{"aria-selected":Tr?"true":"false",onClick:$e(jt),onKeyUp:Or=>{Or.key===" "&&Or.preventDefault(),jt.props.onKeyUp&&jt.props.onKeyUp(Or)},role:"option",selected:Tr,value:void 0,"data-value":jt.props.value})});Rr&&(k?hr.length===0?ut=null:ut=hr.reduce((jt,Tr,Or)=>(jt.push(Tr),Or<hr.length-1&&jt.push(", "),jt),[]):ut=gr);let qt=ze;!a&&ot&&Le&&(qt=Rt.clientWidth);let fr;typeof Q<"u"?fr=Q:fr=h?null:0;const xr=W.id||(D?`mui-component-select-${D}`:void 0),Lr={...e,variant:de,value:ae,open:Ye,error:g},xt=hoe(Lr),Ut={...C.PaperProps,...C.slotProps?.paper},rn=th();return P.jsxs(M.Fragment,{children:[P.jsx(loe,{as:"div",ref:Pt,tabIndex:fr,role:"combobox","aria-controls":Ye?rn:void 0,"aria-disabled":h?"true":void 0,"aria-expanded":Ye?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[_,xr].filter(Boolean).join(" ")||void 0,"aria-describedby":n,"aria-required":H?"true":void 0,"aria-invalid":g?"true":void 0,onKeyDown:qe,onMouseDown:h||w?null:Ne,onBlur:vt,onFocus:N,...W,ownerState:Lr,className:Et(W.className,xt.select,l),id:xr,children:doe(ut)?r4||(r4=P.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):ut}),P.jsx(coe,{"aria-invalid":g,value:Array.isArray(ae)?ae.join(","):ae,name:D,ref:ve,"aria-hidden":!0,onChange:Me,tabIndex:-1,disabled:h,className:xt.nativeInput,autoFocus:s,required:H,...le,ownerState:Lr}),P.jsx(uoe,{as:v,className:xt.icon,ownerState:Lr}),P.jsx(Wae,{id:`menu-${D||""}`,anchorEl:Rt,open:Ye,onClose:et,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...C,slotProps:{...C.slotProps,list:{"aria-labelledby":_,role:"listbox","aria-multiselectable":k?"true":void 0,disableListWrap:!0,id:rn,...C.MenuListProps},paper:{...Ut,style:{minWidth:qt,...Ut!=null?Ut.style:null}}},children:nr})]})}),poe=r=>{const{classes:e}=r,n=Jt({root:["root"]},_5,e);return{...e,...n}},Bk={name:"MuiSelect",slot:"Root",shouldForwardProp:r=>ji(r)&&r!=="variant"},moe=it(Mk,Bk)(""),goe=it(rm,Bk)(""),voe=it(Ok,Bk)(""),$u=M.forwardRef(function(e,t){const n=Xt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:a={},className:o,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=Lse,id:h,input:f,inputProps:g,label:v,labelId:y,MenuProps:_,multiple:C=!1,native:k=!1,onClose:D,onOpen:I,open:A,renderValue:R,SelectDisplayProps:N,variant:U="outlined",...F}=n,w=k?eoe:foe,$=Hl(),H=ih({props:n,muiFormControl:$,states:["variant","error"]}),W=H.variant||U,Q={...n,variant:W,classes:a},te=poe(Q),{root:oe,...de}=te,le=f||{standard:P.jsx(moe,{ownerState:Q}),outlined:P.jsx(goe,{label:v,ownerState:Q}),filled:P.jsx(voe,{ownerState:Q})}[W],ae=Gn(t,rh(le));return P.jsx(M.Fragment,{children:M.cloneElement(le,{inputComponent:w,inputProps:{children:s,error:H.error,IconComponent:c,variant:W,type:void 0,multiple:C,...k?{id:h}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:y,MenuProps:_,onClose:D,onOpen:I,open:A,renderValue:R,SelectDisplayProps:{id:h,...N}},...g,classes:g?Lu(de,g.classes):de,...f?f.props.inputProps:{}},...(C&&k||u)&&W==="outlined"?{notched:!0}:{},ref:ae,className:Et(le.props.className,o,te.root),...!f&&{variant:W},...F})})});$u.muiName="Select";function yoe(r){return Zt("MuiTooltip",r)}const ui=Yt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function xoe(r){return Math.round(r*1e5)/1e5}const _oe=r=>{const{classes:e,disableInteractive:t,arrow:n,touch:i,placement:s}=r,a={popper:["popper",!t&&"popperInteractive",n&&"popperArrow"],tooltip:["tooltip",n&&"tooltipArrow",i&&"touch",`tooltipPlacement${ft(s.split("-")[0])}`],arrow:["arrow"]};return Jt(a,yoe,e)},boe=it(p5,{name:"MuiTooltip",slot:"Popper",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.popper,!t.disableInteractive&&e.popperInteractive,t.arrow&&e.popperArrow,!t.open&&e.popperClose]}})(cr(({theme:r})=>({zIndex:(r.vars||r).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${ui.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${ui.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${ui.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${ui.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ui.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${ui.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ui.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${ui.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),Soe=it("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.tooltip,t.touch&&e.touch,t.arrow&&e.tooltipArrow,e[`tooltipPlacement${ft(t.placement.split("-")[0])}`]]}})(cr(({theme:r})=>({backgroundColor:r.vars?r.vars.palette.Tooltip.bg:Kr(r.palette.grey[700],.92),borderRadius:(r.vars||r).shape.borderRadius,color:(r.vars||r).palette.common.white,fontFamily:r.typography.fontFamily,padding:"4px 8px",fontSize:r.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:r.typography.fontWeightMedium,[`.${ui.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${ui.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${ui.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${ui.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:r.typography.pxToRem(14),lineHeight:`${xoe(16/14)}em`,fontWeight:r.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${ui.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${ui.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${ui.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${ui.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${ui.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${ui.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${ui.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${ui.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ui.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${ui.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Toe=it("span",{name:"MuiTooltip",slot:"Arrow"})(cr(({theme:r})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:r.vars?r.vars.palette.Tooltip.bg:Kr(r.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let Ny=!1;const i4=new bS;let Pg={x:0,y:0};function Uy(r,e){return(t,...n)=>{e&&e(t,...n),r(t,...n)}}const s4=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:s,classes:a,components:o={},componentsProps:l={},describeChild:u=!1,disableFocusListener:c=!1,disableHoverListener:h=!1,disableInteractive:f=!1,disableTouchListener:g=!1,enterDelay:v=100,enterNextDelay:y=0,enterTouchDelay:_=700,followCursor:C=!1,id:k,leaveDelay:D=0,leaveTouchDelay:I=1500,onClose:A,onOpen:R,open:N,placement:U="bottom",PopperComponent:F,PopperProps:w={},slotProps:$={},slots:H={},title:W,TransitionComponent:Q,TransitionProps:te,...oe}=n,de=M.isValidElement(s)?s:P.jsx("span",{children:s}),le=zl(),ae=Em(),[ie,ee]=M.useState(),[pe,ve]=M.useState(null),_e=M.useRef(!1),Le=f||C,Re=Md(),ot=Md(),ze=Md(),mt=Md(),[Je,Pt]=L0({controlled:N,default:!1,name:"Tooltip",state:"open"});let Rt=Je;const Ve=th(k),Ne=M.useRef(),et=ua(()=>{Ne.current!==void 0&&(document.body.style.WebkitUserSelect=Ne.current,Ne.current=void 0),mt.clear()});M.useEffect(()=>et,[et]);const at=Tt=>{i4.clear(),Ny=!0,Pt(!0),R&&!Rt&&R(Tt)},Me=ua(Tt=>{i4.start(800+D,()=>{Ny=!1}),Pt(!1),A&&Rt&&A(Tt),Re.start(le.transitions.duration.shortest,()=>{_e.current=!1})}),$e=Tt=>{_e.current&&Tt.type!=="touchstart"||(ie&&ie.removeAttribute("title"),ot.clear(),ze.clear(),v||Ny&&y?ot.start(Ny?y:v,()=>{at(Tt)}):at(Tt))},qe=Tt=>{ot.clear(),ze.start(D,()=>{Me(Tt)})},[,Ye]=M.useState(!1),vt=Tt=>{j_(Tt.target)||(Ye(!1),qe(Tt))},ut=Tt=>{ie||ee(Tt.currentTarget),j_(Tt.target)&&(Ye(!0),$e(Tt))},gr=Tt=>{_e.current=!0;const be=de.props;be.onTouchStart&&be.onTouchStart(Tt)},hr=Tt=>{gr(Tt),ze.clear(),Re.clear(),et(),Ne.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",mt.start(_,()=>{document.body.style.WebkitUserSelect=Ne.current,$e(Tt)})},Rr=Tt=>{de.props.onTouchEnd&&de.props.onTouchEnd(Tt),et(),ze.start(I,()=>{Me(Tt)})};M.useEffect(()=>{if(!Rt)return;function Tt(be){be.key==="Escape"&&Me(be)}return document.addEventListener("keydown",Tt),()=>{document.removeEventListener("keydown",Tt)}},[Me,Rt]);const nr=Gn(rh(de),ee,t);!W&&W!==0&&(Rt=!1);const qt=M.useRef(),fr=Tt=>{const be=de.props;be.onMouseMove&&be.onMouseMove(Tt),Pg={x:Tt.clientX,y:Tt.clientY},qt.current&&qt.current.update()},xr={},Lr=typeof W=="string";u?(xr.title=!Rt&&Lr&&!h?W:null,xr["aria-describedby"]=Rt?Ve:null):(xr["aria-label"]=Lr?W:null,xr["aria-labelledby"]=Rt&&!Lr?Ve:null);const xt={...xr,...oe,...de.props,className:Et(oe.className,de.props.className),onTouchStart:gr,ref:nr,...C?{onMouseMove:fr}:{}},Ut={};g||(xt.onTouchStart=hr,xt.onTouchEnd=Rr),h||(xt.onMouseOver=Uy($e,xt.onMouseOver),xt.onMouseLeave=Uy(qe,xt.onMouseLeave),Le||(Ut.onMouseOver=$e,Ut.onMouseLeave=qe)),c||(xt.onFocus=Uy(ut,xt.onFocus),xt.onBlur=Uy(vt,xt.onBlur),Le||(Ut.onFocus=ut,Ut.onBlur=vt));const rn={...n,isRtl:ae,arrow:i,disableInteractive:Le,placement:U,PopperComponentProp:F,touch:_e.current},jt=typeof $.popper=="function"?$.popper(rn):$.popper,Tr=M.useMemo(()=>{let Tt=[{name:"arrow",enabled:!!pe,options:{element:pe,padding:4}}];return w.popperOptions?.modifiers&&(Tt=Tt.concat(w.popperOptions.modifiers)),jt?.popperOptions?.modifiers&&(Tt=Tt.concat(jt.popperOptions.modifiers)),{...w.popperOptions,...jt?.popperOptions,modifiers:Tt}},[pe,w.popperOptions,jt?.popperOptions]),Or=_oe(rn),Hr=typeof $.transition=="function"?$.transition(rn):$.transition,ln={slots:{popper:o.Popper,transition:o.Transition??Q,tooltip:o.Tooltip,arrow:o.Arrow,...H},slotProps:{arrow:$.arrow??l.arrow,popper:{...w,...jt??l.popper},tooltip:$.tooltip??l.tooltip,transition:{...te,...Hr??l.transition}}},[Cn,wn]=ur("popper",{elementType:boe,externalForwardedProps:ln,ownerState:rn,className:Et(Or.popper,w?.className)}),[Fr,se]=ur("transition",{elementType:B0,externalForwardedProps:ln,ownerState:rn}),[fe,Te]=ur("tooltip",{elementType:Soe,className:Or.tooltip,externalForwardedProps:ln,ownerState:rn}),[je,gt]=ur("arrow",{elementType:Toe,className:Or.arrow,externalForwardedProps:ln,ownerState:rn,ref:ve});return P.jsxs(M.Fragment,{children:[M.cloneElement(de,xt),P.jsx(Cn,{as:F??p5,placement:U,anchorEl:C?{getBoundingClientRect:()=>({top:Pg.y,left:Pg.x,right:Pg.x,bottom:Pg.y,width:0,height:0})}:ie,popperRef:qt,open:ie?Rt:!1,id:Ve,transition:!0,...Ut,...wn,popperOptions:Tr,children:({TransitionProps:Tt})=>P.jsx(Fr,{timeout:le.transitions.duration.shorter,...Tt,...se,children:P.jsxs(fe,{...Te,children:[W,i?P.jsx(je,{...gt}):null]})})})]})}),jh=wJ({createStyledComponent:it("div",{name:"MuiStack",slot:"Root"}),useThemeProps:r=>Xt({props:r,name:"MuiStack"})}),AS=M.createContext({}),Nk=M.createContext({});function Coe(r){return Zt("MuiStep",r)}Yt("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const woe=r=>{const{classes:e,orientation:t,alternativeLabel:n,completed:i}=r;return Jt({root:["root",t,n&&"alternativeLabel",i&&"completed"]},Coe,e)},Eoe=it("div",{name:"MuiStep",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.orientation],t.alternativeLabel&&e.alternativeLabel,t.completed&&e.completed]}})({variants:[{props:{orientation:"horizontal"},style:{paddingLeft:8,paddingRight:8}},{props:{alternativeLabel:!0},style:{flex:1,position:"relative"}}]}),koe=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiStep"}),{active:i,children:s,className:a,component:o="div",completed:l,disabled:u,expanded:c=!1,index:h,last:f,...g}=n,{activeStep:v,connector:y,alternativeLabel:_,orientation:C,nonLinear:k}=M.useContext(AS);let[D=!1,I=!1,A=!1]=[i,l,u];v===h?D=i!==void 0?i:!0:!k&&v>h?I=l!==void 0?l:!0:!k&&v<h&&(A=u!==void 0?u:!0);const R=M.useMemo(()=>({index:h,last:f,expanded:c,icon:h+1,active:D,completed:I,disabled:A}),[h,f,c,D,I,A]),N={...n,active:D,orientation:C,alternativeLabel:_,completed:I,disabled:A,expanded:c,component:o},U=woe(N),F=P.jsxs(Eoe,{as:o,className:Et(U.root,a),ref:t,ownerState:N,...g,children:[y&&_&&h!==0?y:null,s]});return P.jsx(Nk.Provider,{value:R,children:y&&!_&&h!==0?P.jsxs(M.Fragment,{children:[y,F]}):F})}),Aoe=yr(P.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"})),Doe=yr(P.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}));function Ioe(r){return Zt("MuiStepIcon",r)}const sC=Yt("MuiStepIcon",["root","active","completed","error","text"]);var a4;const Poe=r=>{const{classes:e,active:t,completed:n,error:i}=r;return Jt({root:["root",t&&"active",n&&"completed",i&&"error"],text:["text"]},Ioe,e)},aC=it(U_,{name:"MuiStepIcon",slot:"Root"})(cr(({theme:r})=>({display:"block",transition:r.transitions.create("color",{duration:r.transitions.duration.shortest}),color:(r.vars||r).palette.text.disabled,[`&.${sC.completed}`]:{color:(r.vars||r).palette.primary.main},[`&.${sC.active}`]:{color:(r.vars||r).palette.primary.main},[`&.${sC.error}`]:{color:(r.vars||r).palette.error.main}}))),Roe=it("text",{name:"MuiStepIcon",slot:"Text"})(cr(({theme:r})=>({fill:(r.vars||r).palette.primary.contrastText,fontSize:r.typography.caption.fontSize,fontFamily:r.typography.fontFamily}))),Loe=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiStepIcon"}),{active:i=!1,className:s,completed:a=!1,error:o=!1,icon:l,...u}=n,c={...n,active:i,completed:a,error:o},h=Poe(c);if(typeof l=="number"||typeof l=="string"){const f=Et(s,h.root);return o?P.jsx(aC,{as:Doe,className:f,ref:t,ownerState:c,...u}):a?P.jsx(aC,{as:Aoe,className:f,ref:t,ownerState:c,...u}):P.jsxs(aC,{className:f,ref:t,ownerState:c,...u,children:[a4||(a4=P.jsx("circle",{cx:"12",cy:"12",r:"12"})),P.jsx(Roe,{className:h.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:c,children:l})]})}return l});function Ooe(r){return Zt("MuiStepLabel",r)}const Fd=Yt("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),Moe=r=>{const{classes:e,orientation:t,active:n,completed:i,error:s,disabled:a,alternativeLabel:o}=r;return Jt({root:["root",t,s&&"error",a&&"disabled",o&&"alternativeLabel"],label:["label",n&&"active",i&&"completed",s&&"error",a&&"disabled",o&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",i&&"completed",s&&"error",a&&"disabled",o&&"alternativeLabel"],labelContainer:["labelContainer",o&&"alternativeLabel"]},Ooe,e)},Foe=it("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.orientation]]}})({display:"flex",alignItems:"center",[`&.${Fd.alternativeLabel}`]:{flexDirection:"column"},[`&.${Fd.disabled}`]:{cursor:"default"},variants:[{props:{orientation:"vertical"},style:{textAlign:"left",padding:"8px 0"}}]}),Boe=it("span",{name:"MuiStepLabel",slot:"Label"})(cr(({theme:r})=>({...r.typography.body2,display:"block",transition:r.transitions.create("color",{duration:r.transitions.duration.shortest}),[`&.${Fd.active}`]:{color:(r.vars||r).palette.text.primary,fontWeight:500},[`&.${Fd.completed}`]:{color:(r.vars||r).palette.text.primary,fontWeight:500},[`&.${Fd.alternativeLabel}`]:{marginTop:16},[`&.${Fd.error}`]:{color:(r.vars||r).palette.error.main}}))),Noe=it("span",{name:"MuiStepLabel",slot:"IconContainer"})({flexShrink:0,display:"flex",paddingRight:8,[`&.${Fd.alternativeLabel}`]:{paddingRight:0}}),Uoe=it("span",{name:"MuiStepLabel",slot:"LabelContainer"})(cr(({theme:r})=>({width:"100%",color:(r.vars||r).palette.text.secondary,[`&.${Fd.alternativeLabel}`]:{textAlign:"center"}}))),b5=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiStepLabel"}),{children:i,className:s,componentsProps:a={},error:o=!1,icon:l,optional:u,slots:c={},slotProps:h={},StepIconComponent:f,StepIconProps:g,...v}=n,{alternativeLabel:y,orientation:_}=M.useContext(AS),{active:C,disabled:k,completed:D,icon:I}=M.useContext(Nk),A=l||I;let R=f;A&&!R&&(R=Loe);const N={...n,active:C,alternativeLabel:y,completed:D,disabled:k,error:o,orientation:_},U=Moe(N),F={slots:c,slotProps:{stepIcon:g,...a,...h}},[w,$]=ur("root",{elementType:Foe,externalForwardedProps:{...F,...v},ownerState:N,ref:t,className:Et(U.root,s)}),[H,W]=ur("label",{elementType:Boe,externalForwardedProps:F,ownerState:N}),[Q,te]=ur("stepIcon",{elementType:R,externalForwardedProps:F,ownerState:N});return P.jsxs(w,{...$,children:[A||Q?P.jsx(Noe,{className:U.iconContainer,ownerState:N,children:P.jsx(Q,{completed:D,active:C,error:o,icon:A,...te})}):null,P.jsxs(Uoe,{className:U.labelContainer,ownerState:N,children:[i?P.jsx(H,{...W,className:Et(U.label,W?.className),children:i}):null,u]})]})});b5.muiName="StepLabel";function $oe(r){return Zt("MuiStepConnector",r)}Yt("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]);const joe=r=>{const{classes:e,orientation:t,alternativeLabel:n,active:i,completed:s,disabled:a}=r,o={root:["root",t,n&&"alternativeLabel",i&&"active",s&&"completed",a&&"disabled"],line:["line",`line${ft(t)}`]};return Jt(o,$oe,e)},zoe=it("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.orientation],t.alternativeLabel&&e.alternativeLabel,t.completed&&e.completed]}})({flex:"1 1 auto",variants:[{props:{orientation:"vertical"},style:{marginLeft:12}},{props:{alternativeLabel:!0},style:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"}}]}),Hoe=it("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.line,e[`line${ft(t.orientation)}`]]}})(cr(({theme:r})=>{const e=r.palette.mode==="light"?r.palette.grey[400]:r.palette.grey[600];return{display:"block",borderColor:r.vars?r.vars.palette.StepConnector.border:e,variants:[{props:{orientation:"horizontal"},style:{borderTopStyle:"solid",borderTopWidth:1}},{props:{orientation:"vertical"},style:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}]}})),Voe=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiStepConnector"}),{className:i,...s}=n,{alternativeLabel:a,orientation:o="horizontal"}=M.useContext(AS),{active:l,disabled:u,completed:c}=M.useContext(Nk),h={...n,alternativeLabel:a,orientation:o,active:l,completed:c,disabled:u},f=joe(h);return P.jsx(zoe,{className:Et(f.root,i),ref:t,ownerState:h,...s,children:P.jsx(Hoe,{className:f.line,ownerState:h})})});function Woe(r){return Zt("MuiStepper",r)}Yt("MuiStepper",["root","horizontal","vertical","nonLinear","alternativeLabel"]);const qoe=r=>{const{orientation:e,nonLinear:t,alternativeLabel:n,classes:i}=r;return Jt({root:["root",e,t&&"nonLinear",n&&"alternativeLabel"]},Woe,i)},Goe=it("div",{name:"MuiStepper",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,e[t.orientation],t.alternativeLabel&&e.alternativeLabel,t.nonLinear&&e.nonLinear]}})({display:"flex",variants:[{props:{orientation:"horizontal"},style:{flexDirection:"row",alignItems:"center"}},{props:{orientation:"vertical"},style:{flexDirection:"column"}},{props:{alternativeLabel:!0},style:{alignItems:"flex-start"}}]}),Koe=P.jsx(Voe,{}),Xoe=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiStepper"}),{activeStep:i=0,alternativeLabel:s=!1,children:a,className:o,component:l="div",connector:u=Koe,nonLinear:c=!1,orientation:h="horizontal",...f}=n,g={...n,nonLinear:c,alternativeLabel:s,orientation:h,component:l},v=qoe(g),y=M.Children.toArray(a).filter(Boolean),_=y.map((k,D)=>M.cloneElement(k,{index:D,last:D+1===y.length,...k.props})),C=M.useMemo(()=>({activeStep:i,alternativeLabel:s,connector:u,nonLinear:c,orientation:h}),[i,s,u,c,h]);return P.jsx(AS.Provider,{value:C,children:P.jsx(Goe,{as:l,ownerState:g,className:Et(v.root,o),ref:t,...f,children:_})})});function Yoe(r){return Zt("MuiSwitch",r)}const ea=Yt("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Qoe=r=>{const{classes:e,edge:t,size:n,color:i,checked:s,disabled:a}=r,o={root:["root",t&&`edge${ft(t)}`,`size${ft(n)}`],switchBase:["switchBase",`color${ft(i)}`,s&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=Jt(o,Yoe,e);return{...e,...l}},Joe=it("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.edge&&e[`edge${ft(t.edge)}`],e[`size${ft(t.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${ea.thumb}`]:{width:16,height:16},[`& .${ea.switchBase}`]:{padding:4,[`&.${ea.checked}`]:{transform:"translateX(16px)"}}}}]}),Zoe=it(Ik,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.switchBase,{[`& .${ea.input}`]:e.input},t.color!=="default"&&e[`color${ft(t.color)}`]]}})(cr(({theme:r})=>({position:"absolute",top:0,left:0,zIndex:1,color:r.vars?r.vars.palette.Switch.defaultColor:`${r.palette.mode==="light"?r.palette.common.white:r.palette.grey[300]}`,transition:r.transitions.create(["left","transform"],{duration:r.transitions.duration.shortest}),[`&.${ea.checked}`]:{transform:"translateX(20px)"},[`&.${ea.disabled}`]:{color:r.vars?r.vars.palette.Switch.defaultDisabledColor:`${r.palette.mode==="light"?r.palette.grey[100]:r.palette.grey[600]}`},[`&.${ea.checked} + .${ea.track}`]:{opacity:.5},[`&.${ea.disabled} + .${ea.track}`]:{opacity:r.vars?r.vars.opacity.switchTrackDisabled:`${r.palette.mode==="light"?.12:.2}`},[`& .${ea.input}`]:{left:"-100%",width:"300%"}})),cr(({theme:r})=>({"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette.action.active,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(r.palette).filter(_i(["light"])).map(([e])=>({props:{color:e},style:{[`&.${ea.checked}`]:{color:(r.vars||r).palette[e].main,"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette[e].mainChannel} / ${r.vars.palette.action.hoverOpacity})`:Kr(r.palette[e].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${ea.disabled}`]:{color:r.vars?r.vars.palette.Switch[`${e}DisabledColor`]:`${r.palette.mode==="light"?vf(r.palette[e].main,.62):gf(r.palette[e].main,.55)}`}},[`&.${ea.checked} + .${ea.track}`]:{backgroundColor:(r.vars||r).palette[e].main}}}))]}))),ele=it("span",{name:"MuiSwitch",slot:"Track"})(cr(({theme:r})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:r.transitions.create(["opacity","background-color"],{duration:r.transitions.duration.shortest}),backgroundColor:r.vars?r.vars.palette.common.onBackground:`${r.palette.mode==="light"?r.palette.common.black:r.palette.common.white}`,opacity:r.vars?r.vars.opacity.switchTrack:`${r.palette.mode==="light"?.38:.3}`}))),tle=it("span",{name:"MuiSwitch",slot:"Thumb"})(cr(({theme:r})=>({boxShadow:(r.vars||r).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),rle=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiSwitch"}),{className:i,color:s="primary",edge:a=!1,size:o="medium",sx:l,slots:u={},slotProps:c={},...h}=n,f={...n,color:s,edge:a,size:o},g=Qoe(f),v={slots:u,slotProps:c},[y,_]=ur("root",{className:Et(g.root,i),elementType:Joe,externalForwardedProps:v,ownerState:f,additionalProps:{sx:l}}),[C,k]=ur("thumb",{className:g.thumb,elementType:tle,externalForwardedProps:v,ownerState:f}),D=P.jsx(C,{...k}),[I,A]=ur("track",{className:g.track,elementType:ele,externalForwardedProps:v,ownerState:f});return P.jsxs(y,{..._,children:[P.jsx(Zoe,{type:"checkbox",icon:D,checkedIcon:D,ref:t,ownerState:f,...h,classes:{...g,root:g.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...c.switchBase&&{root:typeof c.switchBase=="function"?c.switchBase(f):c.switchBase},...c.input&&{input:typeof c.input=="function"?c.input(f):c.input}}}),P.jsx(I,{...A})]})});function nle(r){return Zt("MuiTab",r)}const zo=Yt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),ile=r=>{const{classes:e,textColor:t,fullWidth:n,wrapped:i,icon:s,label:a,selected:o,disabled:l}=r,u={root:["root",s&&a&&"labelIcon",`textColor${ft(t)}`,n&&"fullWidth",i&&"wrapped",o&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]};return Jt(u,nle,e)},sle=it(Nu,{name:"MuiTab",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.label&&t.icon&&e.labelIcon,e[`textColor${ft(t.textColor)}`],t.fullWidth&&e.fullWidth,t.wrapped&&e.wrapped,{[`& .${zo.iconWrapper}`]:e.iconWrapper},{[`& .${zo.icon}`]:e.icon}]}})(cr(({theme:r})=>({...r.typography.button,maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:({ownerState:e})=>e.label&&(e.iconPosition==="top"||e.iconPosition==="bottom"),style:{flexDirection:"column"}},{props:({ownerState:e})=>e.label&&e.iconPosition!=="top"&&e.iconPosition!=="bottom",style:{flexDirection:"row"}},{props:({ownerState:e})=>e.icon&&e.label,style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="top",style:{[`& > .${zo.icon}`]:{marginBottom:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="bottom",style:{[`& > .${zo.icon}`]:{marginTop:6}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="start",style:{[`& > .${zo.icon}`]:{marginRight:r.spacing(1)}}},{props:({ownerState:e,iconPosition:t})=>e.icon&&e.label&&t==="end",style:{[`& > .${zo.icon}`]:{marginLeft:r.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,[`&.${zo.selected}`]:{opacity:1},[`&.${zo.disabled}`]:{opacity:(r.vars||r).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(r.vars||r).palette.text.secondary,[`&.${zo.selected}`]:{color:(r.vars||r).palette.primary.main},[`&.${zo.disabled}`]:{color:(r.vars||r).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(r.vars||r).palette.text.secondary,[`&.${zo.selected}`]:{color:(r.vars||r).palette.secondary.main},[`&.${zo.disabled}`]:{color:(r.vars||r).palette.text.disabled}}},{props:({ownerState:e})=>e.fullWidth,style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:({ownerState:e})=>e.wrapped,style:{fontSize:r.typography.pxToRem(12)}}]}))),Rp=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTab"}),{className:i,disabled:s=!1,disableFocusRipple:a=!1,fullWidth:o,icon:l,iconPosition:u="top",indicator:c,label:h,onChange:f,onClick:g,onFocus:v,selected:y,selectionFollowsFocus:_,textColor:C="inherit",value:k,wrapped:D=!1,...I}=n,A={...n,disabled:s,disableFocusRipple:a,selected:y,icon:!!l,iconPosition:u,label:!!h,fullWidth:o,textColor:C,wrapped:D},R=ile(A),N=l&&h&&M.isValidElement(l)?M.cloneElement(l,{className:Et(R.icon,l.props.className)}):l,U=w=>{!y&&f&&f(w,k),g&&g(w)},F=w=>{_&&!y&&f&&f(w,k),v&&v(w)};return P.jsxs(sle,{focusRipple:!a,className:Et(R.root,i),ref:t,role:"tab","aria-selected":y,disabled:s,onClick:U,onFocus:F,ownerState:A,tabIndex:y?0:-1,...I,children:[u==="top"||u==="start"?P.jsxs(M.Fragment,{children:[N,h]}):P.jsxs(M.Fragment,{children:[h,N]}),c]})}),ale=yr(P.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),ole=yr(P.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function lle(r){return(1+Math.sin(Math.PI*r-Math.PI/2))/2}function ule(r,e,t,n={},i=()=>{}){const{ease:s=lle,duration:a=300}=n;let o=null;const l=e[r];let u=!1;const c=()=>{u=!0},h=f=>{if(u){i(new Error("Animation cancelled"));return}o===null&&(o=f);const g=Math.min(1,(f-o)/a);if(e[r]=s(g)*(t-l)+l,g>=1){requestAnimationFrame(()=>{i(null)});return}requestAnimationFrame(h)};return l===t?(i(new Error("Element already at target position")),c):(requestAnimationFrame(h),c)}const cle={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function dle(r){const{onChange:e,...t}=r,n=M.useRef(),i=M.useRef(null),s=()=>{n.current=i.current.offsetHeight-i.current.clientHeight};return il(()=>{const a=pv(()=>{const l=n.current;s(),l!==n.current&&e(n.current)}),o=yo(i.current);return o.addEventListener("resize",a),()=>{a.clear(),o.removeEventListener("resize",a)}},[e]),M.useEffect(()=>{s(),e(n.current)},[e]),P.jsx("div",{style:cle,...t,ref:i})}function hle(r){return Zt("MuiTabScrollButton",r)}const fle=Yt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),ple=r=>{const{classes:e,orientation:t,disabled:n}=r;return Jt({root:["root",t,n&&"disabled"]},hle,e)},mle=it(Nu,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.root,t.orientation&&e[t.orientation]]}})({width:40,flexShrink:0,opacity:.8,[`&.${fle.disabled}`]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),gle=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTabScrollButton"}),{className:i,slots:s={},slotProps:a={},direction:o,orientation:l,disabled:u,...c}=n,h=Em(),f={isRtl:h,...n},g=ple(f),v=s.StartScrollButtonIcon??ale,y=s.EndScrollButtonIcon??ole,_=em({elementType:v,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),C=em({elementType:y,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return P.jsx(mle,{component:"div",className:Et(g.root,i),ref:t,role:null,ownerState:f,tabIndex:null,...c,style:{...c.style,...l==="vertical"&&{"--TabScrollButton-svgRotate":`rotate(${h?-90:90}deg)`}},children:o==="left"?P.jsx(v,{..._}):P.jsx(y,{...C})})});function vle(r){return Zt("MuiTabs",r)}const oC=Yt("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),o4=(r,e)=>r===e?r.firstChild:e&&e.nextElementSibling?e.nextElementSibling:r.firstChild,l4=(r,e)=>r===e?r.lastChild:e&&e.previousElementSibling?e.previousElementSibling:r.lastChild,$y=(r,e,t)=>{let n=!1,i=t(r,e);for(;i;){if(i===r.firstChild){if(n)return;n=!0}const s=i.disabled||i.getAttribute("aria-disabled")==="true";if(!i.hasAttribute("tabindex")||s)i=t(r,i);else{i.focus();return}}},yle=r=>{const{vertical:e,fixed:t,hideScrollbar:n,scrollableX:i,scrollableY:s,centered:a,scrollButtonsHideMobile:o,classes:l}=r;return Jt({root:["root",e&&"vertical"],scroller:["scroller",t&&"fixed",n&&"hideScrollbar",i&&"scrollableX",s&&"scrollableY"],list:["list","flexContainer",e&&"flexContainerVertical",e&&"vertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",o&&"scrollButtonsHideMobile"],scrollableX:[i&&"scrollableX"],hideScrollbar:[n&&"hideScrollbar"]},vle,l)},xle=it("div",{name:"MuiTabs",slot:"Root",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[{[`& .${oC.scrollButtons}`]:e.scrollButtons},{[`& .${oC.scrollButtons}`]:t.scrollButtonsHideMobile&&e.scrollButtonsHideMobile},e.root,t.vertical&&e.vertical]}})(cr(({theme:r})=>({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:({ownerState:e})=>e.vertical,style:{flexDirection:"column"}},{props:({ownerState:e})=>e.scrollButtonsHideMobile,style:{[`& .${oC.scrollButtons}`]:{[r.breakpoints.down("sm")]:{display:"none"}}}}]}))),_le=it("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.scroller,t.fixed&&e.fixed,t.hideScrollbar&&e.hideScrollbar,t.scrollableX&&e.scrollableX,t.scrollableY&&e.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:({ownerState:r})=>r.fixed,style:{overflowX:"hidden",width:"100%"}},{props:({ownerState:r})=>r.hideScrollbar,style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:({ownerState:r})=>r.scrollableX,style:{overflowX:"auto",overflowY:"hidden"}},{props:({ownerState:r})=>r.scrollableY,style:{overflowY:"auto",overflowX:"hidden"}}]}),ble=it("div",{name:"MuiTabs",slot:"List",overridesResolver:(r,e)=>{const{ownerState:t}=r;return[e.list,e.flexContainer,t.vertical&&e.flexContainerVertical,t.centered&&e.centered]}})({display:"flex",variants:[{props:({ownerState:r})=>r.vertical,style:{flexDirection:"column"}},{props:({ownerState:r})=>r.centered,style:{justifyContent:"center"}}]}),Sle=it("span",{name:"MuiTabs",slot:"Indicator"})(cr(({theme:r})=>({position:"absolute",height:2,bottom:0,width:"100%",transition:r.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(r.vars||r).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(r.vars||r).palette.secondary.main}},{props:({ownerState:e})=>e.vertical,style:{height:"100%",width:2,right:0}}]}))),Tle=it(dle)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),u4={},Uk=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTabs"}),i=zl(),s=Em(),{"aria-label":a,"aria-labelledby":o,action:l,centered:u=!1,children:c,className:h,component:f="div",allowScrollButtonsMobile:g=!1,indicatorColor:v="primary",onChange:y,orientation:_="horizontal",ScrollButtonComponent:C,scrollButtons:k="auto",selectionFollowsFocus:D,slots:I={},slotProps:A={},TabIndicatorProps:R={},TabScrollButtonProps:N={},textColor:U="primary",value:F,variant:w="standard",visibleScrollbar:$=!1,...H}=n,W=w==="scrollable",Q=_==="vertical",te=Q?"scrollTop":"scrollLeft",oe=Q?"top":"left",de=Q?"bottom":"right",le=Q?"clientHeight":"clientWidth",ae=Q?"height":"width",ie={...n,component:f,allowScrollButtonsMobile:g,indicatorColor:v,orientation:_,vertical:Q,scrollButtons:k,textColor:U,variant:w,visibleScrollbar:$,fixed:!W,hideScrollbar:W&&!$,scrollableX:W&&!Q,scrollableY:W&&Q,centered:u&&!W,scrollButtonsHideMobile:!g},ee=yle(ie),pe=em({elementType:I.StartScrollButtonIcon,externalSlotProps:A.startScrollButtonIcon,ownerState:ie}),ve=em({elementType:I.EndScrollButtonIcon,externalSlotProps:A.endScrollButtonIcon,ownerState:ie}),[_e,Le]=M.useState(!1),[Re,ot]=M.useState(u4),[ze,mt]=M.useState(!1),[Je,Pt]=M.useState(!1),[Rt,Ve]=M.useState(!1),[Ne,et]=M.useState({overflow:"hidden",scrollbarWidth:0}),at=new Map,Me=M.useRef(null),$e=M.useRef(null),qe={slots:I,slotProps:{indicator:R,scrollButton:N,...A}},Ye=()=>{const ye=Me.current;let Ae;if(ye){const Qe=ye.getBoundingClientRect();Ae={clientWidth:ye.clientWidth,scrollLeft:ye.scrollLeft,scrollTop:ye.scrollTop,scrollWidth:ye.scrollWidth,top:Qe.top,bottom:Qe.bottom,left:Qe.left,right:Qe.right}}let Xe;if(ye&&F!==!1){const Qe=$e.current.children;if(Qe.length>0){const St=Qe[at.get(F)];Xe=St?St.getBoundingClientRect():null}}return{tabsMeta:Ae,tabMeta:Xe}},vt=ua(()=>{const{tabsMeta:ye,tabMeta:Ae}=Ye();let Xe=0,Qe;Q?(Qe="top",Ae&&ye&&(Xe=Ae.top-ye.top+ye.scrollTop)):(Qe=s?"right":"left",Ae&&ye&&(Xe=(s?-1:1)*(Ae[Qe]-ye[Qe]+ye.scrollLeft)));const St={[Qe]:Xe,[ae]:Ae?Ae[ae]:0};if(typeof Re[Qe]!="number"||typeof Re[ae]!="number")ot(St);else{const Lt=Math.abs(Re[Qe]-St[Qe]),dt=Math.abs(Re[ae]-St[ae]);(Lt>=1||dt>=1)&&ot(St)}}),ut=(ye,{animation:Ae=!0}={})=>{Ae?ule(te,Me.current,ye,{duration:i.transitions.duration.standard}):Me.current[te]=ye},gr=ye=>{let Ae=Me.current[te];Q?Ae+=ye:Ae+=ye*(s?-1:1),ut(Ae)},hr=()=>{const ye=Me.current[le];let Ae=0;const Xe=Array.from($e.current.children);for(let Qe=0;Qe<Xe.length;Qe+=1){const St=Xe[Qe];if(Ae+St[le]>ye){Qe===0&&(Ae=ye);break}Ae+=St[le]}return Ae},Rr=()=>{gr(-1*hr())},nr=()=>{gr(hr())},[qt,{onChange:fr,...xr}]=ur("scrollbar",{className:Et(ee.scrollableX,ee.hideScrollbar),elementType:Tle,shouldForwardComponentProp:!0,externalForwardedProps:qe,ownerState:ie}),Lr=M.useCallback(ye=>{fr?.(ye),et({overflow:null,scrollbarWidth:ye})},[fr]),[xt,Ut]=ur("scrollButtons",{className:Et(ee.scrollButtons,N.className),elementType:gle,externalForwardedProps:qe,ownerState:ie,additionalProps:{orientation:_,slots:{StartScrollButtonIcon:I.startScrollButtonIcon||I.StartScrollButtonIcon,EndScrollButtonIcon:I.endScrollButtonIcon||I.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:pe,endScrollButtonIcon:ve}}}),rn=()=>{const ye={};ye.scrollbarSizeListener=W?P.jsx(qt,{...xr,onChange:Lr}):null;const Xe=W&&(k==="auto"&&(ze||Je)||k===!0);return ye.scrollButtonStart=Xe?P.jsx(xt,{direction:s?"right":"left",onClick:Rr,disabled:!ze,...Ut}):null,ye.scrollButtonEnd=Xe?P.jsx(xt,{direction:s?"left":"right",onClick:nr,disabled:!Je,...Ut}):null,ye},jt=ua(ye=>{const{tabsMeta:Ae,tabMeta:Xe}=Ye();if(!(!Xe||!Ae)){if(Xe[oe]<Ae[oe]){const Qe=Ae[te]+(Xe[oe]-Ae[oe]);ut(Qe,{animation:ye})}else if(Xe[de]>Ae[de]){const Qe=Ae[te]+(Xe[de]-Ae[de]);ut(Qe,{animation:ye})}}}),Tr=ua(()=>{W&&k!==!1&&Ve(!Rt)});M.useEffect(()=>{const ye=pv(()=>{Me.current&&vt()});let Ae;const Xe=Lt=>{Lt.forEach(dt=>{dt.removedNodes.forEach(_t=>{Ae?.unobserve(_t)}),dt.addedNodes.forEach(_t=>{Ae?.observe(_t)})}),ye(),Tr()},Qe=yo(Me.current);Qe.addEventListener("resize",ye);let St;return typeof ResizeObserver<"u"&&(Ae=new ResizeObserver(ye),Array.from($e.current.children).forEach(Lt=>{Ae.observe(Lt)})),typeof MutationObserver<"u"&&(St=new MutationObserver(Xe),St.observe($e.current,{childList:!0})),()=>{ye.clear(),Qe.removeEventListener("resize",ye),St?.disconnect(),Ae?.disconnect()}},[vt,Tr]),M.useEffect(()=>{const ye=Array.from($e.current.children),Ae=ye.length;if(typeof IntersectionObserver<"u"&&Ae>0&&W&&k!==!1){const Xe=ye[0],Qe=ye[Ae-1],St={root:Me.current,threshold:.99},Lt=Kt=>{mt(!Kt[0].isIntersecting)},dt=new IntersectionObserver(Lt,St);dt.observe(Xe);const _t=Kt=>{Pt(!Kt[0].isIntersecting)},Vt=new IntersectionObserver(_t,St);return Vt.observe(Qe),()=>{dt.disconnect(),Vt.disconnect()}}},[W,k,Rt,c?.length]),M.useEffect(()=>{Le(!0)},[]),M.useEffect(()=>{vt()}),M.useEffect(()=>{jt(u4!==Re)},[jt,Re]),M.useImperativeHandle(l,()=>({updateIndicator:vt,updateScrollButtons:Tr}),[vt,Tr]);const[Or,Hr]=ur("indicator",{className:Et(ee.indicator,R.className),elementType:Sle,externalForwardedProps:qe,ownerState:ie,additionalProps:{style:Re}}),ln=P.jsx(Or,{...Hr});let Cn=0;const wn=M.Children.map(c,ye=>{if(!M.isValidElement(ye))return null;const Ae=ye.props.value===void 0?Cn:ye.props.value;at.set(Ae,Cn);const Xe=Ae===F;return Cn+=1,M.cloneElement(ye,{fullWidth:w==="fullWidth",indicator:Xe&&!_e&&ln,selected:Xe,selectionFollowsFocus:D,onChange:y,textColor:U,value:Ae,...Cn===1&&F===!1&&!ye.props.tabIndex?{tabIndex:0}:{}})}),Fr=ye=>{if(ye.altKey||ye.shiftKey||ye.ctrlKey||ye.metaKey)return;const Ae=$e.current,Xe=Ss(Ae).activeElement;if(Xe.getAttribute("role")!=="tab")return;let St=_==="horizontal"?"ArrowLeft":"ArrowUp",Lt=_==="horizontal"?"ArrowRight":"ArrowDown";switch(_==="horizontal"&&s&&(St="ArrowRight",Lt="ArrowLeft"),ye.key){case St:ye.preventDefault(),$y(Ae,Xe,l4);break;case Lt:ye.preventDefault(),$y(Ae,Xe,o4);break;case"Home":ye.preventDefault(),$y(Ae,null,o4);break;case"End":ye.preventDefault(),$y(Ae,null,l4);break}},se=rn(),[fe,Te]=ur("root",{ref:t,className:Et(ee.root,h),elementType:xle,externalForwardedProps:{...qe,...H,component:f},ownerState:ie}),[je,gt]=ur("scroller",{ref:Me,className:ee.scroller,elementType:_le,externalForwardedProps:qe,ownerState:ie,additionalProps:{style:{overflow:Ne.overflow,[Q?`margin${s?"Left":"Right"}`:"marginBottom"]:$?void 0:-Ne.scrollbarWidth}}}),[Tt,be]=ur("list",{ref:$e,className:Et(ee.list,ee.flexContainer),elementType:ble,externalForwardedProps:qe,ownerState:ie,getSlotProps:ye=>({...ye,onKeyDown:Ae=>{Fr(Ae),ye.onKeyDown?.(Ae)}})});return P.jsxs(fe,{...Te,children:[se.scrollButtonStart,se.scrollbarSizeListener,P.jsxs(je,{...gt,children:[P.jsx(Tt,{"aria-label":a,"aria-labelledby":o,"aria-orientation":_==="vertical"?"vertical":null,role:"tablist",...be,children:wn}),_e&&ln]}),se.scrollButtonEnd]})});function Cle(r){return Zt("MuiTextField",r)}Yt("MuiTextField",["root"]);const wle={standard:Mk,filled:Ok,outlined:rm},Ele=r=>{const{classes:e}=r;return Jt({root:["root"]},Cle,e)},kle=it(Nr,{name:"MuiTextField",slot:"Root"})({}),On=M.forwardRef(function(e,t){const n=Xt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:o,color:l="primary",defaultValue:u,disabled:c=!1,error:h=!1,FormHelperTextProps:f,fullWidth:g=!1,helperText:v,id:y,InputLabelProps:_,inputProps:C,InputProps:k,inputRef:D,label:I,maxRows:A,minRows:R,multiline:N=!1,name:U,onBlur:F,onChange:w,onFocus:$,placeholder:H,required:W=!1,rows:Q,select:te=!1,SelectProps:oe,slots:de={},slotProps:le={},type:ae,value:ie,variant:ee="outlined",...pe}=n,ve={...n,autoFocus:s,color:l,disabled:c,error:h,fullWidth:g,multiline:N,required:W,select:te,variant:ee},_e=Ele(ve),Le=th(y),Re=v&&Le?`${Le}-helper-text`:void 0,ot=I&&Le?`${Le}-label`:void 0,ze=wle[ee],mt={slots:de,slotProps:{input:k,inputLabel:_,htmlInput:C,formHelperText:f,select:oe,...le}},Je={},Pt=mt.slotProps.inputLabel;ee==="outlined"&&(Pt&&typeof Pt.shrink<"u"&&(Je.notched=Pt.shrink),Je.label=I),te&&((!oe||!oe.native)&&(Je.id=void 0),Je["aria-describedby"]=void 0);const[Rt,Ve]=ur("root",{elementType:kle,shouldForwardComponentProp:!0,externalForwardedProps:{...mt,...pe},ownerState:ve,className:Et(_e.root,o),ref:t,additionalProps:{disabled:c,error:h,fullWidth:g,required:W,color:l,variant:ee}}),[Ne,et]=ur("input",{elementType:ze,externalForwardedProps:mt,additionalProps:Je,ownerState:ve}),[at,Me]=ur("inputLabel",{elementType:Uu,externalForwardedProps:mt,ownerState:ve}),[$e,qe]=ur("htmlInput",{elementType:"input",externalForwardedProps:mt,ownerState:ve}),[Ye,vt]=ur("formHelperText",{elementType:m5,externalForwardedProps:mt,ownerState:ve}),[ut,gr]=ur("select",{elementType:$u,externalForwardedProps:mt,ownerState:ve}),hr=P.jsx(Ne,{"aria-describedby":Re,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:g,multiline:N,name:U,rows:Q,maxRows:A,minRows:R,type:ae,value:ie,id:Le,inputRef:D,onBlur:F,onChange:w,onFocus:$,placeholder:H,inputProps:qe,slots:{input:de.htmlInput?$e:void 0},...et});return P.jsxs(Rt,{...Ve,children:[I!=null&&I!==""&&P.jsx(at,{htmlFor:Le,id:ot,...Me,children:I}),te?P.jsx(ut,{"aria-describedby":Re,id:Le,labelId:ot,value:ie,input:hr,...gr,children:a}):hr,v&&P.jsx(Ye,{id:Re,...vt,children:v})]})}),qd=yr(P.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),Ale=yr(P.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),Dle=[{value:"EveryDay",name:""},{value:"EveryHour",name:""}],lC={original:{urls:[],result_name:"",md5:"",run_type:"EveryDay",keyword_dislike:[],keyword_like:[],http_timeout:2e4,check_timeout:2e4,concurrent:30,sort:!1,no_check:!1,rename:!1,ffmpeg_check:!1,not_http_skip:!1,same_save_num:0},id:"",create_time:0,task_info:{run_type:"EveryDay",last_run_time:0,next_run_time:0,is_running:!1,task_status:"Pending"}},S5=({onClose:r,formValue:e,open:t,onSave:n,handleSave:i,handleDelete:s,taskService:a,checkType:o})=>{const{t:l}=Ti(),u=M.useContext(fa),[c,h]=M.useState(lC),[f,g]=M.useState(""),[v,y]=M.useState(""),[_,C]=M.useState("like"),[k,D]=M.useState(0),[I,A]=M.useState(!1),R=["","",""];M.useEffect(()=>{if(!t){let Me=JSON.parse(JSON.stringify(lC));Me.original.result_name===""&&(Me.original.result_name=N(10)),h(Me),y(""),g(""),C("like"),D(0),A(!1)}},[t]),M.useEffect(()=>{if(D(0),e!==null){const Me={...e,original:{...e.original,result_name:e.original.result_name,http_timeout:e.original.http_timeout??0,check_timeout:e.original.check_timeout??0,concurrent:e.original.concurrent??0,sort:e.original.sort??!1,no_check:e.original.no_check??!1,rename:e.original.rename??!1,ffmpeg_check:e.original.ffmpeg_check??!1,not_http_skip:e.original.not_http_skip??!1,same_save_num:e.original.same_save_num??0}};h(Me),Me.original.keyword_like&&Me.original.keyword_like.length>0?C("like"):Me.original.keyword_dislike&&Me.original.keyword_dislike.length>0?C("dislike"):C("like")}else{let Me=JSON.parse(JSON.stringify(lC));Me.original.result_name===""&&(Me.original.result_name=N(10)),h(Me),C("like")}},[e]);const N=Me=>{Me=Me||32;const $e="ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678",qe=$e.length;let Ye="";for(let vt=0;vt<Me;vt++)Ye+=$e.charAt(Math.floor(Math.random()*qe));return Ye},U=()=>{D(Me=>Me+1)},F=()=>{D(Me=>Me-1)},w=()=>{if(c.original.urls.length===0){let Me=l("");alert(Me)}else i(c),r()},$=()=>{s(c),oe(),r()},H=Me=>{const $e=[...c.original.urls,Me];h({...c,original:{...c.original,urls:$e}})},W=Me=>parseInt(Me.replace("url-",""),10),Q=()=>{H("")},te=()=>{A(!0)},oe=()=>{A(!1)},de=Me=>{h($e=>({...$e,original:{...$e.original,urls:$e.original.urls.filter((qe,Ye)=>Ye!==Me)}}))},le=Me=>{h({...c,original:{...c.original,check_timeout:parseInt(Me.target.value,10)}})},ae=async Me=>{const $e=Me.target.files[0];if($e)try{const qe=new FormData;qe.append("file",$e);let Ye=await a.uploadFile(qe);H(Ye.url)}catch(qe){console.error("",qe)}},ie=Me=>{h({...c,original:{...c.original,http_timeout:parseInt(Me.target.value,10)}})},ee=Me=>{if(Me===1&&f!=""){let $e=c.original.keyword_like??[];$e.push(f),h({...c,original:{...c.original,keyword_like:pe($e)}}),g("")}else if(Me===2&&v!=""){let $e=c.original.keyword_dislike??[];$e.push(v),h({...c,original:{...c.original,keyword_dislike:pe($e)}}),y("")}},pe=Me=>Me.filter(($e,qe)=>Me.indexOf($e)===qe),ve=Me=>{g(Me.target.value)},_e=Me=>{y(Me.target.value)},Le=Me=>{const $e=W(Me.target.name),qe=[...c.original.urls];qe[$e]=Me.target.value;const Ye={...c,original:{...c.original,urls:qe}};h(Ye)},Re=Me=>{h({...c,original:{...c.original,result_name:Me.target.value}})},ot=Me=>{h({...c,original:{...c.original,run_type:Me.target.value}})},ze=(Me,$e)=>{h(qe=>({...qe,original:{...qe.original,[Me]:qe.original[Me].filter((Ye,vt)=>vt!==$e)}}))},mt=Me=>{h({...c,original:{...c.original,concurrent:parseInt(Me.target.value,10)}})},Je=Me=>{let $e=!1;Me.target.defaultValue==="false"?$e=!1:$e=!0,h({...c,original:{...c.original,sort:$e}})},Pt=Me=>{h({...c,original:{...c.original,same_save_num:parseInt(Me.target.value,10)}})},Rt=Me=>{let $e=!1;Me.target.defaultValue==="false"?$e=!1:$e=!0,h({...c,original:{...c.original,rename:$e}})},Ve=Me=>{let $e=!1;Me.target.defaultValue==="false"?$e=!1:$e=!0,h({...c,original:{...c.original,not_http_skip:$e}})},Ne=Me=>{let $e=!1;Me.target.defaultValue==="false"?$e=!1:$e=!0,h({...c,original:{...c.original,ffmpeg_check:$e}})},et=Me=>{let $e=!1;Me.target.defaultValue==="false"?$e=!1:$e=!0,h({...c,original:{...c.original,no_check:$e}})},at=Me=>{switch(Me){case 0:return P.jsxs(pt,{sx:{mt:2},children:[c.original.urls.length>0?P.jsxs(Nr,{fullWidth:!0,style:{padding:"0 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("")}),c.original.urls.map(($e,qe)=>P.jsxs(jh,{direction:"row",spacing:1,children:[P.jsx(On,{style:{width:"100%"},disabled:$e.startsWith("static")||$e.startsWith("localstorage"),id:"standard-basic",variant:"standard",name:"url-"+qe,value:$e,onChange:Le}),P.jsx(Ml,{"aria-label":"delete",onClick:()=>de(qe),children:P.jsx(qd,{})})]},qe))]}):"",P.jsxs(Nr,{fullWidth:!0,style:{padding:"20px 0 20px",display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[P.jsx(Sr,{variant:"outlined",onClick:()=>Q(),startIcon:P.jsx(i2,{}),children:l("")}),P.jsxs(Sr,{variant:"contained",component:"label",startIcon:P.jsx(Ale,{}),children:[l(""),P.jsx("input",{hidden:!0,accept:"*",multiple:!0,type:"file",onChange:ae})]})]}),o==="server"?P.jsxs(Nr,{fullWidth:!0,style:{margin:"0 0 20px"},children:[P.jsx(Uu,{id:"demo-simple-select-standard-label",children:l("")}),P.jsx($u,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:c.original.run_type,label:l(""),onChange:ot,children:Dle.map(($e,qe)=>P.jsx(Nc,{value:$e.value,children:l($e.name)},qe))})]}):"",o==="server"?P.jsxs(Nr,{fullWidth:!0,style:{margin:"20px 0 20px"},children:[P.jsx(Uu,{htmlFor:"outlined-adornment-amount",children:l("id")}),P.jsx(rm,{style:{width:"100%"},name:"resultName","aria-describedby":"outlined-weight-helper-text",label:l("id"),value:c.original.result_name,onChange:Re}),P.jsx(m5,{sx:{fontSize:"0.75rem",mt:.5},children:"id"})]}):""]});case 1:return P.jsxs(pt,{sx:{mt:2},children:[P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",sx:{mb:2},children:l("")}),P.jsxs(Zf,{row:!0,value:_,onChange:$e=>{const qe=$e.target.value;C(qe),qe==="like"?(h(Ye=>({...Ye,original:{...Ye.original,keyword_dislike:[]}})),y("")):(h(Ye=>({...Ye,original:{...Ye.original,keyword_like:[]}})),g(""))},children:[P.jsx(Zs,{value:"like",control:P.jsx(jo,{}),label:l("")}),P.jsx(Zs,{value:"dislike",control:P.jsx(jo,{}),label:l("")})]})]}),_==="like"?P.jsxs(P.Fragment,{children:[P.jsx(Nr,{fullWidth:!0,style:{margin:"10px 0 15px"},children:P.jsxs(jh,{direction:"row",spacing:1,alignItems:"flex-end",children:[P.jsx(On,{id:"standard-basic",label:l(""),variant:"standard",fullWidth:!0,value:f,onChange:ve}),P.jsx(Ml,{color:"primary",onClick:()=>ee(1),sx:{mb:.5},children:P.jsx(bf,{})})]})}),c.original.keyword_like!==null&&c.original.keyword_like.length>0?P.jsxs(Nr,{fullWidth:!0,style:{padding:"0 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("")}),P.jsx(jh,{direction:"row",spacing:1,style:{display:"flex",flexWrap:"wrap"},children:c.original.keyword_like!==null&&c.original.keyword_like.map(($e,qe)=>P.jsx(f2,{label:$e,onDelete:()=>ze("keyword_like",qe),variant:"outlined",style:{margin:"5px"}},qe))})]}):""]}):P.jsxs(P.Fragment,{children:[P.jsx(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:P.jsxs(jh,{direction:"row",spacing:1,alignItems:"flex-end",children:[P.jsx(On,{id:"standard-basic",label:l(""),variant:"standard",fullWidth:!0,value:v,onChange:_e}),P.jsx(Ml,{color:"primary",onClick:()=>ee(2),sx:{mb:.5},children:P.jsx(bf,{})})]})}),c.original.keyword_dislike!==null&&c.original.keyword_dislike.length>0?P.jsxs(Nr,{fullWidth:!0,style:{padding:"0 0 10px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("")}),P.jsx(jh,{direction:"row",spacing:1,style:{display:"flex",flexWrap:"wrap"},children:c.original.keyword_dislike.map(($e,qe)=>P.jsx(f2,{label:$e,variant:"outlined",onDelete:()=>ze("keyword_dislike",qe),style:{margin:"5px"}},qe))})]}):""]})]});case 2:return P.jsxs(pt,{sx:{mt:2},children:[P.jsxs(Nr,{fullWidth:!0,style:{margin:"20px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("http(ms)")}),P.jsx(On,{id:"standard-basic",variant:"standard",value:c.original.http_timeout,onChange:ie})]}),P.jsxs(Nr,{fullWidth:!0,style:{margin:"20px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("(ms)")}),P.jsx(On,{id:"standard-basic",variant:"standard",value:c.original.check_timeout,onChange:le})]}),P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("")}),P.jsxs(Zf,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c.original.no_check,onChange:et,children:[P.jsx(Zs,{value:"false",control:P.jsx(jo,{}),label:l("")}),P.jsx(Zs,{value:"true",control:P.jsx(jo,{}),label:l("")})]})]}),c.original.no_check===!1?P.jsxs(P.Fragment,{children:[P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("")}),P.jsx(On,{id:"standard-basic",variant:"standard",value:c.original.concurrent,onChange:mt})]}),P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("")}),P.jsxs(Zf,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c.original.ffmpeg_check,onChange:Ne,children:[P.jsx(Zs,{value:"false",control:P.jsx(jo,{}),label:l("http")}),P.jsx(Zs,{value:"true",disabled:u.ffmepgCheck==0&&u.nowMod===1,control:P.jsx(jo,{}),label:l("ffmpeg")})]})]}),c.original.ffmpeg_check===!1?P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("http")}),P.jsxs(Zf,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c.original.not_http_skip,onChange:Ve,children:[P.jsx(Zs,{value:"false",control:P.jsx(jo,{}),label:l("")}),P.jsx(Zs,{value:"true",control:P.jsx(jo,{}),label:l("")})]})]}):""]}):"",P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l('("[HD]CCTV1""[HD]")')}),P.jsxs(Zf,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c.original.rename,onChange:Rt,children:[P.jsx(Zs,{value:"false",control:P.jsx(jo,{}),label:l("")}),P.jsx(Zs,{value:"true",control:P.jsx(jo,{}),label:l("")})]})]}),P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("")}),P.jsxs(Zf,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",value:c.original.sort,onChange:Je,children:[P.jsx(Zs,{value:"false",control:P.jsx(jo,{}),label:l("")}),P.jsx(Zs,{value:"true",control:P.jsx(jo,{}),label:l("")})]})]}),P.jsxs(Nr,{fullWidth:!0,style:{margin:"10px 0 20px"},children:[P.jsx(mr,{variant:"subtitle1",component:"div",children:l("(0 0)")}),P.jsx(On,{id:"standard-basic",variant:"standard",value:c.original.same_save_num,onChange:Pt})]})]});default:return null}};return P.jsxs(P.Fragment,{children:[P.jsxs(xo,{open:I,onClose:oe,"aria-describedby":"alert-dialog-slide-description",children:[P.jsx(eh,{children:""}),P.jsxs(Lk,{children:[P.jsx(Sr,{onClick:oe,children:"No"}),P.jsx(Sr,{onClick:$,children:"Yes"})]})]}),P.jsx(xo,{onClose:r,open:t,disableEnforceFocus:!0,disableAutoFocus:!0,disableRestoreFocus:!0,children:P.jsxs(pt,{sx:{width:"100%",padding:"40px"},children:[P.jsx(Xoe,{activeStep:k,children:R.map(Me=>P.jsx(koe,{children:P.jsx(b5,{children:l(Me)})},Me))}),P.jsxs(M.Fragment,{children:[at(k),P.jsxs(pt,{sx:{display:"flex",flexDirection:"row",pt:2},children:[k!==0&&P.jsx(Sr,{color:"inherit",onClick:F,sx:{mr:1},children:l("")}),k===0&&c.id!==""&&P.jsx(Sr,{color:"error",onClick:te,startIcon:P.jsx(qd,{}),children:l("")}),P.jsx(pt,{sx:{flex:"1 1 auto"}}),k===R.length-1?o==="server"||c.id===""?P.jsx(Sr,{onClick:w,children:l("")}):"":P.jsx(Sr,{onClick:U,children:l("")})]})]})]})})]})},p2=yr(P.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"})),T5=({isNowHandle:r,row:e,clickTask:t,doTaskRightNow:n,source:i,showDownloadDialog:s,checkTaskRefetch:a,checkTaskContinue:o,checkTaskAgain:l})=>{const u=M.useContext(fa),{t:c}=Ti(),h=C=>{n(C)},f=C=>{s(C)},g=C=>{console.log("handleTaskRefetch",C),a(C)},v=C=>{console.log("handleTaskContinue",C),o(C)},y=C=>{console.log("handleTaskContinue",C),l(C)},_=(C,k)=>{let D=[],I=e.original.same_save_num;for(let A=0;A<e.list.length;A++)e.list[A].status===200&&D.push(e.list[A]);if(I>0){const A={};D.forEach(R=>{A[R.name]||(A[R.name]=[]),A[R.name].push(R)}),D=Object.values(A).flatMap(R=>R.slice(0,I))}i==="ltask"&&u.nowMod===1?u.clientSaveFile(D,k==="txt"?"txt":"m3u"):u.webSaveFile(D,k==="txt"?"txt":"m3u")};return P.jsx(M.Fragment,{children:P.jsxs(Pk,{children:[P.jsxs(Wd,{width:400,children:[P.jsx(Sr,{onClick:()=>t(),variant:"text",children:e.id}),P.jsx(pt,{children:i==="task"?P.jsxs(pt,{children:[P.jsx(Sr,{color:"success",onClick:()=>f(e.id),size:"small",startIcon:P.jsx(JN,{}),children:c("")}),!r&&e.task_info.next_run_time>0&&e.task_info.next_run_time-new Date().getTime()/1e3>=120?P.jsx(Sr,{color:"success",onClick:()=>h(e.id),children:c("")}):""]}):P.jsxs(pt,{style:{display:"flex"},children:[P.jsx(Sr,{size:"small",color:"success",startIcon:P.jsx(p2,{}),onClick:()=>_(e.id,"m3u"),children:".m3u"}),P.jsx(Sr,{size:"small",color:"success",startIcon:P.jsx(p2,{}),onClick:()=>_(e.id,"txt"),children:".txt"})]})})]}),P.jsxs(Wd,{align:"right",width:300,children:[P.jsxs("div",{children:[c(""),"",e.create_time>0?new Date(e.create_time*1e3).toLocaleTimeString("zh-CN",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1}):""]}),e.task_info.last_run_time>0?P.jsxs("div",{children:[c(""),"",new Date(e.task_info.last_run_time*1e3).toLocaleTimeString("zh-CN",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1})]}):"",P.jsxs("div",{children:[c(""),"",c(r?"":"")]}),i==="task"&&e.task_info.next_run_time>0?P.jsxs("div",{children:[c(""),"",new Date(e.task_info.next_run_time*1e3).toLocaleTimeString("zh-CN",{month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!1})]}):"",i==="task"?P.jsxs("div",{children:[c(""),"",e.task_info.run_type==="EveryHour"?c(""):c("")]}):"",P.jsxs("div",{children:[e.task_info.task_status==="FetchDataError"?P.jsx(Sr,{onClick:()=>g(e.id),style:{color:"red",cursor:"pointer"},children:c("")}):"",e.task_info.task_status==="FetchSomeDataError"?P.jsx(Sr,{onClick:()=>v(e.id),style:{color:"orange",cursor:"pointer"},children:c("")}):"",e.task_info.task_status==="Completed"?P.jsx(Sr,{onClick:()=>y(e.id),style:{color:"green",cursor:"pointer"},children:c("")}):""]})]})]})})},C5=({onClose:r,formValue:e,open:t})=>{const{t:n}=Ti(),[i,s]=M.useState([]),[a,o]=M.useState(""),[l,u]=M.useState(""),[c,h]=M.useState(""),[f,g]=M.useState(0),[v,y]=M.useState(!1);M.useContext(fa);const[_,C]=M.useState(0),[k,D]=M.useState([{label:"m3u",value:0},{label:"txt",value:1}]),[I,A]=M.useState({});M.useEffect(()=>{if(!t)return;g(0),s(""),o(""),u(""),h(""),y(!1),(()=>{if(!e.check_result||!Array.isArray(e.check_result)){e.content!==""&&s(e.content),e.url&&(u(window.document.location.origin+"/"+e.url),h(window.document.location.origin+"/q?url=/"+e.url)),A({});return}const W={};e.check_result.forEach(Q=>{const te=Q.type||"sub";W[te]||(W[te]={}),Q.content&&(W[te].content=Q.content),Q.url&&(W[te].url=Q.url),te==="sub"&&(Q.content&&s(Q.content),Q.url&&u(Q.url))}),A(W)})()},[e,t]);const R=(H,W)=>{g(W)},N=H=>H?H.startsWith("http")?H:`${window.document.location.origin}/${H}&r=${_}`:"",F=I[f===0?"sub":f===1?"ipv4":"ipv6"]||{},w=F.content||"",$=N(F.url||l);return P.jsx(xo,{onClose:()=>r(!1),open:t,maxWidth:"lg",fullWidth:!0,children:P.jsxs(pt,{sx:{width:"100%",minHeight:"400px"},children:[P.jsx(pt,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:P.jsxs(pt,{sx:{display:"flex",alignItems:"center",gap:2,flexWrap:"wrap"},children:[P.jsxs(Nr,{size:"small",sx:{minWidth:120},children:[P.jsx(Uu,{children:n("")}),P.jsx($u,{value:_,label:n(""),onChange:H=>C(H.target.value),children:k.map(H=>P.jsx(Nc,{value:H.value,children:H.label},H.value))})]}),P.jsxs("div",{children:[n(""),"",P.jsx("b",{children:$})]})]})}),P.jsx(pt,{sx:{borderBottom:1,borderColor:"divider"},children:P.jsxs(Uk,{value:f,onChange:R,children:[P.jsx(Rp,{label:n("all")}),P.jsx(Rp,{label:n("ipv4")}),P.jsx(Rp,{label:n("ipv6")})]})}),P.jsx(pt,{sx:{p:2},children:P.jsx(P.Fragment,{children:w!=""?P.jsx(On,{multiline:!0,fullWidth:!0,minRows:15,maxRows:25,value:w,variant:"outlined",InputProps:{readOnly:!0}}):P.jsx(pt,{sx:{padding:"60px 0",textAlign:"center"},children:P.jsx("div",{children:n("")})})})})]})})},Ile=({onClose:r,open:e,onSave:t})=>{const{t:n}=Ti(),[i,s]=M.useState(""),a=()=>{s(""),r(!1)},o=()=>{t(i)},l=u=>{s(u.target.value)};return P.jsxs(xo,{onClose:a,open:e,children:[P.jsx(pt,{sx:{width:500,padding:"20px"},children:P.jsx(On,{id:"outlined-multiline-flexible",multiline:!0,value:i,maxRows:4,style:{width:"500px"},onChange:l})}),P.jsx(Sr,{variant:"text",onClick:o,children:n("")})]})},Ple=({onClose:r,formValue:e,open:t})=>{const n=()=>{r(!1)};return P.jsx(xo,{onClose:n,open:t,children:P.jsx(pt,{sx:{width:500,padding:"20px"},children:P.jsx(On,{id:"outlined-multiline-flexible",multiline:!0,value:e,maxRows:4,style:{width:"500px"}})})})};function Rle(){const r=M.useContext(l5),{t:e}=Ti(),[t]=M.useState(()=>new Jie),[n,i]=M.useState(!1),[s,a]=M.useState(null),[o,l]=M.useState(!1),[u,c]=M.useState(""),[h,f]=M.useState(!1),[g,v]=M.useState({content:"",url:""}),[y,_]=M.useState(!1),[C,k]=M.useState(!1),[D,I]=M.useState(""),A=ie=>{a(ie),i(!0)},R=()=>{i(!1),a(null)},N=async ie=>{try{ie.id===""?await t.addTask(ie):await t.updateTask(ie.id,ie),r.freshTaskList()}catch(ee){F(ee.message)}},U=async ie=>{try{await t.deleteTask(ie.id),r.freshTaskList()}catch(ee){F(ee.message)}},F=ie=>{c(ie),l(!0)},w=()=>{c(""),l(!1)},$=async ie=>{try{await t.runTask(ie)}catch{F(e(""))}},H=async ie=>{r.updateTaskStatus(ie,"Prepare")},W=async ie=>{r.updateTaskStatus(ie,"Pending")},Q=async ie=>{r.updateTaskStatus(ie,"Prepare")},te=async ie=>{f(!0)},oe=ie=>{f(ie)},de=ie=>{_(ie)},le=async ie=>{if(ie)try{const ee=await t.exportTasks();k(!0),I(JSON.stringify(ee))}catch{F(e(""))}else k(!1)},ae=async ie=>{try{const ee=JSON.parse(ie);await t.importTasks(ee),_(!1)}catch{F(e(""))}};return P.jsx(pt,{style:{padding:"0 20px"},children:P.jsxs(P.Fragment,{children:[P.jsx(pt,{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between"},children:P.jsx(pt,{children:P.jsx(Sr,{variant:"contained",startIcon:P.jsx(bf,{}),onClick:()=>A(null),style:{marginRight:"10px"},size:"small",children:e("")})})}),P.jsx(sh,{open:o,autoHideDuration:6e3,onClose:w,message:u}),P.jsx(S5,{taskService:t,formValue:s,open:n,onClose:R,handleSave:N,handleDelete:U,checkType:"local",output_folder:""}),P.jsx(C5,{formValue:g,open:h,onClose:oe}),P.jsx(Ile,{open:y,onClose:de,onSave:ae}),P.jsx(Ple,{open:C,formValue:D,onClose:le}),P.jsx(Qu,{sx:{overflow:"hidden"},children:P.jsx(h5,{children:P.jsxs(c5,{"aria-label":"simple table",children:[P.jsx(f5,{children:P.jsxs(Pk,{children:[P.jsx(Wd,{children:e("id")}),P.jsx(Wd,{align:"right",children:e("")})]})}),P.jsx(d5,{children:r.tasks.map(ie=>P.jsx(T5,{row:ie,doTaskRightNow:$,showDownloadDialog:te,clickTask:()=>A(ie),checkTaskRefetch:H,checkTaskContinue:W,checkTaskAgain:Q,source:"ltask"},ie.id))})]})})})]})})}const Lle=yr(P.jsx("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"})),Ole=yr(P.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m4 14H8V8h8z"}));var uC,c4;function Am(){if(c4)return uC;c4=1;var r;return typeof window<"u"?r=window:typeof Qh<"u"?r=Qh:typeof self<"u"?r=self:r={},uC=r,uC}var Mle=Am();const X=ha(Mle);var cC,d4;function w5(){if(d4)return cC;d4=1;var r=typeof Qh<"u"?Qh:typeof window<"u"?window:{},e=n8,t;return typeof document<"u"?t=document:(t=r["__GLOBAL_DOCUMENT_CACHE@4"],t||(t=r["__GLOBAL_DOCUMENT_CACHE@4"]=e)),cC=t,cC}var Fle=w5();const Be=ha(Fle);var jy={exports:{}},dC={exports:{}},h4;function E5(){return h4||(h4=1,(function(r){function e(){return r.exports=e=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},r.exports.__esModule=!0,r.exports.default=r.exports,e.apply(null,arguments)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports})(dC)),dC.exports}var hC,f4;function k5(){if(f4)return hC;f4=1,hC=e;var r=Object.prototype.toString;function e(t){if(!t)return!1;var n=r.call(t);return n==="[object Function]"||typeof t=="function"&&n!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}return hC}var fC,p4;function Ble(){if(p4)return fC;p4=1;function r(i,s){var a=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(a)return(a=a.call(i)).next.bind(a);if(Array.isArray(i)||(a=e(i))||s){a&&(i=a);var o=0;return function(){return o>=i.length?{done:!0}:{done:!1,value:i[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e(i,s){if(i){if(typeof i=="string")return t(i,s);var a=Object.prototype.toString.call(i).slice(8,-1);if(a==="Object"&&i.constructor&&(a=i.constructor.name),a==="Map"||a==="Set")return Array.from(i);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return t(i,s)}}function t(i,s){(s==null||s>i.length)&&(s=i.length);for(var a=0,o=new Array(s);a<s;a++)o[a]=i[a];return o}var n=(function(){function i(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var s=i.prototype;return s.getIsEnabled=function(){return this.enabled_},s.enable=function(){this.enabled_=!0},s.disable=function(){this.enabled_=!1},s.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},s.addInterceptor=function(o,l){this.typeToInterceptorsMap_.has(o)||this.typeToInterceptorsMap_.set(o,new Set);var u=this.typeToInterceptorsMap_.get(o);return u.has(l)?!1:(u.add(l),!0)},s.removeInterceptor=function(o,l){var u=this.typeToInterceptorsMap_.get(o);return u&&u.has(l)?(u.delete(l),!0):!1},s.clearInterceptorsByType=function(o){var l=this.typeToInterceptorsMap_.get(o);return l?(this.typeToInterceptorsMap_.delete(o),this.typeToInterceptorsMap_.set(o,new Set),!0):!1},s.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},s.getForType=function(o){return this.typeToInterceptorsMap_.get(o)||new Set},s.execute=function(o,l){for(var u=this.getForType(o),c=r(u),h;!(h=c()).done;){var f=h.value;try{l=f(l)}catch{}}return l},i})();return fC=n,fC}var pC,m4;function Nle(){if(m4)return pC;m4=1;var r=(function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var n=t.prototype;return n.getIsEnabled=function(){return this.enabled_},n.enable=function(){this.enabled_=!0},n.disable=function(){this.enabled_=!1},n.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},n.getMaxAttempts=function(){return this.maxAttempts_},n.setMaxAttempts=function(s){this.maxAttempts_=s},n.getDelayFactor=function(){return this.delayFactor_},n.setDelayFactor=function(s){this.delayFactor_=s},n.getFuzzFactor=function(){return this.fuzzFactor_},n.setFuzzFactor=function(s){this.fuzzFactor_=s},n.getInitialDelay=function(){return this.initialDelay_},n.setInitialDelay=function(s){this.initialDelay_=s},n.createRetry=function(s){var a=s===void 0?{}:s,o=a.maxAttempts,l=a.delayFactor,u=a.fuzzFactor,c=a.initialDelay;return new e({maxAttempts:o||this.maxAttempts_,delayFactor:l||this.delayFactor_,fuzzFactor:u||this.fuzzFactor_,initialDelay:c||this.initialDelay_})},t})(),e=(function(){function t(i){this.maxAttempts_=i.maxAttempts,this.delayFactor_=i.delayFactor,this.fuzzFactor_=i.fuzzFactor,this.currentDelay_=i.initialDelay,this.currentAttempt_=1}var n=t.prototype;return n.moveToNextAttempt=function(){this.currentAttempt_++;var s=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+s},n.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},n.getCurrentDelay=function(){return this.currentDelay_},n.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},n.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},n.getCurrentFuzzedDelay=function(){var s=this.getCurrentMinPossibleDelay(),a=this.getCurrentMaxPossibleDelay();return s+Math.random()*(a-s)},t})();return pC=r,pC}var mC,g4;function Ule(){if(g4)return mC;g4=1;var r=Am(),e=function(i,s){return s===void 0&&(s=!1),function(a,o,l){if(a){i(a);return}if(o.statusCode>=400&&o.statusCode<=599){var u=l;if(s)if(r.TextDecoder){var c=t(o.headers&&o.headers["content-type"]);try{u=new TextDecoder(c).decode(l)}catch{}}else u=String.fromCharCode.apply(null,new Uint8Array(l));i({cause:u});return}i(null,l)}};function t(n){return n===void 0&&(n=""),n.toLowerCase().split(";").reduce(function(i,s){var a=s.split("="),o=a[0],l=a[1];return o.trim()==="charset"?l.trim():i},"utf-8")}return mC=e,mC}var v4;function $le(){if(v4)return jy.exports;v4=1;var r=Am(),e=E5(),t=k5(),n=Ble(),i=Nle();u.httpHandler=Ule(),u.requestInterceptorsStorage=new n,u.responseInterceptorsStorage=new n,u.retryManager=new i;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var s=function(v){var y={};return v&&v.trim().split(`
`).forEach(function(_){var C=_.indexOf(":"),k=_.slice(0,C).trim().toLowerCase(),D=_.slice(C+1).trim();typeof y[k]>"u"?y[k]=D:Array.isArray(y[k])?y[k].push(D):y[k]=[y[k],D]}),y};jy.exports=u,jy.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||f,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,a(["get","put","post","patch","head","delete"],function(g){u[g==="delete"?"del":g]=function(v,y,_){return y=l(v,y,_),y.method=g.toUpperCase(),c(y)}});function a(g,v){for(var y=0;y<g.length;y++)v(g[y])}function o(g){for(var v in g)if(g.hasOwnProperty(v))return!1;return!0}function l(g,v,y){var _=g;return t(v)?(y=v,typeof g=="string"&&(_={uri:g})):_=e({},v,{uri:g}),_.callback=y,_}function u(g,v,y){return v=l(g,v,y),c(v)}function c(g){if(typeof g.callback>"u")throw new Error("callback argument missing");if(g.requestType&&u.requestInterceptorsStorage.getIsEnabled()){var v={uri:g.uri||g.url,headers:g.headers||{},body:g.body,metadata:g.metadata||{},retry:g.retry,timeout:g.timeout},y=u.requestInterceptorsStorage.execute(g.requestType,v);g.uri=y.uri,g.headers=y.headers,g.body=y.body,g.metadata=y.metadata,g.retry=y.retry,g.timeout=y.timeout}var _=!1,C=function(le,ae,ie){_||(_=!0,g.callback(le,ae,ie))};function k(){R.readyState===4&&!u.responseInterceptorsStorage.getIsEnabled()&&setTimeout(A,0)}function D(){var de=void 0;if(R.response?de=R.response:de=R.responseText||h(R),Q)try{de=JSON.parse(de)}catch{}return de}function I(de){if(clearTimeout(te),clearTimeout(g.retryTimeout),de instanceof Error||(de=new Error(""+(de||"Unknown XMLHttpRequest Error"))),de.statusCode=0,!U&&u.retryManager.getIsEnabled()&&g.retry&&g.retry.shouldRetry()){g.retryTimeout=setTimeout(function(){g.retry.moveToNextAttempt(),g.xhr=R,c(g)},g.retry.getCurrentFuzzedDelay());return}if(g.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var le={headers:oe.headers||{},body:oe.body,responseUrl:R.responseURL,responseType:R.responseType},ae=u.responseInterceptorsStorage.execute(g.requestType,le);oe.body=ae.body,oe.headers=ae.headers}return C(de,oe)}function A(){if(!U){var de;clearTimeout(te),clearTimeout(g.retryTimeout),g.useXDR&&R.status===void 0?de=200:de=R.status===1223?204:R.status;var le=oe,ae=null;if(de!==0?(le={body:D(),statusCode:de,method:w,headers:{},url:F,rawRequest:R},R.getAllResponseHeaders&&(le.headers=s(R.getAllResponseHeaders()))):ae=new Error("Internal XMLHttpRequest Error"),g.requestType&&u.responseInterceptorsStorage.getIsEnabled()){var ie={headers:le.headers||{},body:le.body,responseUrl:R.responseURL,responseType:R.responseType},ee=u.responseInterceptorsStorage.execute(g.requestType,ie);le.body=ee.body,le.headers=ee.headers}return C(ae,le,le.body)}}var R=g.xhr||null;R||(g.cors||g.useXDR?R=new u.XDomainRequest:R=new u.XMLHttpRequest);var N,U,F=R.url=g.uri||g.url,w=R.method=g.method||"GET",$=g.body||g.data,H=R.headers=g.headers||{},W=!!g.sync,Q=!1,te,oe={body:void 0,headers:{},statusCode:0,method:w,url:F,rawRequest:R};if("json"in g&&g.json!==!1&&(Q=!0,H.accept||H.Accept||(H.Accept="application/json"),w!=="GET"&&w!=="HEAD"&&(H["content-type"]||H["Content-Type"]||(H["Content-Type"]="application/json"),$=JSON.stringify(g.json===!0?$:g.json))),R.onreadystatechange=k,R.onload=A,R.onerror=I,R.onprogress=function(){},R.onabort=function(){U=!0,clearTimeout(g.retryTimeout)},R.ontimeout=I,R.open(w,F,!W,g.username,g.password),W||(R.withCredentials=!!g.withCredentials),!W&&g.timeout>0&&(te=setTimeout(function(){if(!U){U=!0,R.abort("timeout");var de=new Error("XMLHttpRequest timeout");de.code="ETIMEDOUT",I(de)}},g.timeout)),R.setRequestHeader)for(N in H)H.hasOwnProperty(N)&&R.setRequestHeader(N,H[N]);else if(g.headers&&!o(g.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in g&&(R.responseType=g.responseType),"beforeSend"in g&&typeof g.beforeSend=="function"&&g.beforeSend(R),R.send($||null),R}function h(g){try{if(g.responseType==="document")return g.responseXML;var v=g.responseXML&&g.responseXML.documentElement.nodeName==="parsererror";if(g.responseType===""&&!v)return g.responseXML}catch{}return null}function f(){}return jy.exports}var jle=$le();const A5=ha(jle);var gC={exports:{}},vC,y4;function zle(){if(y4)return vC;y4=1;var r=w5(),e=Object.create||(function(){function F(){}return function(w){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return F.prototype=w,new F}})();function t(F,w){this.name="ParsingError",this.code=F.code,this.message=w||F.message}t.prototype=e(Error.prototype),t.prototype.constructor=t,t.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function n(F){function w(H,W,Q,te){return(H|0)*3600+(W|0)*60+(Q|0)+(te|0)/1e3}var $=F.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return $?$[3]?w($[1],$[2],$[3].replace(":",""),$[4]):$[1]>59?w($[1],$[2],0,$[4]):w(0,$[1],$[2],$[4]):null}function i(){this.values=e(null)}i.prototype={set:function(F,w){!this.get(F)&&w!==""&&(this.values[F]=w)},get:function(F,w,$){return $?this.has(F)?this.values[F]:w[$]:this.has(F)?this.values[F]:w},has:function(F){return F in this.values},alt:function(F,w,$){for(var H=0;H<$.length;++H)if(w===$[H]){this.set(F,w);break}},integer:function(F,w){/^-?\d+$/.test(w)&&this.set(F,parseInt(w,10))},percent:function(F,w){return w.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(w=parseFloat(w),w>=0&&w<=100)?(this.set(F,w),!0):!1}};function s(F,w,$,H){var W=H?F.split(H):[F];for(var Q in W)if(typeof W[Q]=="string"){var te=W[Q].split($);if(te.length===2){var oe=te[0].trim(),de=te[1].trim();w(oe,de)}}}function a(F,w,$){var H=F;function W(){var oe=n(F);if(oe===null)throw new t(t.Errors.BadTimeStamp,"Malformed timestamp: "+H);return F=F.replace(/^[^\sa-zA-Z-]+/,""),oe}function Q(oe,de){var le=new i;s(oe,function(ae,ie){switch(ae){case"region":for(var ee=$.length-1;ee>=0;ee--)if($[ee].id===ie){le.set(ae,$[ee].region);break}break;case"vertical":le.alt(ae,ie,["rl","lr"]);break;case"line":var pe=ie.split(","),ve=pe[0];le.integer(ae,ve),le.percent(ae,ve)&&le.set("snapToLines",!1),le.alt(ae,ve,["auto"]),pe.length===2&&le.alt("lineAlign",pe[1],["start","center","end"]);break;case"position":pe=ie.split(","),le.percent(ae,pe[0]),pe.length===2&&le.alt("positionAlign",pe[1],["start","center","end"]);break;case"size":le.percent(ae,ie);break;case"align":le.alt(ae,ie,["start","center","end","left","right"]);break}},/:/,/\s/),de.region=le.get("region",null),de.vertical=le.get("vertical","");try{de.line=le.get("line","auto")}catch{}de.lineAlign=le.get("lineAlign","start"),de.snapToLines=le.get("snapToLines",!0),de.size=le.get("size",100);try{de.align=le.get("align","center")}catch{de.align=le.get("align","middle")}try{de.position=le.get("position","auto")}catch{de.position=le.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},de.align)}de.positionAlign=le.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},de.align)}function te(){F=F.replace(/^\s+/,"")}if(te(),w.startTime=W(),te(),F.substr(0,3)!=="-->")throw new t(t.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+H);F=F.substr(3),te(),w.endTime=W(),te(),Q(F,w)}var o=r.createElement&&r.createElement("textarea"),l={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},c={v:"title",lang:"lang"},h={rt:"ruby"};function f(F,w){function $(){if(!w)return null;function ve(Le){return w=w.substr(Le.length),Le}var _e=w.match(/^([^<]*)(<[^>]*>?)?/);return ve(_e[1]?_e[1]:_e[2])}function H(ve){return o.innerHTML=ve,ve=o.textContent,o.textContent="",ve}function W(ve,_e){return!h[_e.localName]||h[_e.localName]===ve.localName}function Q(ve,_e){var Le=l[ve];if(!Le)return null;var Re=F.document.createElement(Le),ot=c[ve];return ot&&_e&&(Re[ot]=_e.trim()),Re}for(var te=F.document.createElement("div"),oe=te,de,le=[];(de=$())!==null;){if(de[0]==="<"){if(de[1]==="/"){le.length&&le[le.length-1]===de.substr(2).replace(">","")&&(le.pop(),oe=oe.parentNode);continue}var ae=n(de.substr(1,de.length-2)),ie;if(ae){ie=F.document.createProcessingInstruction("timestamp",ae),oe.appendChild(ie);continue}var ee=de.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!ee||(ie=Q(ee[1],ee[3]),!ie)||!W(oe,ie))continue;if(ee[2]){var pe=ee[2].split(".");pe.forEach(function(ve){var _e=/^bg_/.test(ve),Le=_e?ve.slice(3):ve;if(u.hasOwnProperty(Le)){var Re=_e?"background-color":"color",ot=u[Le];ie.style[Re]=ot}}),ie.className=pe.join(" ")}le.push(ee[1]),oe.appendChild(ie),oe=ie;continue}oe.appendChild(F.document.createTextNode(H(de)))}return te}var g=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function v(F){for(var w=0;w<g.length;w++){var $=g[w];if(F>=$[0]&&F<=$[1])return!0}return!1}function y(F){var w=[],$="",H;if(!F||!F.childNodes)return"ltr";function W(oe,de){for(var le=de.childNodes.length-1;le>=0;le--)oe.push(de.childNodes[le])}function Q(oe){if(!oe||!oe.length)return null;var de=oe.pop(),le=de.textContent||de.innerText;if(le){var ae=le.match(/^.*(\n|\r)/);return ae?(oe.length=0,ae[0]):le}if(de.tagName==="ruby")return Q(oe);if(de.childNodes)return W(oe,de),Q(oe)}for(W(w,F);$=Q(w);)for(var te=0;te<$.length;te++)if(H=$.charCodeAt(te),v(H))return"rtl";return"ltr"}function _(F){if(typeof F.line=="number"&&(F.snapToLines||F.line>=0&&F.line<=100))return F.line;if(!F.track||!F.track.textTrackList||!F.track.textTrackList.mediaElement)return-1;for(var w=F.track,$=w.textTrackList,H=0,W=0;W<$.length&&$[W]!==w;W++)$[W].mode==="showing"&&H++;return++H*-1}function C(){}C.prototype.applyStyles=function(F,w){w=w||this.div;for(var $ in F)F.hasOwnProperty($)&&(w.style[$]=F[$])},C.prototype.formatStyle=function(F,w){return F===0?0:F+w};function k(F,w,$){C.call(this),this.cue=w,this.cueDiv=f(F,w.text);var H={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:w.vertical===""?"horizontal-tb":w.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(H,this.cueDiv),this.div=F.document.createElement("div"),H={direction:y(this.cueDiv),writingMode:w.vertical===""?"horizontal-tb":w.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:w.align==="middle"?"center":w.align,font:$.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(H),this.div.appendChild(this.cueDiv);var W=0;switch(w.positionAlign){case"start":case"line-left":W=w.position;break;case"center":W=w.position-w.size/2;break;case"end":case"line-right":W=w.position-w.size;break}w.vertical===""?this.applyStyles({left:this.formatStyle(W,"%"),width:this.formatStyle(w.size,"%")}):this.applyStyles({top:this.formatStyle(W,"%"),height:this.formatStyle(w.size,"%")}),this.move=function(Q){this.applyStyles({top:this.formatStyle(Q.top,"px"),bottom:this.formatStyle(Q.bottom,"px"),left:this.formatStyle(Q.left,"px"),right:this.formatStyle(Q.right,"px"),height:this.formatStyle(Q.height,"px"),width:this.formatStyle(Q.width,"px")})}}k.prototype=e(C.prototype),k.prototype.constructor=k;function D(F){var w,$,H,W;if(F.div){$=F.div.offsetHeight,H=F.div.offsetWidth,W=F.div.offsetTop;var Q=(Q=F.div.childNodes)&&(Q=Q[0])&&Q.getClientRects&&Q.getClientRects();F=F.div.getBoundingClientRect(),w=Q?Math.max(Q[0]&&Q[0].height||0,F.height/Q.length):0}this.left=F.left,this.right=F.right,this.top=F.top||W,this.height=F.height||$,this.bottom=F.bottom||W+(F.height||$),this.width=F.width||H,this.lineHeight=w!==void 0?w:F.lineHeight}D.prototype.move=function(F,w){switch(w=w!==void 0?w:this.lineHeight,F){case"+x":this.left+=w,this.right+=w;break;case"-x":this.left-=w,this.right-=w;break;case"+y":this.top+=w,this.bottom+=w;break;case"-y":this.top-=w,this.bottom-=w;break}},D.prototype.overlaps=function(F){return this.left<F.right&&this.right>F.left&&this.top<F.bottom&&this.bottom>F.top},D.prototype.overlapsAny=function(F){for(var w=0;w<F.length;w++)if(this.overlaps(F[w]))return!0;return!1},D.prototype.within=function(F){return this.top>=F.top&&this.bottom<=F.bottom&&this.left>=F.left&&this.right<=F.right},D.prototype.overlapsOppositeAxis=function(F,w){switch(w){case"+x":return this.left<F.left;case"-x":return this.right>F.right;case"+y":return this.top<F.top;case"-y":return this.bottom>F.bottom}},D.prototype.intersectPercentage=function(F){var w=Math.max(0,Math.min(this.right,F.right)-Math.max(this.left,F.left)),$=Math.max(0,Math.min(this.bottom,F.bottom)-Math.max(this.top,F.top)),H=w*$;return H/(this.height*this.width)},D.prototype.toCSSCompatValues=function(F){return{top:this.top-F.top,bottom:F.bottom-this.bottom,left:this.left-F.left,right:F.right-this.right,height:this.height,width:this.width}},D.getSimpleBoxPosition=function(F){var w=F.div?F.div.offsetHeight:F.tagName?F.offsetHeight:0,$=F.div?F.div.offsetWidth:F.tagName?F.offsetWidth:0,H=F.div?F.div.offsetTop:F.tagName?F.offsetTop:0;F=F.div?F.div.getBoundingClientRect():F.tagName?F.getBoundingClientRect():F;var W={left:F.left,right:F.right,top:F.top||H,height:F.height||w,bottom:F.bottom||H+(F.height||w),width:F.width||$};return W};function I(F,w,$,H){function W(Le,Re){for(var ot,ze=new D(Le),mt=1,Je=0;Je<Re.length;Je++){for(;Le.overlapsOppositeAxis($,Re[Je])||Le.within($)&&Le.overlapsAny(H);)Le.move(Re[Je]);if(Le.within($))return Le;var Pt=Le.intersectPercentage($);mt>Pt&&(ot=new D(Le),mt=Pt),Le=new D(ze)}return ot||ze}var Q=new D(w),te=w.cue,oe=_(te),de=[];if(te.snapToLines){var le;switch(te.vertical){case"":de=["+y","-y"],le="height";break;case"rl":de=["+x","-x"],le="width";break;case"lr":de=["-x","+x"],le="width";break}var ae=Q.lineHeight,ie=ae*Math.round(oe),ee=$[le]+ae,pe=de[0];Math.abs(ie)>ee&&(ie=ie<0?-1:1,ie*=Math.ceil(ee/ae)*ae),oe<0&&(ie+=te.vertical===""?$.height:$.width,de=de.reverse()),Q.move(pe,ie)}else{var ve=Q.lineHeight/$.height*100;switch(te.lineAlign){case"center":oe-=ve/2;break;case"end":oe-=ve;break}switch(te.vertical){case"":w.applyStyles({top:w.formatStyle(oe,"%")});break;case"rl":w.applyStyles({left:w.formatStyle(oe,"%")});break;case"lr":w.applyStyles({right:w.formatStyle(oe,"%")});break}de=["+y","-x","+x","-y"],Q=new D(w)}var _e=W(Q,de);w.move(_e.toCSSCompatValues($))}function A(){}A.StringDecoder=function(){return{decode:function(F){if(!F)return"";if(typeof F!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(F))}}},A.convertCueToDOMTree=function(F,w){return!F||!w?null:f(F,w)};var R=.05,N="sans-serif",U="1.5%";return A.processCues=function(F,w,$){if(!F||!w||!$)return null;for(;$.firstChild;)$.removeChild($.firstChild);var H=F.document.createElement("div");H.style.position="absolute",H.style.left="0",H.style.right="0",H.style.top="0",H.style.bottom="0",H.style.margin=U,$.appendChild(H);function W(ae){for(var ie=0;ie<ae.length;ie++)if(ae[ie].hasBeenReset||!ae[ie].displayState)return!0;return!1}if(!W(w)){for(var Q=0;Q<w.length;Q++)H.appendChild(w[Q].displayState);return}var te=[],oe=D.getSimpleBoxPosition(H),de=Math.round(oe.height*R*100)/100,le={font:de+"px "+N};(function(){for(var ae,ie,ee=0;ee<w.length;ee++)ie=w[ee],ae=new k(F,ie,le),H.appendChild(ae.div),I(F,ae,oe,te),ie.displayState=ae.div,te.push(D.getSimpleBoxPosition(ae))})()},A.Parser=function(F,w,$){$||($=w,w={}),w||(w={}),this.window=F,this.vttjs=w,this.state="INITIAL",this.buffer="",this.decoder=$||new TextDecoder("utf8"),this.regionList=[]},A.Parser.prototype={reportOrThrowError:function(F){if(F instanceof t)this.onparsingerror&&this.onparsingerror(F);else throw F},parse:function(F){var w=this;F&&(w.buffer+=w.decoder.decode(F,{stream:!0}));function $(){for(var ae=w.buffer,ie=0;ie<ae.length&&ae[ie]!=="\r"&&ae[ie]!==`
`;)++ie;var ee=ae.substr(0,ie);return ae[ie]==="\r"&&++ie,ae[ie]===`
`&&++ie,w.buffer=ae.substr(ie),ee}function H(ae){var ie=new i;if(s(ae,function(pe,ve){switch(pe){case"id":ie.set(pe,ve);break;case"width":ie.percent(pe,ve);break;case"lines":ie.integer(pe,ve);break;case"regionanchor":case"viewportanchor":var _e=ve.split(",");if(_e.length!==2)break;var Le=new i;if(Le.percent("x",_e[0]),Le.percent("y",_e[1]),!Le.has("x")||!Le.has("y"))break;ie.set(pe+"X",Le.get("x")),ie.set(pe+"Y",Le.get("y"));break;case"scroll":ie.alt(pe,ve,["up"]);break}},/=/,/\s/),ie.has("id")){var ee=new(w.vttjs.VTTRegion||w.window.VTTRegion);ee.width=ie.get("width",100),ee.lines=ie.get("lines",3),ee.regionAnchorX=ie.get("regionanchorX",0),ee.regionAnchorY=ie.get("regionanchorY",100),ee.viewportAnchorX=ie.get("viewportanchorX",0),ee.viewportAnchorY=ie.get("viewportanchorY",100),ee.scroll=ie.get("scroll",""),w.onregion&&w.onregion(ee),w.regionList.push({id:ie.get("id"),region:ee})}}function W(ae){var ie=new i;s(ae,function(ee,pe){switch(ee){case"MPEGT":ie.integer(ee+"S",pe);break;case"LOCA":ie.set(ee+"L",n(pe));break}},/[^\d]:/,/,/),w.ontimestampmap&&w.ontimestampmap({MPEGTS:ie.get("MPEGTS"),LOCAL:ie.get("LOCAL")})}function Q(ae){ae.match(/X-TIMESTAMP-MAP/)?s(ae,function(ie,ee){switch(ie){case"X-TIMESTAMP-MAP":W(ee);break}},/=/):s(ae,function(ie,ee){switch(ie){case"Region":H(ee);break}},/:/)}try{var te;if(w.state==="INITIAL"){if(!/\r\n|\n/.test(w.buffer))return this;te=$();var oe=te.match(/^WEBVTT([ \t].*)?$/);if(!oe||!oe[0])throw new t(t.Errors.BadSignature);w.state="HEADER"}for(var de=!1;w.buffer;){if(!/\r\n|\n/.test(w.buffer))return this;switch(de?de=!1:te=$(),w.state){case"HEADER":/:/.test(te)?Q(te):te||(w.state="ID");continue;case"NOTE":te||(w.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(te)){w.state="NOTE";break}if(!te)continue;w.cue=new(w.vttjs.VTTCue||w.window.VTTCue)(0,0,"");try{w.cue.align="center"}catch{w.cue.align="middle"}if(w.state="CUE",te.indexOf("-->")===-1){w.cue.id=te;continue}case"CUE":try{a(te,w.cue,w.regionList)}catch(ae){w.reportOrThrowError(ae),w.cue=null,w.state="BADCUE";continue}w.state="CUETEXT";continue;case"CUETEXT":var le=te.indexOf("-->")!==-1;if(!te||le&&(de=!0)){w.oncue&&w.oncue(w.cue),w.cue=null,w.state="ID";continue}w.cue.text&&(w.cue.text+=`
`),w.cue.text+=te.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":te||(w.state="ID");continue}}}catch(ae){w.reportOrThrowError(ae),w.state==="CUETEXT"&&w.cue&&w.oncue&&w.oncue(w.cue),w.cue=null,w.state=w.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var F=this;try{if(F.buffer+=F.decoder.decode(),(F.cue||F.state==="HEADER")&&(F.buffer+=`

`,F.parse()),F.state==="INITIAL")throw new t(t.Errors.BadSignature)}catch(w){F.reportOrThrowError(w)}return F.onflush&&F.onflush(),this}},vC=A,vC}var yC,x4;function Hle(){if(x4)return yC;x4=1;var r="auto",e={"":1,lr:1,rl:1},t={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function n(a){if(typeof a!="string")return!1;var o=e[a.toLowerCase()];return o?a.toLowerCase():!1}function i(a){if(typeof a!="string")return!1;var o=t[a.toLowerCase()];return o?a.toLowerCase():!1}function s(a,o,l){this.hasBeenReset=!1;var u="",c=!1,h=a,f=o,g=l,v=null,y="",_=!0,C="auto",k="start",D="auto",I="auto",A=100,R="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return u},set:function(N){u=""+N}},pauseOnExit:{enumerable:!0,get:function(){return c},set:function(N){c=!!N}},startTime:{enumerable:!0,get:function(){return h},set:function(N){if(typeof N!="number")throw new TypeError("Start time must be set to a number.");h=N,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return f},set:function(N){if(typeof N!="number")throw new TypeError("End time must be set to a number.");f=N,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return g},set:function(N){g=""+N,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return v},set:function(N){v=N,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return y},set:function(N){var U=n(N);if(U===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");y=U,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return _},set:function(N){_=!!N,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return C},set:function(N){if(typeof N!="number"&&N!==r)throw new SyntaxError("Line: an invalid number or illegal string was specified.");C=N,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return k},set:function(N){var U=i(N);U?(k=U,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return D},set:function(N){if(N<0||N>100)throw new Error("Position must be between 0 and 100.");D=N,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return I},set:function(N){var U=i(N);U?(I=U,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return A},set:function(N){if(N<0||N>100)throw new Error("Size must be between 0 and 100.");A=N,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return R},set:function(N){var U=i(N);if(!U)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");R=U,this.hasBeenReset=!0}}}),this.displayState=void 0}return s.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},yC=s,yC}var xC,_4;function Vle(){if(_4)return xC;_4=1;var r={"":!0,up:!0};function e(i){if(typeof i!="string")return!1;var s=r[i.toLowerCase()];return s?i.toLowerCase():!1}function t(i){return typeof i=="number"&&i>=0&&i<=100}function n(){var i=100,s=3,a=0,o=100,l=0,u=100,c="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return i},set:function(h){if(!t(h))throw new Error("Width must be between 0 and 100.");i=h}},lines:{enumerable:!0,get:function(){return s},set:function(h){if(typeof h!="number")throw new TypeError("Lines must be set to a number.");s=h}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(h){if(!t(h))throw new Error("RegionAnchorX must be between 0 and 100.");o=h}},regionAnchorX:{enumerable:!0,get:function(){return a},set:function(h){if(!t(h))throw new Error("RegionAnchorY must be between 0 and 100.");a=h}},viewportAnchorY:{enumerable:!0,get:function(){return u},set:function(h){if(!t(h))throw new Error("ViewportAnchorY must be between 0 and 100.");u=h}},viewportAnchorX:{enumerable:!0,get:function(){return l},set:function(h){if(!t(h))throw new Error("ViewportAnchorX must be between 0 and 100.");l=h}},scroll:{enumerable:!0,get:function(){return c},set:function(h){var f=e(h);f===!1?console.warn("Scroll: an invalid or illegal string was specified."):c=f}}})}return xC=n,xC}var b4;function Wle(){if(b4)return gC.exports;b4=1;var r=Am(),e=gC.exports={WebVTT:zle(),VTTCue:Hle(),VTTRegion:Vle()};r.vttjs=e,r.WebVTT=e.WebVTT;var t=e.VTTCue,n=e.VTTRegion,i=r.VTTCue,s=r.VTTRegion;return e.shim=function(){r.VTTCue=t,r.VTTRegion=n},e.restore=function(){r.VTTCue=i,r.VTTRegion=s},r.VTTCue||e.shim(),gC.exports}var qle=Wle();const W_=ha(qle);var S4="https://example.com",yv=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=X.location&&X.location.href||"");var n=/^\/\//.test(e),i=!X.location&&!/\/\//i.test(e);e=new X.URL(e,X.location||S4);var s=new URL(t,e);return i?s.href.slice(S4.length):n?s.href.slice(s.protocol.length):s.href},$k=(function(){function r(){this.listeners={}}var e=r.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},r})(),Gle=function(e){return X.atob?X.atob(e):Buffer.from(e,"base64").toString("binary")};function D5(r){for(var e=Gle(r),t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */let Kle=class extends $k{constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf(`
`);t>-1;t=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}};const Xle="	",_C=function(r){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(r||""),t={};return e[1]&&(t.length=parseInt(e[1],10)),e[2]&&(t.offset=parseInt(e[2],10)),t},Yle=function(){const t="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+t+")")},Ys=function(r){const e={};if(!r)return e;const t=r.split(Yle());let n=t.length,i;for(;n--;)t[n]!==""&&(i=/([^=]*)=(.*)/.exec(t[n]).slice(1),i[0]=i[0].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^\s+|\s+$/g,""),i[1]=i[1].replace(/^['"](.*)['"]$/g,"$1"),e[i[0]]=i[1]);return e},T4=r=>{const e=r.split("x"),t={};return e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),t};let Qle=class extends $k{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((s,a)=>{const o=a(e);return o===e?s:s.concat([o])},[e]).forEach(s=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,s))return;if(s.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:s.slice(1)});return}if(s=s.replace("\r",""),t=/^#EXTM3U/.exec(s),t){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(s),t){n={type:"tag",tagType:"inf"},t[1]&&(n.duration=parseFloat(t[1])),t[2]&&(n.title=t[2]),this.trigger("data",n);return}if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(s),t){n={type:"tag",tagType:"targetduration"},t[1]&&(n.duration=parseInt(t[1],10)),this.trigger("data",n);return}if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(s),t){n={type:"tag",tagType:"version"},t[1]&&(n.version=parseInt(t[1],10)),this.trigger("data",n);return}if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(s),t){n={type:"tag",tagType:"media-sequence"},t[1]&&(n.number=parseInt(t[1],10)),this.trigger("data",n);return}if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(s),t){n={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(n.number=parseInt(t[1],10)),this.trigger("data",n);return}if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(s),t){n={type:"tag",tagType:"playlist-type"},t[1]&&(n.playlistType=t[1]),this.trigger("data",n);return}if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(s),t){n=sr(_C(t[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(s),t){n={type:"tag",tagType:"allow-cache"},t[1]&&(n.allowed=!/NO/.test(t[1])),this.trigger("data",n);return}if(t=/^#EXT-X-MAP:(.*)$/.exec(s),t){if(n={type:"tag",tagType:"map"},t[1]){const a=Ys(t[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=_C(a.BYTERANGE))}this.trigger("data",n);return}if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(s),t){n={type:"tag",tagType:"stream-inf"},t[1]&&(n.attributes=Ys(t[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=T4(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),this.trigger("data",n);return}if(t=/^#EXT-X-MEDIA:(.*)$/.exec(s),t){n={type:"tag",tagType:"media"},t[1]&&(n.attributes=Ys(t[1])),this.trigger("data",n);return}if(t=/^#EXT-X-ENDLIST/.exec(s),t){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(t=/^#EXT-X-DISCONTINUITY/.exec(s),t){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(s),t){n={type:"tag",tagType:"program-date-time"},t[1]&&(n.dateTimeString=t[1],n.dateTimeObject=new Date(t[1])),this.trigger("data",n);return}if(t=/^#EXT-X-KEY:(.*)$/.exec(s),t){n={type:"tag",tagType:"key"},t[1]&&(n.attributes=Ys(t[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(t=/^#EXT-X-START:(.*)$/.exec(s),t){n={type:"tag",tagType:"start"},t[1]&&(n.attributes=Ys(t[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(s),t){n={type:"tag",tagType:"cue-out-cont"},t[1]?n.data=t[1]:n.data="",this.trigger("data",n);return}if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(s),t){n={type:"tag",tagType:"cue-out"},t[1]?n.data=t[1]:n.data="",this.trigger("data",n);return}if(t=/^#EXT-X-CUE-IN:?(.*)?$/.exec(s),t){n={type:"tag",tagType:"cue-in"},t[1]?n.data=t[1]:n.data="",this.trigger("data",n);return}if(t=/^#EXT-X-SKIP:(.*)$/.exec(s),t&&t[1]){n={type:"tag",tagType:"skip"},n.attributes=Ys(t[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(Xle)),this.trigger("data",n);return}if(t=/^#EXT-X-PART:(.*)$/.exec(s),t&&t[1]){n={type:"tag",tagType:"part"},n.attributes=Ys(t[1]),["DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=_C(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(s),t&&t[1]){n={type:"tag",tagType:"server-control"},n.attributes=Ys(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),this.trigger("data",n);return}if(t=/^#EXT-X-PART-INF:(.*)$/.exec(s),t&&t[1]){n={type:"tag",tagType:"part-inf"},n.attributes=Ys(t[1]),["PART-TARGET"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),this.trigger("data",n);return}if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(s),t&&t[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=Ys(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(n.attributes.hasOwnProperty(a)){n.attributes[a]=parseInt(n.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[o]=n.attributes[a],delete n.attributes[a]}}),this.trigger("data",n);return}if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(s),t&&t[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=Ys(t[1]),["LAST-MSN","LAST-PART"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseInt(n.attributes[a],10))}),this.trigger("data",n);return}if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(s),t&&t[1]){n={type:"tag",tagType:"daterange"},n.attributes=Ys(t[1]),["ID","CLASS"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=String(n.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=new Date(n.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/i.test(n.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=n.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in n.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[o]),u=/^\d+(\.\d+)?$/.test(n.attributes[o]);n.attributes[o]=l?n.attributes[o].toString(16):u?parseFloat(n.attributes[o]):String(n.attributes[o])}this.trigger("data",n);return}if(t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(s),t){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(t=/^#EXT-X-I-FRAMES-ONLY/.exec(s),t){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(t=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(s),t){n={type:"tag",tagType:"content-steering"},n.attributes=Ys(t[1]),this.trigger("data",n);return}if(t=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(s),t){n={type:"tag",tagType:"i-frame-playlist"},n.attributes=Ys(t[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=T4(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),this.trigger("data",n);return}if(t=/^#EXT-X-DEFINE:(.*)$/.exec(s),t){n={type:"tag",tagType:"define"},n.attributes=Ys(t[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:s.slice(4)})})}addParser({expression:e,customType:t,dataParser:n,segment:i}){typeof n!="function"&&(n=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:n(s),customType:t,segment:i}),!0})}addTagMapper({expression:e,map:t}){const n=i=>e.test(i)?t(i):i;this.tagMappers.push(n)}};const Jle=r=>r.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),bd=function(r){const e={};return Object.keys(r).forEach(function(t){e[Jle(t)]=r[t]}),e},bC=function(r){const{serverControl:e,targetDuration:t,partTargetDuration:n}=r;if(!e)return;const i="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=t&&t*3,l=n&&n*2;t&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${i} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${i} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),n&&!e.hasOwnProperty(a)&&(e[a]=n*3,this.trigger("info",{message:`${i} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),n&&e[a]<l&&(this.trigger("warn",{message:`${i} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};let I5=class extends $k{constructor(e={}){super(),this.lineStream=new Kle,this.parseStream=new Qle,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const t=this,n=[];let i={},s,a,o=!1;const l=function(){},u={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},c="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let h=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let f=0,g=0;const v={};this.on("end",()=>{i.uri||!i.parts&&!i.preloadHints||(!i.map&&s&&(i.map=s),!i.key&&a&&(i.key=a),!i.timeline&&typeof h=="number"&&(i.timeline=h),this.manifest.preloadSegment=i)}),this.parseStream.on("data",function(y){let _,C;if(t.manifest.definitions){for(const k in t.manifest.definitions)if(y.uri&&(y.uri=y.uri.replace(`{$${k}}`,t.manifest.definitions[k])),y.attributes)for(const D in y.attributes)typeof y.attributes[D]=="string"&&(y.attributes[D]=y.attributes[D].replace(`{$${k}}`,t.manifest.definitions[k]))}({tag(){({version(){y.version&&(this.manifest.version=y.version)},"allow-cache"(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const k={};"length"in y&&(i.byterange=k,k.length=y.length,"offset"in y||(y.offset=f)),"offset"in y&&(i.byterange=k,k.offset=y.offset),f=k.offset+k.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.title&&(i.title=y.title),y.duration>0&&(i.duration=y.duration),y.duration===0&&(i.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){a=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===c){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:D5(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(a.iv=y.attributes.IV)},"media-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence"(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,h=y.number},"playlist-type"(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map(){s={},y.uri&&(s.uri=y.uri),y.byterange&&(s.byterange=y.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||u,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}i.attributes||(i.attributes={}),sr(i.attributes,y.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||u,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const k=this.manifest.mediaGroups[y.attributes.TYPE];k[y.attributes["GROUP-ID"]]=k[y.attributes["GROUP-ID"]]||{},_=k[y.attributes["GROUP-ID"]],C={default:/yes/i.test(y.attributes.DEFAULT)},C.default?C.autoselect=!0:C.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(C.language=y.attributes.LANGUAGE),y.attributes.URI&&(C.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(C.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(C.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(C.forced=/yes/i.test(y.attributes.FORCED)),_[y.attributes.NAME]=C},discontinuity(){h+=1,i.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),i.dateTimeString=y.dateTimeString,i.dateTimeObject=y.dateTimeObject;const{lastProgramDateTime:k}=this;this.lastProgramDateTime=new Date(y.dateTimeString).getTime(),k===null&&this.manifest.segments.reduceRight((D,I)=>(I.programDateTime=D-I.duration*1e3,I.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,bC.call(this,this.manifest)},start(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out"(){i.cueOut=y.data},"cue-out-cont"(){i.cueOutCont=y.data},"cue-in"(){i.cueIn=y.data},skip(){this.manifest.skip=bd(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const k=this.manifest.segments.length,D=bd(y.attributes);i.parts=i.parts||[],i.parts.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=g),g=D.byterange.offset+D.byterange.length);const I=i.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${I} for segment #${k}`,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((A,R)=>{A.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${R} lacks required attribute(s): LAST-PART`})})},"server-control"(){const k=this.manifest.serverControl=bd(y.attributes);k.hasOwnProperty("canBlockReload")||(k.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),bC.call(this,this.manifest),k.canSkipDateranges&&!k.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const k=this.manifest.segments.length,D=bd(y.attributes),I=D.type&&D.type==="PART";i.preloadHints=i.preloadHints||[],i.preloadHints.push(D),D.byterange&&(D.byterange.hasOwnProperty("offset")||(D.byterange.offset=I?g:0,I&&(g=D.byterange.offset+D.byterange.length)));const A=i.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${A} for segment #${k}`,y.attributes,["TYPE","URI"]),!!D.type)for(let R=0;R<i.preloadHints.length-1;R++){const N=i.preloadHints[R];N.type&&N.type===D.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${A} for segment #${k} has the same TYPE ${D.type} as preload hint #${R}`})}},"rendition-report"(){const k=bd(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(k);const D=this.manifest.renditionReports.length-1,I=["LAST-MSN","URI"];o&&I.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${D}`,y.attributes,I)},"part-inf"(){this.manifest.partInf=bd(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),bC.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(bd(y.attributes));const k=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${k}`,y.attributes,["ID","START-DATE"]);const D=this.manifest.dateRanges[k];D.endDate&&D.startDate&&new Date(D.endDate)<new Date(D.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),D.duration&&D.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),D.plannedDuration&&D.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const I=!!D.endOnNext;if(I&&!D.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),I&&(D.duration||D.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),D.duration&&D.endDate){const R=D.startDate.getTime()+D.duration*1e3;this.manifest.dateRanges[k].endDate=new Date(R)}if(!v[D.id])v[D.id]=D;else{for(const R in v[D.id])if(D[R]&&JSON.stringify(v[D.id][R])!==JSON.stringify(D[R])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const A=this.manifest.dateRanges.findIndex(R=>R.id===D.id);this.manifest.dateRanges[A]=sr(this.manifest.dateRanges[A],D),v[D.id]=sr(v[D.id],D),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=bd(y.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",y.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const k=(D,I)=>{if(D in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${D}`});return}this.manifest.definitions[D]=I};if("QUERYPARAM"in y.attributes){if("NAME"in y.attributes||"IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const D=this.params.get(y.attributes.QUERYPARAM);if(!D){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${y.attributes.QUERYPARAM}`});return}k(y.attributes.QUERYPARAM,decodeURIComponent(D));return}if("NAME"in y.attributes){if("IMPORT"in y.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in y.attributes)||typeof y.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${y.attributes.NAME}`});return}k(y.attributes.NAME,y.attributes.VALUE);return}if("IMPORT"in y.attributes){if(!this.mainDefinitions[y.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${y.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}k(y.attributes.IMPORT,this.mainDefinitions[y.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:y.attributes,uri:y.uri,timeline:h}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",y.attributes,["BANDWIDTH","URI"])}}[y.tagType]||l).call(t)},uri(){i.uri=y.uri,n.push(i),this.manifest.targetDuration&&!("duration"in i)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),i.duration=this.manifest.targetDuration),a&&(i.key=a),i.timeline=h,s&&(i.map=s),g=0,this.lastProgramDateTime!==null&&(i.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=i.duration*1e3),i={}},comment(){},custom(){y.segment?(i.custom=i.custom||{},i.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(t)})}requiredCompatibilityversion(e,t){(e<t||!e)&&this.trigger("warn",{message:`manifest must be at least version ${t}`})}warnOnMissingAttributes_(e,t,n){const i=[];n.forEach(function(s){t.hasOwnProperty(s)||i.push(s)}),i.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${i.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}};var tf={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Zle=["video","audio","text"],C4=["Video","Audio","Text"],jk=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(t,n,i){var s=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Ni=function(e){e===void 0&&(e="");var t=e.split(","),n=[];return t.forEach(function(i){i=i.trim();var s;Zle.forEach(function(a){var o=tf[a].exec(i.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=i.substring(0,o[1].length),u=i.replace(l,"");n.push({type:l,details:u,mediaType:a})}}),s||n.push({type:i,details:"",mediaType:"unknown"})}),n},P5=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var s=n[i];if(s.default&&s.playlists)return Ni(s.playlists[0].attributes.CODECS)}return null},zk=function(e){return e===void 0&&(e=""),tf.audio.test(e.trim().toLowerCase())},eue=function(e){return e===void 0&&(e=""),tf.text.test(e.trim().toLowerCase())},ju=function(e){if(!(!e||typeof e!="string")){var t=e.toLowerCase().split(",").map(function(s){return jk(s.trim())}),n="video";t.length===1&&zk(t[0])?n="audio":t.length===1&&eue(t[0])&&(n="application");var i="mp4";return t.every(function(s){return tf.mp4.test(s)})?i="mp4":t.every(function(s){return tf.webm.test(s)})?i="webm":t.every(function(s){return tf.ogg.test(s)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},Fu=function(e,t){return e===void 0&&(e=""),t===void 0&&(t=!1),X.MediaSource&&X.MediaSource.isTypeSupported&&X.MediaSource.isTypeSupported(ju(e))||t&&X.ManagedMediaSource&&X.ManagedMediaSource.isTypeSupported&&X.ManagedMediaSource.isTypeSupported(ju(e))||!1},Lp=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(t){t=t.trim();for(var n=0;n<C4.length;n++){var i=C4[n];if(tf["muxer"+i].test(t))return!0}return!1})},q_="mp4a.40.2",R5="avc1.4d400d",tue=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,rue=/^application\/dash\+xml/i,DS=function(e){return tue.test(e)?"hls":rue.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},nue=function(e){return e.toString(2).length},iue=function(e){return Math.ceil(nue(e)/8)},Hk=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},sue=function(e){return Hk(e)},br=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!sue(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},gs=X.BigInt||Number,m2=[gs("0x1"),gs("0x100"),gs("0x10000"),gs("0x1000000"),gs("0x100000000"),gs("0x10000000000"),gs("0x1000000000000"),gs("0x100000000000000"),gs("0x10000000000000000")];(function(){var r=new Uint16Array([65484]),e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var aue=function(e,t){var n=t===void 0?{}:t,i=n.signed,s=i===void 0?!1:i,a=n.le,o=a===void 0?!1:a;e=br(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(f,g,v){var y=o?v:Math.abs(v+1-e.length);return f+gs(g)*m2[y]},gs(0));if(s){var h=m2[e.length]/gs(2)-gs(1);c=gs(c),c>h&&(c-=h,c-=h,c-=gs(2))}return Number(c)},oue=function(e,t){var n={},i=n.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=gs(e);for(var a=iue(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/m2[l]&gs(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},Vk=function(e,t){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},L5=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),t.length<=1)return br(t[0]);var i=t.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(i),a=0;return t.forEach(function(o){o=br(o),s.set(o,a),a+=o.byteLength}),s},Qn=function(e,t,n){var i=n===void 0?{}:n,s=i.offset,a=s===void 0?0:s,o=i.mask,l=o===void 0?[]:o;e=br(e),t=br(t);var u=t.every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&u.call(t,function(c,h){var f=l[h]?l[h]&e[a+h]:e[a+h];return c===f})},lue=function(e,t,n){t.forEach(function(i){for(var s in e.mediaGroups[i])for(var a in e.mediaGroups[i][s]){var o=e.mediaGroups[i][s][a];n(o,i,s,a)}})},Rg={},Sc={},Ph={},w4;function IS(){if(w4)return Ph;w4=1;function r(s,a,o){if(o===void 0&&(o=Array.prototype),s&&typeof o.find=="function")return o.find.call(s,a);for(var l=0;l<s.length;l++)if(Object.prototype.hasOwnProperty.call(s,l)){var u=s[l];if(a.call(void 0,u,l,s))return u}}function e(s,a){return a===void 0&&(a=Object),a&&typeof a.freeze=="function"?a.freeze(s):s}function t(s,a){if(s===null||typeof s!="object")throw new TypeError("target is not an object");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(s[o]=a[o]);return s}var n=e({HTML:"text/html",isHTML:function(s){return s===n.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),i=e({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(s){return s===i.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});return Ph.assign=t,Ph.find=r,Ph.freeze=e,Ph.MIME_TYPE=n,Ph.NAMESPACE=i,Ph}var E4;function O5(){if(E4)return Sc;E4=1;var r=IS(),e=r.find,t=r.NAMESPACE;function n(se){return se!==""}function i(se){return se?se.split(/[\t\n\f\r ]+/).filter(n):[]}function s(se,fe){return se.hasOwnProperty(fe)||(se[fe]=!0),se}function a(se){if(!se)return[];var fe=i(se);return Object.keys(fe.reduce(s,{}))}function o(se){return function(fe){return se&&se.indexOf(fe)!==-1}}function l(se,fe){for(var Te in se)Object.prototype.hasOwnProperty.call(se,Te)&&(fe[Te]=se[Te])}function u(se,fe){var Te=se.prototype;if(!(Te instanceof fe)){let gt=function(){};var je=gt;gt.prototype=fe.prototype,gt=new gt,l(Te,gt),se.prototype=Te=gt}Te.constructor!=se&&(typeof se!="function"&&console.error("unknown Class:"+se),Te.constructor=se)}var c={},h=c.ELEMENT_NODE=1,f=c.ATTRIBUTE_NODE=2,g=c.TEXT_NODE=3,v=c.CDATA_SECTION_NODE=4,y=c.ENTITY_REFERENCE_NODE=5,_=c.ENTITY_NODE=6,C=c.PROCESSING_INSTRUCTION_NODE=7,k=c.COMMENT_NODE=8,D=c.DOCUMENT_NODE=9,I=c.DOCUMENT_TYPE_NODE=10,A=c.DOCUMENT_FRAGMENT_NODE=11,R=c.NOTATION_NODE=12,N={},U={};N.INDEX_SIZE_ERR=(U[1]="Index size error",1),N.DOMSTRING_SIZE_ERR=(U[2]="DOMString size error",2);var F=N.HIERARCHY_REQUEST_ERR=(U[3]="Hierarchy request error",3);N.WRONG_DOCUMENT_ERR=(U[4]="Wrong document",4),N.INVALID_CHARACTER_ERR=(U[5]="Invalid character",5),N.NO_DATA_ALLOWED_ERR=(U[6]="No data allowed",6),N.NO_MODIFICATION_ALLOWED_ERR=(U[7]="No modification allowed",7);var w=N.NOT_FOUND_ERR=(U[8]="Not found",8);N.NOT_SUPPORTED_ERR=(U[9]="Not supported",9);var $=N.INUSE_ATTRIBUTE_ERR=(U[10]="Attribute in use",10);N.INVALID_STATE_ERR=(U[11]="Invalid state",11),N.SYNTAX_ERR=(U[12]="Syntax error",12),N.INVALID_MODIFICATION_ERR=(U[13]="Invalid modification",13),N.NAMESPACE_ERR=(U[14]="Invalid namespace",14),N.INVALID_ACCESS_ERR=(U[15]="Invalid access",15);function H(se,fe){if(fe instanceof Error)var Te=fe;else Te=this,Error.call(this,U[se]),this.message=U[se],Error.captureStackTrace&&Error.captureStackTrace(this,H);return Te.code=se,fe&&(this.message=this.message+": "+fe),Te}H.prototype=Error.prototype,l(N,H);function W(){}W.prototype={length:0,item:function(se){return se>=0&&se<this.length?this[se]:null},toString:function(se,fe){for(var Te=[],je=0;je<this.length;je++)Hr(this[je],Te,se,fe);return Te.join("")},filter:function(se){return Array.prototype.filter.call(this,se)},indexOf:function(se){return Array.prototype.indexOf.call(this,se)}};function Q(se,fe){this._node=se,this._refresh=fe,te(this)}function te(se){var fe=se._node._inc||se._node.ownerDocument._inc;if(se._inc!==fe){var Te=se._refresh(se._node);if(wn(se,"length",Te.length),!se.$$length||Te.length<se.$$length)for(var je=Te.length;je in se;je++)Object.prototype.hasOwnProperty.call(se,je)&&delete se[je];l(Te,se),se._inc=fe}}Q.prototype.item=function(se){return te(this),this[se]||null},u(Q,W);function oe(){}function de(se,fe){for(var Te=se.length;Te--;)if(se[Te]===fe)return Te}function le(se,fe,Te,je){if(je?fe[de(fe,je)]=Te:fe[fe.length++]=Te,se){Te.ownerElement=se;var gt=se.ownerDocument;gt&&(je&&Re(gt,se,je),Le(gt,se,Te))}}function ae(se,fe,Te){var je=de(fe,Te);if(je>=0){for(var gt=fe.length-1;je<gt;)fe[je]=fe[++je];if(fe.length=gt,se){var Tt=se.ownerDocument;Tt&&(Re(Tt,se,Te),Te.ownerElement=null)}}else throw new H(w,new Error(se.tagName+"@"+Te))}oe.prototype={length:0,item:W.prototype.item,getNamedItem:function(se){for(var fe=this.length;fe--;){var Te=this[fe];if(Te.nodeName==se)return Te}},setNamedItem:function(se){var fe=se.ownerElement;if(fe&&fe!=this._ownerElement)throw new H($);var Te=this.getNamedItem(se.nodeName);return le(this._ownerElement,this,se,Te),Te},setNamedItemNS:function(se){var fe=se.ownerElement,Te;if(fe&&fe!=this._ownerElement)throw new H($);return Te=this.getNamedItemNS(se.namespaceURI,se.localName),le(this._ownerElement,this,se,Te),Te},removeNamedItem:function(se){var fe=this.getNamedItem(se);return ae(this._ownerElement,this,fe),fe},removeNamedItemNS:function(se,fe){var Te=this.getNamedItemNS(se,fe);return ae(this._ownerElement,this,Te),Te},getNamedItemNS:function(se,fe){for(var Te=this.length;Te--;){var je=this[Te];if(je.localName==fe&&je.namespaceURI==se)return je}return null}};function ie(){}ie.prototype={hasFeature:function(se,fe){return!0},createDocument:function(se,fe,Te){var je=new _e;if(je.implementation=this,je.childNodes=new W,je.doctype=Te||null,Te&&je.appendChild(Te),fe){var gt=je.createElementNS(se,fe);je.appendChild(gt)}return je},createDocumentType:function(se,fe,Te){var je=new qt;return je.name=se,je.nodeName=se,je.publicId=fe||"",je.systemId=Te||"",je}};function ee(){}ee.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(se,fe){return qe(this,se,fe)},replaceChild:function(se,fe){qe(this,se,fe,$e),fe&&this.removeChild(fe)},removeChild:function(se){return ze(this,se)},appendChild:function(se){return this.insertBefore(se,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(se){return Cn(this.ownerDocument||this,this,se)},normalize:function(){for(var se=this.firstChild;se;){var fe=se.nextSibling;fe&&fe.nodeType==g&&se.nodeType==g?(this.removeChild(fe),se.appendData(fe.data)):(se.normalize(),se=fe)}},isSupported:function(se,fe){return this.ownerDocument.implementation.hasFeature(se,fe)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(se){for(var fe=this;fe;){var Te=fe._nsMap;if(Te){for(var je in Te)if(Object.prototype.hasOwnProperty.call(Te,je)&&Te[je]===se)return je}fe=fe.nodeType==f?fe.ownerDocument:fe.parentNode}return null},lookupNamespaceURI:function(se){for(var fe=this;fe;){var Te=fe._nsMap;if(Te&&Object.prototype.hasOwnProperty.call(Te,se))return Te[se];fe=fe.nodeType==f?fe.ownerDocument:fe.parentNode}return null},isDefaultNamespace:function(se){var fe=this.lookupPrefix(se);return fe==null}};function pe(se){return se=="<"&&"&lt;"||se==">"&&"&gt;"||se=="&"&&"&amp;"||se=='"'&&"&quot;"||"&#"+se.charCodeAt()+";"}l(c,ee),l(c,ee.prototype);function ve(se,fe){if(fe(se))return!0;if(se=se.firstChild)do if(ve(se,fe))return!0;while(se=se.nextSibling)}function _e(){this.ownerDocument=this}function Le(se,fe,Te){se&&se._inc++;var je=Te.namespaceURI;je===t.XMLNS&&(fe._nsMap[Te.prefix?Te.localName:""]=Te.value)}function Re(se,fe,Te,je){se&&se._inc++;var gt=Te.namespaceURI;gt===t.XMLNS&&delete fe._nsMap[Te.prefix?Te.localName:""]}function ot(se,fe,Te){if(se&&se._inc){se._inc++;var je=fe.childNodes;if(Te)je[je.length++]=Te;else{for(var gt=fe.firstChild,Tt=0;gt;)je[Tt++]=gt,gt=gt.nextSibling;je.length=Tt,delete je[je.length]}}}function ze(se,fe){var Te=fe.previousSibling,je=fe.nextSibling;return Te?Te.nextSibling=je:se.firstChild=je,je?je.previousSibling=Te:se.lastChild=Te,fe.parentNode=null,fe.previousSibling=null,fe.nextSibling=null,ot(se.ownerDocument,se),fe}function mt(se){return se&&(se.nodeType===ee.DOCUMENT_NODE||se.nodeType===ee.DOCUMENT_FRAGMENT_NODE||se.nodeType===ee.ELEMENT_NODE)}function Je(se){return se&&(Rt(se)||Ve(se)||Pt(se)||se.nodeType===ee.DOCUMENT_FRAGMENT_NODE||se.nodeType===ee.COMMENT_NODE||se.nodeType===ee.PROCESSING_INSTRUCTION_NODE)}function Pt(se){return se&&se.nodeType===ee.DOCUMENT_TYPE_NODE}function Rt(se){return se&&se.nodeType===ee.ELEMENT_NODE}function Ve(se){return se&&se.nodeType===ee.TEXT_NODE}function Ne(se,fe){var Te=se.childNodes||[];if(e(Te,Rt)||Pt(fe))return!1;var je=e(Te,Pt);return!(fe&&je&&Te.indexOf(je)>Te.indexOf(fe))}function et(se,fe){var Te=se.childNodes||[];function je(Tt){return Rt(Tt)&&Tt!==fe}if(e(Te,je))return!1;var gt=e(Te,Pt);return!(fe&&gt&&Te.indexOf(gt)>Te.indexOf(fe))}function at(se,fe,Te){if(!mt(se))throw new H(F,"Unexpected parent node type "+se.nodeType);if(Te&&Te.parentNode!==se)throw new H(w,"child not in parent");if(!Je(fe)||Pt(fe)&&se.nodeType!==ee.DOCUMENT_NODE)throw new H(F,"Unexpected node type "+fe.nodeType+" for parent node type "+se.nodeType)}function Me(se,fe,Te){var je=se.childNodes||[],gt=fe.childNodes||[];if(fe.nodeType===ee.DOCUMENT_FRAGMENT_NODE){var Tt=gt.filter(Rt);if(Tt.length>1||e(gt,Ve))throw new H(F,"More than one element or text in fragment");if(Tt.length===1&&!Ne(se,Te))throw new H(F,"Element in fragment can not be inserted before doctype")}if(Rt(fe)&&!Ne(se,Te))throw new H(F,"Only one element can be added and only after doctype");if(Pt(fe)){if(e(je,Pt))throw new H(F,"Only one doctype is allowed");var be=e(je,Rt);if(Te&&je.indexOf(be)<je.indexOf(Te))throw new H(F,"Doctype can only be inserted before an element");if(!Te&&be)throw new H(F,"Doctype can not be appended since element is present")}}function $e(se,fe,Te){var je=se.childNodes||[],gt=fe.childNodes||[];if(fe.nodeType===ee.DOCUMENT_FRAGMENT_NODE){var Tt=gt.filter(Rt);if(Tt.length>1||e(gt,Ve))throw new H(F,"More than one element or text in fragment");if(Tt.length===1&&!et(se,Te))throw new H(F,"Element in fragment can not be inserted before doctype")}if(Rt(fe)&&!et(se,Te))throw new H(F,"Only one element can be added and only after doctype");if(Pt(fe)){let Ae=function(Xe){return Pt(Xe)&&Xe!==Te};var ye=Ae;if(e(je,Ae))throw new H(F,"Only one doctype is allowed");var be=e(je,Rt);if(Te&&je.indexOf(be)<je.indexOf(Te))throw new H(F,"Doctype can only be inserted before an element")}}function qe(se,fe,Te,je){at(se,fe,Te),se.nodeType===ee.DOCUMENT_NODE&&(je||Me)(se,fe,Te);var gt=fe.parentNode;if(gt&&gt.removeChild(fe),fe.nodeType===A){var Tt=fe.firstChild;if(Tt==null)return fe;var be=fe.lastChild}else Tt=be=fe;var ye=Te?Te.previousSibling:se.lastChild;Tt.previousSibling=ye,be.nextSibling=Te,ye?ye.nextSibling=Tt:se.firstChild=Tt,Te==null?se.lastChild=be:Te.previousSibling=be;do Tt.parentNode=se;while(Tt!==be&&(Tt=Tt.nextSibling));return ot(se.ownerDocument||se,se),fe.nodeType==A&&(fe.firstChild=fe.lastChild=null),fe}function Ye(se,fe){return fe.parentNode&&fe.parentNode.removeChild(fe),fe.parentNode=se,fe.previousSibling=se.lastChild,fe.nextSibling=null,fe.previousSibling?fe.previousSibling.nextSibling=fe:se.firstChild=fe,se.lastChild=fe,ot(se.ownerDocument,se,fe),fe}_e.prototype={nodeName:"#document",nodeType:D,doctype:null,documentElement:null,_inc:1,insertBefore:function(se,fe){if(se.nodeType==A){for(var Te=se.firstChild;Te;){var je=Te.nextSibling;this.insertBefore(Te,fe),Te=je}return se}return qe(this,se,fe),se.ownerDocument=this,this.documentElement===null&&se.nodeType===h&&(this.documentElement=se),se},removeChild:function(se){return this.documentElement==se&&(this.documentElement=null),ze(this,se)},replaceChild:function(se,fe){qe(this,se,fe,$e),se.ownerDocument=this,fe&&this.removeChild(fe),Rt(se)&&(this.documentElement=se)},importNode:function(se,fe){return ln(this,se,fe)},getElementById:function(se){var fe=null;return ve(this.documentElement,function(Te){if(Te.nodeType==h&&Te.getAttribute("id")==se)return fe=Te,!0}),fe},getElementsByClassName:function(se){var fe=a(se);return new Q(this,function(Te){var je=[];return fe.length>0&&ve(Te.documentElement,function(gt){if(gt!==Te&&gt.nodeType===h){var Tt=gt.getAttribute("class");if(Tt){var be=se===Tt;if(!be){var ye=a(Tt);be=fe.every(o(ye))}be&&je.push(gt)}}}),je})},createElement:function(se){var fe=new vt;fe.ownerDocument=this,fe.nodeName=se,fe.tagName=se,fe.localName=se,fe.childNodes=new W;var Te=fe.attributes=new oe;return Te._ownerElement=fe,fe},createDocumentFragment:function(){var se=new xt;return se.ownerDocument=this,se.childNodes=new W,se},createTextNode:function(se){var fe=new hr;return fe.ownerDocument=this,fe.appendData(se),fe},createComment:function(se){var fe=new Rr;return fe.ownerDocument=this,fe.appendData(se),fe},createCDATASection:function(se){var fe=new nr;return fe.ownerDocument=this,fe.appendData(se),fe},createProcessingInstruction:function(se,fe){var Te=new Ut;return Te.ownerDocument=this,Te.tagName=Te.nodeName=Te.target=se,Te.nodeValue=Te.data=fe,Te},createAttribute:function(se){var fe=new ut;return fe.ownerDocument=this,fe.name=se,fe.nodeName=se,fe.localName=se,fe.specified=!0,fe},createEntityReference:function(se){var fe=new Lr;return fe.ownerDocument=this,fe.nodeName=se,fe},createElementNS:function(se,fe){var Te=new vt,je=fe.split(":"),gt=Te.attributes=new oe;return Te.childNodes=new W,Te.ownerDocument=this,Te.nodeName=fe,Te.tagName=fe,Te.namespaceURI=se,je.length==2?(Te.prefix=je[0],Te.localName=je[1]):Te.localName=fe,gt._ownerElement=Te,Te},createAttributeNS:function(se,fe){var Te=new ut,je=fe.split(":");return Te.ownerDocument=this,Te.nodeName=fe,Te.name=fe,Te.namespaceURI=se,Te.specified=!0,je.length==2?(Te.prefix=je[0],Te.localName=je[1]):Te.localName=fe,Te}},u(_e,ee);function vt(){this._nsMap={}}vt.prototype={nodeType:h,hasAttribute:function(se){return this.getAttributeNode(se)!=null},getAttribute:function(se){var fe=this.getAttributeNode(se);return fe&&fe.value||""},getAttributeNode:function(se){return this.attributes.getNamedItem(se)},setAttribute:function(se,fe){var Te=this.ownerDocument.createAttribute(se);Te.value=Te.nodeValue=""+fe,this.setAttributeNode(Te)},removeAttribute:function(se){var fe=this.getAttributeNode(se);fe&&this.removeAttributeNode(fe)},appendChild:function(se){return se.nodeType===A?this.insertBefore(se,null):Ye(this,se)},setAttributeNode:function(se){return this.attributes.setNamedItem(se)},setAttributeNodeNS:function(se){return this.attributes.setNamedItemNS(se)},removeAttributeNode:function(se){return this.attributes.removeNamedItem(se.nodeName)},removeAttributeNS:function(se,fe){var Te=this.getAttributeNodeNS(se,fe);Te&&this.removeAttributeNode(Te)},hasAttributeNS:function(se,fe){return this.getAttributeNodeNS(se,fe)!=null},getAttributeNS:function(se,fe){var Te=this.getAttributeNodeNS(se,fe);return Te&&Te.value||""},setAttributeNS:function(se,fe,Te){var je=this.ownerDocument.createAttributeNS(se,fe);je.value=je.nodeValue=""+Te,this.setAttributeNode(je)},getAttributeNodeNS:function(se,fe){return this.attributes.getNamedItemNS(se,fe)},getElementsByTagName:function(se){return new Q(this,function(fe){var Te=[];return ve(fe,function(je){je!==fe&&je.nodeType==h&&(se==="*"||je.tagName==se)&&Te.push(je)}),Te})},getElementsByTagNameNS:function(se,fe){return new Q(this,function(Te){var je=[];return ve(Te,function(gt){gt!==Te&&gt.nodeType===h&&(se==="*"||gt.namespaceURI===se)&&(fe==="*"||gt.localName==fe)&&je.push(gt)}),je})}},_e.prototype.getElementsByTagName=vt.prototype.getElementsByTagName,_e.prototype.getElementsByTagNameNS=vt.prototype.getElementsByTagNameNS,u(vt,ee);function ut(){}ut.prototype.nodeType=f,u(ut,ee);function gr(){}gr.prototype={data:"",substringData:function(se,fe){return this.data.substring(se,se+fe)},appendData:function(se){se=this.data+se,this.nodeValue=this.data=se,this.length=se.length},insertData:function(se,fe){this.replaceData(se,0,fe)},appendChild:function(se){throw new Error(U[F])},deleteData:function(se,fe){this.replaceData(se,fe,"")},replaceData:function(se,fe,Te){var je=this.data.substring(0,se),gt=this.data.substring(se+fe);Te=je+Te+gt,this.nodeValue=this.data=Te,this.length=Te.length}},u(gr,ee);function hr(){}hr.prototype={nodeName:"#text",nodeType:g,splitText:function(se){var fe=this.data,Te=fe.substring(se);fe=fe.substring(0,se),this.data=this.nodeValue=fe,this.length=fe.length;var je=this.ownerDocument.createTextNode(Te);return this.parentNode&&this.parentNode.insertBefore(je,this.nextSibling),je}},u(hr,gr);function Rr(){}Rr.prototype={nodeName:"#comment",nodeType:k},u(Rr,gr);function nr(){}nr.prototype={nodeName:"#cdata-section",nodeType:v},u(nr,gr);function qt(){}qt.prototype.nodeType=I,u(qt,ee);function fr(){}fr.prototype.nodeType=R,u(fr,ee);function xr(){}xr.prototype.nodeType=_,u(xr,ee);function Lr(){}Lr.prototype.nodeType=y,u(Lr,ee);function xt(){}xt.prototype.nodeName="#document-fragment",xt.prototype.nodeType=A,u(xt,ee);function Ut(){}Ut.prototype.nodeType=C,u(Ut,ee);function rn(){}rn.prototype.serializeToString=function(se,fe,Te){return jt.call(se,fe,Te)},ee.prototype.toString=jt;function jt(se,fe){var Te=[],je=this.nodeType==9&&this.documentElement||this,gt=je.prefix,Tt=je.namespaceURI;if(Tt&&gt==null){var gt=je.lookupPrefix(Tt);if(gt==null)var be=[{namespace:Tt,prefix:null}]}return Hr(this,Te,se,fe,be),Te.join("")}function Tr(se,fe,Te){var je=se.prefix||"",gt=se.namespaceURI;if(!gt||je==="xml"&&gt===t.XML||gt===t.XMLNS)return!1;for(var Tt=Te.length;Tt--;){var be=Te[Tt];if(be.prefix===je)return be.namespace!==gt}return!0}function Or(se,fe,Te){se.push(" ",fe,'="',Te.replace(/[<>&"\t\n\r]/g,pe),'"')}function Hr(se,fe,Te,je,gt){if(gt||(gt=[]),je)if(se=je(se),se){if(typeof se=="string"){fe.push(se);return}}else return;switch(se.nodeType){case h:var Tt=se.attributes,be=Tt.length,Nt=se.firstChild,ye=se.tagName;Te=t.isHTML(se.namespaceURI)||Te;var Ae=ye;if(!Te&&!se.prefix&&se.namespaceURI){for(var Xe,Qe=0;Qe<Tt.length;Qe++)if(Tt.item(Qe).name==="xmlns"){Xe=Tt.item(Qe).value;break}if(!Xe)for(var St=gt.length-1;St>=0;St--){var Lt=gt[St];if(Lt.prefix===""&&Lt.namespace===se.namespaceURI){Xe=Lt.namespace;break}}if(Xe!==se.namespaceURI)for(var St=gt.length-1;St>=0;St--){var Lt=gt[St];if(Lt.namespace===se.namespaceURI){Lt.prefix&&(Ae=Lt.prefix+":"+ye);break}}}fe.push("<",Ae);for(var dt=0;dt<be;dt++){var _t=Tt.item(dt);_t.prefix=="xmlns"?gt.push({prefix:_t.localName,namespace:_t.value}):_t.nodeName=="xmlns"&&gt.push({prefix:"",namespace:_t.value})}for(var dt=0;dt<be;dt++){var _t=Tt.item(dt);if(Tr(_t,Te,gt)){var Vt=_t.prefix||"",Kt=_t.namespaceURI;Or(fe,Vt?"xmlns:"+Vt:"xmlns",Kt),gt.push({prefix:Vt,namespace:Kt})}Hr(_t,fe,Te,je,gt)}if(ye===Ae&&Tr(se,Te,gt)){var Vt=se.prefix||"",Kt=se.namespaceURI;Or(fe,Vt?"xmlns:"+Vt:"xmlns",Kt),gt.push({prefix:Vt,namespace:Kt})}if(Nt||Te&&!/^(?:meta|link|img|br|hr|input)$/i.test(ye)){if(fe.push(">"),Te&&/^script$/i.test(ye))for(;Nt;)Nt.data?fe.push(Nt.data):Hr(Nt,fe,Te,je,gt.slice()),Nt=Nt.nextSibling;else for(;Nt;)Hr(Nt,fe,Te,je,gt.slice()),Nt=Nt.nextSibling;fe.push("</",Ae,">")}else fe.push("/>");return;case D:case A:for(var Nt=se.firstChild;Nt;)Hr(Nt,fe,Te,je,gt.slice()),Nt=Nt.nextSibling;return;case f:return Or(fe,se.name,se.value);case g:return fe.push(se.data.replace(/[<&>]/g,pe));case v:return fe.push("<![CDATA[",se.data,"]]>");case k:return fe.push("<!--",se.data,"-->");case I:var vr=se.publicId,Ct=se.systemId;if(fe.push("<!DOCTYPE ",se.name),vr)fe.push(" PUBLIC ",vr),Ct&&Ct!="."&&fe.push(" ",Ct),fe.push(">");else if(Ct&&Ct!=".")fe.push(" SYSTEM ",Ct,">");else{var _r=se.internalSubset;_r&&fe.push(" [",_r,"]"),fe.push(">")}return;case C:return fe.push("<?",se.target," ",se.data,"?>");case y:return fe.push("&",se.nodeName,";");default:fe.push("??",se.nodeName)}}function ln(se,fe,Te){var je;switch(fe.nodeType){case h:je=fe.cloneNode(!1),je.ownerDocument=se;case A:break;case f:Te=!0;break}if(je||(je=fe.cloneNode(!1)),je.ownerDocument=se,je.parentNode=null,Te)for(var gt=fe.firstChild;gt;)je.appendChild(ln(se,gt,Te)),gt=gt.nextSibling;return je}function Cn(se,fe,Te){var je=new fe.constructor;for(var gt in fe)if(Object.prototype.hasOwnProperty.call(fe,gt)){var Tt=fe[gt];typeof Tt!="object"&&Tt!=je[gt]&&(je[gt]=Tt)}switch(fe.childNodes&&(je.childNodes=new W),je.ownerDocument=se,je.nodeType){case h:var be=fe.attributes,ye=je.attributes=new oe,Ae=be.length;ye._ownerElement=je;for(var Xe=0;Xe<Ae;Xe++)je.setAttributeNode(Cn(se,be.item(Xe),!0));break;case f:Te=!0}if(Te)for(var Qe=fe.firstChild;Qe;)je.appendChild(Cn(se,Qe,Te)),Qe=Qe.nextSibling;return je}function wn(se,fe,Te){se[fe]=Te}try{if(Object.defineProperty){let se=function(fe){switch(fe.nodeType){case h:case A:var Te=[];for(fe=fe.firstChild;fe;)fe.nodeType!==7&&fe.nodeType!==8&&Te.push(se(fe)),fe=fe.nextSibling;return Te.join("");default:return fe.nodeValue}};var Fr=se;Object.defineProperty(Q.prototype,"length",{get:function(){return te(this),this.$$length}}),Object.defineProperty(ee.prototype,"textContent",{get:function(){return se(this)},set:function(fe){switch(this.nodeType){case h:case A:for(;this.firstChild;)this.removeChild(this.firstChild);(fe||String(fe))&&this.appendChild(this.ownerDocument.createTextNode(fe));break;default:this.data=fe,this.value=fe,this.nodeValue=fe}}}),wn=function(fe,Te,je){fe["$$"+Te]=je}}}catch{}return Sc.DocumentType=qt,Sc.DOMException=H,Sc.DOMImplementation=ie,Sc.Element=vt,Sc.Node=ee,Sc.NodeList=W,Sc.XMLSerializer=rn,Sc}var Lg={},SC={},k4;function uue(){return k4||(k4=1,(function(r){var e=IS().freeze;r.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),r.entityMap=r.HTML_ENTITIES})(SC)),SC}var zy={},A4;function cue(){if(A4)return zy;A4=1;var r=IS().NAMESPACE,e=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,t=new RegExp("[\\-\\.0-9"+e.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),n=new RegExp("^"+e.source+t.source+"*(?::"+e.source+t.source+"*)?$"),i=0,s=1,a=2,o=3,l=4,u=5,c=6,h=7;function f(F,w){this.message=F,this.locator=w,Error.captureStackTrace&&Error.captureStackTrace(this,f)}f.prototype=new Error,f.prototype.name=f.name;function g(){}g.prototype={parse:function(F,w,$){var H=this.domBuilder;H.startDocument(),I(w,w={}),v(F,w,$,H,this.errorHandler),H.endDocument()}};function v(F,w,$,H,W){function Q(vt){if(vt>65535){vt-=65536;var ut=55296+(vt>>10),gr=56320+(vt&1023);return String.fromCharCode(ut,gr)}else return String.fromCharCode(vt)}function te(vt){var ut=vt.slice(1,-1);return Object.hasOwnProperty.call($,ut)?$[ut]:ut.charAt(0)==="#"?Q(parseInt(ut.substr(1).replace("x","0x"))):(W.error("entity not found:"+vt),vt)}function oe(vt){if(vt>_e){var ut=F.substring(_e,vt).replace(/&#?\w+;/g,te);ee&&de(_e),H.characters(ut,0,vt-_e),_e=vt}}function de(vt,ut){for(;vt>=ae&&(ut=ie.exec(F));)le=ut.index,ae=le+ut[0].length,ee.lineNumber++;ee.columnNumber=vt-le+1}for(var le=0,ae=0,ie=/.*(?:\r\n?|\n)|.*$/g,ee=H.locator,pe=[{currentNSMap:w}],ve={},_e=0;;){try{var Le=F.indexOf("<",_e);if(Le<0){if(!F.substr(_e).match(/^\s*$/)){var Re=H.doc,ot=Re.createTextNode(F.substr(_e));Re.appendChild(ot),H.currentElement=ot}return}switch(Le>_e&&oe(Le),F.charAt(Le+1)){case"/":var at=F.indexOf(">",Le+3),ze=F.substring(Le+2,at).replace(/[ \t\n\r]+$/g,""),mt=pe.pop();at<0?(ze=F.substring(Le+2).replace(/[\s<].*/,""),W.error("end tag name: "+ze+" is not complete:"+mt.tagName),at=Le+1+ze.length):ze.match(/\s</)&&(ze=ze.replace(/[\s<].*/,""),W.error("end tag name: "+ze+" maybe not complete"),at=Le+1+ze.length);var Je=mt.localNSMap,Pt=mt.tagName==ze,Rt=Pt||mt.tagName&&mt.tagName.toLowerCase()==ze.toLowerCase();if(Rt){if(H.endElement(mt.uri,mt.localName,ze),Je)for(var Ve in Je)Object.prototype.hasOwnProperty.call(Je,Ve)&&H.endPrefixMapping(Ve);Pt||W.fatalError("end tag name: "+ze+" is not match the current start tagName:"+mt.tagName)}else pe.push(mt);at++;break;case"?":ee&&de(Le),at=R(F,Le,H);break;case"!":ee&&de(Le),at=A(F,Le,H,W);break;default:ee&&de(Le);var Ne=new N,et=pe[pe.length-1].currentNSMap,at=_(F,Le,Ne,et,te,W),Me=Ne.length;if(!Ne.closed&&D(F,at,Ne.tagName,ve)&&(Ne.closed=!0,$.nbsp||W.warning("unclosed xml attribute")),ee&&Me){for(var $e=y(ee,{}),qe=0;qe<Me;qe++){var Ye=Ne[qe];de(Ye.offset),Ye.locator=y(ee,{})}H.locator=$e,C(Ne,H,et)&&pe.push(Ne),H.locator=ee}else C(Ne,H,et)&&pe.push(Ne);r.isHTML(Ne.uri)&&!Ne.closed?at=k(F,at,Ne.tagName,te,H):at++}}catch(vt){if(vt instanceof f)throw vt;W.error("element parse error: "+vt),at=-1}at>_e?_e=at:oe(Math.max(Le,_e)+1)}}function y(F,w){return w.lineNumber=F.lineNumber,w.columnNumber=F.columnNumber,w}function _(F,w,$,H,W,Q){function te(ee,pe,ve){$.attributeNames.hasOwnProperty(ee)&&Q.fatalError("Attribute "+ee+" redefined"),$.addValue(ee,pe.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,W),ve)}for(var oe,de,le=++w,ae=i;;){var ie=F.charAt(le);switch(ie){case"=":if(ae===s)oe=F.slice(w,le),ae=o;else if(ae===a)ae=o;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(ae===o||ae===s)if(ae===s&&(Q.warning('attribute value must after "="'),oe=F.slice(w,le)),w=le+1,le=F.indexOf(ie,w),le>0)de=F.slice(w,le),te(oe,de,w-1),ae=u;else throw new Error("attribute value no end '"+ie+"' match");else if(ae==l)de=F.slice(w,le),te(oe,de,w),Q.warning('attribute "'+oe+'" missed start quot('+ie+")!!"),w=le+1,ae=u;else throw new Error('attribute value must after "="');break;case"/":switch(ae){case i:$.setTagName(F.slice(w,le));case u:case c:case h:ae=h,$.closed=!0;case l:case s:break;case a:$.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return Q.error("unexpected end of input"),ae==i&&$.setTagName(F.slice(w,le)),le;case">":switch(ae){case i:$.setTagName(F.slice(w,le));case u:case c:case h:break;case l:case s:de=F.slice(w,le),de.slice(-1)==="/"&&($.closed=!0,de=de.slice(0,-1));case a:ae===a&&(de=oe),ae==l?(Q.warning('attribute "'+de+'" missed quot(")!'),te(oe,de,w)):((!r.isHTML(H[""])||!de.match(/^(?:disabled|checked|selected)$/i))&&Q.warning('attribute "'+de+'" missed value!! "'+de+'" instead!!'),te(de,de,w));break;case o:throw new Error("attribute value missed!!")}return le;case"":ie=" ";default:if(ie<=" ")switch(ae){case i:$.setTagName(F.slice(w,le)),ae=c;break;case s:oe=F.slice(w,le),ae=a;break;case l:var de=F.slice(w,le);Q.warning('attribute "'+de+'" missed quot(")!!'),te(oe,de,w);case u:ae=c;break}else switch(ae){case a:$.tagName,(!r.isHTML(H[""])||!oe.match(/^(?:disabled|checked|selected)$/i))&&Q.warning('attribute "'+oe+'" missed value!! "'+oe+'" instead2!!'),te(oe,oe,w),w=le,ae=s;break;case u:Q.warning('attribute space is required"'+oe+'"!!');case c:ae=s,w=le;break;case o:ae=l,w=le;break;case h:throw new Error("elements closed character '/' and '>' must be connected to")}}le++}}function C(F,w,$){for(var H=F.tagName,W=null,ie=F.length;ie--;){var Q=F[ie],te=Q.qName,oe=Q.value,ee=te.indexOf(":");if(ee>0)var de=Q.prefix=te.slice(0,ee),le=te.slice(ee+1),ae=de==="xmlns"&&le;else le=te,de=null,ae=te==="xmlns"&&"";Q.localName=le,ae!==!1&&(W==null&&(W={},I($,$={})),$[ae]=W[ae]=oe,Q.uri=r.XMLNS,w.startPrefixMapping(ae,oe))}for(var ie=F.length;ie--;){Q=F[ie];var de=Q.prefix;de&&(de==="xml"&&(Q.uri=r.XML),de!=="xmlns"&&(Q.uri=$[de||""]))}var ee=H.indexOf(":");ee>0?(de=F.prefix=H.slice(0,ee),le=F.localName=H.slice(ee+1)):(de=null,le=F.localName=H);var pe=F.uri=$[de||""];if(w.startElement(pe,le,H,F),F.closed){if(w.endElement(pe,le,H),W)for(de in W)Object.prototype.hasOwnProperty.call(W,de)&&w.endPrefixMapping(de)}else return F.currentNSMap=$,F.localNSMap=W,!0}function k(F,w,$,H,W){if(/^(?:script|textarea)$/i.test($)){var Q=F.indexOf("</"+$+">",w),te=F.substring(w+1,Q);if(/[&<]/.test(te))return/^script$/i.test($)?(W.characters(te,0,te.length),Q):(te=te.replace(/&#?\w+;/g,H),W.characters(te,0,te.length),Q)}return w+1}function D(F,w,$,H){var W=H[$];return W==null&&(W=F.lastIndexOf("</"+$+">"),W<w&&(W=F.lastIndexOf("</"+$)),H[$]=W),W<w}function I(F,w){for(var $ in F)Object.prototype.hasOwnProperty.call(F,$)&&(w[$]=F[$])}function A(F,w,$,H){var W=F.charAt(w+2);switch(W){case"-":if(F.charAt(w+3)==="-"){var Q=F.indexOf("-->",w+4);return Q>w?($.comment(F,w+4,Q-w-4),Q+3):(H.error("Unclosed comment"),-1)}else return-1;default:if(F.substr(w+3,6)=="CDATA["){var Q=F.indexOf("]]>",w+9);return $.startCDATA(),$.characters(F,w+9,Q-w-9),$.endCDATA(),Q+3}var te=U(F,w),oe=te.length;if(oe>1&&/!doctype/i.test(te[0][0])){var de=te[1][0],le=!1,ae=!1;oe>3&&(/^public$/i.test(te[2][0])?(le=te[3][0],ae=oe>4&&te[4][0]):/^system$/i.test(te[2][0])&&(ae=te[3][0]));var ie=te[oe-1];return $.startDTD(de,le,ae),$.endDTD(),ie.index+ie[0].length}}return-1}function R(F,w,$){var H=F.indexOf("?>",w);if(H){var W=F.substring(w,H).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return W?(W[0].length,$.processingInstruction(W[1],W[2]),H+2):-1}return-1}function N(){this.attributeNames={}}N.prototype={setTagName:function(F){if(!n.test(F))throw new Error("invalid tagName:"+F);this.tagName=F},addValue:function(F,w,$){if(!n.test(F))throw new Error("invalid attribute:"+F);this.attributeNames[F]=this.length,this[this.length++]={qName:F,value:w,offset:$}},length:0,getLocalName:function(F){return this[F].localName},getLocator:function(F){return this[F].locator},getQName:function(F){return this[F].qName},getURI:function(F){return this[F].uri},getValue:function(F){return this[F].value}};function U(F,w){var $,H=[],W=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(W.lastIndex=w,W.exec(F);$=W.exec(F);)if(H.push($),$[1])return H}return zy.XMLReader=g,zy.ParseError=f,zy}var D4;function due(){if(D4)return Lg;D4=1;var r=IS(),e=O5(),t=uue(),n=cue(),i=e.DOMImplementation,s=r.NAMESPACE,a=n.ParseError,o=n.XMLReader;function l(_){return _.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function u(_){this.options=_||{locator:{}}}u.prototype.parseFromString=function(_,C){var k=this.options,D=new o,I=k.domBuilder||new h,A=k.errorHandler,R=k.locator,N=k.xmlns||{},U=/\/x?html?$/.test(C),F=U?t.HTML_ENTITIES:t.XML_ENTITIES;R&&I.setDocumentLocator(R),D.errorHandler=c(A,I,R),D.domBuilder=k.domBuilder||I,U&&(N[""]=s.HTML),N.xml=N.xml||s.XML;var w=k.normalizeLineEndings||l;return _&&typeof _=="string"?D.parse(w(_),N,F):D.errorHandler.error("invalid doc source"),I.doc};function c(_,C,k){if(!_){if(C instanceof h)return C;_=C}var D={},I=_ instanceof Function;k=k||{};function A(R){var N=_[R];!N&&I&&(N=_.length==2?function(U){_(R,U)}:_),D[R]=N&&function(U){N("[xmldom "+R+"]	"+U+g(k))}||function(){}}return A("warning"),A("error"),A("fatalError"),D}function h(){this.cdata=!1}function f(_,C){C.lineNumber=_.lineNumber,C.columnNumber=_.columnNumber}h.prototype={startDocument:function(){this.doc=new i().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(_,C,k,D){var I=this.doc,A=I.createElementNS(_,k||C),R=D.length;y(this,A),this.currentElement=A,this.locator&&f(this.locator,A);for(var N=0;N<R;N++){var _=D.getURI(N),U=D.getValue(N),k=D.getQName(N),F=I.createAttributeNS(_,k);this.locator&&f(D.getLocator(N),F),F.value=F.nodeValue=U,A.setAttributeNode(F)}},endElement:function(_,C,k){var D=this.currentElement;D.tagName,this.currentElement=D.parentNode},startPrefixMapping:function(_,C){},endPrefixMapping:function(_){},processingInstruction:function(_,C){var k=this.doc.createProcessingInstruction(_,C);this.locator&&f(this.locator,k),y(this,k)},ignorableWhitespace:function(_,C,k){},characters:function(_,C,k){if(_=v.apply(this,arguments),_){if(this.cdata)var D=this.doc.createCDATASection(_);else var D=this.doc.createTextNode(_);this.currentElement?this.currentElement.appendChild(D):/^\s*$/.test(_)&&this.doc.appendChild(D),this.locator&&f(this.locator,D)}},skippedEntity:function(_){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(_){(this.locator=_)&&(_.lineNumber=0)},comment:function(_,C,k){_=v.apply(this,arguments);var D=this.doc.createComment(_);this.locator&&f(this.locator,D),y(this,D)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(_,C,k){var D=this.doc.implementation;if(D&&D.createDocumentType){var I=D.createDocumentType(_,C,k);this.locator&&f(this.locator,I),y(this,I),this.doc.doctype=I}},warning:function(_){console.warn("[xmldom warning]	"+_,g(this.locator))},error:function(_){console.error("[xmldom error]	"+_,g(this.locator))},fatalError:function(_){throw new a(_,this.locator)}};function g(_){if(_)return`
@`+(_.systemId||"")+"#[line:"+_.lineNumber+",col:"+_.columnNumber+"]"}function v(_,C,k){return typeof _=="string"?_.substr(C,k):_.length>=C+k||C?new java.lang.String(_,C,k)+"":_}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(_){h.prototype[_]=function(){return null}});function y(_,C){_.currentElement?_.currentElement.appendChild(C):_.doc.appendChild(C)}return Lg.__DOMHandler=h,Lg.normalizeLineEndings=l,Lg.DOMParser=u,Lg}var I4;function hue(){if(I4)return Rg;I4=1;var r=O5();return Rg.DOMImplementation=r.DOMImplementation,Rg.XMLSerializer=r.XMLSerializer,Rg.DOMParser=due().DOMParser,Rg}var M5=hue();/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const P4=r=>!!r&&typeof r=="object",ns=(...r)=>r.reduce((e,t)=>(typeof t!="object"||Object.keys(t).forEach(n=>{Array.isArray(e[n])&&Array.isArray(t[n])?e[n]=e[n].concat(t[n]):P4(e[n])&&P4(t[n])?e[n]=ns(e[n],t[n]):e[n]=t[n]}),e),{}),F5=r=>Object.keys(r).map(e=>r[e]),fue=(r,e)=>{const t=[];for(let n=r;n<e;n++)t.push(n);return t},nm=r=>r.reduce((e,t)=>e.concat(t),[]),B5=r=>{if(!r.length)return[];const e=[];for(let t=0;t<r.length;t++)e.push(r[t]);return e},pue=(r,e)=>r.reduce((t,n,i)=>(n[e]&&t.push(i),t),[]),mue=(r,e)=>F5(r.reduce((t,n)=>(n.forEach(i=>{t[e(i)]=i}),t),{}));var im={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const N0=({baseUrl:r="",source:e="",range:t="",indexRange:n=""})=>{const i={uri:e,resolvedUri:yv(r||"",e)};if(t||n){const a=(t||n).split("-");let o=X.BigInt?X.BigInt(a[0]):parseInt(a[0],10),l=X.BigInt?X.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let u;typeof l=="bigint"||typeof o=="bigint"?u=X.BigInt(l)-X.BigInt(o)+X.BigInt(1):u=l-o+1,typeof u=="bigint"&&u<Number.MAX_SAFE_INTEGER&&(u=Number(u)),i.byterange={length:u,offset:o}}return i},gue=r=>{let e;return typeof r.offset=="bigint"||typeof r.length=="bigint"?e=X.BigInt(r.offset)+X.BigInt(r.length)-X.BigInt(1):e=r.offset+r.length-1,`${r.offset}-${e}`},R4=r=>(r&&typeof r!="number"&&(r=parseInt(r,10)),isNaN(r)?null:r),vue={static(r){const{duration:e,timescale:t=1,sourceDuration:n,periodDuration:i}=r,s=R4(r.endNumber),a=e/t;return typeof s=="number"?{start:0,end:s}:typeof i=="number"?{start:0,end:i/a}:{start:0,end:n/a}},dynamic(r){const{NOW:e,clientOffset:t,availabilityStartTime:n,timescale:i=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=r,u=R4(r.endNumber),c=(e+t)/1e3,h=n+a,g=c+o-h,v=Math.ceil(g*i/s),y=Math.floor((c-h-l)*i/s),_=Math.floor((c-h)*i/s);return{start:Math.max(0,y),end:typeof u=="number"?u:Math.min(v,_)}}},yue=r=>e=>{const{duration:t,timescale:n=1,periodStart:i,startNumber:s=1}=r;return{number:s+e,duration:t/n,timeline:i,time:e*t}},Wk=r=>{const{type:e,duration:t,timescale:n=1,periodDuration:i,sourceDuration:s}=r,{start:a,end:o}=vue[e](r),l=fue(a,o).map(yue(r));if(e==="static"){const u=l.length-1,c=typeof i=="number"?i:s;l[u].duration=c-t/n*u}return l},N5=r=>{const{baseUrl:e,initialization:t={},sourceDuration:n,indexRange:i="",periodStart:s,presentationTime:a,number:o=0,duration:l}=r;if(!e)throw new Error(im.NO_BASE_URL);const u=N0({baseUrl:e,source:t.sourceURL,range:t.range}),c=N0({baseUrl:e,source:e,indexRange:i});if(c.map=u,l){const h=Wk(r);h.length&&(c.duration=h[0].duration,c.timeline=h[0].timeline)}else n&&(c.duration=n,c.timeline=s);return c.presentationTime=a||s,c.number=o,[c]},xv=(r,e,t)=>{const n=r.sidx.map?r.sidx.map:null,i=r.sidx.duration,s=r.timeline||0,a=r.sidx.byterange,o=a.offset+a.length,l=e.timescale,u=e.references.filter(_=>_.referenceType!==1),c=[],h=r.endList?"static":"dynamic",f=r.sidx.timeline;let g=f,v=r.mediaSequence||0,y;typeof e.firstOffset=="bigint"?y=X.BigInt(o)+e.firstOffset:y=o+e.firstOffset;for(let _=0;_<u.length;_++){const C=e.references[_],k=C.referencedSize,D=C.subsegmentDuration;let I;typeof y=="bigint"?I=y+X.BigInt(k)-X.BigInt(1):I=y+k-1;const A=`${y}-${I}`,N=N5({baseUrl:t,timescale:l,timeline:s,periodStart:f,presentationTime:g,number:v,duration:D,sourceDuration:i,indexRange:A,type:h})[0];n&&(N.map=n),c.push(N),typeof y=="bigint"?y+=X.BigInt(k):y+=k,g+=D/l,v++}return r.segments=c,r},xue=["AUDIO","SUBTITLES"],_ue=1/60,U5=r=>mue(r,({timeline:e})=>e).sort((e,t)=>e.timeline>t.timeline?1:-1),bue=(r,e)=>{for(let t=0;t<r.length;t++)if(r[t].attributes.NAME===e)return r[t];return null},L4=r=>{let e=[];return lue(r,xue,(t,n,i,s)=>{e=e.concat(t.playlists||[])}),e},O4=({playlist:r,mediaSequence:e})=>{r.mediaSequence=e,r.segments.forEach((t,n)=>{t.number=r.mediaSequence+n})},Sue=({oldPlaylists:r,newPlaylists:e,timelineStarts:t})=>{e.forEach(n=>{n.discontinuitySequence=t.findIndex(function({timeline:l}){return l===n.timeline});const i=bue(r,n.attributes.NAME);if(!i||n.sidx)return;const s=n.segments[0],a=i.segments.findIndex(function(l){return Math.abs(l.presentationTime-s.presentationTime)<_ue});if(a===-1){O4({playlist:n,mediaSequence:i.mediaSequence+i.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!i.segments.length&&n.timeline>i.timeline||i.segments.length&&n.timeline>i.segments[i.segments.length-1].timeline)&&n.discontinuitySequence--;return}i.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),O4({playlist:n,mediaSequence:i.segments[a].number})})},Tue=({oldManifest:r,newManifest:e})=>{const t=r.playlists.concat(L4(r)),n=e.playlists.concat(L4(e));return e.timelineStarts=U5([r.timelineStarts,e.timelineStarts]),Sue({oldPlaylists:t,newPlaylists:n,timelineStarts:e.timelineStarts}),e},Ef=r=>r&&r.uri+"-"+gue(r.byterange),TC=r=>{const e=r.reduce(function(n,i){return n[i.attributes.baseUrl]||(n[i.attributes.baseUrl]=[]),n[i.attributes.baseUrl].push(i),n},{});let t=[];return Object.values(e).forEach(n=>{const i=F5(n.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));t=t.concat(i)}),t.map(n=>(n.discontinuityStarts=pue(n.segments||[],"discontinuity"),n))},qk=(r,e)=>{const t=Ef(r.sidx),n=t&&e[t]&&e[t].sidx;return n&&xv(r,n,r.sidx.resolvedUri),r},Cue=(r,e={})=>{if(!Object.keys(e).length)return r;for(const t in r)r[t]=qk(r[t],e);return r},wue=({attributes:r,segments:e,sidx:t,mediaSequence:n,discontinuitySequence:i,discontinuityStarts:s},a)=>{const o={attributes:{NAME:r.id,BANDWIDTH:r.bandwidth,CODECS:r.codecs,"PROGRAM-ID":1},uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,discontinuitySequence:i,discontinuityStarts:s,timelineStarts:r.timelineStarts,mediaSequence:n,segments:e};return r.contentProtection&&(o.contentProtection=r.contentProtection),r.serviceLocation&&(o.attributes.serviceLocation=r.serviceLocation),t&&(o.sidx=t),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},Eue=({attributes:r,segments:e,mediaSequence:t,discontinuityStarts:n,discontinuitySequence:i})=>{typeof e>"u"&&(e=[{uri:r.baseUrl,timeline:r.periodStart,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration);const s={NAME:r.id,BANDWIDTH:r.bandwidth,"PROGRAM-ID":1};r.codecs&&(s.CODECS=r.codecs);const a={attributes:s,uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,timelineStarts:r.timelineStarts,discontinuityStarts:n,discontinuitySequence:i,mediaSequence:t,segments:e};return r.serviceLocation&&(a.attributes.serviceLocation=r.serviceLocation),a},kue=(r,e={},t=!1)=>{let n;const i=r.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let u=a.attributes.label||"main";if(l&&!a.attributes.label){const h=o?` (${o})`:"";u=`${a.attributes.lang}${h}`}s[u]||(s[u]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const c=qk(wue(a,t),e);return s[u].playlists.push(c),typeof n>"u"&&o==="main"&&(n=a,n.default=!0),s},{});if(!n){const s=Object.keys(i)[0];i[s].default=!0}return i},Aue=(r,e={})=>r.reduce((t,n)=>{const i=n.attributes.label||n.attributes.lang||"text",s=n.attributes.lang||"und";return t[i]||(t[i]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),t[i].playlists.push(qk(Eue(n),e)),t},{}),Due=r=>r.reduce((e,t)=>(t&&t.forEach(n=>{const{channel:i,language:s}=n;e[s]={autoselect:!1,default:!1,instreamId:i,language:s},n.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[s].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[s]["3D"]=n["3D"])}),e),{}),Iue=({attributes:r,segments:e,sidx:t,discontinuityStarts:n})=>{const i={attributes:{NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth,"PROGRAM-ID":1},uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,discontinuityStarts:n,timelineStarts:r.timelineStarts,segments:e};return r.frameRate&&(i.attributes["FRAME-RATE"]=r.frameRate),r.contentProtection&&(i.contentProtection=r.contentProtection),r.serviceLocation&&(i.attributes.serviceLocation=r.serviceLocation),t&&(i.sidx=t),i},Pue=({attributes:r})=>r.mimeType==="video/mp4"||r.mimeType==="video/webm"||r.contentType==="video",Rue=({attributes:r})=>r.mimeType==="audio/mp4"||r.mimeType==="audio/webm"||r.contentType==="audio",Lue=({attributes:r})=>r.mimeType==="text/vtt"||r.contentType==="text",Oue=(r,e)=>{r.forEach(t=>{t.mediaSequence=0,t.discontinuitySequence=e.findIndex(function({timeline:n}){return n===t.timeline}),t.segments&&t.segments.forEach((n,i)=>{n.number=i})})},M4=r=>r?Object.keys(r).reduce((e,t)=>{const n=r[t];return e.concat(n.playlists)},[]):[],Mue=({dashPlaylists:r,locations:e,contentSteering:t,sidxMapping:n={},previousManifest:i,eventStream:s})=>{if(!r.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:u}=r[0].attributes,c=TC(r.filter(Pue)).map(Iue),h=TC(r.filter(Rue)),f=TC(r.filter(Lue)),g=r.map(I=>I.attributes.captionServices).filter(Boolean),v={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:Cue(c,n)};u>=0&&(v.minimumUpdatePeriod=u*1e3),e&&(v.locations=e),t&&(v.contentSteering=t),o==="dynamic"&&(v.suggestedPresentationDelay=l),s&&s.length>0&&(v.eventStream=s);const y=v.playlists.length===0,_=h.length?kue(h,n,y):null,C=f.length?Aue(f,n):null,k=c.concat(M4(_),M4(C)),D=k.map(({timelineStarts:I})=>I);return v.timelineStarts=U5(D),Oue(k,v.timelineStarts),_&&(v.mediaGroups.AUDIO.audio=_),C&&(v.mediaGroups.SUBTITLES.subs=C),g.length&&(v.mediaGroups["CLOSED-CAPTIONS"].cc=Due(g)),i?Tue({oldManifest:i,newManifest:v}):v},Fue=(r,e,t)=>{const{NOW:n,clientOffset:i,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=r,u=(n+i)/1e3,c=s+o,f=u+l-c;return Math.ceil((f*a-e)/t)},$5=(r,e)=>{const{type:t,minimumUpdatePeriod:n=0,media:i="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=r,u=[];let c=-1;for(let h=0;h<e.length;h++){const f=e[h],g=f.d,v=f.r||0,y=f.t||0;c<0&&(c=y),y&&y>c&&(c=y);let _;if(v<0){const D=h+1;D===e.length?t==="dynamic"&&n>0&&i.indexOf("$Number$")>0?_=Fue(r,c,g):_=(s*a-c)/g:_=(e[D].t-c)/g}else _=v+1;const C=o+u.length+_;let k=o+u.length;for(;k<C;)u.push({number:k,duration:g/a,time:c,timeline:l}),c+=g,k++}return u},Bue=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Nue=r=>(e,t,n,i)=>{if(e==="$$")return"$";if(typeof r[t]>"u")return e;const s=""+r[t];return t==="RepresentationID"||(n?i=parseInt(i,10):i=1,s.length>=i)?s:`${new Array(i-s.length+1).join("0")}${s}`},F4=(r,e)=>r.replace(Bue,Nue(e)),Uue=(r,e)=>!r.duration&&!e?[{number:r.startNumber||1,duration:r.sourceDuration,time:0,timeline:r.periodStart}]:r.duration?Wk(r):$5(r,e),$ue=(r,e)=>{const t={RepresentationID:r.id,Bandwidth:r.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=r,i=N0({baseUrl:r.baseUrl,source:F4(n.sourceURL,t),range:n.range});return Uue(r,e).map(a=>{t.Number=a.number,t.Time=a.time;const o=F4(r.media||"",t),l=r.timescale||1,u=r.presentationTimeOffset||0,c=r.periodStart+(a.time-u)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:yv(r.baseUrl||"",o),map:i,number:a.number,presentationTime:c}})},jue=(r,e)=>{const{baseUrl:t,initialization:n={}}=r,i=N0({baseUrl:t,source:n.sourceURL,range:n.range}),s=N0({baseUrl:t,source:e.media,range:e.mediaRange});return s.map=i,s},zue=(r,e)=>{const{duration:t,segmentUrls:n=[],periodStart:i}=r;if(!t&&!e||t&&e)throw new Error(im.SEGMENT_TIME_UNSPECIFIED);const s=n.map(l=>jue(r,l));let a;return t&&(a=Wk(r)),e&&(a=$5(r,e)),a.map((l,u)=>{if(s[u]){const c=s[u],h=r.timescale||1,f=r.presentationTimeOffset||0;return c.timeline=l.timeline,c.duration=l.duration,c.number=l.number,c.presentationTime=i+(l.time-f)/h,c}}).filter(l=>l)},Hue=({attributes:r,segmentInfo:e})=>{let t,n;e.template?(n=$ue,t=ns(r,e.template)):e.base?(n=N5,t=ns(r,e.base)):e.list&&(n=zue,t=ns(r,e.list));const i={attributes:r};if(!n)return i;const s=n(t,e.segmentTimeline);if(t.duration){const{duration:a,timescale:o=1}=t;t.duration=a/o}else s.length?t.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):t.duration=0;return i.attributes=t,i.segments=s,e.base&&t.indexRange&&(i.sidx=s[0],i.segments=[]),i},Vue=r=>r.map(Hue),Zn=(r,e)=>B5(r.childNodes).filter(({tagName:t})=>t===e),_v=r=>r.textContent.trim(),Wue=r=>parseFloat(r.split("/").reduce((e,t)=>e/t)),ep=r=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(r);if(!o)return 0;const[l,u,c,h,f,g]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(u||0)*2592e3+parseFloat(c||0)*86400+parseFloat(h||0)*3600+parseFloat(f||0)*60+parseFloat(g||0)},que=r=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(r)&&(r+="Z"),Date.parse(r)),B4={mediaPresentationDuration(r){return ep(r)},availabilityStartTime(r){return que(r)/1e3},minimumUpdatePeriod(r){return ep(r)},suggestedPresentationDelay(r){return ep(r)},type(r){return r},timeShiftBufferDepth(r){return ep(r)},start(r){return ep(r)},width(r){return parseInt(r,10)},height(r){return parseInt(r,10)},bandwidth(r){return parseInt(r,10)},frameRate(r){return Wue(r)},startNumber(r){return parseInt(r,10)},timescale(r){return parseInt(r,10)},presentationTimeOffset(r){return parseInt(r,10)},duration(r){const e=parseInt(r,10);return isNaN(e)?ep(r):e},d(r){return parseInt(r,10)},t(r){return parseInt(r,10)},r(r){return parseInt(r,10)},presentationTime(r){return parseInt(r,10)},DEFAULT(r){return r}},Ai=r=>r&&r.attributes?B5(r.attributes).reduce((e,t)=>{const n=B4[t.name]||B4.DEFAULT;return e[t.name]=n(t.value),e},{}):{},Gue={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},PS=(r,e)=>e.length?nm(r.map(function(t){return e.map(function(n){const i=_v(n),s=yv(t.baseUrl,i),a=ns(Ai(n),{baseUrl:s});return s!==i&&!a.serviceLocation&&t.serviceLocation&&(a.serviceLocation=t.serviceLocation),a})})):r,Gk=r=>{const e=Zn(r,"SegmentTemplate")[0],t=Zn(r,"SegmentList")[0],n=t&&Zn(t,"SegmentURL").map(h=>ns({tag:"SegmentURL"},Ai(h))),i=Zn(r,"SegmentBase")[0],s=t||e,a=s&&Zn(s,"SegmentTimeline")[0],o=t||i||e,l=o&&Zn(o,"Initialization")[0],u=e&&Ai(e);u&&l?u.initialization=l&&Ai(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});const c={template:u,segmentTimeline:a&&Zn(a,"S").map(h=>Ai(h)),list:t&&ns(Ai(t),{segmentUrls:n,initialization:Ai(l)}),base:i&&ns(Ai(i),{initialization:Ai(l)})};return Object.keys(c).forEach(h=>{c[h]||delete c[h]}),c},Kue=(r,e,t)=>n=>{const i=Zn(n,"BaseURL"),s=PS(e,i),a=ns(r,Ai(n)),o=Gk(n);return s.map(l=>({segmentInfo:ns(t,o),attributes:ns(a,l)}))},Xue=r=>r.reduce((e,t)=>{const n=Ai(t);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const i=Gue[n.schemeIdUri];if(i){e[i]={attributes:n};const s=Zn(t,"cenc:pssh")[0];if(s){const a=_v(s);e[i].pssh=a&&D5(a)}}return e},{}),Yue=r=>{if(r.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof r.value!="string"?[]:r.value.split(";")).map(t=>{let n,i;return i=t,/^CC\d=/.test(t)?[n,i]=t.split("="):/^CC\d$/.test(t)&&(n=t),{channel:n,language:i}});if(r.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof r.value!="string"?[]:r.value.split(";")).map(t=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(t)){const[i,s=""]=t.split("=");n.channel=i,n.language=t,s.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?n.language=l:o==="er"?n.easyReader=Number(l):o==="war"?n.aspectRatio=Number(l):o==="3D"&&(n["3D"]=Number(l))})}else n.language=t;return n.channel&&(n.channel="SERVICE"+n.channel),n})},Que=r=>nm(Zn(r.node,"EventStream").map(e=>{const t=Ai(e),n=t.schemeIdUri;return Zn(e,"Event").map(i=>{const s=Ai(i),a=s.presentationTime||0,o=t.timescale||1,l=s.duration||0,u=a/o+r.attributes.start;return{schemeIdUri:n,value:t.value,id:s.id,start:u,end:u+l/o,messageData:_v(i)||s.messageData,contentEncoding:t.contentEncoding,presentationTimeOffset:t.presentationTimeOffset||0}})})),Jue=(r,e,t)=>n=>{const i=Ai(n),s=PS(e,Zn(n,"BaseURL")),a=Zn(n,"Role")[0],o={role:Ai(a)};let l=ns(r,i,o);const u=Zn(n,"Accessibility")[0],c=Yue(Ai(u));c&&(l=ns(l,{captionServices:c}));const h=Zn(n,"Label")[0];if(h&&h.childNodes.length){const _=h.childNodes[0].nodeValue.trim();l=ns(l,{label:_})}const f=Xue(Zn(n,"ContentProtection"));Object.keys(f).length&&(l=ns(l,{contentProtection:f}));const g=Gk(n),v=Zn(n,"Representation"),y=ns(t,g);return nm(v.map(Kue(l,s,y)))},Zue=(r,e)=>(t,n)=>{const i=PS(e,Zn(t.node,"BaseURL")),s=ns(r,{periodStart:t.attributes.start});typeof t.attributes.duration=="number"&&(s.periodDuration=t.attributes.duration);const a=Zn(t.node,"AdaptationSet"),o=Gk(t.node);return nm(a.map(Jue(s,i,o)))},ece=(r,e)=>{if(r.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!r.length)return null;const t=ns({serverURL:_v(r[0])},Ai(r[0]));return t.queryBeforeStart=t.queryBeforeStart==="true",t},tce=({attributes:r,priorPeriodAttributes:e,mpdType:t})=>typeof r.start=="number"?r.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&t==="static"?0:null,rce=(r,e={})=>{const{manifestUri:t="",NOW:n=Date.now(),clientOffset:i=0,eventHandler:s=function(){}}=e,a=Zn(r,"Period");if(!a.length)throw new Error(im.INVALID_NUMBER_OF_PERIOD);const o=Zn(r,"Location"),l=Ai(r),u=PS([{baseUrl:t}],Zn(r,"BaseURL")),c=Zn(r,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=i,o.length&&(l.locations=o.map(_v));const h=[];return a.forEach((f,g)=>{const v=Ai(f),y=h[g-1];v.start=tce({attributes:v,priorPeriodAttributes:y?y.attributes:null,mpdType:l.type}),h.push({node:f,attributes:v})}),{locations:l.locations,contentSteeringInfo:ece(c,s),representationInfo:nm(h.map(Zue(l,u))),eventStream:nm(h.map(Que))}},j5=r=>{if(r==="")throw new Error(im.DASH_EMPTY_MANIFEST);const e=new M5.DOMParser;let t,n;try{t=e.parseFromString(r,"application/xml"),n=t&&t.documentElement.tagName==="MPD"?t.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(im.DASH_INVALID_XML);return n},nce=r=>{const e=Zn(r,"UTCTiming")[0];if(!e)return null;const t=Ai(e);switch(t.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":t.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":t.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":t.method="DIRECT",t.value=Date.parse(t.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(im.UNSUPPORTED_UTC_TIMING_SCHEME)}return t},z5=(r,e={})=>{const t=rce(j5(r),e),n=Vue(t.representationInfo);return Mue({dashPlaylists:n,locations:t.locations,contentSteering:t.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:t.eventStream})},H5=r=>nce(j5(r));var CC,N4;function ice(){if(N4)return CC;N4=1;var r=Math.pow(2,32),e=function(t){var n=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return n.getBigUint64?(i=n.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):n.getUint32(0)*r+n.getUint32(4)};return CC={getUint64:e,MAX_UINT32:r},CC}var wC,U4;function sce(){if(U4)return wC;U4=1;var r=ice().getUint64,e=function(t){var n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8)},s=12;i.version===0?(i.earliestPresentationTime=n.getUint32(s),i.firstOffset=n.getUint32(s+4),s+=8):(i.earliestPresentationTime=r(t.subarray(s)),i.firstOffset=r(t.subarray(s+8)),s+=16),s+=2;var a=n.getUint16(s);for(s+=2;a>0;s+=12,a--)i.references.push({referenceType:(t[s]&128)>>>7,referencedSize:n.getUint32(s)&2147483647,subsegmentDuration:n.getUint32(s+4),startsWithSap:!!(t[s+8]&128),sapType:(t[s+8]&112)>>>4,sapDeltaTime:n.getUint32(s+8)&268435455});return i};return wC=e,wC}var ace=sce();const V5=ha(ace);var oce=br([73,68,51]),lce=function(e,t){t===void 0&&(t=0),e=br(e);var n=e[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],s=(n&16)>>4;return s?i+20:i+10},gp=function r(e,t){return t===void 0&&(t=0),e=br(e),e.length-t<10||!Qn(e,oce,{offset:t})?t:(t+=lce(e,t),r(e,t))},$4=function(e){return typeof e=="string"?Vk(e):e},uce=function(e){return Array.isArray(e)?e.map(function(t){return $4(t)}):[$4(e)]},cce=function r(e,t,n){n===void 0&&(n=!1),t=uce(t),e=br(e);var i=[];if(!t.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(s+8,l);Qn(o,t[0])&&(t.length===1?i.push(u):i.push.apply(i,r(u,t.slice(1),n))),s=l}return i},Hy={EBML:br([26,69,223,163]),DocType:br([66,130]),Segment:br([24,83,128,103]),SegmentInfo:br([21,73,169,102]),Tracks:br([22,84,174,107]),Track:br([174]),TrackNumber:br([215]),DefaultDuration:br([35,227,131]),TrackEntry:br([174]),TrackType:br([131]),FlagDefault:br([136]),CodecID:br([134]),CodecPrivate:br([99,162]),VideoTrack:br([224]),AudioTrack:br([225]),Cluster:br([31,67,182,117]),Timestamp:br([231]),TimestampScale:br([42,215,177]),BlockGroup:br([160]),BlockDuration:br([155]),Block:br([161]),SimpleBlock:br([163])},g2=[128,64,32,16,8,4,2,1],dce=function(e){for(var t=1,n=0;n<g2.length&&!(e&g2[n]);n++)t++;return t},G_=function(e,t,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var s=dce(e[t]),a=e.subarray(t,t+s);return n&&(a=Array.prototype.slice.call(e,t,t+s),a[0]^=g2[s-1]),{length:s,value:aue(a,{signed:i}),bytes:a}},j4=function r(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(t){return r(t)}):typeof e=="number"?oue(e):e},hce=function(e){return Array.isArray(e)?e.map(function(t){return j4(t)}):[j4(e)]},fce=function r(e,t,n){if(n>=t.length)return t.length;var i=G_(t,n,!1);if(Qn(e.bytes,i.bytes))return n;var s=G_(t,n+i.length);return r(e,t,n+s.length+s.value+i.length)},z4=function r(e,t){t=hce(t),e=br(e);var n=[];if(!t.length)return n;for(var i=0;i<e.length;){var s=G_(e,i,!1),a=G_(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=fce(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);Qn(t[0],s.bytes)&&(t.length===1?n.push(u):n=n.concat(r(u,t.slice(1))));var c=s.length+a.length+u.length;i+=c}return n},pce=br([0,0,0,1]),mce=br([0,0,1]),gce=br([0,0,3]),vce=function(e){for(var t=[],n=1;n<e.length-2;)Qn(e.subarray(n,n+3),gce)&&(t.push(n+2),n++),n++;if(t.length===0)return e;var i=e.length-t.length,s=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===t[0]&&(a++,t.shift()),s[n]=e[a];return s},W5=function(e,t,n,i){e=br(e),n=[].concat(n);for(var s=0,a,o=0;s<e.length&&(o<i||a);){var l=void 0;if(Qn(e.subarray(s),pce)?l=4:Qn(e.subarray(s),mce)&&(l=3),!l){s++;continue}if(o++,a)return vce(e.subarray(a,s));var u=void 0;t==="h264"?u=e[s+l]&31:t==="h265"&&(u=e[s+l]>>1&63),n.indexOf(u)!==-1&&(a=s+l),s+=l+(t==="h264"?1:2)}return e.subarray(0,0)},yce=function(e,t,n){return W5(e,"h264",t,n)},xce=function(e,t,n){return W5(e,"h265",t,n)},Qs={webm:br([119,101,98,109]),matroska:br([109,97,116,114,111,115,107,97]),flac:br([102,76,97,67]),ogg:br([79,103,103,83]),ac3:br([11,119]),riff:br([82,73,70,70]),avi:br([65,86,73]),wav:br([87,65,86,69]),"3gp":br([102,116,121,112,51,103]),mp4:br([102,116,121,112]),fmp4:br([115,116,121,112]),mov:br([102,116,121,112,113,116]),moov:br([109,111,111,118]),moof:br([109,111,111,102])},sm={aac:function(e){var t=gp(e);return Qn(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=gp(e);return Qn(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=z4(e,[Hy.EBML,Hy.DocType])[0];return Qn(t,Qs.webm)},mkv:function(e){var t=z4(e,[Hy.EBML,Hy.DocType])[0];return Qn(t,Qs.matroska)},mp4:function(e){if(sm["3gp"](e)||sm.mov(e))return!1;if(Qn(e,Qs.mp4,{offset:4})||Qn(e,Qs.fmp4,{offset:4})||Qn(e,Qs.moof,{offset:4})||Qn(e,Qs.moov,{offset:4}))return!0},mov:function(e){return Qn(e,Qs.mov,{offset:4})},"3gp":function(e){return Qn(e,Qs["3gp"],{offset:4})},ac3:function(e){var t=gp(e);return Qn(e,Qs.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var t=0;t+188<e.length&&t<188;){if(e[t]===71&&e[t+188]===71)return!0;t+=1}return!1},flac:function(e){var t=gp(e);return Qn(e,Qs.flac,{offset:t})},ogg:function(e){return Qn(e,Qs.ogg)},avi:function(e){return Qn(e,Qs.riff)&&Qn(e,Qs.avi,{offset:8})},wav:function(e){return Qn(e,Qs.riff)&&Qn(e,Qs.wav,{offset:8})},h264:function(e){return yce(e,7,3).length},h265:function(e){return xce(e,[32,33],3).length}},v2=Object.keys(sm).filter(function(r){return r!=="ts"&&r!=="h264"&&r!=="h265"}).concat(["ts","h264","h265"]);v2.forEach(function(r){var e=sm[r];sm[r]=function(t){return e(br(t))}});var _ce=sm,Dm=function(e){e=br(e);for(var t=0;t<v2.length;t++){var n=v2[t];if(_ce[n](e))return n}return""},q5=function(e){return cce(e,["moof"]).length>0},EC,H4;function bce(){if(H4)return EC;H4=1;var r=9e4,e,t,n,i,s,a,o;return e=function(l){return l*r},t=function(l,u){return l*u},n=function(l){return l/r},i=function(l,u){return l/u},s=function(l,u){return e(i(l,u))},a=function(l,u){return t(n(l),u)},o=function(l,u,c){return n(c?l:l-u)},EC={ONE_SECOND_IN_TS:r,secondsToVideoTs:e,secondsToAudioTs:t,videoTsToSeconds:n,audioTsToSeconds:i,audioTsToVideoTs:s,videoTsToAudioTs:a,metadataTsToSeconds:o},EC}var Ua=bce();/**
 * @license
 * Video.js 8.19.1 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var y2="8.19.1";const Ac={},Gd=function(r,e){return Ac[r]=Ac[r]||[],e&&(Ac[r]=Ac[r].concat(e)),Ac[r]},Sce=function(r,e){Gd(r,e)},G5=function(r,e){const t=Gd(r).indexOf(e);return t<=-1?!1:(Ac[r]=Ac[r].slice(),Ac[r].splice(t,1),!0)},Tce=function(r,e){Gd(r,[].concat(e).map(t=>{const n=(...i)=>(G5(r,n),t(...i));return n}))},K_={prefixed:!0},u_=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],V4=u_[0];let Kg;for(let r=0;r<u_.length;r++)if(u_[r][1]in Be){Kg=u_[r];break}if(Kg){for(let r=0;r<Kg.length;r++)K_[V4[r]]=Kg[r];K_.prefixed=Kg[0]!==V4[0]}let Ra=[];const Cce=(r,e,t)=>(n,i,s)=>{const a=e.levels[i],o=new RegExp(`^(${a})$`);let l=r;if(n!=="log"&&s.unshift(n.toUpperCase()+":"),t&&(l=`%c${r}`,s.unshift(t)),s.unshift(l+":"),Ra){Ra.push([].concat(s));const c=Ra.length-1e3;Ra.splice(0,c>0?c:0)}if(!X.console)return;let u=X.console[n];!u&&n==="debug"&&(u=X.console.info||X.console.log),!(!u||!a||!o.test(n))&&u[Array.isArray(s)?"apply":"call"](X.console,s)};function x2(r,e=":",t=""){let n="info",i;function s(...a){i("log",n,a)}return i=Cce(r,s,t),s.createLogger=(a,o,l)=>{const u=o!==void 0?o:e,c=l!==void 0?l:t,h=`${r} ${u} ${a}`;return x2(h,u,c)},s.createNewLogger=(a,o,l)=>x2(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);n=a}return n},s.history=()=>Ra?[].concat(Ra):[],s.history.filter=a=>(Ra||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{Ra&&(Ra.length=0)},s.history.disable=()=>{Ra!==null&&(Ra.length=0,Ra=null)},s.history.enable=()=>{Ra===null&&(Ra=[])},s.error=(...a)=>i("error",n,a),s.warn=(...a)=>i("warn",n,a),s.debug=(...a)=>i("debug",n,a),s}const Qr=x2("VIDEOJS"),K5=Qr.createLogger,wce=Object.prototype.toString,X5=function(r){return zu(r)?Object.keys(r):[]};function Op(r,e){X5(r).forEach(t=>e(r[t],t))}function Y5(r,e,t=0){return X5(r).reduce((n,i)=>e(n,r[i],i),t)}function zu(r){return!!r&&typeof r=="object"}function am(r){return zu(r)&&wce.call(r)==="[object Object]"&&r.constructor===Object}function Nn(...r){const e={};return r.forEach(t=>{t&&Op(t,(n,i)=>{if(!am(n)){e[i]=n;return}am(e[i])||(e[i]={}),e[i]=Nn(e[i],n)})}),e}function Q5(r={}){const e=[];for(const t in r)if(r.hasOwnProperty(t)){const n=r[t];e.push(n)}return e}function RS(r,e,t,n=!0){const i=a=>Object.defineProperty(r,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=t();return i(a),a}};return n&&(s.set=i),Object.defineProperty(r,e,s)}var Ece=Object.freeze({__proto__:null,each:Op,reduce:Y5,isObject:zu,isPlain:am,merge:Nn,values:Q5,defineLazyProperty:RS});let Kk=!1,J5=null,Hu=!1,Z5,e6=!1,Mp=!1,Fp=!1,Vu=!1,Xk=null,LS=null;const kce=!!(X.cast&&X.cast.framework&&X.cast.framework.CastReceiverContext);let t6=null,X_=!1,OS=!1,Y_=!1,MS=!1,Q_=!1,J_=!1,Z_=!1;const U0=!!(Im()&&("ontouchstart"in X||X.navigator.maxTouchPoints||X.DocumentTouch&&X.document instanceof X.DocumentTouch)),Sd=X.navigator&&X.navigator.userAgentData;Sd&&Sd.platform&&Sd.brands&&(Hu=Sd.platform==="Android",Mp=!!Sd.brands.find(r=>r.brand==="Microsoft Edge"),Fp=!!Sd.brands.find(r=>r.brand==="Chromium"),Vu=!Mp&&Fp,Xk=LS=(Sd.brands.find(r=>r.brand==="Chromium")||{}).version||null,OS=Sd.platform==="Windows");if(!Fp){const r=X.navigator&&X.navigator.userAgent||"";Kk=/iPod/i.test(r),J5=(function(){const e=r.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null})(),Hu=/Android/i.test(r),Z5=(function(){const e=r.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const t=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return t&&n?parseFloat(e[1]+"."+e[2]):t||null})(),e6=/Firefox/i.test(r),Mp=/Edg/i.test(r),Fp=/Chrome/i.test(r)||/CriOS/i.test(r),Vu=!Mp&&Fp,Xk=LS=(function(){const e=r.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null})(),t6=(function(){const e=/MSIE\s(\d+)\.\d/.exec(r);let t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(r)&&/rv:11.0/.test(r)&&(t=11),t})(),Q_=/Tizen/i.test(r),J_=/Web0S/i.test(r),Z_=Q_||J_,X_=/Safari/i.test(r)&&!Vu&&!Hu&&!Mp&&!Z_,OS=/Windows/i.test(r),Y_=/iPad/i.test(r)||X_&&U0&&!/iPhone/i.test(r),MS=/iPhone/i.test(r)&&!Y_}const ca=MS||Y_||Kk,FS=(X_||ca)&&!Vu;var r6=Object.freeze({__proto__:null,get IS_IPOD(){return Kk},get IOS_VERSION(){return J5},get IS_ANDROID(){return Hu},get ANDROID_VERSION(){return Z5},get IS_FIREFOX(){return e6},get IS_EDGE(){return Mp},get IS_CHROMIUM(){return Fp},get IS_CHROME(){return Vu},get CHROMIUM_VERSION(){return Xk},get CHROME_VERSION(){return LS},IS_CHROMECAST_RECEIVER:kce,get IE_VERSION(){return t6},get IS_SAFARI(){return X_},get IS_WINDOWS(){return OS},get IS_IPAD(){return Y_},get IS_IPHONE(){return MS},get IS_TIZEN(){return Q_},get IS_WEBOS(){return J_},get IS_SMART_TV(){return Z_},TOUCH_ENABLED:U0,IS_IOS:ca,IS_ANY_SAFARI:FS});function W4(r){return typeof r=="string"&&!!r.trim()}function Ace(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Im(){return Be===X.document}function Pm(r){return zu(r)&&r.nodeType===1}function n6(){try{return X.parent!==X.self}catch{return!0}}function i6(r){return function(e,t){if(!W4(e))return Be[r](null);W4(t)&&(t=Be.querySelector(t));const n=Pm(t)?t:Be;return n[r]&&n[r](e)}}function Ir(r="div",e={},t={},n){const i=Be.createElement(r);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?ah(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(t).forEach(function(s){i.setAttribute(s,t[s])}),n&&Yk(i,n),i}function ah(r,e){return typeof r.textContent>"u"?r.innerText=e:r.textContent=e,r}function _2(r,e){e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}function l0(r,e){return Ace(e),r.classList.contains(e)}function rf(r,...e){return r.classList.add(...e.reduce((t,n)=>t.concat(n.split(/\s+/)),[])),r}function BS(r,...e){return r?(r.classList.remove(...e.reduce((t,n)=>t.concat(n.split(/\s+/)),[])),r):(Qr.warn("removeClass was called with an element that doesn't exist"),null)}function s6(r,e,t){return typeof t=="function"&&(t=t(r,e)),typeof t!="boolean"&&(t=void 0),e.split(/\s+/).forEach(n=>r.classList.toggle(n,t)),r}function a6(r,e){Object.getOwnPropertyNames(e).forEach(function(t){const n=e[t];n===null||typeof n>"u"||n===!1?r.removeAttribute(t):r.setAttribute(t,n===!0?"":n)})}function Dd(r){const e={},t=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(r&&r.attributes&&r.attributes.length>0){const n=r.attributes;for(let i=n.length-1;i>=0;i--){const s=n[i].name;let a=n[i].value;t.includes(s)&&(a=a!==null),e[s]=a}}return e}function o6(r,e){return r.getAttribute(e)}function om(r,e,t){r.setAttribute(e,t)}function NS(r,e){r.removeAttribute(e)}function l6(){Be.body.focus(),Be.onselectstart=function(){return!1}}function u6(){Be.onselectstart=function(){return!0}}function lm(r){if(r&&r.getBoundingClientRect&&r.parentNode){const e=r.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(t[n]=e[n])}),t.height||(t.height=parseFloat(um(r,"height"))),t.width||(t.width=parseFloat(um(r,"width"))),t}}function $0(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};const e=r.offsetWidth,t=r.offsetHeight;let n=0,i=0;for(;r.offsetParent&&r!==Be[K_.fullscreenElement];)n+=r.offsetLeft,i+=r.offsetTop,r=r.offsetParent;return{left:n,top:i,width:e,height:t}}function US(r,e){const t={x:0,y:0};if(ca){let c=r;for(;c&&c.nodeName.toLowerCase()!=="html";){const h=um(c,"transform");if(/^matrix/.test(h)){const f=h.slice(7,-1).split(/,\s/).map(Number);t.x+=f[4],t.y+=f[5]}else if(/^matrix3d/.test(h)){const f=h.slice(9,-1).split(/,\s/).map(Number);t.x+=f[12],t.y+=f[13]}if(c.assignedSlot&&c.assignedSlot.parentElement&&X.WebKitCSSMatrix){const f=X.getComputedStyle(c.assignedSlot.parentElement).transform,g=new X.WebKitCSSMatrix(f);t.x+=g.m41,t.y+=g.m42}c=c.parentNode||c.host}}const n={},i=$0(e.target),s=$0(r),a=s.width,o=s.height;let l=e.offsetY-(s.top-i.top),u=e.offsetX-(s.left-i.left);return e.changedTouches&&(u=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,ca&&(u-=t.x,l-=t.y)),n.y=1-Math.max(0,Math.min(1,l/o)),n.x=Math.max(0,Math.min(1,u/a)),n}function c6(r){return zu(r)&&r.nodeType===3}function $S(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function d6(r){return typeof r=="function"&&(r=r()),(Array.isArray(r)?r:[r]).map(e=>{if(typeof e=="function"&&(e=e()),Pm(e)||c6(e))return e;if(typeof e=="string"&&/\S/.test(e))return Be.createTextNode(e)}).filter(e=>e)}function Yk(r,e){return d6(e).forEach(t=>r.appendChild(t)),r}function h6(r,e){return Yk($S(r),e)}function j0(r){return r.button===void 0&&r.buttons===void 0||r.button===0&&r.buttons===void 0||r.type==="mouseup"&&r.button===0&&r.buttons===0||r.type==="mousedown"&&r.button===0&&r.buttons===0?!0:!(r.button!==0||r.buttons!==1)}const Kd=i6("querySelector"),f6=i6("querySelectorAll");function um(r,e){if(!r||!e)return"";if(typeof X.getComputedStyle=="function"){let t;try{t=X.getComputedStyle(r)}catch{return""}return t?t.getPropertyValue(e)||t[e]:""}return""}function p6(r){[...Be.styleSheets].forEach(e=>{try{const t=[...e.cssRules].map(i=>i.cssText).join(""),n=Be.createElement("style");n.textContent=t,r.document.head.appendChild(n)}catch{const n=Be.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,r.document.head.appendChild(n)}})}var m6=Object.freeze({__proto__:null,isReal:Im,isEl:Pm,isInFrame:n6,createEl:Ir,textContent:ah,prependTo:_2,hasClass:l0,addClass:rf,removeClass:BS,toggleClass:s6,setAttributes:a6,getAttributes:Dd,getAttribute:o6,setAttribute:om,removeAttribute:NS,blockTextSelection:l6,unblockTextSelection:u6,getBoundingClientRect:lm,findPosition:$0,getPointerPosition:US,isTextNode:c6,emptyEl:$S,normalizeContent:d6,appendContent:Yk,insertContent:h6,isSingleLeftClick:j0,$:Kd,$$:f6,computedStyle:um,copyStyleSheetsToWindow:p6});let g6=!1,b2;const Dce=function(){if(b2.options.autoSetup===!1)return;const r=Array.prototype.slice.call(Be.getElementsByTagName("video")),e=Array.prototype.slice.call(Be.getElementsByTagName("audio")),t=Array.prototype.slice.call(Be.getElementsByTagName("video-js")),n=r.concat(e,t);if(n&&n.length>0)for(let i=0,s=n.length;i<s;i++){const a=n[i];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&b2(a);else{S2(1);break}}else g6||S2(1)};function S2(r,e){Im()&&(e&&(b2=e),X.setTimeout(Dce,r))}function T2(){g6=!0,X.removeEventListener("load",T2)}Im()&&(Be.readyState==="complete"?T2():X.addEventListener("load",T2));const v6=function(r){const e=Be.createElement("style");return e.className=r,e},y6=function(r,e){r.styleSheet?r.styleSheet.cssText=e:r.textContent=e};var sa=new WeakMap;const Ice=3;let Pce=Ice;function ol(){return Pce++}function q4(r,e){if(!sa.has(r))return;const t=sa.get(r);t.handlers[e].length===0&&(delete t.handlers[e],r.removeEventListener?r.removeEventListener(e,t.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+e,t.dispatcher)),Object.getOwnPropertyNames(t.handlers).length<=0&&(delete t.handlers,delete t.dispatcher,delete t.disabled),Object.getOwnPropertyNames(t).length===0&&sa.delete(r)}function Qk(r,e,t,n){t.forEach(function(i){r(e,i,n)})}function jS(r){if(r.fixed_)return r;function e(){return!0}function t(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){const n=r||X.event;r={};const i=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in n)i.includes(s)||s==="returnValue"&&n.preventDefault||(r[s]=n[s]);if(r.target||(r.target=r.srcElement||Be),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){n.preventDefault&&n.preventDefault(),r.returnValue=!1,n.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),r.cancelBubble=!0,n.cancelBubble=!0,r.isPropagationStopped=e},r.isPropagationStopped=t,r.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),r.isImmediatePropagationStopped=e,r.stopPropagation()},r.isImmediatePropagationStopped=t,r.clientX!==null&&r.clientX!==void 0){const s=Be.documentElement,a=Be.body;r.pageX=r.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),r.pageY=r.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}r.which=r.charCode||r.keyCode,r.button!==null&&r.button!==void 0&&(r.button=r.button&1?0:r.button&4?1:r.button&2?2:0)}return r.fixed_=!0,r}let Vy;const Rce=function(){if(typeof Vy!="boolean"){Vy=!1;try{const r=Object.defineProperty({},"passive",{get(){Vy=!0}});X.addEventListener("test",null,r),X.removeEventListener("test",null,r)}catch{}}return Vy},Lce=["touchstart","touchmove"];function bo(r,e,t){if(Array.isArray(e))return Qk(bo,r,e,t);sa.has(r)||sa.set(r,{});const n=sa.get(r);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),t.guid||(t.guid=ol()),n.handlers[e].push(t),n.dispatcher||(n.disabled=!1,n.dispatcher=function(i,s){if(n.disabled)return;i=jS(i);const a=n.handlers[i.type];if(a){const o=a.slice(0);for(let l=0,u=o.length;l<u&&!i.isImmediatePropagationStopped();l++)try{o[l].call(r,i,s)}catch(c){Qr.error(c)}}}),n.handlers[e].length===1)if(r.addEventListener){let i=!1;Rce()&&Lce.indexOf(e)>-1&&(i={passive:!0}),r.addEventListener(e,n.dispatcher,i)}else r.attachEvent&&r.attachEvent("on"+e,n.dispatcher)}function $s(r,e,t){if(!sa.has(r))return;const n=sa.get(r);if(!n.handlers)return;if(Array.isArray(e))return Qk($s,r,e,t);const i=function(a,o){n.handlers[o]=[],q4(a,o)};if(e===void 0){for(const a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&i(r,a);return}const s=n.handlers[e];if(s){if(!t){i(r,e);return}if(t.guid)for(let a=0;a<s.length;a++)s[a].guid===t.guid&&s.splice(a--,1);q4(r,e)}}function Rm(r,e,t){const n=sa.has(r)?sa.get(r):{},i=r.parentNode||r.ownerDocument;if(typeof e=="string"?e={type:e,target:r}:e.target||(e.target=r),e=jS(e),n.dispatcher&&n.dispatcher.call(r,e,t),i&&!e.isPropagationStopped()&&e.bubbles===!0)Rm.call(null,i,e,t);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){sa.has(e.target)||sa.set(e.target,{});const s=sa.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function zS(r,e,t){if(Array.isArray(e))return Qk(zS,r,e,t);const n=function(){$s(r,e,n),t.apply(this,arguments)};n.guid=t.guid=t.guid||ol(),bo(r,e,n)}function Jk(r,e,t){const n=function(){$s(r,e,n),t.apply(this,arguments)};n.guid=t.guid=t.guid||ol(),bo(r,e,n)}var Oce=Object.freeze({__proto__:null,fixEvent:jS,on:bo,off:$s,trigger:Rm,one:zS,any:Jk});const ll=30,zn=function(r,e,t){e.guid||(e.guid=ol());const n=e.bind(r);return n.guid=t?t+"_"+e.guid:e.guid,n},Wu=function(r,e){let t=X.performance.now();return function(...i){const s=X.performance.now();s-t>=e&&(r(...i),t=s)}},x6=function(r,e,t,n=X){let i;const s=()=>{n.clearTimeout(i),i=null},a=function(){const o=this,l=arguments;let u=function(){i=null,u=null,t||r.apply(o,l)};!i&&t&&r.apply(o,l),n.clearTimeout(i),i=n.setTimeout(u,e)};return a.cancel=s,a};var Mce=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:ll,bind_:zn,throttle:Wu,debounce:x6});let Og,So=class{on(e,t){const n=this.addEventListener;this.addEventListener=()=>{},bo(this,e,t),this.addEventListener=n}off(e,t){$s(this,e,t)}one(e,t){const n=this.addEventListener;this.addEventListener=()=>{},zS(this,e,t),this.addEventListener=n}any(e,t){const n=this.addEventListener;this.addEventListener=()=>{},Jk(this,e,t),this.addEventListener=n}trigger(e){const t=e.type||e;typeof e=="string"&&(e={type:t}),e=jS(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),Rm(this,e)}queueTrigger(e){Og||(Og=new Map);const t=e.type||e;let n=Og.get(this);n||(n=new Map,Og.set(this,n));const i=n.get(t);n.delete(t),X.clearTimeout(i);const s=X.setTimeout(()=>{n.delete(t),n.size===0&&(n=null,Og.delete(this)),this.trigger(e)},0);n.set(t,s)}};So.prototype.allowedEvents_={};So.prototype.addEventListener=So.prototype.on;So.prototype.removeEventListener=So.prototype.off;So.prototype.dispatchEvent=So.prototype.trigger;const HS=r=>typeof r.name=="function"?r.name():typeof r.name=="string"?r.name:r.name_?r.name_:r.constructor&&r.constructor.name?r.constructor.name:typeof r,Oc=r=>r instanceof So||!!r.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof r[e]=="function"),Fce=(r,e)=>{Oc(r)?e():(r.eventedCallbacks||(r.eventedCallbacks=[]),r.eventedCallbacks.push(e))},C2=r=>typeof r=="string"&&/\S/.test(r)||Array.isArray(r)&&!!r.length,eb=(r,e,t)=>{if(!r||!r.nodeName&&!Oc(r))throw new Error(`Invalid target for ${HS(e)}#${t}; must be a DOM node or evented object.`)},_6=(r,e,t)=>{if(!C2(r))throw new Error(`Invalid event type for ${HS(e)}#${t}; must be a non-empty string or array.`)},b6=(r,e,t)=>{if(typeof r!="function")throw new Error(`Invalid listener for ${HS(e)}#${t}; must be a function.`)},kC=(r,e,t)=>{const n=e.length<3||e[0]===r||e[0]===r.eventBusEl_;let i,s,a;return n?(i=r.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(i=e[0],s=e[1],a=e[2]),eb(i,r,t),_6(s,r,t),b6(a,r,t),a=zn(r,a),{isTargetingSelf:n,target:i,type:s,listener:a}},Rh=(r,e,t,n)=>{eb(r,r,e),r.nodeName?Oce[e](r,t,n):r[e](t,n)},Bce={on(...r){const{isTargetingSelf:e,target:t,type:n,listener:i}=kC(this,r,"on");if(Rh(t,"on",n,i),!e){const s=()=>this.off(t,n,i);s.guid=i.guid;const a=()=>this.off("dispose",s);a.guid=i.guid,Rh(this,"on","dispose",s),Rh(t,"on","dispose",a)}},one(...r){const{isTargetingSelf:e,target:t,type:n,listener:i}=kC(this,r,"one");if(e)Rh(t,"one",n,i);else{const s=(...a)=>{this.off(t,n,s),i.apply(null,a)};s.guid=i.guid,Rh(t,"one",n,s)}},any(...r){const{isTargetingSelf:e,target:t,type:n,listener:i}=kC(this,r,"any");if(e)Rh(t,"any",n,i);else{const s=(...a)=>{this.off(t,n,s),i.apply(null,a)};s.guid=i.guid,Rh(t,"any",n,s)}},off(r,e,t){if(!r||C2(r))$s(this.eventBusEl_,r,e);else{const n=r,i=e;eb(n,this,"off"),_6(i,this,"off"),b6(t,this,"off"),t=zn(this,t),this.off("dispose",t),n.nodeName?($s(n,i,t),$s(n,"dispose",t)):Oc(n)&&(n.off(i,t),n.off("dispose",t))}},trigger(r,e){eb(this.eventBusEl_,this,"trigger");const t=r&&typeof r!="string"?r.type:r;if(!C2(t))throw new Error(`Invalid event type for ${HS(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return Rm(this.eventBusEl_,r,e)}};function Zk(r,e={}){const{eventBusKey:t}=e;if(t){if(!r[t].nodeName)throw new Error(`The eventBusKey "${t}" does not refer to an element.`);r.eventBusEl_=r[t]}else r.eventBusEl_=Ir("span",{className:"vjs-event-bus"});return Object.assign(r,Bce),r.eventedCallbacks&&r.eventedCallbacks.forEach(n=>{n()}),r.on("dispose",()=>{r.off(),[r,r.el_,r.eventBusEl_].forEach(function(n){n&&sa.has(n)&&sa.delete(n)}),X.setTimeout(()=>{r.eventBusEl_=null},0)}),r}const Nce={state:{},setState(r){typeof r=="function"&&(r=r());let e;return Op(r,(t,n)=>{this.state[n]!==t&&(e=e||{},e[n]={from:this.state[n],to:t}),this.state[n]=t}),e&&Oc(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function S6(r,e){return Object.assign(r,Nce),r.state=Object.assign({},r.state,e),typeof r.handleStateChanged=="function"&&Oc(r)&&r.on("statechanged",r.handleStateChanged),r}const u0=function(r){return typeof r!="string"?r:r.replace(/./,e=>e.toLowerCase())},di=function(r){return typeof r!="string"?r:r.replace(/./,e=>e.toUpperCase())},T6=function(r,e){return di(r)===di(e)};var Uce=Object.freeze({__proto__:null,toLowerCase:u0,toTitleCase:di,titleCaseEquals:T6});let yt=class Pa{constructor(e,t,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Nn({},this.options_),t=this.options_=Nn(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const i=e&&e.id&&e.id()||"no_player";this.id_=`${i}_component_${ol()}`}this.name_=t.name||null,t.el?this.el_=t.el:t.createEl!==!1&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach(i=>this.addClass(i)),["on","off","one","any","trigger"].forEach(i=>{this[i]=void 0}),t.evented!==!1&&(Zk(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),S6(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,t.initChildren!==!1&&this.initChildren(),this.ready(n),t.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Nn(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,n){return Ir(e,t,n)}localize(e,t,n=e){const i=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[i],o=i&&i.split("-")[0],l=s&&s[o];let u=n;return a&&a[e]?u=a[e]:l&&l[e]&&(u=l[e]),t&&(u=u.replace(/\{(\d+)\}/g,function(c,h){const f=t[h-1];let g=f;return typeof f>"u"&&(g=c),g})),u}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,i)=>n.concat(i),[]);let t=this;for(let n=0;n<e.length;n++)if(t=t.getChild(e[n]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",i=Ir("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Be.createElementNS(n,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Be.createElementNS(n,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),i.appendChild(s),this.iconIsSet_?t.replaceChild(i,t.querySelector(".vjs-icon-placeholder")):t.appendChild(i),this.iconIsSet_=!0,i}addChild(e,t={},n=this.children_.length){let i,s;if(typeof e=="string"){s=di(e);const a=t.componentClass||s;t.name=s;const o=Pa.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;i=new o(this.player_||this,t)}else i=e;if(i.parentComponent_&&i.parentComponent_.removeChild(i),this.children_.splice(n,0,i),i.parentComponent_=this,typeof i.id=="function"&&(this.childIndex_[i.id()]=i),s=s||i.name&&di(i.name()),s&&(this.childNameIndex_[s]=i,this.childNameIndex_[u0(s)]=i),typeof i.el=="function"&&i.el()){let a=null;this.children_[n+1]&&(this.children_[n+1].el_?a=this.children_[n+1].el_:Pm(this.children_[n+1])&&(a=this.children_[n+1])),this.contentEl().insertBefore(i.el(),a)}return i}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let i=this.children_.length-1;i>=0;i--)if(this.children_[i]===e){t=!0,this.children_.splice(i,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[di(e.name())]=null,this.childNameIndex_[u0(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,n=a=>{const o=a.name;let l=a.opts;if(t[o]!==void 0&&(l=t[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const u=this.addChild(o,l);u&&(this[o]=u)};let i;const s=Pa.getComponent("Tech");Array.isArray(e)?i=e:i=Object.keys(e),i.concat(Object.keys(this.options_).filter(function(a){return!i.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=Pa.getComponent(a.opts.componentClass||di(a.name));return o&&!s.isTech(o)}).forEach(n)}}buildCSSClass(){return""}ready(e,t=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}t?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)}$(e,t){return Kd(e,t||this.contentEl())}$$(e,t){return f6(e,t||this.contentEl())}hasClass(e){return l0(this.el_,e)}addClass(...e){rf(this.el_,...e)}removeClass(...e){BS(this.el_,...e)}toggleClass(e,t){s6(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return o6(this.el_,e)}setAttribute(e,t){om(this.el_,e,t)}removeAttribute(e){NS(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,n){if(t!==void 0){(t===null||t!==t)&&(t=0),(""+t).indexOf("%")!==-1||(""+t).indexOf("px")!==-1?this.el_.style[e]=t:t==="auto"?this.el_.style[e]="":this.el_.style[e]=t+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const i=this.el_.style[e],s=i.indexOf("px");return parseInt(s!==-1?i.slice(0,s):this.el_["offset"+di(e)],10)}currentDimension(e){let t=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(t=um(this.el_,e),t=parseFloat(t),t===0||isNaN(t)){const n=`offset${di(e)}`;t=this.el_[n]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),t={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},n={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:t,center:n}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,t=null;const n=10,i=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(t={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=X.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(t){const l=o.touches[0].pageX-t.pageX,u=o.touches[0].pageY-t.pageY;Math.sqrt(l*l+u*u)>n&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){t=null,s===!0&&X.performance.now()-e<i&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=zn(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});const n=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,t){var n;return e=zn(this,e),this.clearTimersOnDispose_(),n=X.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},t),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),X.clearTimeout(e)),e}setInterval(e,t){e=zn(this,e),this.clearTimersOnDispose_();const n=X.setInterval(e,t);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),X.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var t;return e=zn(this,e),t=X.requestAnimationFrame(()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()}),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),t=zn(this,t);const n=this.requestAnimationFrame(()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),X.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,t])=>{this[e].forEach((n,i)=>this[t](i))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function t(s){const a=X.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function n(s){return!(!t(s.parentElement)||!t(s)||s.style.opacity==="0"||X.getComputedStyle(s).height==="0px"||X.getComputedStyle(s).width==="0px")}function i(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(Be.documentElement.clientWidth||X.innerWidth)||a.y<0||a.y>(Be.documentElement.clientHeight||X.innerHeight))return!1;let o=Be.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(i(e)&&n(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,t){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=Pa.getComponent("Tech"),i=n&&n.isTech(t),s=Pa===t||Pa.prototype.isPrototypeOf(t.prototype);if(i||!s){let o;throw i?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=di(e),Pa.components_||(Pa.components_={});const a=Pa.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(u=>o[u]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Pa.components_[e]=t,Pa.components_[u0(e)]=t,t}static getComponent(e){if(!(!e||!Pa.components_))return Pa.components_[e]}};yt.registerComponent("Component",yt);function $ce(r,e,t){if(typeof e!="number"||e<0||e>t)throw new Error(`Failed to execute '${r}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${t}).`)}function G4(r,e,t,n){return $ce(r,n,t.length-1),t[n][e]}function AC(r){let e;return r===void 0||r.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:r.length,start:G4.bind(null,"start",0,r),end:G4.bind(null,"end",1,r)},X.Symbol&&X.Symbol.iterator&&(e[X.Symbol.iterator]=()=>(r||[]).values()),e}function Fl(r,e){return Array.isArray(r)?AC(r):r===void 0||e===void 0?AC():AC([[r,e]])}const C6=function(r,e){r=r<0?0:r;let t=Math.floor(r%60),n=Math.floor(r/60%60),i=Math.floor(r/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(r)||r===1/0)&&(i=n=t="-"),i=i>0||a>0?i+":":"",n=((i||s>=10)&&n<10?"0"+n:n)+":",t=t<10?"0"+t:t,i+n+t};let eA=C6;function w6(r){eA=r}function E6(){eA=C6}function Sf(r,e=r){return eA(r,e)}var jce=Object.freeze({__proto__:null,createTimeRanges:Fl,createTimeRange:Fl,setFormatTime:w6,resetFormatTime:E6,formatTime:Sf});function k6(r,e){let t=0,n,i;if(!e)return 0;(!r||!r.length)&&(r=Fl(0,0));for(let s=0;s<r.length;s++)n=r.start(s),i=r.end(s),i>e&&(i=e),t+=i-n;return t/e}function ii(r){if(r instanceof ii)return r;typeof r=="number"?this.code=r:typeof r=="string"?this.message=r:zu(r)&&(typeof r.code=="number"&&(this.code=r.code),Object.assign(this,r)),this.message||(this.message=ii.defaultMessages[this.code]||"")}ii.prototype.code=0;ii.prototype.message="";ii.prototype.status=null;ii.prototype.metadata=null;ii.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];ii.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};ii.MEDIA_ERR_CUSTOM=0;ii.prototype.MEDIA_ERR_CUSTOM=0;ii.MEDIA_ERR_ABORTED=1;ii.prototype.MEDIA_ERR_ABORTED=1;ii.MEDIA_ERR_NETWORK=2;ii.prototype.MEDIA_ERR_NETWORK=2;ii.MEDIA_ERR_DECODE=3;ii.prototype.MEDIA_ERR_DECODE=3;ii.MEDIA_ERR_SRC_NOT_SUPPORTED=4;ii.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;ii.MEDIA_ERR_ENCRYPTED=5;ii.prototype.MEDIA_ERR_ENCRYPTED=5;function c0(r){return r!=null&&typeof r.then=="function"}function bu(r){c0(r)&&r.then(null,e=>{})}const w2=function(r){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((t,n,i)=>(r[n]&&(t[n]=r[n]),t),{cues:r.cues&&Array.prototype.map.call(r.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},zce=function(r){const e=r.$$("track"),t=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const s=w2(i.track);return i.src&&(s.src=i.src),s}).concat(Array.prototype.filter.call(r.textTracks(),function(i){return t.indexOf(i)===-1}).map(w2))},Hce=function(r,e){return r.forEach(function(t){const n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(i=>n.addCue(i))}),e.textTracks()};var K4={textTracksToJson:zce,jsonToTextTracks:Hce,trackToJson_:w2};const DC="vjs-modal-dialog";let Lm=class extends yt{constructor(e,t){super(e,t),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Ir("div",{className:`${DC}-content`},{role:"document"}),this.descEl_=Ir("p",{className:`${DC}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),ah(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${DC} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const t=this.closeable_=!!e;let n=this.getChild("closeButton");if(t&&!n){const i=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=i,this.on(n,"close",this.close_)}!t&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),n=t.parentNode,i=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(t),this.empty(),h6(t,e),this.trigger("modalfill"),i?n.insertBefore(t,i):n.appendChild(t);const s=this.getChild("closeButton");s&&n.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),$S(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Be.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const t=this.focusableEls_(),n=this.el_.querySelector(":focus");let i;for(let s=0;s<t.length;s++)if(n===t[s]){i=s;break}Be.activeElement===this.el_&&(i=0),e.shiftKey&&i===0?(t[t.length-1].focus(),e.preventDefault()):!e.shiftKey&&i===t.length-1&&(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,t=>(t instanceof X.HTMLAnchorElement||t instanceof X.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof X.HTMLInputElement||t instanceof X.HTMLSelectElement||t instanceof X.HTMLTextAreaElement||t instanceof X.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof X.HTMLIFrameElement||t instanceof X.HTMLObjectElement||t instanceof X.HTMLEmbedElement||t.hasAttribute("tabindex")&&t.getAttribute("tabindex")!==-1||t.hasAttribute("contenteditable"))}};Lm.prototype.options_={pauseOnOpen:!0,temporary:!0};yt.registerComponent("ModalDialog",Lm);let cm=class extends So{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},Oc(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this[n],t.off&&t.off(),this.tracks_.splice(n,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){t=s;break}}return t}};cm.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const r in cm.prototype.allowedEvents_)cm.prototype["on"+r]=null;const IC=function(r,e){for(let t=0;t<r.length;t++)!Object.keys(r[t]).length||e.id===r[t].id||(r[t].enabled=!1)};let Vce=class extends cm{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){IC(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&IC(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,IC(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}};const PC=function(r,e){for(let t=0;t<r.length;t++)!Object.keys(r[t]).length||e.id===r[t].id||(r[t].selected=!1)};let Wce=class extends cm{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){PC(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set(){}})}addTrack(e){e.selected&&PC(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,PC(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},A6=class extends cm{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}},qce=class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,n=e.length;t<n;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n].track){t=this.trackElements_[n];break}return t}removeTrackElement_(e){for(let t=0,n=this.trackElements_.length;t<n;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&typeof this.trackElements_[t].track.off=="function"&&this.trackElements_[t].track.off(),typeof this.trackElements_[t].off=="function"&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},X4=class D6{constructor(e){D6.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let n=0;const i=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(t<i)for(n=t;n<i;n++)s.call(this,n)}getCueById(e){let t=null;for(let n=0,i=this.length;n<i;n++){const s=this[n];if(s.id===e){t=s;break}}return t}};const Gce={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Kce={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Xce={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},Y4={disabled:"disabled",hidden:"hidden",showing:"showing"};let tA=class extends So{constructor(e={}){super();const t={id:e.id||"vjs_track_"+ol(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const i in t)Object.defineProperty(this,i,{get(){return t[i]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(i){i!==n&&(n=i,this.trigger("labelchange"))}})}};const rA=function(r){return new URL(r,Be.baseURI)},I6=function(r){return new URL(r,Be.baseURI).href},nA=function(r){if(typeof r=="string"){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(r);if(t)return t.pop().toLowerCase()}return""},VS=function(r,e=X.location){return rA(r).origin!==e.origin};var Yce=Object.freeze({__proto__:null,parseUrl:rA,getAbsoluteURL:I6,getFileExtension:nA,isCrossOrigin:VS});const Q4=function(r,e){const t=new X.WebVTT.Parser(X,X.vttjs,X.WebVTT.StringDecoder()),n=[];t.oncue=function(i){e.addCue(i)},t.onparsingerror=function(i){n.push(i)},t.onflush=function(){e.trigger({type:"loadeddata",target:e})},t.parse(r),n.length>0&&(X.console&&X.console.groupCollapsed&&X.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(i=>Qr.error(i)),X.console&&X.console.groupEnd&&X.console.groupEnd()),t.flush()},J4=function(r,e){const t={uri:r},n=VS(r);n&&(t.cors=n);const i=e.tech_.crossOrigin()==="use-credentials";i&&(t.withCredentials=i),A5(t,zn(this,function(s,a,o){if(s)return Qr.error(s,a);e.loaded_=!0,typeof X.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){Qr.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return Q4(o,e)}):Q4(o,e)}))};let bv=class extends tA{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=Nn(e,{kind:Xce[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=Y4[t.mode]||"disabled";const i=t.default;(t.kind==="metadata"||t.kind==="chapters")&&(n="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new X4(this.cues_),a=new X4(this.activeCues_);let o=!1;this.timeupdateHandler=zn(this,function(u={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),u.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return i},set(){}},mode:{get(){return n},set(u){Y4[u]&&n!==u&&(n=u,!this.preload_&&n!=="disabled"&&this.cues.length===0&&J4(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const u=this.tech_.currentTime(),c=[];for(let h=0,f=this.cues.length;h<f;h++){const g=this.cues[h];g.startTime<=u&&g.endTime>=u&&c.push(g)}if(o=!1,c.length!==this.activeCues_.length)o=!0;else for(let h=0;h<c.length;h++)this.activeCues_.indexOf(c[h])===-1&&(o=!0);return this.activeCues_=c,a.setCues_(this.activeCues_),a},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||t.kind!=="subtitles"&&t.kind!=="captions")&&J4(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(!("getCueAsHTML"in t)){t=new X.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}const n=this.tech_.textTracks();for(let i=0;i<n.length;i++)n[i]!==this&&n[i].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const n=this.cues_[t];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}};bv.prototype.allowedEvents_={cuechange:"cuechange"};let P6=class extends tA{constructor(e={}){const t=Nn(e,{kind:Kce[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}},R6=class extends tA{constructor(e={}){const t=Nn(e,{kind:Gce[e.kind]||""});super(t);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(i){typeof i!="boolean"||i===n||(n=i,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}},Om=class E2 extends So{constructor(e={}){super();let t;const n=new bv(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return t}},track:{get(){return n}}}),t=E2.NONE,n.addEventListener("loadeddata",()=>{t=E2.LOADED,this.trigger({type:"load",target:this})})}};Om.prototype.allowedEvents_={load:"load"};Om.NONE=0;Om.LOADING=1;Om.LOADED=2;Om.ERROR=3;const el={audio:{ListClass:Vce,TrackClass:P6,capitalName:"Audio"},video:{ListClass:Wce,TrackClass:R6,capitalName:"Video"},text:{ListClass:A6,TrackClass:bv,capitalName:"Text"}};Object.keys(el).forEach(function(r){el[r].getterName=`${r}Tracks`,el[r].privateName=`${r}Tracks_`});const dm={remoteText:{ListClass:A6,TrackClass:bv,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:qce,TrackClass:Om,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},ra=Object.assign({},el,dm);dm.names=Object.keys(dm);el.names=Object.keys(el);ra.names=[].concat(dm.names).concat(el.names);function Qce(r,e,t,n,i={}){const s=r.textTracks();i.kind=e,t&&(i.label=t),n&&(i.language=n),i.tech=r;const a=new ra.text.TrackClass(i);return s.addTrack(a),a}let Un=class Ns extends yt{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),ra.names.forEach(n=>{const i=ra[n];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new ra.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(zn(this,function(){const t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,t===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Fl(0,0)}bufferedPercent(){return k6(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(el.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(t=>{const n=this[`${t}Tracks`]()||[];let i=n.length;for(;i--;){const s=n[i];t==="text"&&this.removeRemoteTextTrack(s),n.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const n=e[t];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new ii(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Fl(0,0):Fl()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){el.names.forEach(e=>{const t=el[e],n=()=>{this.trigger(`${e}trackchange`)},i=this[t.getterName]();i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),this.on("dispose",()=>{i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!X.WebVTT)if(Be.body.contains(this.el())){if(!this.options_["vtt.js"]&&am(W_)&&Object.keys(W_).length>0){this.trigger("vttjsloaded");return}const e=Be.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),X.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),n=o=>e.addTrack(o.track),i=o=>e.removeTrack(o.track);t.on("addtrack",n),t.on("removetrack",i),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){t.off("addtrack",n),t.off("removetrack",i),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,t,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return Qce(this,e,t,n)}createRemoteTextTrack(e){const t=Nn(e,{tech:this});return new dm.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const n=this.createRemoteTextTrack(e);return typeof t!="boolean"&&(t=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),t===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=ol();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())})):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return Ns.canPlayType(e.type)}static isTech(e){return e.prototype instanceof Ns||e instanceof Ns||e===Ns}static registerTech(e,t){if(Ns.techs_||(Ns.techs_={}),!Ns.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!Ns.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!Ns.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=di(e),Ns.techs_[e]=t,Ns.techs_[u0(e)]=t,e!=="Tech"&&Ns.defaultTechOrder_.push(e),t}static getTech(e){if(e){if(Ns.techs_&&Ns.techs_[e])return Ns.techs_[e];if(e=di(e),X&&X.videojs&&X.videojs[e])return Qr.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),X.videojs[e]}}};ra.names.forEach(function(r){const e=ra[r];Un.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Un.prototype.featuresVolumeControl=!0;Un.prototype.featuresMuteControl=!0;Un.prototype.featuresFullscreenResize=!1;Un.prototype.featuresPlaybackRate=!1;Un.prototype.featuresProgressEvents=!1;Un.prototype.featuresSourceset=!1;Un.prototype.featuresTimeupdateEvents=!1;Un.prototype.featuresNativeTextTracks=!1;Un.prototype.featuresVideoFrameCallback=!1;Un.withSourceHandlers=function(r){r.registerSourceHandler=function(t,n){let i=r.sourceHandlers;i||(i=r.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,t)},r.canPlayType=function(t){const n=r.sourceHandlers||[];let i;for(let s=0;s<n.length;s++)if(i=n[s].canPlayType(t),i)return i;return""},r.selectSourceHandler=function(t,n){const i=r.sourceHandlers||[];let s;for(let a=0;a<i.length;a++)if(s=i[a].canHandleSource(t,n),s)return i[a];return null},r.canPlaySource=function(t,n){const i=r.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""},["seekable","seeking","duration"].forEach(function(t){const n=this[t];typeof n=="function"&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(t){let n=r.selectSourceHandler(t,this.options_);n||(r.nativeSourceHandler?n=r.nativeSourceHandler:Qr.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==r.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};yt.registerComponent("Tech",Un);Un.registerTech("Tech",Un);Un.defaultTechOrder_=[];const nf={},tb={},rb={};function Jce(r,e){nf[r]=nf[r]||[],nf[r].push(e)}function Zce(r,e,t){r.setTimeout(()=>Bh(e,nf[e.type],t,r),1)}function ede(r,e){r.forEach(t=>t.setTech&&t.setTech(e))}function tde(r,e,t){return r.reduceRight(iA(t),e[t]())}function rde(r,e,t,n){return e[t](r.reduce(iA(t),n))}function Z4(r,e,t,n=null){const i="call"+di(t),s=r.reduce(iA(i),n),a=s===rb,o=a?null:e[t](s);return sde(r,t,o,a),o}const nde={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},ide={setCurrentTime:1,setMuted:1,setVolume:1},eM={play:1,pause:1};function iA(r){return(e,t)=>e===rb?rb:t[r]?t[r](e):e}function sde(r,e,t,n){for(let i=r.length-1;i>=0;i--){const s=r[i];s[e]&&s[e](n,t)}}function ade(r){tb.hasOwnProperty(r.id())&&delete tb[r.id()]}function ode(r,e){const t=tb[r.id()];let n=null;if(t==null)return n=e(r),tb[r.id()]=[[e,n]],n;for(let i=0;i<t.length;i++){const[s,a]=t[i];s===e&&(n=a)}return n===null&&(n=e(r),t.push([e,n])),n}function Bh(r={},e=[],t,n,i=[],s=!1){const[a,...o]=e;if(typeof a=="string")Bh(r,nf[a],t,n,i,s);else if(a){const l=ode(n,a);if(!l.setSource)return i.push(l),Bh(r,o,t,n,i,s);l.setSource(Object.assign({},r),function(u,c){if(u)return Bh(r,o,t,n,i,s);i.push(l),Bh(c,r.type===c.type?o:nf[c.type],t,n,i,s)})}else o.length?Bh(r,o,t,n,i,s):s?t(r,i):Bh(r,nf["*"],t,n,i,!0)}const lde={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},nb=function(r=""){const e=nA(r);return lde[e.toLowerCase()]||""},ude=(r,e)=>{if(!e)return"";if(r.cache_.source.src===e&&r.cache_.source.type)return r.cache_.source.type;const t=r.cache_.sources.filter(i=>i.src===e);if(t.length)return t[0].type;const n=r.$$("source");for(let i=0;i<n.length;i++){const s=n[i];if(s.type&&s.src&&s.src===e)return s.type}return nb(e)},L6=function(r){if(Array.isArray(r)){let e=[];r.forEach(function(t){t=L6(t),Array.isArray(t)?e=e.concat(t):zu(t)&&e.push(t)}),r=e}else typeof r=="string"&&r.trim()?r=[tM({src:r})]:zu(r)&&typeof r.src=="string"&&r.src&&r.src.trim()?r=[tM(r)]:r=[];return r};function tM(r){if(!r.type){const e=nb(r.src);e&&(r.type=e)}return r}var cde=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const rM=Q_?10009:J_?461:8,tp={codes:{play:415,pause:19,ff:417,rw:412,back:rM},names:{415:"play",19:"pause",417:"ff",412:"rw",[rM]:"back"},isEventKey(r,e){return e=e.toLowerCase(),!!(this.names[r.keyCode]&&this.names[r.keyCode]===e)},getEventName(r){if(this.names[r.keyCode])return this.names[r.keyCode];if(this.codes[r.code]){const e=this.codes[r.code];return this.names[e]}return null}},nM=5;class dde extends So{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const t=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(t.key)){if(this.isPaused_)return;t.preventDefault();const n=t.key.substring(5).toLowerCase();this.move(n)}else if(tp.isEventKey(t,"play")||tp.isEventKey(t,"pause")||tp.isEventKey(t,"ff")||tp.isEventKey(t,"rw")){t.preventDefault();const n=tp.getEventName(t);this.performMediaAction_(n)}else tp.isEventKey(t,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(t.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+nM);break;case"rw":this.userSeek_(this.player_.currentTime()-nM);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const t=e.relatedTarget;let n=null;const i=this.getCurrentComponent(e.target);t&&(n=!!t.closest(".video-js"),t.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!n||!t)&&(i&&i.name()==="CloseButton"?this.refocusComponent():(this.pause(),i&&i.el()&&(this.lastFocusedComponent_=i)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,t=[];function n(i){for(const s of i)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&t.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&n(s.children_)}return e.children_.forEach(i=>{if(i.hasOwnProperty("el_"))if(i.getIsFocusable&&i.getIsAvailableToBeFocused&&i.getIsFocusable()&&i.getIsAvailableToBeFocused(i.el())){t.push(i);return}else i.hasOwnProperty("children_")&&i.children_.length>0?n(i.children_):i.hasOwnProperty("items")&&i.items.length>0?n(i.items):this.findSuitableDOMChild(i)&&t.push(i);if(i.name_==="ErrorDisplay"&&i.opened_){const s=i.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((o,l)=>{t.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const u=o.getBoundingClientRect(),c={x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left},h={x:u.left+u.width/2,y:u.top+u.height/2,width:0,height:0,top:u.top+u.height/2,right:u.left+u.width/2,bottom:u.top+u.height/2,left:u.left+u.width/2};return{boundingClientRect:c,center:h}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:u=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=t,this.focusableComponents}findSuitableDOMChild(e){function t(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let i=0;i<n.children.length;i++){const s=n.children[i],a=t(s);if(a)return a}return null}return e.el()?t(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const t=e||document.activeElement;if(this.focusableComponents.length){for(const n of this.focusableComponents)if(n.el()===t)return n}}add(e){const t=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&t.push(e),this.focusableComponents=t,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let t=0;t<this.focusableComponents.length;t++)if(this.focusableComponents[t].name()===e.name()){this.focusableComponents.splice(t,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const t=this.getCurrentComponent();if(!t)return;const n=t.getPositions(),i=this.focusableComponents.filter(a=>a!==t&&this.isInDirection_(n.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(n.center,i,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:t})}findBestCandidate_(e,t,n){let i=1/0,s=null;for(const a of t){const o=a.getPositions().center,l=this.calculateDistance_(e,o,n);l<i&&(i=l,s=a)}return s}isInDirection_(e,t,n){switch(n){case"right":return t.left>=e.right;case"left":return t.right<=e.left;case"down":return t.top>=e.bottom;case"up":return t.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,t,n){const i=Math.abs(e.x-t.x),s=Math.abs(e.y-t.y);let a;switch(n){case"right":case"left":a=i+s*100;break;case"up":a=s*2+i*.5;break;case"down":a=s*5+i;break;default:a=i+s}return a}searchForTrackSelect_(){const e=this;for(const t of e.updateFocusableComponents())if(t.constructor.name==="TextTrackSelect"){e.focus(t);break}}}let hde=class extends yt{constructor(e,t,n){const i=Nn({createEl:!1},t);if(super(e,i,n),!t.playerOptions.sources||t.playerOptions.sources.length===0)for(let s=0,a=t.playerOptions.techOrder;s<a.length;s++){const o=di(a[s]);let l=Un.getTech(o);if(o||(l=yt.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(t.playerOptions.sources)}};yt.registerComponent("MediaLoader",hde);let WS=class extends yt{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",t={},n={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),e==="button"&&Qr.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=t.tabIndex;const i=Ir(e,t,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(Ir("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Ir("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,ah(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&t.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}};yt.registerComponent("ClickableComponent",WS);let k2=class extends WS{constructor(e,t){super(e,t),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Ir("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(Ir("picture",{className:"vjs-poster",tabIndex:-1},{},Ir("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?bu(this.player_.play()):this.player_.pause())}};k2.prototype.crossorigin=k2.prototype.crossOrigin;yt.registerComponent("PosterImage",k2);const Ho="#222",iM="#ccc",fde={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function RC(r,e){let t;if(r.length===4)t=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else if(r.length===7)t=r.slice(1);else throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(t.slice(0,2),16)+","+parseInt(t.slice(2,4),16)+","+parseInt(t.slice(4,6),16)+","+e+")"}function fu(r,e,t){try{r.style[e]=t}catch{return}}function sM(r){return r?`${r}px`:""}let pde=class extends yt{constructor(e,t,n){super(e,t,n);const i=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",i),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(zn(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=X.screen.orientation||X,o=X.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let i,s,a;for(let o=0;o<t.length;o++){const l=t[o];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?a=l:a||(a=l):n&&!n.enabled?(a=null,i=null,s=null):l.default&&(l.kind==="descriptions"&&!i?i=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":i&&(i.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof X.WebVTT=="function"&&X.WebVTT.processCues(X,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let n=null,i=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?n=a:i=a)}if(i?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n)),!X.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,u=this.player_.el_.getBoundingClientRect().height;a.style="",fu(a,"position","relative"),fu(a,"height",u-l+"px"),fu(a,"top","unset"),Z_?fu(a,"bottom",u+"px"):fu(a,"bottom","0px"),o.length>0&&o.forEach(c=>{if(c.style.inset){const h=c.style.inset.split(" ");h.length===3&&Object.assign(c.style,{top:h[0],right:h[1],bottom:h[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!X.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),n=e/t,i=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(n-i)>.1&&(n>i?s=Math.round((e-t*i)/2):a=Math.round((t-e/i)/2)),fu(this.el_,"insetInline",sM(s)),fu(this.el_,"insetBlock",sM(a))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),n=e.activeCues;let i=n.length;for(;i--;){const s=n[i];if(!s)continue;const a=s.displayState;if(t.color&&(a.firstChild.style.color=t.color),t.textOpacity&&fu(a.firstChild,"color",RC(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(a.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&fu(a.firstChild,"backgroundColor",RC(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?fu(a,"backgroundColor",RC(t.windowColor,t.windowOpacity)):a.style.backgroundColor=t.windowColor),t.edgeStyle&&(t.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Ho}, 2px 2px 4px ${Ho}, 2px 2px 5px ${Ho}`:t.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Ho}, 2px 2px ${Ho}, 3px 3px ${Ho}`:t.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${iM}, 0 1px ${iM}, -1px -1px ${Ho}, 0 -1px ${Ho}`:t.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Ho}, 0 0 4px ${Ho}, 0 0 4px ${Ho}, 0 0 4px ${Ho}`)),t.fontPercent&&t.fontPercent!==1){const o=X.parseFloat(a.style.fontSize);a.style.fontSize=o*t.fontPercent+"px",a.style.height="auto",a.style.top="auto"}t.fontFamily&&t.fontFamily!=="default"&&(t.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=fde[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof X.WebVTT!="function"||e.every(n=>!n.activeCues))return;const t=[];for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s)t.push(i.activeCues[s])}X.WebVTT.processCues(X,t,this.el_);for(let n=0;n<e.length;++n){const i=e[n];for(let s=0;s<i.activeCues.length;++s){const a=i.activeCues[s].displayState;rf(a,"vjs-text-track-cue","vjs-text-track-cue-"+(i.language?i.language:n)),i.language&&om(a,"lang",i.language)}this.player_.textTrackSettings&&this.updateDisplayState(i)}}};yt.registerComponent("TextTrackDisplay",pde);let mde=class extends yt{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),n=Ir("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),i=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return i.appendChild(n),i}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}};yt.registerComponent("LoadingSpinner",mde);let js=class extends WS{createEl(e,t={},n={}){e="button",t=Object.assign({className:this.buildCSSClass()},t),n=Object.assign({type:"button"},n);const i=Ir(e,t,n);return this.player_.options_.experimentalSvgIcons||i.appendChild(Ir("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(i),i}addChild(e,t={}){const n=this.constructor.name;return Qr.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),yt.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}};yt.registerComponent("Button",js);let O6=class extends js{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){bu(t),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),i=n&&n.getChild("playToggle");if(!i){this.player_.tech(!0).focus();return}const s=()=>i.focus();c0(t)?t.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}};O6.prototype.controlText_="Play Video";yt.registerComponent("BigPlayButton",O6);let gde=class extends js{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}};yt.registerComponent("CloseButton",gde);let M6=class extends js{constructor(e,t={}){super(e,t),t.replay=t.replay===void 0||t.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),t.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?bu(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",t=>this.handleSeeked(t))}};M6.prototype.controlText_="Play";yt.registerComponent("PlayToggle",M6);let Mm=class extends yt{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=Ir("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return t.appendChild(n),this.contentEl_=Ir("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=Sf(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let t=this.textNode_;t&&this.contentEl_.firstChild!==t&&(t=null,Qr.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Be.createTextNode(this.formattedTime_),this.textNode_&&(t?this.contentEl_.replaceChild(this.textNode_,t):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}};Mm.prototype.labelText_="Time";Mm.prototype.controlText_="Time";yt.registerComponent("TimeDisplay",Mm);let sA=class extends Mm{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;this.player_.ended()?t=this.player_.duration():t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}};sA.prototype.labelText_="Current Time";sA.prototype.controlText_="Current Time";yt.registerComponent("CurrentTimeDisplay",sA);let aA=class extends Mm{constructor(e,t){super(e,t);const n=i=>this.updateContent(i);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}};aA.prototype.labelText_="Duration";aA.prototype.controlText_="Duration";yt.registerComponent("DurationDisplay",aA);let vde=class extends yt{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return t.appendChild(n),e.appendChild(t),e}};yt.registerComponent("TimeDivider",vde);let oA=class extends Mm{constructor(e,t){super(e,t),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(Ir("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let t;this.player_.ended()?t=0:this.player_.remainingTimeDisplay?t=this.player_.remainingTimeDisplay():t=this.player_.remainingTime(),this.updateTextNode_(t)}};oA.prototype.labelText_="Remaining Time";oA.prototype.controlText_="Remaining Time";yt.registerComponent("RemainingTimeDisplay",oA);let yde=class extends yt{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ir("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Ir("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Be.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}};yt.registerComponent("LiveDisplay",yde);let F6=class extends js{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Ir("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}};F6.prototype.controlText_="Seek to live, currently playing live";yt.registerComponent("SeekToLive",F6);function Sv(r,e,t){return r=Number(r),Math.min(t,Math.max(e,isNaN(r)?e:r))}var xde=Object.freeze({__proto__:null,clamp:Sv});let lA=class extends yt{constructor(e,t){super(e,t),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},n={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,t,n)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!Vu&&e.preventDefault(),l6(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;u6(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(Sv(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=US(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){const t=this.options_.playerOptions.spatialNavigation,n=t&&t.enabled,i=t&&t.horizontalSeek;n?i&&e.key==="ArrowLeft"||!i&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):i&&e.key==="ArrowRight"||!i&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}};yt.registerComponent("Slider",lA);const LC=(r,e)=>Sv(r/e*100,0,100).toFixed(2)+"%";let _de=class extends yt{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=Ir("span",{className:"vjs-control-text"}),n=Ir("span",{textContent:this.localize("Loaded")}),i=Be.createTextNode(": ");return this.percentageEl_=Ir("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(n),t.appendChild(i),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const t=this.player_.liveTracker,n=this.player_.buffered(),i=t&&t.isLive()?t.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=LC(s,i);this.percent_!==o&&(this.el_.style.width=o,ah(this.percentageEl_,o),this.percent_=o);for(let l=0;l<n.length;l++){const u=n.start(l),c=n.end(l);let h=a[l];h||(h=this.el_.appendChild(Ir()),a[l]=h),!(h.dataset.start===u&&h.dataset.end===c)&&(h.dataset.start=u,h.dataset.end=c,h.style.left=LC(u,s),h.style.width=LC(c-u,s))}for(let l=a.length;l>n.length;l--)this.el_.removeChild(a[l-1]);a.length=n.length})}};yt.registerComponent("LoadProgressBar",_de);let bde=class extends yt{constructor(e,t){super(e,t),this.update=Wu(zn(this,this.update),ll)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,n){const i=$0(this.el_),s=lm(this.player_.el()),a=e.width*t;if(!s||!i)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let u=i.width/2;o<u?u+=u-o:l<u&&(u=l),u<0?u=0:u>i.width&&(u=i.width),u=Math.round(u),this.el_.style.right=`-${u}px`,this.write(n)}write(e){ah(this.el_,e)}updateTime(e,t,n,i){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-t*o;s=(l<1?"":"-")+Sf(l,o)}else s=Sf(n,a);this.update(e,t,s),i&&i()})}};yt.registerComponent("TimeTooltip",bde);let uA=class extends yt{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=Wu(zn(this,this.update),ll)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){const n=this.getChild("timeTooltip");if(!n)return;const i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,t,i)}};uA.prototype.options_={children:[]};!ca&&!Hu&&uA.prototype.options_.children.push("timeTooltip");yt.registerComponent("PlayProgressBar",uA);let B6=class extends yt{constructor(e,t){super(e,t),this.update=Wu(zn(this,this.update),ll)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const n=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,n,()=>{this.el_.style.left=`${e.width*t}px`})}};B6.prototype.options_={children:["timeTooltip"]};yt.registerComponent("MouseTimeDisplay",B6);const Wy=5,aM=12;let cA=class extends lA{constructor(e,t){super(e,t),this.setEventHandlers_()}setEventHandlers_(){this.update_=zn(this,this.update),this.update=Wu(this.update_,ll),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.on(Be,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Be.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,ll))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Be.visibilityState==="hidden")return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let s=this.player_.duration();i&&i.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(t*100).toFixed(2)),this.percent_=t),(this.currentTime_!==n||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[Sf(n,s),Sf(s,s)],"{1} of {2}")),this.currentTime_=n,this.duration_=s),this.bar&&this.bar.update(lm(this.el()),this.getProgress())}),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let t;const n=this.player_.liveTracker;return n&&n.isLive()?(t=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){j0(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!j0(e)||isNaN(this.player_.duration()))return;!t&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const i=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())n=i*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(i>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(n=a+i*s.liveWindow(),n>=o&&(n=o),n<=a&&(n=a+.1),n===1/0)return}this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?bu(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Wy)}stepBack(){this.userSeek_(this.player_.currentTime()-Wy)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=parseInt(e.key,10)*.1;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Wy*aM)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Wy*aM)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.off(Be,"visibilitychange",this.toggleVisibility_),super.dispose()}};cA.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!ca&&!Hu&&cA.prototype.options_.children.splice(1,0,"mouseTimeDisplay");yt.registerComponent("SeekBar",cA);let N6=class extends yt{constructor(e,t){super(e,t),this.handleMouseMove=Wu(zn(this,this.handleMouseMove),ll),this.throttledHandleMouseSeek=Wu(zn(this,this.handleMouseSeek),ll),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const n=t.getChild("playProgressBar"),i=t.getChild("mouseTimeDisplay");if(!n&&!i)return;const s=t.el(),a=$0(s);let o=US(s,e).x;o=Sv(o,0,1),i&&i.update(a,o),n&&n.update(a,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&bu(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}};N6.prototype.options_={children:["seekBar"]};yt.registerComponent("ProgressControl",N6);let U6=class extends js{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Be.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in X?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Be.exitPictureInPicture=="function"&&super.show()}};U6.prototype.controlText_="Picture-in-Picture";yt.registerComponent("PictureInPictureToggle",U6);let $6=class extends js{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),Be[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}};$6.prototype.controlText_="Fullscreen";yt.registerComponent("FullscreenToggle",$6);const Sde=function(r,e){e.tech_&&!e.tech_.featuresVolumeControl&&r.addClass("vjs-hidden"),r.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?r.removeClass("vjs-hidden"):r.addClass("vjs-hidden")})};let Tde=class extends yt{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}};yt.registerComponent("VolumeLevel",Tde);let Cde=class extends yt{constructor(e,t){super(e,t),this.update=Wu(zn(this,this.update),ll)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,n,i){if(!n){const s=lm(this.el_),a=lm(this.player_.el()),o=e.width*t;if(!a||!s)return;const l=e.left-a.left+o,u=e.width-o+(a.right-e.right);let c=s.width/2;l<c?c+=c-l:u<c&&(c=u),c<0?c=0:c>s.width&&(c=s.width),this.el_.style.right=`-${c}px`}this.write(`${i}%`)}write(e){ah(this.el_,e)}updateVolume(e,t,n,i,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,t,n,i.toFixed(0)),s&&s()})}};yt.registerComponent("VolumeLevelTooltip",Cde);let j6=class extends yt{constructor(e,t){super(e,t),this.update=Wu(zn(this,this.update),ll)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,n){const i=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,n,i,()=>{n?this.el_.style.bottom=`${e.height*t}px`:this.el_.style.left=`${e.width*t}px`})}};j6.prototype.options_={children:["volumeLevelTooltip"]};yt.registerComponent("MouseVolumeLevelDisplay",j6);let qS=class extends lA{constructor(e,t){super(e,t),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){j0(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const n=this.el(),i=lm(n),s=this.vertical();let a=US(n,e);a=s?a.y:a.x,a=Sv(a,0,1),t.update(i,a,s)}j0(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}};qS.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!ca&&!Hu&&qS.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");qS.prototype.playerEvent="volumechange";yt.registerComponent("VolumeBar",qS);let z6=class extends yt{constructor(e,t={}){t.vertical=t.vertical||!1,(typeof t.volumeBar>"u"||am(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),Sde(this,e),this.throttledHandleMouseMove=Wu(zn(this,this.handleMouseMove),ll),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}};z6.prototype.options_={children:["volumeBar"]};yt.registerComponent("VolumeControl",z6);const wde=function(r,e){e.tech_&&!e.tech_.featuresMuteControl&&r.addClass("vjs-hidden"),r.on(e,"loadstart",function(){e.tech_.featuresMuteControl?r.removeClass("vjs-hidden"):r.addClass("vjs-hidden")})};let H6=class extends js{constructor(e,t){super(e,t),wde(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),n=this.player_.lastVolume_();if(t===0){const i=n<.1?.1:n;this.player_.volume(i),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),ca&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),BS(this.el_,[0,1,2,3].reduce((n,i)=>n+`${i?" ":""}vjs-vol-${i}`,"")),rf(this.el_,`vjs-vol-${t}`)}updateControlText_(){const t=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)}};H6.prototype.controlText_="Mute";yt.registerComponent("MuteToggle",H6);let V6=class extends yt{constructor(e,t={}){typeof t.inline<"u"?t.inline=t.inline:t.inline=!0,(typeof t.volumeControl>"u"||am(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),bo(Be,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),$s(Be,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}};V6.prototype.options_={children:["muteToggle","volumeControl"]};yt.registerComponent("VolumePanel",V6);class W6 extends js{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()?n.seekableEnd():this.player_.duration();let s;t+this.skipTime<=i?s=t+this.skipTime:s=i,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}W6.prototype.controlText_="Skip Forward";yt.registerComponent("SkipForward",W6);class q6 extends js{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),n=this.player_.liveTracker,i=n&&n.isLive()&&n.seekableStart();let s;i&&t-this.skipTime<=i?s=i:t>=this.skipTime?s=t-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}q6.prototype.controlText_="Skip Backward";yt.registerComponent("SkipBackward",q6);let G6=class extends yt{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof yt&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof yt&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Ir(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),bo(t,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||Be.activeElement;if(!this.children().some(n=>n.el()===t)){const n=this.menuButton_;n&&n.buttonPressed_&&t!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const n=t.filter(i=>i.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}};yt.registerComponent("Menu",G6);let dA=class extends yt{constructor(e,t={}){super(e,t),this.menuButton_=new js(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=js.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const i=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",i),this.on(this.menuButton_,"click",i),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),bo(Be,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new G6(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=Ir("li",{className:"vjs-menu-title",textContent:di(this.options_.title),tabIndex:-1}),n=new yt(this.player_,{el:t});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const t=js.prototype.buildCSSClass();return`vjs-menu-button ${e} ${t} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),$s(Be,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Esc"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Esc"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Esc"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),ca&&n6())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}};yt.registerComponent("MenuButton",dA);let hA=class extends dA{constructor(e,t){const n=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!n)return;const i=zn(this,this.update);n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),n.addEventListener("labelchange",i),this.player_.on("ready",i),this.player_.on("dispose",function(){n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i),n.removeEventListener("labelchange",i)})}};yt.registerComponent("TrackButton",hA);let Tv=class extends WS{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,n){this.nonIconControl=!0;const i=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),n),s=Ir("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?i.appendChild(s):i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")),i}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}};yt.registerComponent("MenuItem",Tv);let Cv=class extends Tv{constructor(e,t){const n=t.track,i=e.textTracks();t.label=n.label||n.language||"Unknown",t.selected=n.mode==="showing",super(e,t),this.track=n,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),i.addEventListener("change",s),i.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),i.removeEventListener("change",s),i.removeEventListener("selectedlanguagechange",a)}),i.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof X.Event!="object")try{o=new X.Event("change")}catch{}o||(o=Be.createEvent("Event"),o.initEvent("change",!0,!0)),i.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const t=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let i=0;i<n.length;i++){const s=n[i];this.kinds.indexOf(s.kind)!==-1&&(s===t?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const t=this.track.mode==="showing";t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const t=this.player_.cache_.selectedLanguage;if(t&&t.enabled&&t.language===this.track.language&&t.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}};yt.registerComponent("TextTrackMenuItem",Cv);let K6=class extends Cv{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let n=!0;for(let i=0,s=t.length;i<s;i++){const a=t[i];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let n=!0;for(let i=0,s=t.length;i<s;i++){const a=t[i];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}};yt.registerComponent("OffTextTrackMenuItem",K6);let Fm=class extends hA{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=Cv){let n;this.label_&&(n=`${this.label_} off`),e.push(new K6(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const i=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<i.length;s++){const a=i[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new t(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}};yt.registerComponent("TextTrackButton",Fm);let X6=class extends Tv{constructor(e,t){const n=t.track,i=t.cue,s=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=i.text,t.selected=i.startTime<=s&&s<i.endTime,super(e,t),this.track=n,this.cue=i}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}};yt.registerComponent("ChaptersTrackMenuItem",X6);let fA=class extends Fm{constructor(e,t,n){super(e,t,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(i=>{i.selected(this.track_.activeCues[0]===i.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const t=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);t&&t.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const n=e[t];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(di(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let n=0,i=t.length;n<i;n++){const s=t[n],a=new X6(this.player_,{track:this.track_,cue:s});e.push(a)}return e}};fA.prototype.kind_="chapters";fA.prototype.controlText_="Chapters";yt.registerComponent("ChaptersButton",fA);let pA=class extends Fm{constructor(e,t,n){super(e,t,n),this.setIcon("audio-description");const i=e.textTracks(),s=zn(this,this.handleTracksChange);i.addEventListener("change",s),this.on("dispose",function(){i.removeEventListener("change",s)})}handleTracksChange(e){const t=this.player().textTracks();let n=!1;for(let i=0,s=t.length;i<s;i++){const a=t[i];if(a.kind!==this.kind_&&a.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}};pA.prototype.kind_="descriptions";pA.prototype.controlText_="Descriptions";yt.registerComponent("DescriptionsButton",pA);let mA=class extends Fm{constructor(e,t,n){super(e,t,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}};mA.prototype.kind_="subtitles";mA.prototype.controlText_="Subtitles";yt.registerComponent("SubtitlesButton",mA);let gA=class extends Cv{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}};yt.registerComponent("CaptionSettingsMenuItem",gA);let vA=class extends Fm{constructor(e,t,n){super(e,t,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new gA(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}};vA.prototype.kind_="captions";vA.prototype.controlText_="Captions";yt.registerComponent("CaptionsButton",vA);let Y6=class extends Cv{createEl(e,t,n){const i=super.createEl(e,t,n),s=i.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",i):s.appendChild(Ir("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Ir("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),i}};yt.registerComponent("SubsCapsMenuItem",Y6);let yA=class extends Fm{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(di(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new gA(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,Y6),e}};yA.prototype.kinds_=["captions","subtitles"];yA.prototype.controlText_="Subtitles";yt.registerComponent("SubsCapsButton",yA);let Q6=class extends Tv{constructor(e,t){const n=t.track,i=e.audioTracks();t.label=n.label||n.language||"Unknown",t.selected=n.enabled,super(e,t),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};i.addEventListener("change",s),this.on("dispose",()=>{i.removeEventListener("change",s)})}createEl(e,t,n){const i=super.createEl(e,t,n),s=i.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(Ir("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(Ir("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),i}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const t=this.player_.audioTracks();for(let n=0;n<t.length;n++){const i=t[n];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}};yt.registerComponent("AudioTrackMenuItem",Q6);let J6=class extends hA{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let n=0;n<t.length;n++){const i=t[n];e.push(new Q6(this.player_,{track:i,selectable:!0,multiSelectable:!1}))}return e}};J6.prototype.controlText_="Audio Track";yt.registerComponent("AudioTrackButton",J6);let xA=class extends Tv{constructor(e,t){const n=t.rate,i=parseFloat(n,10);t.label=n,t.selected=i===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=n,this.rate=i,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}};xA.prototype.contentElType="button";yt.registerComponent("PlaybackRateMenuItem",xA);let Z6=class extends dA{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ir("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let n=e.length-1;n>=0;n--)t.push(new xA(this.player(),{rate:e[n]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}};Z6.prototype.controlText_="Playback Rate";yt.registerComponent("PlaybackRateMenuButton",Z6);let eU=class extends yt{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},n={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,n)}};yt.registerComponent("Spacer",eU);let Ede=class extends eU{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}};yt.registerComponent("CustomControlSpacer",Ede);let tU=class extends yt{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}};tU.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};yt.registerComponent("ControlBar",tU);let rU=class extends Lm{constructor(e,t){super(e,t),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}};rU.prototype.options_=Object.assign({},Lm.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});yt.registerComponent("ErrorDisplay",rU);class nU extends yt{constructor(e,t={}){super(e,t),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),Ir("select",{id:this.options_.id},{},this.options_.SelectOptions.map(t=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${ol()}`)+"-"+t[1].replace(/\W+/g,""),i=Ir("option",{id:n,value:this.localize(t[0]),textContent:t[1]});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),i}))}}yt.registerComponent("TextTrackSelect",nU);class sf extends yt{constructor(e,t={}){super(e,t);const n=Ir("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const i=this.options_.selects;for(const s of i){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let u=null;const c=`vjs_select_${ol()}`;if(this.options_.type==="colors"){u=Ir("span",{className:o});const f=Ir("label",{id:l,className:"vjs-label",textContent:a.label});f.setAttribute("for",c),u.appendChild(f)}const h=new nU(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:c,labelId:l});this.addChild(h),this.options_.type==="colors"&&(u.appendChild(h.el()),this.el().appendChild(u))}}createEl(){return Ir("fieldset",{className:this.options_.className})}}yt.registerComponent("TextTrackFieldset",sf);class iU extends yt{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new sf(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(i);const s=new sf(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new sf(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return Ir("div",{className:"vjs-track-settings-colors"})}}yt.registerComponent("TextTrackSettingsColors",iU);class sU extends yt{constructor(e,t={}){super(e,t);const n=this.options_.textTrackComponentid,i=new sf(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(i);const s=new sf(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new sf(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return Ir("div",{className:"vjs-track-settings-font"})}}yt.registerComponent("TextTrackSettingsFont",sU);class aU extends yt{constructor(e,t={}){super(e,t);const n=this.localize("restore all settings to the default values"),i=new js(e,{controlText:n,className:"vjs-default-button"});i.el().classList.remove("vjs-control","vjs-button"),i.el().textContent=this.localize("Reset"),this.addChild(i);const s=new js(e,{controlText:n,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return Ir("div",{className:"vjs-track-settings-controls"})}}yt.registerComponent("TrackSettingsControls",aU);const OC="vjs-text-track-settings",oM=["#000","Black"],lM=["#00F","Blue"],uM=["#0FF","Cyan"],cM=["#0F0","Green"],dM=["#F0F","Magenta"],hM=["#F00","Red"],fM=["#FFF","White"],pM=["#FF0","Yellow"],MC=["1","Opaque"],FC=["0.5","Semi-Transparent"],mM=["0","Transparent"],Id={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[oM,fM,hM,cM,lM,pM,dM,uM],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[MC,FC,mM],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[fM,oM,hM,cM,lM,pM,dM,uM],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:r=>r==="1.00"?null:Number(r)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[MC,FC],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[mM,FC,MC],className:"vjs-window-opacity vjs-opacity"}};Id.windowColor.options=Id.backgroundColor.options;function oU(r,e){if(e&&(r=e(r)),r&&r!=="none")return r}function kde(r,e){const t=r.options[r.options.selectedIndex].value;return oU(t,e)}function Ade(r,e,t){if(e){for(let n=0;n<r.options.length;n++)if(oU(r.options[n].value,t)===e){r.selectedIndex=n;break}}}let Dde=class extends Lm{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=Ir("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),t.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const t=new iU(e,{textTrackComponentid:this.id_,selectConfigs:Id,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(t);const n=new sU(e,{textTrackComponentid:this.id_,selectConfigs:Id,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const i=new aU(e);this.addChild(i)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Op(Id,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return Y5(Id,(e,t,n)=>{const i=kde(this.$(t.selector),t.parser);return i!==void 0&&(e[n]=i),e},{})}setValues(e){Op(Id,(t,n)=>{Ade(this.$(t.selector),e[n],t.parser)})}setDefaults(){Op(Id,e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t})}restoreSettings(){let e;try{e=JSON.parse(X.localStorage.getItem(OC))}catch(t){Qr.warn(t)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?X.localStorage.setItem(OC,JSON.stringify(e)):X.localStorage.removeItem(OC)}catch(t){Qr.warn(t)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}};yt.registerComponent("TextTrackSettings",Dde);let Ide=class extends yt{constructor(e,t){let n=t.ResizeObserver||X.ResizeObserver;t.ResizeObserver===null&&(n=!1);const i=Nn({createEl:!n,reportTouchActivity:!1},t);super(e,i),this.ResizeObserver=t.ResizeObserver||X.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=x6(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){$s(this,"resize",s),$s(this,"unload",a),a=null};bo(this.el_.contentWindow,"unload",a),bo(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}};yt.registerComponent("ResizeManager",Ide);const Pde={trackingThreshold:20,liveTolerance:15};let Rde=class extends yt{constructor(e,t){const n=Nn(Pde,t,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=i=>this.handlePlay(i),this.handleFirstTimeupdate_=i=>this.handleFirstTimeupdate(i),this.handleSeeked_=i=>this.handleSeeked(i),this.seekToLiveEdge_=i=>this.seekToLiveEdge(i),this.reset_(),this.on(this.player_,"durationchange",i=>this.handleDurationchange(i)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(X.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+n;const i=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(i-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||i===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,ll),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.end(n));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let n=e?e.length:0;for(;n--;)t.push(e.start(n));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}};yt.registerComponent("LiveTracker",Rde);class Lde extends yt{constructor(e,t){super(e,t),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:Ir("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${ol()}`}),description:Ir("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${ol()}`})},Ir("div",{className:"vjs-title-bar"},{},Q5(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(i=>{const s=this.state[i],a=this.els[i],o=n[i];$S(a),s&&ah(a,s),t&&(t.removeAttribute(o),s&&t.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}yt.registerComponent("TitleBar",Lde);const Ode={initialDisplay:4e3,position:[],takeFocus:!1};class Mde extends js{constructor(e,t){t=Nn(Ode,t),super(e,t),this.controlText(t.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],n=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=Ir("button",{},{type:"button",class:this.buildCSSClass()},Ir("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}yt.registerComponent("TransientButton",Mde);const A2=r=>{const e=r.el();if(e.hasAttribute("src"))return r.triggerSourceset(e.src),!0;const t=r.$$("source"),n=[];let i="";if(!t.length)return!1;for(let s=0;s<t.length;s++){const a=t[s].src;a&&n.indexOf(a)===-1&&n.push(a)}return n.length?(n.length===1&&(i=n[0]),r.triggerSourceset(i),!0):!1},Fde=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(r){const e=Be.createElement(this.nodeName.toLowerCase());e.innerHTML=r;const t=Be.createDocumentFragment();for(;e.childNodes.length;)t.appendChild(e.childNodes[0]);return this.innerText="",X.Element.prototype.appendChild.call(this,t),this.innerHTML}}),lU=(r,e)=>{let t={};for(let n=0;n<r.length&&(t=Object.getOwnPropertyDescriptor(r[n],e),!(t&&t.set&&t.get));n++);return t.enumerable=!0,t.configurable=!0,t},Bde=r=>lU([r.el(),X.HTMLMediaElement.prototype,X.Element.prototype,Fde],"innerHTML"),gM=function(r){const e=r.el();if(e.resetSourceWatch_)return;const t={},n=Bde(r),i=s=>(...a)=>{const o=s.apply(e,a);return A2(r),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(t[s]=e[s],e[s]=i(t[s]))}),Object.defineProperty(e,"innerHTML",Nn(n,{set:i(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(t).forEach(s=>{e[s]=t[s]}),Object.defineProperty(e,"innerHTML",n)},r.one("sourceset",e.resetSourceWatch_)},Nde=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?I6(X.Element.prototype.getAttribute.call(this,"src")):""},set(r){return X.Element.prototype.setAttribute.call(this,"src",r),r}}),Ude=r=>lU([r.el(),X.HTMLMediaElement.prototype,Nde],"src"),$de=function(r){if(!r.featuresSourceset)return;const e=r.el();if(e.resetSourceset_)return;const t=Ude(r),n=e.setAttribute,i=e.load;Object.defineProperty(e,"src",Nn(t,{set:s=>{const a=t.set.call(e,s);return r.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=n.call(e,s,a);return/src/i.test(s)&&r.triggerSourceset(e.src),o},e.load=()=>{const s=i.call(e);return A2(r)||(r.triggerSourceset(""),gM(r)),s},e.currentSrc?r.triggerSourceset(e.currentSrc):A2(r)||gM(r),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=i,e.setAttribute=n,Object.defineProperty(e,"src",t),e.resetSourceWatch_&&e.resetSourceWatch_()}};let tr=class c_ extends Un{constructor(e,t){super(e,t);const n=e.source;let i=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!i&&!this.el_.hasAttribute("crossorigin")&&VS(l.src)&&(i=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&i&&Qr.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(U0||MS)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),c_.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){$de(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const n=()=>{t=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&t.push({track:a,storedMode:a.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const i=()=>{for(let s=0;s<t.length;s++){const a=t[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",i),e.addEventListener("change",i)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",i)})}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(i=>{this.el()[`${n}Tracks`].removeEventListener(i,this[`${n}TracksListeners_`][i])}),this[`featuresNative${e}Tracks`]=!t,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=el[e],n=this.el()[t.getterName],i=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!n||!n.addEventListener)return;const s={change:o=>{const l={type:"change",target:i,currentTarget:i,srcElement:i};i.trigger(l),e==="text"&&this[dm.remoteText.getterName]().trigger(l)},addtrack(o){i.addTrack(o.track)},removetrack(o){i.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<i.length;l++){let u=!1;for(let c=0;c<n.length;c++)if(n[c]===i[l]){u=!0;break}u||o.push(i[l])}for(;o.length;)i.removeTrack(o.shift())};this[t.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];n.addEventListener(o,l),this.on("dispose",u=>n.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){el.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),c_.disposeMediaElement(e),e=n}else{e=Be.createElement("video");const n=this.options_.tag&&Dd(this.options_.tag),i=Nn({},n);(!U0||this.options_.nativeControlsForTouch!==!0)&&delete i.controls,a6(e,Object.assign(i,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&om(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let n=0;n<t.length;n++){const i=t[n],s=this.options_[i];typeof s<"u"&&(s?om(e,i,i):NS(e,i),e[i]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const i=function(){n=!0};this.on("loadstart",i);const s=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",s),n||this.trigger("loadstart")});return}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready(function(){t.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&FS?this.el_.fastSeek(e):this.el_.currentTime=e}catch(t){Qr(t,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&Hu&&Vu&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)bu(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}},0);else try{e.webkitEnterFullScreen()}catch(t){this.trigger("fullscreenerror",t)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,t){if(!e)return Qr.error("Invalid source URL."),!1;const n={src:e};t&&(n.type=t);const i=Ir("source",{},n);return this.el_.appendChild(i),!0}removeSourceElement(e){if(!e)return Qr.error("Source URL is required to remove the source element."),!1;const t=this.el_.querySelectorAll("source");for(const n of t)if(n.src===e)return this.el_.removeChild(n),!0;return Qr.warn(`No matching source element found with src: ${e}`),!1}reset(){c_.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,n):super.addTextTrack(e,t,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=Be.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const n=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let n=t.length;for(;n--;)(e===t[n]||e===t[n].track)&&this.el().removeChild(t[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),X.performance&&(e.creationTime=X.performance.now()),e}};RS(tr,"TEST_VID",function(){if(!Im())return;const r=Be.createElement("video"),e=Be.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",r.appendChild(e),r});tr.isSupported=function(){try{tr.TEST_VID.volume=.5}catch{return!1}return!!(tr.TEST_VID&&tr.TEST_VID.canPlayType)};tr.canPlayType=function(r){return tr.TEST_VID.canPlayType(r)};tr.canPlaySource=function(r,e){return tr.canPlayType(r.type)};tr.canControlVolume=function(){try{const r=tr.TEST_VID.volume;tr.TEST_VID.volume=r/2+.1;const e=r!==tr.TEST_VID.volume;return e&&ca?(X.setTimeout(()=>{tr&&tr.prototype&&(tr.prototype.featuresVolumeControl=r!==tr.TEST_VID.volume)}),!1):e}catch{return!1}};tr.canMuteVolume=function(){try{const r=tr.TEST_VID.muted;return tr.TEST_VID.muted=!r,tr.TEST_VID.muted?om(tr.TEST_VID,"muted","muted"):NS(tr.TEST_VID,"muted","muted"),r!==tr.TEST_VID.muted}catch{return!1}};tr.canControlPlaybackRate=function(){if(Hu&&Vu&&LS<58)return!1;try{const r=tr.TEST_VID.playbackRate;return tr.TEST_VID.playbackRate=r/2+.1,r!==tr.TEST_VID.playbackRate}catch{return!1}};tr.canOverrideAttributes=function(){try{const r=()=>{};Object.defineProperty(Be.createElement("video"),"src",{get:r,set:r}),Object.defineProperty(Be.createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(Be.createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(Be.createElement("audio"),"innerHTML",{get:r,set:r})}catch{return!1}return!0};tr.supportsNativeTextTracks=function(){return FS||ca&&Vu};tr.supportsNativeVideoTracks=function(){return!!(tr.TEST_VID&&tr.TEST_VID.videoTracks)};tr.supportsNativeAudioTracks=function(){return!!(tr.TEST_VID&&tr.TEST_VID.audioTracks)};tr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([r,e]){RS(tr.prototype,r,()=>tr[e](),!0)});tr.prototype.featuresVolumeControl=tr.canControlVolume();tr.prototype.movingMediaElementInDOM=!ca;tr.prototype.featuresFullscreenResize=!0;tr.prototype.featuresProgressEvents=!0;tr.prototype.featuresTimeupdateEvents=!0;tr.prototype.featuresVideoFrameCallback=!!(tr.TEST_VID&&tr.TEST_VID.requestVideoFrameCallback);tr.disposeMediaElement=function(r){if(r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),typeof r.load=="function"&&(function(){try{r.load()}catch{}})()}};tr.resetMediaElement=function(r){if(!r)return;const e=r.querySelectorAll("source");let t=e.length;for(;t--;)r.removeChild(e[t]);r.removeAttribute("src"),typeof r.load=="function"&&(function(){try{r.load()}catch{}})()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){tr.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){tr.prototype["set"+di(r)]=function(e){this.el_[r]=e,e?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){tr.prototype[r]=function(){return this.el_[r]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){tr.prototype["set"+di(r)]=function(e){this.el_[r]=e}});["pause","load","play"].forEach(function(r){tr.prototype[r]=function(){return this.el_[r]()}});Un.withSourceHandlers(tr);tr.nativeSourceHandler={};tr.nativeSourceHandler.canPlayType=function(r){try{return tr.TEST_VID.canPlayType(r)}catch{return""}};tr.nativeSourceHandler.canHandleSource=function(r,e){if(r.type)return tr.nativeSourceHandler.canPlayType(r.type);if(r.src){const t=nA(r.src);return tr.nativeSourceHandler.canPlayType(`video/${t}`)}return""};tr.nativeSourceHandler.handleSource=function(r,e,t){e.setSrc(r.src)};tr.nativeSourceHandler.dispose=function(){};tr.registerSourceHandler(tr.nativeSourceHandler);Un.registerTech("Html5",tr);const uU=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],BC={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},D2=["tiny","xsmall","small","medium","large","xlarge","huge"],d_={};D2.forEach(r=>{const e=r.charAt(0)==="x"?`x-${r.substring(1)}`:r;d_[r]=`vjs-layout-${e}`});const jde={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};let $i=class fp extends yt{constructor(e,t,n){if(e.id=e.id||t.id||`vjs_video_${ol()}`,t=Object.assign(fp.getTagSettings(e),t),t.initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const a=e.closest("[lang]");a&&(t.language=a.getAttribute("lang"))}if(super(null,t,n),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=K5(this.id_),this.fsApi_=K_,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Dd(e),this.language(this.options_.language),t.languages){const a={};Object.getOwnPropertyNames(t.languages).forEach(function(o){a[o.toLowerCase()]=t.languages[o]}),this.languages_=a}else this.languages_=fp.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),Zk(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(bo(Be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const i=Nn(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach(a=>{this[a](t.plugins[a])}),t.debug&&this.debug(!0),this.options_.playerOptions=i,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const o=new X.DOMParser().parseFromString(cde,"image/svg+xml");if(o.querySelector("parsererror"))Qr.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const u=o.documentElement;u.style.display="none",this.el_.appendChild(u),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),t.spatialNavigation&&t.spatialNavigation.enabled&&(this.spatialNavigation=new dde(this),this.addClass("vjs-spatial-navigation-enabled")),U0&&this.addClass("vjs-touch-enabled"),ca||this.addClass("vjs-workinghover"),fp.players[this.id_]=this;const s=y2.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),$s(Be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),$s(Be,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),fp.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),ade(this),ra.names.forEach(e=>{const t=ra[e],n=this[t.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,t,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const i=this.tag.tagName.toLowerCase()==="video-js";n?t=this.el_=e.parentNode:i||(t=this.el_=super.createEl("div"));const s=Dd(e);if(i){for(t=this.el_=e,e=this.tag=Be.createElement("video");t.children.length;)e.appendChild(t.firstChild);l0(t,"video-js")||rf(t,"video-js"),t.appendChild(e),n=this.playerElIngest_=t,Object.keys(t).forEach(l=>{try{e[l]=t[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",Vu&&OS&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){i&&l==="class"||t.setAttribute(l,s[l]),i&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=t.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>r6[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),X.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=v6("vjs-styles-dimensions");const l=Kd(".vjs-styles-defaults"),u=Kd("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const u=o.item(l);rf(u,"vjs-hidden"),u.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(t,e),_2(e,t),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=t,t}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){Qr.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const n=e+"_";if(t===void 0)return this[n]||0;if(t===""||t==="auto"){this[n]=void 0,this.updateStyleEl_();return}const i=parseFloat(t);if(isNaN(i)){Qr.error(`Improper value "${t}" supplied for for ${e}`);return}this[n]=i,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,Oc(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),Fce(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(X.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,u=this.tech_&&this.tech_.el();u&&(o>=0&&(u.width=o),l>=0&&(u.height=l));return}let e,t,n,i;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const s=n.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?t=this.height_:t=e*a,/^[^a-zA-Z]/.test(this.id())?i="dimensions-"+this.id():i=this.id()+"-dimensions",this.addClass(i),y6(this.styleEl_,`
      .${i} {
        width: ${e}px;
        height: ${t}px;
      }

      .${i}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const n=di(e),i=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(Un.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:t,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${i}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};ra.names.forEach(l=>{const u=ra[l];a[u.getterName]=this[u.privateName]}),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=Un.getTech(e);if(!o)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(zn(this,this.handleTechReady_),!0),K4.jsonToTextTracks(this.textTracksJson_||[],this.tech_),uU.forEach(l=>{this.on(this.tech_,l,u=>this[`handleTech${di(l)}_`](u))}),Object.keys(BC).forEach(l=>{this.on(this.tech_,l,u=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${BC[l]}_`].bind(this),event:u});return}this[`handleTech${BC[l]}_`](u)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,u)=>this.handleTechFullscreenChange_(l,u)),this.on(this.tech_,"fullscreenerror",(l,u)=>this.handleTechFullscreenError_(l,u)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&_2(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){ra.names.forEach(e=>{const t=ra[e];this[t.privateName]=this[t.getterName]()}),this.textTracksJson_=K4.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&Qr.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":y2}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const t=()=>{const i=this.muted();this.muted(!0);const s=()=>{this.muted(i)};this.playTerminatedQueue_.push(s);const a=this.play();if(c0(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),c0(n)&&(n=n.catch(t))):e==="muted"&&!this.muted()?n=t():n=this.play(),!!c0(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let t=e,n="";typeof t!="string"&&(t=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!n&&(n=ude(this,t)),this.cache_.source=Nn({},e,{src:t,type:n});const i=this.cache_.sources.filter(l=>l.src&&l.src===t),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const u=Dd(a[l]);s.push(u),u.src&&u.src===t&&o.push(u.src)}o.length&&!i.length?this.cache_.sources=s:i.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=s=>this.updateSourceCaches_(s);const n=this.currentSource().src,i=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(i)&&(!this.lastSource_||this.lastSource_.tech!==i&&this.lastSource_.player!==n)&&(t=()=>{}),t(i),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?bu(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Be.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const n=this.el();let i=Be[this.fsApi_.fullscreenElement]===n;!i&&n.matches&&(i=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(i)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready(function(){if(e in ide)return rde(this.middleware_,this.tech_,e,t);if(e in eM)return Z4(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(n){throw Qr(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in nde)return tde(this.middleware_,this.tech_,e);if(e in eM)return Z4(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(t){throw this.tech_[e]===void 0?(Qr(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,t),t):t.name==="TypeError"?(Qr(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,t),this.tech_.isReady_=!1,t):(Qr(t),t)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=bu){this.playCallbacks_.push(e);const t=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(FS||ca);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!t&&n&&this.load();return}const i=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),i===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(i)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(t){t()})}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Fl(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Fl(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Fl(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return k6(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let n=e.end(e.length-1);return n>t&&(n=t),n}volume(e){let t;if(e!==void 0){t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),t>0&&this.lastVolume_(t);return}return t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const t=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise((n,i)=>{function s(){t.off("fullscreenerror",o),t.off("fullscreenchange",a)}function a(){s(),n()}function o(u,c){s(),i(c)}t.one("fullscreenchange",a),t.one("fullscreenerror",o);const l=t.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(n,i))})}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(t=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](t);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((t,n)=>{function i(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){i(),t()}function a(l,u){i(),n(u)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(i,i),o.then(t,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Be[this.fsApi_.exitFullscreen]();return e&&bu(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Be.documentElement.style.overflow,bo(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow="hidden",rf(Be.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,$s(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow=this.docOrigOverflow,BS(Be.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&X.documentPictureInPicture){const e=Be.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Ir("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),X.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(t=>(p6(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:t}),t.addEventListener("pagehide",n=>{const i=n.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),t))}return"pictureInPictureEnabled"in Be&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(X.documentPictureInPicture&&X.documentPictureInPicture.window)return X.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Be)return Be.exitPictureInPicture()}handleKeyDown(e){const{userActions:t}=this.options_;!t||!t.hotkeys||(i=>{const s=i.tagName.toLowerCase();if(i.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return s==="input"?a.indexOf(i.type)===-1:["textarea"].indexOf(s)!==-1})(this.el_.ownerDocument.activeElement)||(typeof t.hotkeys=="function"?t.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=a=>e.key.toLowerCase()==="f",muteKey:i=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=t;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const a=yt.getComponent("FullscreenToggle");Be[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else i.call(this,e)?(e.preventDefault(),e.stopPropagation(),yt.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),yt.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let t;for(let n=0,i=this.options_.techOrder;n<i.length;n++){const s=i[n];let a=Un.getTech(s);if(a||(a=yt.getComponent(s)),!a){Qr.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(t=a.canPlayType(e),t))return t}return""}selectSource(e){const t=this.options_.techOrder.map(o=>[o,Un.getTech(o)]).filter(([o,l])=>l?l.isSupported():(Qr.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(o,l,u){let c;return o.some(h=>l.some(f=>{if(c=u(h,f),c)return!0})),c};let i;const s=o=>(l,u)=>o(u,l),a=([o,l],u)=>{if(l.canPlaySource(u,this.options_[o.toLowerCase()]))return{source:u,tech:o}};return this.options_.sourceOrder?i=n(e,t,s(a)):i=n(t,e,a),i||!1}handleSrc_(e,t){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=L6(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,t||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),Zce(this,n[0],(i,s)=>{if(this.middleware_=s,t||(this.cache_.sources=n),this.updateSourceCaches_(i),this.src_(i)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}ede(s,this.tech_)}),n.length>1){const i=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},s=()=>{this.off("error",i)};this.one("error",i),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",i),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return t?T6(t.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,t){return this.tech_?this.tech_.addSourceElement(e,t):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();bu(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),Oc(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:n,remainingTimeDisplay:i}=this.controlBar||{},{seekBar:s}=n||{};e&&e.updateContent(),t&&t.updateContent(),i&&i.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return Object.keys(e).length!==0&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let t;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),t=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,t=typeof t>"u"?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(Gd("beforeerror").forEach(t=>{const n=t(this,e);if(!(zu(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const t=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),this.one("loadstart",function(){this.off(["click","touchstart"],t)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new ii(e),this.addClass("vjs-error"),Qr.error(`(CODE:${this.error_.code} ${ii.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),Gd("error").forEach(t=>t(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,n;const i=zn(this,this.reportUserActivity),s=function(h){(h.screenX!==t||h.screenY!==n)&&(t=h.screenX,n=h.screenY,i())},a=function(){i(),this.clearInterval(e),e=this.setInterval(i,250)},o=function(h){i(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!ca&&!Hu&&(l.on("mouseenter",function(h){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(h){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",i),this.on("keyup",i);let u;const c=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(u);const h=this.options_.inactivityTimeout;h<=0||(u=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},h))};this.setInterval(c,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),n=t&&t.currentHeight();e.forEach(i=>{i!==t&&i.el_&&!i.hasClass("vjs-hidden")&&(i.hide(),this.audioOnlyCache_.hiddenChildren.push(i))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const t=[];return this.isInPictureInPicture()&&t.push(this.exitPictureInPicture()),this.isFullscreen()&&t.push(this.exitFullscreen()),this.audioPosterMode()&&t.push(this.audioPosterMode(!1)),Promise.all(t).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,t,n){if(this.tech_)return this.tech_.addTextTrack(e,t,n)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),Oc(this)&&this.trigger("languagechange"))}languages(){return Nn(fp.prototype.options_.languages,this.languages_)}toJSON(){const e=Nn(this.options_),t=e.tracks;e.tracks=[];for(let n=0;n<t.length;n++){let i=t[n];i=Nn(i),i.player=void 0,e.tracks[n]=i}return e}createModal(e,t){t=t||{},t.content=e||"";const n=new Lm(this,t);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let n=0;n<D2.length;n++){const i=D2[n],s=this.breakpoints_[i];if(t<=s){if(e===i)return;e&&this.removeClass(d_[e]),this.addClass(d_[i]),this.breakpoint_=i;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},jde,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const t=this.responsive_;if(e!==t)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return d_[this.breakpoint_]||""}loadMedia(e,t){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Nn(e);const{artist:i,artwork:s,description:a,poster:o,src:l,textTracks:u,title:c}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:nb(o)}]),n&&this.crossOrigin(n),l&&this.src(l),o&&this.poster(o),Array.isArray(u)&&u.forEach(h=>this.addRemoteTextTrack(h,!1)),this.titleBar&&this.titleBar.update({title:c,description:a||i||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),i={src:t,textTracks:n};return e&&(i.poster=e,i.artwork=[{src:i.poster,type:nb(i.poster)}]),i}return Nn(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},n=Dd(e),i=n["data-setup"];if(l0(e,"vjs-fill")&&(n.fill=!0),l0(e,"vjs-fluid")&&(n.fluid=!0),i!==null)try{Object.assign(n,JSON.parse(i||"{}"))}catch(s){Qr.error("data-setup",s)}if(Object.assign(t,n),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],u=l.nodeName.toLowerCase();u==="source"?t.sources.push(Dd(l)):u==="track"&&t.tracks.push(Dd(l))}}return t}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(t=>typeof t=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}};ra.names.forEach(function(r){const e=ra[r];$i.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});$i.prototype.crossorigin=$i.prototype.crossOrigin;$i.players={};const Mg=X.navigator;$i.prototype.options_={techOrder:Un.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Mg&&(Mg.languages&&Mg.languages[0]||Mg.userLanguage||Mg.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1};uU.forEach(function(r){$i.prototype[`handleTech${di(r)}_`]=function(){return this.trigger(r)}});yt.registerComponent("Player",$i);const ib="plugin",Bp="activePlugins_",vp={},sb=r=>vp.hasOwnProperty(r),h_=r=>sb(r)?vp[r]:void 0,cU=(r,e)=>{r[Bp]=r[Bp]||{},r[Bp][e]=!0},ab=(r,e,t)=>{const n=(t?"before":"")+"pluginsetup";r.trigger(n,e),r.trigger(n+":"+e.name,e)},zde=function(r,e){const t=function(){ab(this,{name:r,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return cU(this,r),ab(this,{name:r,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},vM=(r,e)=>(e.prototype.name=r,function(...t){ab(this,{name:r,plugin:e,instance:null},!0);const n=new e(this,...t);return this[r]=()=>n,ab(this,n.getEventHash()),n});let qu=class f_{constructor(e){if(this.constructor===f_)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),Zk(this),delete this.trigger,S6(this,this.constructor.defaultState),cU(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return Rm(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[Bp][e]=!1,this.player=this.state=null,t[e]=vM(e,vp[e])}static isBasic(e){const t=typeof e=="string"?h_(e):e;return typeof t=="function"&&!f_.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(sb(e))Qr.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if($i.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof t!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return vp[e]=t,e!==ib&&(f_.isBasic(t)?$i.prototype[e]=zde(e,t):$i.prototype[e]=vM(e,t)),t}static deregisterPlugin(e){if(e===ib)throw new Error("Cannot de-register base plugin.");sb(e)&&(delete vp[e],delete $i.prototype[e])}static getPlugins(e=Object.keys(vp)){let t;return e.forEach(n=>{const i=h_(n);i&&(t=t||{},t[n]=i)}),t}static getPluginVersion(e){const t=h_(e);return t&&t.VERSION||""}};qu.getPlugin=h_;qu.BASE_PLUGIN_NAME=ib;qu.registerPlugin(ib,qu);$i.prototype.usingPlugin=function(r){return!!this[Bp]&&this[Bp][r]===!0};$i.prototype.hasPlugin=function(r){return!!sb(r)};function Hde(r,e){let t=!1;return function(...n){return t||Qr.warn(r),t=!0,e.apply(this,n)}}function Vl(r,e,t,n){return Hde(`${e} is deprecated and will be removed in ${r}.0; please use ${t} instead.`,n)}var Vde={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const dU=r=>r.indexOf("#")===0?r.slice(1):r;function Se(r,e,t){let n=Se.getPlayer(r);if(n)return e&&Qr.warn(`Player "${r}" is already initialised. Options will not be applied.`),t&&n.ready(t),n;const i=typeof r=="string"?Kd("#"+dU(r)):r;if(!Pm(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in i?i.getRootNode()instanceof X.ShadowRoot:!1)?i.getRootNode():i.ownerDocument.body;(!i.ownerDocument.defaultView||!a.contains(i))&&Qr.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Gd("beforesetup").forEach(l=>{const u=l(i,Nn(e));if(!zu(u)||Array.isArray(u)){Qr.error("please return an object in beforesetup hooks");return}e=Nn(e,u)});const o=yt.getComponent("Player");return n=new o(i,e,t),Gd("setup").forEach(l=>l(n)),n}Se.hooks_=Ac;Se.hooks=Gd;Se.hook=Sce;Se.hookOnce=Tce;Se.removeHook=G5;if(X.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Im()){let r=Kd(".vjs-styles-defaults");if(!r){r=v6("vjs-styles-defaults");const e=Kd("head");e&&e.insertBefore(r,e.firstChild),y6(r,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}S2(1,Se);Se.VERSION=y2;Se.options=$i.prototype.options_;Se.getPlayers=()=>$i.players;Se.getPlayer=r=>{const e=$i.players;let t;if(typeof r=="string"){const n=dU(r),i=e[n];if(i)return i;t=Kd("#"+n)}else t=r;if(Pm(t)){const{player:n,playerId:i}=t;if(n||e[i])return n||e[i]}};Se.getAllPlayers=()=>Object.keys($i.players).map(r=>$i.players[r]).filter(Boolean);Se.players=$i.players;Se.getComponent=yt.getComponent;Se.registerComponent=(r,e)=>(Un.isTech(e)&&Qr.warn(`The ${r} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),yt.registerComponent.call(yt,r,e));Se.getTech=Un.getTech;Se.registerTech=Un.registerTech;Se.use=Jce;Object.defineProperty(Se,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Se.middleware,"TERMINATOR",{value:rb,writeable:!1,enumerable:!0});Se.browser=r6;Se.obj=Ece;Se.mergeOptions=Vl(9,"videojs.mergeOptions","videojs.obj.merge",Nn);Se.defineLazyProperty=Vl(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",RS);Se.bind=Vl(9,"videojs.bind","native Function.prototype.bind",zn);Se.registerPlugin=qu.registerPlugin;Se.deregisterPlugin=qu.deregisterPlugin;Se.plugin=(r,e)=>(Qr.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),qu.registerPlugin(r,e));Se.getPlugins=qu.getPlugins;Se.getPlugin=qu.getPlugin;Se.getPluginVersion=qu.getPluginVersion;Se.addLanguage=function(r,e){return r=(""+r).toLowerCase(),Se.options.languages=Nn(Se.options.languages,{[r]:e}),Se.options.languages[r]};Se.log=Qr;Se.createLogger=K5;Se.time=jce;Se.createTimeRange=Vl(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Fl);Se.createTimeRanges=Vl(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Fl);Se.formatTime=Vl(9,"videojs.formatTime","videojs.time.formatTime",Sf);Se.setFormatTime=Vl(9,"videojs.setFormatTime","videojs.time.setFormatTime",w6);Se.resetFormatTime=Vl(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",E6);Se.parseUrl=Vl(9,"videojs.parseUrl","videojs.url.parseUrl",rA);Se.isCrossOrigin=Vl(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",VS);Se.EventTarget=So;Se.any=Jk;Se.on=bo;Se.one=zS;Se.off=$s;Se.trigger=Rm;Se.xhr=A5;Se.TextTrack=bv;Se.AudioTrack=P6;Se.VideoTrack=R6;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(r=>{Se[r]=function(){return Qr.warn(`videojs.${r}() is deprecated; use videojs.dom.${r}() instead`),m6[r].apply(null,arguments)}});Se.computedStyle=Vl(9,"videojs.computedStyle","videojs.dom.computedStyle",um);Se.dom=m6;Se.fn=Mce;Se.num=xde;Se.str=Uce;Se.url=Yce;Se.Error=Vde;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class Wde{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get(){return t.enabled_()},set(n){t.enabled_(n)}}),t}}class ob extends Se.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const n=this.levels_.length;return t=new Wde(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let n=0,i=this.length;n<i;n++)if(this[n]===e){t=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,n=this.length;t<n;t++){const i=this[t];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}ob.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const r in ob.prototype.allowedEvents_)ob.prototype["on"+r]=null;var hU="4.1.0";const qde=function(r,e){const t=r.qualityLevels,n=new ob,i=function(){n.dispose(),r.qualityLevels=t,r.off("dispose",i)};return r.on("dispose",i),r.qualityLevels=()=>n,r.qualityLevels.VERSION=hU,n},fU=function(r){return qde(this,Se.obj.merge({},r))};Se.registerPlugin("qualityLevels",fU);fU.VERSION=hU;/*! @name @videojs/http-streaming @version 3.15.0 @license Apache-2.0 */const Oa=yv,lb=(r,e)=>e&&e.responseURL&&r!==e.responseURL?e.responseURL:r,hl=r=>Se.log.debug?Se.log.debug.bind(Se,"VHS:",`${r} >`):function(){};function An(...r){const e=Se.obj||Se;return(e.merge||e.mergeOptions).apply(e,r)}function xs(...r){const e=Se.time||Se;return(e.createTimeRanges||e.createTimeRanges).apply(e,r)}function Gde(r){if(r.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let t=0;t<r.length;t++){const n=r.start(t),i=r.end(t);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const Su=1/30,Tu=Su*3,pU=function(r,e){const t=[];let n;if(r&&r.length)for(n=0;n<r.length;n++)e(r.start(n),r.end(n))&&t.push([r.start(n),r.end(n)]);return xs(t)},yp=function(r,e){return pU(r,function(t,n){return t-Tu<=e&&n+Tu>=e})},qy=function(r,e){return pU(r,function(t){return t-Su>=e})},Kde=function(r){if(r.length<2)return xs();const e=[];for(let t=1;t<r.length;t++){const n=r.end(t-1),i=r.start(t);e.push([n,i])}return xs(e)},Xde=function(r,e){let t=null,n=null,i=0;const s=[],a=[];if(!r||!r.length||!e||!e.length)return xs();let o=r.length;for(;o--;)s.push({time:r.start(o),type:"start"}),s.push({time:r.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),o=0;o<s.length;o++)s[o].type==="start"?(i++,i===2&&(t=s[o].time)):s[o].type==="end"&&(i--,i===1&&(n=s[o].time)),t!==null&&n!==null&&(a.push([t,n]),t=null,n=null);return xs(a)},mU=r=>{const e=[];if(!r||!r.length)return"";for(let t=0;t<r.length;t++)e.push(r.start(t)+" => "+r.end(t));return e.join(", ")},Yde=function(r,e,t=1){return((r.length?r.end(r.length-1):0)-e)/t},Kh=r=>{const e=[];for(let t=0;t<r.length;t++)e.push({start:r.start(t),end:r.end(t)});return e},Qde=function(r,e){if(r===e)return!1;if(!r&&e||!e&&r||r.length!==e.length)return!0;for(let t=0;t<r.length;t++)if(r.start(t)!==e.start(t)||r.end(t)!==e.end(t))return!0;return!1},NC=function(r){if(!(!r||!r.length||!r.end))return r.end(r.length-1)},_A=function(r,e){let t=0;if(!r||!r.length)return t;for(let n=0;n<r.length;n++){const i=r.start(n),s=r.end(n);if(!(e>s)){if(e>i&&e<=s){t+=s-e;continue}t+=s-i}}return t},bA=(r,e)=>{if(!e.preload)return e.duration;let t=0;return(e.parts||[]).forEach(function(n){t+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(t+=r.partTargetDuration)}),t},I2=r=>(r.segments||[]).reduce((e,t,n)=>(t.parts?t.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:n,partIndex:s,part:i,segment:t})}):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e),[]),gU=r=>{const e=r.segments&&r.segments.length&&r.segments[r.segments.length-1];return e&&e.parts||[]},vU=({preloadSegment:r})=>{if(!r)return;const{parts:e,preloadHints:t}=r;let n=(t||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},yU=(r,e)=>{if(e.endList)return 0;if(r&&r.suggestedPresentationDelay)return r.suggestedPresentationDelay;const t=gU(e).length>0;return t&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:t&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},Jde=function(r,e){let t=0,n=e-r.mediaSequence,i=r.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=r.segments[n],typeof i.end<"u")return{result:t+i.end,precise:!0};if(t+=bA(r,i),typeof i.start<"u")return{result:t+i.start,precise:!0}}return{result:t,precise:!1}},Zde=function(r,e){let t=0,n,i=e-r.mediaSequence;for(;i<r.segments.length;i++){if(n=r.segments[i],typeof n.start<"u")return{result:n.start-t,precise:!0};if(t+=bA(r,n),typeof n.end<"u")return{result:n.end-t,precise:!0}}return{result:-1,precise:!1}},xU=function(r,e,t){if(typeof e>"u"&&(e=r.mediaSequence+r.segments.length),e<r.mediaSequence)return 0;const n=Jde(r,e);if(n.precise)return n.result;const i=Zde(r,e);return i.precise?i.result:n.result+t},_U=function(r,e,t){if(!r)return 0;if(typeof t!="number"&&(t=0),typeof e>"u"){if(r.totalDuration)return r.totalDuration;if(!r.endList)return X.Infinity}return xU(r,e,t)},d0=function({defaultDuration:r,durationList:e,startIndex:t,endIndex:n}){let i=0;if(t>n&&([t,n]=[n,t]),t<0){for(let s=t;s<Math.min(0,n);s++)i+=r;t=0}for(let s=t;s<n;s++)i+=e[s].duration;return i},bU=function(r,e,t,n){if(!r||!r.segments)return null;if(r.endList)return _U(r);if(e===null)return null;e=e||0;let i=xU(r,r.mediaSequence+r.segments.length,e);return t&&(n=typeof n=="number"?n:yU(null,r),i-=n),Math.max(0,i)},ehe=function(r,e,t){const i=e||0;let s=bU(r,e,!0,t);return s===null?xs():(s<i&&(s=i),xs(i,s))},the=function({playlist:r,currentTime:e,startingSegmentIndex:t,startingPartIndex:n,startTime:i,exactManifestTimings:s}){let a=e-i;const o=I2(r);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(t===c.segmentIndex&&!(typeof n=="number"&&typeof c.partIndex=="number"&&n!==c.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const c=o[u];if(a+=c.duration,s){if(a<0)continue}else if(a+Su<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i-d0({defaultDuration:r.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(a-=r.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<o.length;u++){const c=o[u];a-=c.duration;const h=c.duration>Su,f=a===0,g=h&&a+Su>=0;if(!((f||g)&&u!==o.length-1)){if(s){if(a>0)continue}else if(a-Su>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i+d0({defaultDuration:r.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},SU=function(r){return r.excludeUntil&&r.excludeUntil>Date.now()},SA=function(r){return r.excludeUntil&&r.excludeUntil===1/0},GS=function(r){const e=SU(r);return!r.disabled&&!e},rhe=function(r){return r.disabled},nhe=function(r){for(let e=0;e<r.segments.length;e++)if(r.segments[e].key)return!0;return!1},TU=function(r,e){return e.attributes&&e.attributes[r]},ihe=function(r,e,t,n=0){return TU("BANDWIDTH",t)?(r*t.attributes.BANDWIDTH-n*8)/e:NaN},P2=(r,e)=>{if(r.playlists.length===1)return!0;const t=e.attributes.BANDWIDTH||Number.MAX_VALUE;return r.playlists.filter(n=>GS(n)?(n.attributes.BANDWIDTH||0)<t:!1).length===0},TA=(r,e)=>!r&&!e||!r&&e||r&&!e?!1:!!(r===e||r.id&&e.id&&r.id===e.id||r.resolvedUri&&e.resolvedUri&&r.resolvedUri===e.resolvedUri||r.uri&&e.uri&&r.uri===e.uri),yM=function(r,e){const t=r&&r.mediaGroups&&r.mediaGroups.AUDIO||{};let n=!1;for(const i in t){for(const s in t[i])if(n=e(t[i][s]),n)break;if(n)break}return!!n},wv=r=>{if(!r||!r.playlists||!r.playlists.length)return yM(r,t=>t.playlists&&t.playlists.length||t.uri);for(let e=0;e<r.playlists.length;e++){const t=r.playlists[e],n=t.attributes&&t.attributes.CODECS;if(!(n&&n.split(",").every(s=>zk(s))||yM(r,s=>TA(t,s))))return!1}return!0};var Fa={liveEdgeDelay:yU,duration:_U,seekable:ehe,getMediaInfoForTime:the,isEnabled:GS,isDisabled:rhe,isExcluded:SU,isIncompatible:SA,playlistEnd:bU,isAes:nhe,hasAttribute:TU,estimateSegmentRequestTime:ihe,isLowestEnabledRendition:P2,isAudioOnly:wv,playlistMatch:TA,segmentDurationWithParts:bA};const{log:CU}=Se,Np=(r,e)=>`${r}-${e}`,wU=(r,e,t)=>`placeholder-uri-${r}-${e}-${t}`,she=({onwarn:r,oninfo:e,manifestString:t,customTagParsers:n=[],customTagMappers:i=[],llhls:s})=>{const a=new I5;r&&a.on("warn",r),e&&a.on("info",e),n.forEach(u=>a.addParser(u)),i.forEach(u=>a.addTagMapper(u)),a.push(t),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((c,h)=>Math.max(c,h.duration),0)),r&&r({message:`manifest has no targetDuration defaulting to ${u}`}),o.targetDuration=u}const l=gU(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((c,h)=>Math.max(c,h.duration),0);r&&(r({message:`manifest has no partTargetDuration defaulting to ${u}`}),CU.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},Bm=(r,e)=>{r.mediaGroups&&["AUDIO","SUBTITLES"].forEach(t=>{if(r.mediaGroups[t])for(const n in r.mediaGroups[t])for(const i in r.mediaGroups[t][n]){const s=r.mediaGroups[t][n][i];e(s,t,n,i)}})},EU=({playlist:r,uri:e,id:t})=>{r.id=t,r.playlistErrors_=0,e&&(r.uri=e),r.attributes=r.attributes||{}},ahe=r=>{let e=r.playlists.length;for(;e--;){const t=r.playlists[e];EU({playlist:t,id:Np(e,t.uri)}),t.resolvedUri=Oa(r.uri,t.uri),r.playlists[t.id]=t,r.playlists[t.uri]=t,t.attributes.BANDWIDTH||CU.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},ohe=r=>{Bm(r,e=>{e.uri&&(e.resolvedUri=Oa(r.uri,e.uri))})},lhe=(r,e)=>{const t=Np(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:X.location.href,resolvedUri:X.location.href,playlists:[{uri:e,id:t,resolvedUri:e,attributes:{}}]};return n.playlists[t]=n.playlists[0],n.playlists[e]=n.playlists[0],n},kU=(r,e,t=wU)=>{r.uri=e;for(let i=0;i<r.playlists.length;i++)if(!r.playlists[i].uri){const s=`placeholder-uri-${i}`;r.playlists[i].uri=s}const n=wv(r);Bm(r,(i,s,a,o)=>{if(!i.playlists||!i.playlists.length){if(n&&s==="AUDIO"&&!i.uri)for(let l=0;l<r.playlists.length;l++){const u=r.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}i.playlists=[sr({},i)]}i.playlists.forEach(function(l,u){const c=t(s,a,o,l),h=Np(u,c);l.uri?l.resolvedUri=l.resolvedUri||Oa(r.uri,l.uri):(l.uri=u===0?c:h,l.resolvedUri=l.uri),l.id=l.id||h,l.attributes=l.attributes||{},r.playlists[l.id]=l,r.playlists[l.uri]=l})}),ahe(r),ohe(r)};let xM=class{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[t]=e;t.programDateTime!==void 0&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,n=t.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},t=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),t.push(n),!!n.class))if(e[n.class]){const s=e[n.class].push(n);n.classListIndex=s-1}else e[n.class]=[n],n.classListIndex=0});for(const n of t){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}};const AU=22,af=({requestType:r,request:e,error:t,parseFailure:n})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:r},o=i&&!s||n;if(t&&s)a.error=sr({},t),a.errorType=Se.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=Se.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=Se.Error.NetworkRequestTimeout;else if(o){const l=n?Se.Error.NetworkBodyParserFailed:Se.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:uhe}=Se,che=(r,e)=>{if(e.endList||!e.serverControl)return r;const t={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const s=n.parts||[],a=vU(e)-1;a>-1&&a!==s.length-1&&(t._HLS_part=a),(a>-1||s.length)&&i--}t._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(t._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(t).length){const n=new X.URL(r);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){t.hasOwnProperty(i)&&n.searchParams.set(i,t[i])}),r=n.toString()}return r},dhe=(r,e)=>{if(!r)return e;const t=An(r,e);if(r.preloadHints&&!e.preloadHints&&delete t.preloadHints,r.parts&&!e.parts)delete t.parts;else if(r.parts&&e.parts)for(let n=0;n<e.parts.length;n++)r.parts&&r.parts[n]&&(t.parts[n]=An(r.parts[n],e.parts[n]));return!r.skipped&&e.skipped&&(t.skipped=!1),r.preload&&!e.preload&&(t.preload=!1),t},hhe=(r,e,t)=>{const n=r.slice(),i=e.slice();t=t||0;const s=[];let a;for(let o=0;o<i.length;o++){const l=n[o+t],u=i[o];l?(a=l.map||a,s.push(dhe(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s},DU=(r,e)=>{!r.resolvedUri&&r.uri&&(r.resolvedUri=Oa(e,r.uri)),r.key&&!r.key.resolvedUri&&(r.key.resolvedUri=Oa(e,r.key.uri)),r.map&&!r.map.resolvedUri&&(r.map.resolvedUri=Oa(e,r.map.uri)),r.map&&r.map.key&&!r.map.key.resolvedUri&&(r.map.key.resolvedUri=Oa(e,r.map.key.uri)),r.parts&&r.parts.length&&r.parts.forEach(t=>{t.resolvedUri||(t.resolvedUri=Oa(e,t.uri))}),r.preloadHints&&r.preloadHints.length&&r.preloadHints.forEach(t=>{t.resolvedUri||(t.resolvedUri=Oa(e,t.uri))})},IU=function(r){const e=r.segments||[],t=r.preloadSegment;if(t&&t.parts&&t.parts.length){if(t.preloadHints){for(let n=0;n<t.preloadHints.length;n++)if(t.preloadHints[n].type==="MAP")return e}t.duration=r.targetDuration,t.preload=!0,e.push(t)}return e},PU=(r,e)=>r===e||r.segments&&e.segments&&r.segments.length===e.segments.length&&r.endList===e.endList&&r.mediaSequence===e.mediaSequence&&r.preloadSegment===e.preloadSegment,R2=(r,e,t=PU)=>{const n=An(r,{}),i=n.playlists[e.id];if(!i||t(i,e))return null;e.segments=IU(e);const s=An(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=hhe(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{DU(a,s.resolvedUri)});for(let a=0;a<n.playlists.length;a++)n.playlists[a].id===e.id&&(n.playlists[a]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,Bm(r,(a,o,l,u)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)e.id===a.playlists[c].id&&(a.playlists[c]=s)}),n},L2=(r,e)=>{const t=r.segments||[],n=t[t.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],s=i&&i.duration||n&&n.duration;return e&&s?s*1e3:(r.partTargetDuration||r.targetDuration||10)*500},_M=(r,e,t)=>{if(!r)return;const n=[];return r.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=i.attributes;n.push({id:i.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:t,renditions:n}};let xp=class extends uhe{constructor(e,t,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=hl("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=t,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const s=t.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new xM,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();!t.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let t=Oa(this.main.uri,e.uri);this.llhls&&(t=che(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,t,n){const{uri:i,id:s}=t;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:af({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{return she({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(n){this.error=n,this.error.metadata={errorType:Se.Error.StreamingHlsPlaylistParserError,error:n}}}haveMetadata({playlistString:e,playlistObject:t,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:s});const a=t||this.parseManifest_({url:n,manifestString:e});a.lastRequest=Date.now(),EU({playlist:a,uri:n,id:i});const o=R2(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(L2(this.media(),!!o)),s.parsedPlaylist=_M(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),X.clearTimeout(this.mediaUpdateTimeout),X.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new xM,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(X.clearTimeout(this.finalRenditionTimeout),t){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=X.setTimeout(this.media.bind(this,e,!1),o);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(L2(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=lb(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const n=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=X.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=X.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=X.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,n)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:af({requestType:n.requestType,request:n,error:t})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=lb(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=_M(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,kU(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=IU(n),n.segments.forEach(i=>{DU(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const t=this.srcUri()||X.location.href;this.main=lhe(e,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){const n=this.main,i=e.ID;let s=n.playlists.length;for(;s--;){const a=n.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const o=a.resolvedUri,l=a.id;if(t){const u=this.createCloneURI_(a.resolvedUri,e),c=Np(i,u),h=this.createCloneAttributes_(i,a.attributes),f=this.createClonePlaylist_(a,c,e,h);n.playlists[s]=f,n.playlists[c]=f,n.playlists[u]=f}else n.playlists.splice(s,1);delete n.playlists[l],delete n.playlists[o]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||!n.mediaGroups[s][i])){for(const a in n.mediaGroups[s])if(a===i){for(const o in n.mediaGroups[s][a])n.mediaGroups[s][a][o].playlists.forEach((u,c)=>{const h=n.playlists[u.id],f=h.id,g=h.resolvedUri;delete n.playlists[f],delete n.playlists[g]});delete n.mediaGroups[s][a]}}}),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){const n=this.main,i=n.playlists.length,s=this.createCloneURI_(t.resolvedUri,e),a=Np(e.ID,s),o=this.createCloneAttributes_(e.ID,t.attributes),l=this.createClonePlaylist_(t,a,e,o);n.playlists[i]=l,n.playlists[a]=l,n.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const t=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][t]))for(const a in i.mediaGroups[s]){if(a===n)i.mediaGroups[s][t]={};else continue;for(const o in i.mediaGroups[s][a]){const l=i.mediaGroups[s][a][o];i.mediaGroups[s][t][o]=sr({},l);const u=i.mediaGroups[s][t][o],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((h,f)=>{const g=i.playlists[h.id],v=wU(s,t,o),y=Np(t,v);if(g&&!i.playlists[y]){const _=this.createClonePlaylist_(g,y,e),C=_.resolvedUri;i.playlists[y]=_,i.playlists[C]=_}u.playlists[f]=this.createClonePlaylist_(h,y,e)})}}})}createClonePlaylist_(e,t,n,i){const s=this.createCloneURI_(e.resolvedUri,n),a={resolvedUri:s,uri:s,id:t};return e.segments&&(a.segments=[]),i&&(a.attributes=i),An(e,a)}createCloneURI_(e,t){const n=new URL(e);n.hostname=t["URI-REPLACEMENT"].HOST;const i=t["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))n.searchParams.set(s,i[s]);return n.href}createCloneAttributes_(e,t){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{t[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&t.add(i.toLowerCase())}return t}}};const O2=function(r,e,t,n){const i=r.responseType==="arraybuffer"?r.response:r.responseText;!e&&i&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=i.byteLength||i.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),t.headers&&(r.responseHeaders=t.headers),e&&e.code==="ETIMEDOUT"&&(r.timedout=!0),!e&&!r.aborted&&t.statusCode!==200&&t.statusCode!==206&&t.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(r&&(i||r.responseText)))),n(e,r)},fhe=(r,e)=>{if(!r||!r.size)return;let t=e;return r.forEach(n=>{t=n(t)}),t},phe=(r,e,t,n)=>{!r||!r.size||r.forEach(i=>{i(e,t,n)})},RU=function(){const r=function e(t,n){t=An({timeout:45e3},t);const i=e.beforeRequest||Se.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||Se.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||Se.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(Se.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const o=Se.Vhs.xhr.original===!0?Se.xhr:Se.Vhs.xhr,l=fhe(s,t);s.delete(i);const u=o(l||t,function(h,f){return phe(a,u,h,f),O2(u,h,f,n)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=t.uri,u.requestType=t.requestType,u.requestTime=Date.now(),u};return r.original=!0,r},mhe=function(r){let e;const t=r.offset;return typeof r.offset=="bigint"||typeof r.length=="bigint"?e=X.BigInt(r.offset)+X.BigInt(r.length)-X.BigInt(1):e=r.offset+r.length-1,"bytes="+t+"-"+e},M2=function(r){const e={};return r.byterange&&(e.Range=mhe(r.byterange)),e},ghe=function(r,e){return r.start(e)+"-"+r.end(e)},vhe=function(r,e){const t=r.toString(16);return"00".substring(0,2-t.length)+t+(e%2?" ":"")},yhe=function(r){return r>=32&&r<126?String.fromCharCode(r):"."},LU=function(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];Hk(n)?e[t]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[t]=n}),e},ub=function(r){const e=r.byterange||{length:1/0,offset:0};return[e.length,e.offset,r.resolvedUri].join(",")},OU=function(r){return r.resolvedUri},MU=r=>{const e=Array.prototype.slice.call(r),t=16;let n="",i,s;for(let a=0;a<e.length/t;a++)i=e.slice(a*t,a*t+t).map(vhe).join(""),s=e.slice(a*t,a*t+t).map(yhe).join(""),n+=i+" "+s+`
`;return n},xhe=({bytes:r})=>MU(r),_he=r=>{let e="",t;for(t=0;t<r.length;t++)e+=ghe(r,t)+" ";return e};var bhe=Object.freeze({__proto__:null,createTransferableMessage:LU,initSegmentId:ub,segmentKeyId:OU,hexDump:MU,tagDump:xhe,textRanges:_he});const FU=.25,She=(r,e)=>{if(!e.dateTimeObject)return null;const t=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+t,s=r-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},The=r=>r.transmuxedPresentationEnd-r.transmuxedPresentationStart-r.transmuxerPrependedSeconds,Che=(r,e)=>{let t;try{t=new Date(r)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(t<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(t<u)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?The(i.videoTimingInfo):i.duration+i.duration*FU,o=new Date(s.getTime()+a*1e3);return t>o?null:(t>new Date(s)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Fa.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},whe=(r,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let t=0,n;for(let s=0;s<e.segments.length&&(n=e.segments[s],t=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:t+n.duration,!(r<=t));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<r)return null;if(r>t){if(r>t+i.duration*FU)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:t-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},Ehe=(r,e)=>{let t,n;try{t=new Date(r),n=new Date(e)}catch{}const i=t.getTime();return(n.getTime()-i)/1e3},khe=r=>{if(!r.segments||r.segments.length===0)return!1;for(let e=0;e<r.segments.length;e++)if(!r.segments[e].dateTimeObject)return!1;return!0},Ahe=({playlist:r,time:e=void 0,callback:t})=>{if(!t)throw new Error("getProgramTime: callback must be provided");if(!r||e===void 0)return t({message:"getProgramTime: playlist and time must be provided"});const n=whe(e,r);if(!n)return t({message:"valid programTime was not found"});if(n.type==="estimate")return t({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},s=She(e,n.segment);return s&&(i.programDateTime=s.toISOString()),t(null,i)},BU=({programTime:r,playlist:e,retryCount:t=2,seekTo:n,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof r>"u"||!e||!n)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!khe(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=Che(r,e);if(!o)return a({message:`${r} was not found in the stream`});const l=o.segment,u=Ehe(l.dateTimeObject,r);if(o.type==="estimate"){if(t===0)return a({message:`${r} is not buffered yet. Try again`});n(o.estimatedStart+u),s.one("seeked",()=>{BU({programTime:r,playlist:e,retryCount:t-1,seekTo:n,pauseAfterSeek:i,tech:s,callback:a})});return}const c=l.start+u,h=()=>a(null,s.currentTime());s.one("seeked",h),i&&s.pause(),n(c)},UC=(r,e)=>{if(r.readyState===4)return e()},Dhe=(r,e,t,n)=>{let i=[],s,a=!1;const o=function(h,f,g,v){return f.abort(),a=!0,t(h,f,g,v)},l=function(h,f){if(a)return;if(h)return h.metadata=af({requestType:n,request:f,error:h}),o(h,f,"",i);const g=f.responseText.substring(i&&i.byteLength||0,f.responseText.length);if(i=L5(i,Vk(g,!0)),s=s||gp(i),i.length<10||s&&i.length<s+2)return UC(f,()=>o(h,f,"",i));const v=Dm(i);return v==="ts"&&i.length<188?UC(f,()=>o(h,f,"",i)):!v&&i.length<376?UC(f,()=>o(h,f,"",i)):o(null,f,v,i)},c=e({uri:r,beforeSend(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function({total:f,loaded:g}){return O2(h,null,{statusCode:h.status},l)})}},function(h,f){return O2(c,h,f,l)});return c},{EventTarget:Ihe}=Se,bM=function(r,e){if(!PU(r,e)||r.sidx&&e.sidx&&(r.sidx.offset!==e.sidx.offset||r.sidx.length!==e.sidx.length))return!1;if(!r.sidx&&e.sidx||r.sidx&&!e.sidx||r.segments&&!e.segments||!r.segments&&e.segments)return!1;if(!r.segments&&!e.segments)return!0;for(let t=0;t<r.segments.length;t++){const n=r.segments[t],i=e.segments[t];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const s=n.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},Phe=(r,e,t,n)=>{const i=n.attributes.NAME||t;return`placeholder-uri-${r}-${e}-${i}`},Rhe=({mainXml:r,srcUrl:e,clientOffset:t,sidxMapping:n,previousManifest:i})=>{const s=z5(r,{manifestUri:e,clientOffset:t,sidxMapping:n,previousManifest:i});return kU(s,e,Phe),s},Lhe=(r,e)=>{Bm(r,(t,n,i,s)=>{(!e.mediaGroups[n][i]||!(s in e.mediaGroups[n][i]))&&delete r.mediaGroups[n][i][s]})},Ohe=(r,e,t)=>{let n=!0,i=An(r,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=Ef(a.sidx);t&&t[l]&&t[l].sidx&&xv(a,t[l].sidx,a.sidx.resolvedUri)}const o=R2(i,a,bM);o&&(i=o,n=!1)}return Bm(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,c=R2(i,s.playlists[0],bM);c&&(i=c,l in i.mediaGroups[a][o]||(i.mediaGroups[a][o][l]=s),i.mediaGroups[a][o][l].playlists[0]=i.playlists[u],n=!1)}}),Lhe(i,e),e.minimumUpdatePeriod!==r.minimumUpdatePeriod&&(n=!1),n?null:i},Mhe=(r,e)=>(!r.map&&!e.map||!!(r.map&&e.map&&r.map.byterange.offset===e.map.byterange.offset&&r.map.byterange.length===e.map.byterange.length))&&r.uri===e.uri&&r.byterange.offset===e.byterange.offset&&r.byterange.length===e.byterange.length,SM=(r,e)=>{const t={};for(const n in r){const s=r[n].sidx;if(s){const a=Ef(s);if(!e[a])break;const o=e[a].sidxInfo;Mhe(o,s)&&(t[a]=e[a])}}return t},Fhe=(r,e)=>{let n=SM(r.playlists,e);return Bm(r,(i,s,a,o)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=An(n,SM(l,e))}}),n};let F2=class extends Ihe{constructor(e,t,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=n;if(this.vhs_=t,this.withCredentials=s,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=hl("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,t,n){const i=e.sidx&&Ef(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=X.setTimeout(()=>n(!1),0);return}const s=lb(e.sidx.resolvedUri),a=(l,u)=>{if(this.requestErrored_(l,u,t))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:h}=u;let f;try{f=V5(br(u.response).subarray(8))}catch(g){g.metadata=af({requestType:h,request:u,parseFailure:!0}),this.requestErrored_(g,u,t);return}return c[i]={sidxInfo:e.sidx,sidx:f},xv(e,f,e.sidx.resolvedUri),n(!0)},o="dash-sidx";this.request=Dhe(s,this.vhs_.xhr,(l,u,c,h)=>{if(l)return a(l,u);if(!c||c!=="mp4"){const v=c||"unknown";return a({status:u.status,message:`Unsupported ${v} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:f,length:g}=e.sidx.byterange;if(h.length>=g+f)return a(l,{response:h.subarray(f,f+g),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:M2({byterange:e.sidx.byterange})},a)},o)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},X.clearTimeout(this.minimumUpdatePeriodTimeout_),X.clearTimeout(this.mediaRequest_),X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,i=>{this.haveMetadata({startingState:t,playlist:e})}))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,this.mediaRequest_=null,this.refreshMedia_(t.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(X.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const n=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=X.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=X.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,t)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,i)=>{if(n){const{requestType:a}=i;n.metadata=af({requestType:a,request:i,error:n})}if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:t});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=lb(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const t=H5(this.mainPlaylistLoader_.mainXml_);if(t===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(t.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Oa(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n){const{requestType:a}=i;return this.error.metadata=af({requestType:a,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;t.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:t});let n;try{n=Rhe({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:Se.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(n=Ohe(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:s,endList:a}=n,o=[];n.playlists.forEach(u=>{o.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};t.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:t})}return!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(X.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;if(t===0&&(e.media()?t=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof t!="number"||t<=0){t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`);return}this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=X.setTimeout(()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=Fhe(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==t[e];if(n?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=X.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},L2(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const t=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",t,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&t.add(i.replace(/-/g,"").toLowerCase())}return t}}};var Zi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Bhe=r=>{const e=new Uint8Array(new ArrayBuffer(r.length));for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e.buffer},NU=function(r){return r.on=r.addEventListener,r.off=r.removeEventListener,r},Nhe=function(r){try{return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))}catch{const t=new BlobBuilder;return t.append(r),URL.createObjectURL(t.getBlob())}},UU=function(r){return function(){const e=Nhe(r),t=NU(new Worker(e));t.objURL=e;const n=t.terminate;return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},t}},$U=function(r){return`var browserWorkerPolyFill = ${NU.toString()};
browserWorkerPolyFill(self);
`+r},jU=function(r){return r.toString().replace(/^function.+?{/,"").slice(0,-1)},Uhe=$U(jU(function(){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var p={};this.on=function(x,S){p[x]||(p[x]=[]),p[x]=p[x].concat(S)},this.off=function(x,S){var b;return p[x]?(b=p[x].indexOf(S),p[x]=p[x].slice(),p[x].splice(b,1),b>-1):!1},this.trigger=function(x){var S,b,E,L;if(S=p[x],!!S)if(arguments.length===2)for(E=S.length,b=0;b<E;++b)S[b].call(this,arguments[1]);else{for(L=[],b=arguments.length,b=1;b<arguments.length;++b)L.push(arguments[b]);for(E=S.length,b=0;b<E;++b)S[b].apply(this,L)}},this.dispose=function(){p={}}}};e.prototype.pipe=function(p){return this.on("data",function(x){p.push(x)}),this.on("done",function(x){p.flush(x)}),this.on("partialdone",function(x){p.partialFlush(x)}),this.on("endedtimeline",function(x){p.endTimeline(x)}),this.on("reset",function(x){p.reset(x)}),p},e.prototype.push=function(p){this.trigger("data",p)},e.prototype.flush=function(p){this.trigger("done",p)},e.prototype.partialFlush=function(p){this.trigger("partialdone",p)},e.prototype.endTimeline=function(p){this.trigger("endedtimeline",p)},e.prototype.reset=function(p){this.trigger("reset",p)};var t=e,n=Math.pow(2,32),i=function(p){var x=new DataView(p.buffer,p.byteOffset,p.byteLength),S;return x.getBigUint64?(S=x.getBigUint64(0),S<Number.MAX_SAFE_INTEGER?Number(S):S):x.getUint32(0)*n+x.getUint32(4)},s={getUint64:i,MAX_UINT32:n},a=s.MAX_UINT32,o,l,u,c,h,f,g,v,y,_,C,k,D,I,A,R,N,U,F,w,$,H,W,Q,te,oe,de,le,ae,ie,ee,pe,ve,_e,Le,Re;(function(){var p;if(W={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(p in W)W.hasOwnProperty(p)&&(W[p]=[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)]);Q=new Uint8Array([105,115,111,109]),oe=new Uint8Array([97,118,99,49]),te=new Uint8Array([0,0,0,1]),de=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),le=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ae={video:de,audio:le},pe=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0]),ve=new Uint8Array([0,0,0,0,0,0,0,0]),_e=ve,Le=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Re=ve,ie=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(p){var x=[],S=0,b,E,L;for(b=1;b<arguments.length;b++)x.push(arguments[b]);for(b=x.length;b--;)S+=x[b].byteLength;for(E=new Uint8Array(S+8),L=new DataView(E.buffer,E.byteOffset,E.byteLength),L.setUint32(0,E.byteLength),E.set(p,4),b=0,S=8;b<x.length;b++)E.set(x[b],S),S+=x[b].byteLength;return E},l=function(){return o(W.dinf,o(W.dref,pe))},u=function(p){return o(W.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,p.audioobjecttype<<3|p.samplingfrequencyindex>>>1,p.samplingfrequencyindex<<7|p.channelcount<<3,6,1,2]))},c=function(){return o(W.ftyp,Q,te,Q,oe)},R=function(p){return o(W.hdlr,ae[p])},h=function(p){return o(W.mdat,p)},A=function(p){var x=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,p.duration>>>24&255,p.duration>>>16&255,p.duration>>>8&255,p.duration&255,85,196,0,0]);return p.samplerate&&(x[12]=p.samplerate>>>24&255,x[13]=p.samplerate>>>16&255,x[14]=p.samplerate>>>8&255,x[15]=p.samplerate&255),o(W.mdhd,x)},I=function(p){return o(W.mdia,A(p),R(p.type),g(p))},f=function(p){return o(W.mfhd,new Uint8Array([0,0,0,0,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255]))},g=function(p){return o(W.minf,p.type==="video"?o(W.vmhd,ie):o(W.smhd,ee),l(),U(p))},v=function(p,x){for(var S=[],b=x.length;b--;)S[b]=w(x[b]);return o.apply(null,[W.moof,f(p)].concat(S))},y=function(p){for(var x=p.length,S=[];x--;)S[x]=k(p[x]);return o.apply(null,[W.moov,C(4294967295)].concat(S).concat(_(p)))},_=function(p){for(var x=p.length,S=[];x--;)S[x]=$(p[x]);return o.apply(null,[W.mvex].concat(S))},C=function(p){var x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(W.mvhd,x)},N=function(p){var x=p.samples||[],S=new Uint8Array(4+x.length),b,E;for(E=0;E<x.length;E++)b=x[E].flags,S[E+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return o(W.sdtp,S)},U=function(p){return o(W.stbl,F(p),o(W.stts,Re),o(W.stsc,_e),o(W.stsz,Le),o(W.stco,ve))},(function(){var p,x;F=function(S){return o(W.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),S.type==="video"?p(S):x(S))},p=function(S){var b=S.sps||[],E=S.pps||[],L=[],G=[],Y,J;for(Y=0;Y<b.length;Y++)L.push((b[Y].byteLength&65280)>>>8),L.push(b[Y].byteLength&255),L=L.concat(Array.prototype.slice.call(b[Y]));for(Y=0;Y<E.length;Y++)G.push((E[Y].byteLength&65280)>>>8),G.push(E[Y].byteLength&255),G=G.concat(Array.prototype.slice.call(E[Y]));if(J=[W.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(S.width&65280)>>8,S.width&255,(S.height&65280)>>8,S.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(W.avcC,new Uint8Array([1,S.profileIdc,S.profileCompatibility,S.levelIdc,255].concat([b.length],L,[E.length],G))),o(W.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],S.sarRatio){var ne=S.sarRatio[0],he=S.sarRatio[1];J.push(o(W.pasp,new Uint8Array([(ne&4278190080)>>24,(ne&16711680)>>16,(ne&65280)>>8,ne&255,(he&4278190080)>>24,(he&16711680)>>16,(he&65280)>>8,he&255])))}return o.apply(null,J)},x=function(S){return o(W.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(S.channelcount&65280)>>8,S.channelcount&255,(S.samplesize&65280)>>8,S.samplesize&255,0,0,0,0,(S.samplerate&65280)>>8,S.samplerate&255,0,0]),u(S))}})(),D=function(p){var x=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,0,(p.duration&4278190080)>>24,(p.duration&16711680)>>16,(p.duration&65280)>>8,p.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(p.width&65280)>>8,p.width&255,0,0,(p.height&65280)>>8,p.height&255,0,0]);return o(W.tkhd,x)},w=function(p){var x,S,b,E,L,G,Y;return x=o(W.tfhd,new Uint8Array([0,0,0,58,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),G=Math.floor(p.baseMediaDecodeTime/a),Y=Math.floor(p.baseMediaDecodeTime%a),S=o(W.tfdt,new Uint8Array([1,0,0,0,G>>>24&255,G>>>16&255,G>>>8&255,G&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255])),L=92,p.type==="audio"?(b=H(p,L),o(W.traf,x,S,b)):(E=N(p),b=H(p,E.length+L),o(W.traf,x,S,b,E))},k=function(p){return p.duration=p.duration||4294967295,o(W.trak,D(p),I(p))},$=function(p){var x=new Uint8Array([0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.type!=="video"&&(x[x.length-1]=0),o(W.trex,x)},(function(){var p,x,S;S=function(b,E){var L=0,G=0,Y=0,J=0;return b.length&&(b[0].duration!==void 0&&(L=1),b[0].size!==void 0&&(G=2),b[0].flags!==void 0&&(Y=4),b[0].compositionTimeOffset!==void 0&&(J=8)),[0,0,L|G|Y|J,1,(b.length&4278190080)>>>24,(b.length&16711680)>>>16,(b.length&65280)>>>8,b.length&255,(E&4278190080)>>>24,(E&16711680)>>>16,(E&65280)>>>8,E&255]},x=function(b,E){var L,G,Y,J,ne,he;for(J=b.samples||[],E+=20+16*J.length,Y=S(J,E),G=new Uint8Array(Y.length+J.length*16),G.set(Y),L=Y.length,he=0;he<J.length;he++)ne=J[he],G[L++]=(ne.duration&4278190080)>>>24,G[L++]=(ne.duration&16711680)>>>16,G[L++]=(ne.duration&65280)>>>8,G[L++]=ne.duration&255,G[L++]=(ne.size&4278190080)>>>24,G[L++]=(ne.size&16711680)>>>16,G[L++]=(ne.size&65280)>>>8,G[L++]=ne.size&255,G[L++]=ne.flags.isLeading<<2|ne.flags.dependsOn,G[L++]=ne.flags.isDependedOn<<6|ne.flags.hasRedundancy<<4|ne.flags.paddingValue<<1|ne.flags.isNonSyncSample,G[L++]=ne.flags.degradationPriority&61440,G[L++]=ne.flags.degradationPriority&15,G[L++]=(ne.compositionTimeOffset&4278190080)>>>24,G[L++]=(ne.compositionTimeOffset&16711680)>>>16,G[L++]=(ne.compositionTimeOffset&65280)>>>8,G[L++]=ne.compositionTimeOffset&255;return o(W.trun,G)},p=function(b,E){var L,G,Y,J,ne,he;for(J=b.samples||[],E+=20+8*J.length,Y=S(J,E),L=new Uint8Array(Y.length+J.length*8),L.set(Y),G=Y.length,he=0;he<J.length;he++)ne=J[he],L[G++]=(ne.duration&4278190080)>>>24,L[G++]=(ne.duration&16711680)>>>16,L[G++]=(ne.duration&65280)>>>8,L[G++]=ne.duration&255,L[G++]=(ne.size&4278190080)>>>24,L[G++]=(ne.size&16711680)>>>16,L[G++]=(ne.size&65280)>>>8,L[G++]=ne.size&255;return o(W.trun,L)},H=function(b,E){return b.type==="audio"?p(b,E):x(b,E)}})();var ot={ftyp:c,mdat:h,moof:v,moov:y,initSegment:function(p){var x=c(),S=y(p),b;return b=new Uint8Array(x.byteLength+S.byteLength),b.set(x),b.set(S,x.byteLength),b}},ze=function(p){var x,S,b=[],E=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,b.byteLength=0,x=0;x<p.length;x++)S=p[x],S.nalUnitType==="access_unit_delimiter_rbsp"?(b.length&&(b.duration=S.dts-b.dts,E.byteLength+=b.byteLength,E.nalCount+=b.length,E.duration+=b.duration,E.push(b)),b=[S],b.byteLength=S.data.byteLength,b.pts=S.pts,b.dts=S.dts):(S.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(b.keyFrame=!0),b.duration=S.dts-b.dts,b.byteLength+=S.data.byteLength,b.push(S));return E.length&&(!b.duration||b.duration<=0)&&(b.duration=E[E.length-1].duration),E.byteLength+=b.byteLength,E.nalCount+=b.length,E.duration+=b.duration,E.push(b),E},mt=function(p){var x,S,b=[],E=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=p[0].pts,b.dts=p[0].dts,E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=p[0].pts,E.dts=p[0].dts,x=0;x<p.length;x++)S=p[x],S.keyFrame?(b.length&&(E.push(b),E.byteLength+=b.byteLength,E.nalCount+=b.nalCount,E.duration+=b.duration),b=[S],b.nalCount=S.length,b.byteLength=S.byteLength,b.pts=S.pts,b.dts=S.dts,b.duration=S.duration):(b.duration+=S.duration,b.nalCount+=S.length,b.byteLength+=S.byteLength,b.push(S));return E.length&&b.duration<=0&&(b.duration=E[E.length-1].duration),E.byteLength+=b.byteLength,E.nalCount+=b.nalCount,E.duration+=b.duration,E.push(b),E},Je=function(p){var x;return!p[0][0].keyFrame&&p.length>1&&(x=p.shift(),p.byteLength-=x.byteLength,p.nalCount-=x.nalCount,p[0][0].dts=x.dts,p[0][0].pts=x.pts,p[0][0].duration+=x.duration),p},Pt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Rt=function(p,x){var S=Pt();return S.dataOffset=x,S.compositionTimeOffset=p.pts-p.dts,S.duration=p.duration,S.size=4*p.length,S.size+=p.byteLength,p.keyFrame&&(S.flags.dependsOn=2,S.flags.isNonSyncSample=0),S},Ve=function(p,x){var S,b,E,L,G,Y=x||0,J=[];for(S=0;S<p.length;S++)for(L=p[S],b=0;b<L.length;b++)G=L[b],E=Rt(G,Y),Y+=E.size,J.push(E);return J},Ne=function(p){var x,S,b,E,L,G,Y=0,J=p.byteLength,ne=p.nalCount,he=J+4*ne,ge=new Uint8Array(he),Ge=new DataView(ge.buffer);for(x=0;x<p.length;x++)for(E=p[x],S=0;S<E.length;S++)for(L=E[S],b=0;b<L.length;b++)G=L[b],Ge.setUint32(Y,G.data.byteLength),Y+=4,ge.set(G.data,Y),Y+=G.data.byteLength;return ge},et=function(p,x){var S,b=x||0,E=[];return S=Rt(p,b),E.push(S),E},at=function(p){var x,S,b=0,E=p.byteLength,L=p.length,G=E+4*L,Y=new Uint8Array(G),J=new DataView(Y.buffer);for(x=0;x<p.length;x++)S=p[x],J.setUint32(b,S.data.byteLength),b+=4,Y.set(S.data,b),b+=S.data.byteLength;return Y},Me={groupNalsIntoFrames:ze,groupFramesIntoGops:mt,extendFirstKeyFrame:Je,generateSampleTable:Ve,concatenateNalData:Ne,generateSampleTableForFrame:et,concatenateNalDataForFrame:at},$e=[33,16,5,32,164,27],qe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Ye=function(p){for(var x=[];p--;)x.push(0);return x},vt=function(p){return Object.keys(p).reduce(function(x,S){return x[S]=new Uint8Array(p[S].reduce(function(b,E){return b.concat(E)},[])),x},{})},ut,gr=function(){if(!ut){var p={96e3:[$e,[227,64],Ye(154),[56]],88200:[$e,[231],Ye(170),[56]],64e3:[$e,[248,192],Ye(240),[56]],48e3:[$e,[255,192],Ye(268),[55,148,128],Ye(54),[112]],44100:[$e,[255,192],Ye(268),[55,163,128],Ye(84),[112]],32e3:[$e,[255,192],Ye(268),[55,234],Ye(226),[112]],24e3:[$e,[255,192],Ye(268),[55,255,128],Ye(268),[111,112],Ye(126),[224]],16e3:[$e,[255,192],Ye(268),[55,255,128],Ye(268),[111,255],Ye(269),[223,108],Ye(195),[1,192]],12e3:[qe,Ye(268),[3,127,248],Ye(268),[6,255,240],Ye(268),[13,255,224],Ye(268),[27,253,128],Ye(259),[56]],11025:[qe,Ye(268),[3,127,248],Ye(268),[6,255,240],Ye(268),[13,255,224],Ye(268),[27,255,192],Ye(268),[55,175,128],Ye(108),[112]],8e3:[qe,Ye(268),[3,121,16],Ye(47),[7]]};ut=vt(p)}return ut},hr=9e4,Rr,nr,qt,fr,xr,Lr,xt;Rr=function(p){return p*hr},nr=function(p,x){return p*x},qt=function(p){return p/hr},fr=function(p,x){return p/x},xr=function(p,x){return Rr(fr(p,x))},Lr=function(p,x){return nr(qt(p),x)},xt=function(p,x,S){return qt(S?p:p-x)};var Ut={ONE_SECOND_IN_TS:hr,secondsToVideoTs:Rr,secondsToAudioTs:nr,videoTsToSeconds:qt,audioTsToSeconds:fr,audioTsToVideoTs:xr,videoTsToAudioTs:Lr,metadataTsToSeconds:xt},rn=gr,jt=Ut,Tr=function(p){var x,S,b=0;for(x=0;x<p.length;x++)S=p[x],b+=S.data.byteLength;return b},Or=function(p,x,S,b){var E,L=0,G=0,Y=0,J=0,ne,he,ge;if(x.length&&(E=jt.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),L=Math.ceil(jt.ONE_SECOND_IN_TS/(p.samplerate/1024)),S&&b&&(G=E-Math.max(S,b),Y=Math.floor(G/L),J=Y*L),!(Y<1||J>jt.ONE_SECOND_IN_TS/2))){for(ne=rn()[p.samplerate],ne||(ne=x[0].data),he=0;he<Y;he++)ge=x[0],x.splice(0,0,{data:ne,dts:ge.dts-L,pts:ge.pts-L});return p.baseMediaDecodeTime-=Math.floor(jt.videoTsToAudioTs(J,p.samplerate)),J}},Hr=function(p,x,S){return x.minSegmentDts>=S?p:(x.minSegmentDts=1/0,p.filter(function(b){return b.dts>=S?(x.minSegmentDts=Math.min(x.minSegmentDts,b.dts),x.minSegmentPts=x.minSegmentDts,!0):!1}))},ln=function(p){var x,S,b=[];for(x=0;x<p.length;x++)S=p[x],b.push({size:S.data.byteLength,duration:1024});return b},Cn=function(p){var x,S,b=0,E=new Uint8Array(Tr(p));for(x=0;x<p.length;x++)S=p[x],E.set(S.data,b),b+=S.data.byteLength;return E},wn={prefixWithSilence:Or,trimAdtsFramesByEarliestDts:Hr,generateSampleTable:ln,concatenateFrameData:Cn},Fr=Ut.ONE_SECOND_IN_TS,se=function(p,x){typeof x.pts=="number"&&(p.timelineStartInfo.pts===void 0&&(p.timelineStartInfo.pts=x.pts),p.minSegmentPts===void 0?p.minSegmentPts=x.pts:p.minSegmentPts=Math.min(p.minSegmentPts,x.pts),p.maxSegmentPts===void 0?p.maxSegmentPts=x.pts:p.maxSegmentPts=Math.max(p.maxSegmentPts,x.pts)),typeof x.dts=="number"&&(p.timelineStartInfo.dts===void 0&&(p.timelineStartInfo.dts=x.dts),p.minSegmentDts===void 0?p.minSegmentDts=x.dts:p.minSegmentDts=Math.min(p.minSegmentDts,x.dts),p.maxSegmentDts===void 0?p.maxSegmentDts=x.dts:p.maxSegmentDts=Math.max(p.maxSegmentDts,x.dts))},fe=function(p){delete p.minSegmentDts,delete p.maxSegmentDts,delete p.minSegmentPts,delete p.maxSegmentPts},Te=function(p,x){var S,b,E=p.minSegmentDts;return x||(E-=p.timelineStartInfo.dts),S=p.timelineStartInfo.baseMediaDecodeTime,S+=E,S=Math.max(0,S),p.type==="audio"&&(b=p.samplerate/Fr,S*=b,S=Math.floor(S)),S},je={clearDtsInfo:fe,calculateTrackBaseMediaDecodeTime:Te,collectDtsInfo:se},gt=4,Tt=128,be=function(p){for(var x=0,S={payloadType:-1,payloadSize:0},b=0,E=0;x<p.byteLength&&p[x]!==Tt;){for(;p[x]===255;)b+=255,x++;for(b+=p[x++];p[x]===255;)E+=255,x++;if(E+=p[x++],!S.payload&&b===gt){var L=String.fromCharCode(p[x+3],p[x+4],p[x+5],p[x+6]);if(L==="GA94"){S.payloadType=b,S.payloadSize=E,S.payload=p.subarray(x,x+E);break}else S.payload=void 0}x+=E,b=0,E=0}return S},ye=function(p){return p.payload[0]!==181||(p.payload[1]<<8|p.payload[2])!==49||String.fromCharCode(p.payload[3],p.payload[4],p.payload[5],p.payload[6])!=="GA94"||p.payload[7]!==3?null:p.payload.subarray(8,p.payload.length-1)},Ae=function(p,x){var S=[],b,E,L,G;if(!(x[0]&64))return S;for(E=x[0]&31,b=0;b<E;b++)L=b*3,G={type:x[L+2]&3,pts:p},x[L+2]&4&&(G.ccData=x[L+3]<<8|x[L+4],S.push(G));return S},Xe=function(p){for(var x=p.byteLength,S=[],b=1,E,L;b<x-2;)p[b]===0&&p[b+1]===0&&p[b+2]===3?(S.push(b+2),b+=2):b++;if(S.length===0)return p;E=x-S.length,L=new Uint8Array(E);var G=0;for(b=0;b<E;G++,b++)G===S[0]&&(G++,S.shift()),L[b]=p[G];return L},Qe={parseSei:be,parseUserData:ye,parseCaptionPackets:Ae,discardEmulationPreventionBytes:Xe,USER_DATA_REGISTERED_ITU_T_T35:gt},St=t,Lt=Qe,dt=function(p){p=p||{},dt.prototype.init.call(this),this.parse708captions_=typeof p.parse708captions=="boolean"?p.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new ir(0,0),new ir(0,1),new ir(1,0),new ir(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ct({captionServices:p.captionServices})),this.reset(),this.ccStreams_.forEach(function(x){x.on("data",this.trigger.bind(this,"data")),x.on("partialdone",this.trigger.bind(this,"partialdone")),x.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};dt.prototype=new St,dt.prototype.push=function(p){var x,S,b;if(p.nalUnitType==="sei_rbsp"&&(x=Lt.parseSei(p.escapedRBSP),!!x.payload&&x.payloadType===Lt.USER_DATA_REGISTERED_ITU_T_T35&&(S=Lt.parseUserData(x),!!S))){if(p.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(p.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}b=Lt.parseCaptionPackets(p.pts,S),this.captionPackets_=this.captionPackets_.concat(b),this.latestDts_!==p.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=p.dts}},dt.prototype.flushCCStreams=function(p){this.ccStreams_.forEach(function(x){return p==="flush"?x.flush():x.partialFlush()},this)},dt.prototype.flushStream=function(p){if(!this.captionPackets_.length){this.flushCCStreams(p);return}this.captionPackets_.forEach(function(x,S){x.presortIndex=S}),this.captionPackets_.sort(function(x,S){return x.pts===S.pts?x.presortIndex-S.presortIndex:x.pts-S.pts}),this.captionPackets_.forEach(function(x){x.type<2?this.dispatchCea608Packet(x):this.dispatchCea708Packet(x)},this),this.captionPackets_.length=0,this.flushCCStreams(p)},dt.prototype.flush=function(){return this.flushStream("flush")},dt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},dt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(p){p.reset()})},dt.prototype.dispatchCea608Packet=function(p){this.setsTextOrXDSActive(p)?this.activeCea608Channel_[p.type]=null:this.setsChannel1Active(p)?this.activeCea608Channel_[p.type]=0:this.setsChannel2Active(p)&&(this.activeCea608Channel_[p.type]=1),this.activeCea608Channel_[p.type]!==null&&this.ccStreams_[(p.type<<1)+this.activeCea608Channel_[p.type]].push(p)},dt.prototype.setsChannel1Active=function(p){return(p.ccData&30720)===4096},dt.prototype.setsChannel2Active=function(p){return(p.ccData&30720)===6144},dt.prototype.setsTextOrXDSActive=function(p){return(p.ccData&28928)===256||(p.ccData&30974)===4138||(p.ccData&30974)===6186},dt.prototype.dispatchCea708Packet=function(p){this.parse708captions_&&this.cc708Stream_.push(p)};var _t={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Vt=function(p){var x=_t[p]||p;return p&4096&&p===x?"":String.fromCharCode(x)},Kt=function(p){return 32<=p&&p<=127||160<=p&&p<=255},Nt=function(p){this.windowNum=p,this.reset()};Nt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Nt.prototype.getText=function(){return this.rows.join(`
`)},Nt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Nt.prototype.newLine=function(p){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(p),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Nt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Nt.prototype.addText=function(p){this.rows[this.rowIdx]+=p},Nt.prototype.backspace=function(){if(!this.isEmpty()){var p=this.rows[this.rowIdx];this.rows[this.rowIdx]=p.substr(0,p.length-1)}};var vr=function(p,x,S){this.serviceNum=p,this.text="",this.currentWindow=new Nt(-1),this.windows=[],this.stream=S,typeof x=="string"&&this.createTextDecoder(x)};vr.prototype.init=function(p,x){this.startPts=p;for(var S=0;S<8;S++)this.windows[S]=new Nt(S),typeof x=="function"&&(this.windows[S].beforeRowOverflow=x)},vr.prototype.setCurrentWindow=function(p){this.currentWindow=this.windows[p]},vr.prototype.createTextDecoder=function(p){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(p)}catch(x){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+p+" encoding. "+x})}};var Ct=function(p){p=p||{},Ct.prototype.init.call(this);var x=this,S=p.captionServices||{},b={},E;Object.keys(S).forEach(L=>{E=S[L],/^SERVICE/.test(L)&&(b[L]=E.encoding)}),this.serviceEncodings=b,this.current708Packet=null,this.services={},this.push=function(L){L.type===3?(x.new708Packet(),x.add708Bytes(L)):(x.current708Packet===null&&x.new708Packet(),x.add708Bytes(L))}};Ct.prototype=new St,Ct.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ct.prototype.add708Bytes=function(p){var x=p.ccData,S=x>>>8,b=x&255;this.current708Packet.ptsVals.push(p.pts),this.current708Packet.data.push(S),this.current708Packet.data.push(b)},Ct.prototype.push708Packet=function(){var p=this.current708Packet,x=p.data,S=null,b=null,E=0,L=x[E++];for(p.seq=L>>6,p.sizeCode=L&63;E<x.length;E++)L=x[E++],S=L>>5,b=L&31,S===7&&b>0&&(L=x[E++],S=L),this.pushServiceBlock(S,E,b),b>0&&(E+=b-1)},Ct.prototype.pushServiceBlock=function(p,x,S){var b,E=x,L=this.current708Packet.data,G=this.services[p];for(G||(G=this.initService(p,E));E<x+S&&E<L.length;E++)b=L[E],Kt(b)?E=this.handleText(E,G):b===24?E=this.multiByteCharacter(E,G):b===16?E=this.extendedCommands(E,G):128<=b&&b<=135?E=this.setCurrentWindow(E,G):152<=b&&b<=159?E=this.defineWindow(E,G):b===136?E=this.clearWindows(E,G):b===140?E=this.deleteWindows(E,G):b===137?E=this.displayWindows(E,G):b===138?E=this.hideWindows(E,G):b===139?E=this.toggleWindows(E,G):b===151?E=this.setWindowAttributes(E,G):b===144?E=this.setPenAttributes(E,G):b===145?E=this.setPenColor(E,G):b===146?E=this.setPenLocation(E,G):b===143?G=this.reset(E,G):b===8?G.currentWindow.backspace():b===12?G.currentWindow.clearText():b===13?G.currentWindow.pendingNewLine=!0:b===14?G.currentWindow.clearText():b===141&&E++},Ct.prototype.extendedCommands=function(p,x){var S=this.current708Packet.data,b=S[++p];return Kt(b)&&(p=this.handleText(p,x,{isExtended:!0})),p},Ct.prototype.getPts=function(p){return this.current708Packet.ptsVals[Math.floor(p/2)]},Ct.prototype.initService=function(p,x){var b="SERVICE"+p,S=this,b,E;return b in this.serviceEncodings&&(E=this.serviceEncodings[b]),this.services[p]=new vr(p,E,S),this.services[p].init(this.getPts(x),function(L){S.flushDisplayed(L,S.services[p])}),this.services[p]},Ct.prototype.handleText=function(p,x,S){var b=S&&S.isExtended,E=S&&S.isMultiByte,L=this.current708Packet.data,G=b?4096:0,Y=L[p],J=L[p+1],ne=x.currentWindow,he,ge;function Ge(Ee){return Ee.map(wt=>("0"+(wt&255).toString(16)).slice(-2)).join("")}if(E?(ge=[Y,J],p++):ge=[Y],x.textDecoder_&&!b)he=x.textDecoder_.decode(new Uint8Array(ge));else if(E){const Ee=Ge(ge);he=String.fromCharCode(parseInt(Ee,16))}else he=Vt(G|Y);return ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(p)),ne.pendingNewLine=!1,ne.addText(he),p},Ct.prototype.multiByteCharacter=function(p,x){var S=this.current708Packet.data,b=S[p+1],E=S[p+2];return Kt(b)&&Kt(E)&&(p=this.handleText(++p,x,{isMultiByte:!0})),p},Ct.prototype.setCurrentWindow=function(p,x){var S=this.current708Packet.data,b=S[p],E=b&7;return x.setCurrentWindow(E),p},Ct.prototype.defineWindow=function(p,x){var S=this.current708Packet.data,b=S[p],E=b&7;x.setCurrentWindow(E);var L=x.currentWindow;return b=S[++p],L.visible=(b&32)>>5,L.rowLock=(b&16)>>4,L.columnLock=(b&8)>>3,L.priority=b&7,b=S[++p],L.relativePositioning=(b&128)>>7,L.anchorVertical=b&127,b=S[++p],L.anchorHorizontal=b,b=S[++p],L.anchorPoint=(b&240)>>4,L.rowCount=b&15,b=S[++p],L.columnCount=b&63,b=S[++p],L.windowStyle=(b&56)>>3,L.penStyle=b&7,L.virtualRowCount=L.rowCount+1,p},Ct.prototype.setWindowAttributes=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.winAttr;return b=S[++p],E.fillOpacity=(b&192)>>6,E.fillRed=(b&48)>>4,E.fillGreen=(b&12)>>2,E.fillBlue=b&3,b=S[++p],E.borderType=(b&192)>>6,E.borderRed=(b&48)>>4,E.borderGreen=(b&12)>>2,E.borderBlue=b&3,b=S[++p],E.borderType+=(b&128)>>5,E.wordWrap=(b&64)>>6,E.printDirection=(b&48)>>4,E.scrollDirection=(b&12)>>2,E.justify=b&3,b=S[++p],E.effectSpeed=(b&240)>>4,E.effectDirection=(b&12)>>2,E.displayEffect=b&3,p},Ct.prototype.flushDisplayed=function(p,x){for(var S=[],b=0;b<8;b++)x.windows[b].visible&&!x.windows[b].isEmpty()&&S.push(x.windows[b].getText());x.endPts=p,x.text=S.join(`

`),this.pushCaption(x),x.startPts=p},Ct.prototype.pushCaption=function(p){p.text!==""&&(this.trigger("data",{startPts:p.startPts,endPts:p.endPts,text:p.text,stream:"cc708_"+p.serviceNum}),p.text="",p.startPts=p.endPts)},Ct.prototype.displayWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&(x.windows[L].visible=1);return p},Ct.prototype.hideWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&(x.windows[L].visible=0);return p},Ct.prototype.toggleWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&(x.windows[L].visible^=1);return p},Ct.prototype.clearWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&x.windows[L].clearText();return p},Ct.prototype.deleteWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&x.windows[L].reset();return p},Ct.prototype.setPenAttributes=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.penAttr;return b=S[++p],E.textTag=(b&240)>>4,E.offset=(b&12)>>2,E.penSize=b&3,b=S[++p],E.italics=(b&128)>>7,E.underline=(b&64)>>6,E.edgeType=(b&56)>>3,E.fontStyle=b&7,p},Ct.prototype.setPenColor=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.penColor;return b=S[++p],E.fgOpacity=(b&192)>>6,E.fgRed=(b&48)>>4,E.fgGreen=(b&12)>>2,E.fgBlue=b&3,b=S[++p],E.bgOpacity=(b&192)>>6,E.bgRed=(b&48)>>4,E.bgGreen=(b&12)>>2,E.bgBlue=b&3,b=S[++p],E.edgeRed=(b&48)>>4,E.edgeGreen=(b&12)>>2,E.edgeBlue=b&3,p},Ct.prototype.setPenLocation=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.penLoc;return x.currentWindow.pendingNewLine=!0,b=S[++p],E.row=b&15,b=S[++p],E.column=b&63,p},Ct.prototype.reset=function(p,x){var S=this.getPts(p);return this.flushDisplayed(S,x),this.initService(x.serviceNum,p)};var _r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Zr=function(p){return p===null?"":(p=_r[p]||p,String.fromCharCode(p))},Br=14,jr=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Pn=function(){for(var p=[],x=Br+1;x--;)p.push({text:"",indent:0,offset:0});return p},ir=function(p,x){ir.prototype.init.call(this),this.field_=p||0,this.dataChannel_=x||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(S){var b,E,L,G,Y;if(b=S.ccData&32639,b===this.lastControlCode_){this.lastControlCode_=null;return}if((b&61440)===4096?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),L=b>>>8,G=b&255,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(S.pts),this.flushDisplayed(S.pts),E=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=E,this.startPts_=S.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(S.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(S.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(S.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(S.pts),this.flushDisplayed(S.pts),this.shiftRowsUp_(),this.startPts_=S.pts;else if(b===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(S.pts),this.displayed_=Pn();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Pn();else if(b===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(S.pts),this.displayed_=Pn()),this.mode_="paintOn",this.startPts_=S.pts;else if(this.isSpecialCharacter(L,G))L=(L&3)<<8,Y=Zr(L|G),this[this.mode_](S.pts,Y),this.column_++;else if(this.isExtCharacter(L,G))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),L=(L&3)<<8,Y=Zr(L|G),this[this.mode_](S.pts,Y),this.column_++;else if(this.isMidRowCode(L,G))this.clearFormatting(S.pts),this[this.mode_](S.pts," "),this.column_++,(G&14)===14&&this.addFormatting(S.pts,["i"]),(G&1)===1&&this.addFormatting(S.pts,["u"]);else if(this.isOffsetControlCode(L,G)){const ne=G&3;this.nonDisplayed_[this.row_].offset=ne,this.column_+=ne}else if(this.isPAC(L,G)){var J=jr.indexOf(b&7968);if(this.mode_==="rollUp"&&(J-this.rollUpRows_+1<0&&(J=this.rollUpRows_-1),this.setRollUp(S.pts,J)),J!==this.row_&&J>=0&&J<=14&&(this.clearFormatting(S.pts),this.row_=J),G&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(S.pts,["u"]),(b&16)===16){const ne=(b&14)>>1;this.column_=ne*4,this.nonDisplayed_[this.row_].indent+=ne}this.isColorPAC(G)&&(G&14)===14&&this.addFormatting(S.pts,["i"])}else this.isNormalChar(L)&&(G===0&&(G=null),Y=Zr(L),Y+=Zr(G),this[this.mode_](S.pts,Y),this.column_+=Y.length)}};ir.prototype=new St,ir.prototype.flushDisplayed=function(p){const x=b=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+b+"."})},S=[];this.displayed_.forEach((b,E)=>{if(b&&b.text&&b.text.length){try{b.text=b.text.trim()}catch{x(E)}b.text.length&&S.push({text:b.text,line:E+1,position:10+Math.min(70,b.indent*10)+b.offset*2.5})}else b==null&&x(E)}),S.length&&this.trigger("data",{startPts:this.startPts_,endPts:p,content:S,stream:this.name_})},ir.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Pn(),this.nonDisplayed_=Pn(),this.lastControlCode_=null,this.column_=0,this.row_=Br,this.rollUpRows_=2,this.formatting_=[]},ir.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},ir.prototype.isSpecialCharacter=function(p,x){return p===this.EXT_&&x>=48&&x<=63},ir.prototype.isExtCharacter=function(p,x){return(p===this.EXT_+1||p===this.EXT_+2)&&x>=32&&x<=63},ir.prototype.isMidRowCode=function(p,x){return p===this.EXT_&&x>=32&&x<=47},ir.prototype.isOffsetControlCode=function(p,x){return p===this.OFFSET_&&x>=33&&x<=35},ir.prototype.isPAC=function(p,x){return p>=this.BASE_&&p<this.BASE_+8&&x>=64&&x<=127},ir.prototype.isColorPAC=function(p){return p>=64&&p<=79||p>=96&&p<=127},ir.prototype.isNormalChar=function(p){return p>=32&&p<=127},ir.prototype.setRollUp=function(p,x){if(this.mode_!=="rollUp"&&(this.row_=Br,this.mode_="rollUp",this.flushDisplayed(p),this.nonDisplayed_=Pn(),this.displayed_=Pn()),x!==void 0&&x!==this.row_)for(var S=0;S<this.rollUpRows_;S++)this.displayed_[x-S]=this.displayed_[this.row_-S],this.displayed_[this.row_-S]={text:"",indent:0,offset:0};x===void 0&&(x=this.row_),this.topRow_=x-this.rollUpRows_+1},ir.prototype.addFormatting=function(p,x){this.formatting_=this.formatting_.concat(x);var S=x.reduce(function(b,E){return b+"<"+E+">"},"");this[this.mode_](p,S)},ir.prototype.clearFormatting=function(p){if(this.formatting_.length){var x=this.formatting_.reverse().reduce(function(S,b){return S+"</"+b+">"},"");this.formatting_=[],this[this.mode_](p,x)}},ir.prototype.popOn=function(p,x){var S=this.nonDisplayed_[this.row_].text;S+=x,this.nonDisplayed_[this.row_].text=S},ir.prototype.rollUp=function(p,x){var S=this.displayed_[this.row_].text;S+=x,this.displayed_[this.row_].text=S},ir.prototype.shiftRowsUp_=function(){var p;for(p=0;p<this.topRow_;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.row_+1;p<Br+1;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.topRow_;p<this.row_;p++)this.displayed_[p]=this.displayed_[p+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},ir.prototype.paintOn=function(p,x){var S=this.displayed_[this.row_].text;S+=x,this.displayed_[this.row_].text=S};var Ci={CaptionStream:dt,Cea608Stream:ir,Cea708Stream:Ct},yn={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Cs=t,nn=8589934592,ws=4294967296,hi="shared",si=function(p,x){var S=1;for(p>x&&(S=-1);Math.abs(x-p)>ws;)p+=S*nn;return p},Mr=function(p){var x,S;Mr.prototype.init.call(this),this.type_=p||hi,this.push=function(b){if(b.type==="metadata"){this.trigger("data",b);return}this.type_!==hi&&b.type!==this.type_||(S===void 0&&(S=b.dts),b.dts=si(b.dts,S),b.pts=si(b.pts,S),x=b.dts,this.trigger("data",b))},this.flush=function(){S=x,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){S=void 0,x=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Mr.prototype=new Cs;var ke={TimestampRolloverStream:Mr,handleRollover:si},Ue=(p,x,S)=>{if(!p)return-1;for(var b=S;b<p.length;b++)if(p[b]===x)return b;return-1},tt={typedArrayIndexOf:Ue},nt=tt.typedArrayIndexOf,bt={Utf8:3},At=function(p,x,S){var b,E="";for(b=x;b<S;b++)E+="%"+("00"+p[b].toString(16)).slice(-2);return E},Bt=function(p,x,S){return decodeURIComponent(At(p,x,S))},Er=function(p,x,S){return unescape(At(p,x,S))},Wr=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},xn={APIC:function(p){var x=1,S,b,E="-->";p.data[0]===bt.Utf8&&(S=nt(p.data,0,x),!(S<0)&&(p.mimeType=Er(p.data,x,S),x=S+1,p.pictureType=p.data[x],x++,b=nt(p.data,0,x),!(b<0)&&(p.description=Bt(p.data,x,b),x=b+1,p.mimeType===E?p.url=Er(p.data,x,p.data.length):p.pictureData=p.data.subarray(x,p.data.length))))},"T*":function(p){p.data[0]===bt.Utf8&&(p.value=Bt(p.data,1,p.data.length).replace(/\0*$/,""),p.values=p.value.split("\0"))},TXXX:function(p){var x;p.data[0]===bt.Utf8&&(x=nt(p.data,0,1),x!==-1&&(p.description=Bt(p.data,1,x),p.value=Bt(p.data,x+1,p.data.length).replace(/\0*$/,""),p.data=p.value))},"W*":function(p){p.url=Er(p.data,0,p.data.length).replace(/\0.*$/,"")},WXXX:function(p){var x;p.data[0]===bt.Utf8&&(x=nt(p.data,0,1),x!==-1&&(p.description=Bt(p.data,1,x),p.url=Er(p.data,x+1,p.data.length).replace(/\0.*$/,"")))},PRIV:function(p){var x;for(x=0;x<p.data.length;x++)if(p.data[x]===0){p.owner=Er(p.data,0,x);break}p.privateData=p.data.subarray(x+1),p.data=p.privateData}},Dr=function(p){var x,S,b=10,E=0,L=[];if(!(p.length<10||p[0]!==73||p[1]!==68||p[2]!==51)){E=Wr(p.subarray(6,10)),E+=10;var G=p[5]&64;G&&(b+=4,b+=Wr(p.subarray(10,14)),E-=Wr(p.subarray(16,20)));do{if(x=Wr(p.subarray(b+4,b+8)),x<1)break;S=String.fromCharCode(p[b],p[b+1],p[b+2],p[b+3]);var Y={id:S,data:p.subarray(b+10,b+x+10)};Y.key=Y.id,xn[Y.id]?xn[Y.id](Y):Y.id[0]==="T"?xn["T*"](Y):Y.id[0]==="W"&&xn["W*"](Y),L.push(Y),b+=10,b+=x}while(b<E);return L}},fi={parseId3Frames:Dr,parseSyncSafeInteger:Wr,frameParsers:xn},zr=t,Mn=yn,jn=fi,Es;Es=function(p){var x={descriptor:p&&p.descriptor},S=0,b=[],E=0,L;if(Es.prototype.init.call(this),this.dispatchType=Mn.METADATA_STREAM_TYPE.toString(16),x.descriptor)for(L=0;L<x.descriptor.length;L++)this.dispatchType+=("00"+x.descriptor[L].toString(16)).slice(-2);this.push=function(G){var Y,J,ne,he,ge,Ge;if(G.type==="timed-metadata"){if(G.dataAlignmentIndicator&&(E=0,b.length=0),b.length===0&&(G.data.length<10||G.data[0]!==73||G.data[1]!==68||G.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(b.push(G),E+=G.data.byteLength,b.length===1&&(S=jn.parseSyncSafeInteger(G.data.subarray(6,10)),S+=10),!(E<S)){for(Y={data:new Uint8Array(S),frames:[],pts:b[0].pts,dts:b[0].dts},ge=0;ge<S;)Y.data.set(b[0].data.subarray(0,S-ge),ge),ge+=b[0].data.byteLength,E-=b[0].data.byteLength,b.shift();J=10,Y.data[5]&64&&(J+=4,J+=jn.parseSyncSafeInteger(Y.data.subarray(10,14)),S-=jn.parseSyncSafeInteger(Y.data.subarray(16,20)));do{if(ne=jn.parseSyncSafeInteger(Y.data.subarray(J+4,J+8)),ne<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ge=String.fromCharCode(Y.data[J],Y.data[J+1],Y.data[J+2],Y.data[J+3]),he={id:Ge,data:Y.data.subarray(J+10,J+ne+10)},he.key=he.id,jn.frameParsers[he.id]?jn.frameParsers[he.id](he):he.id[0]==="T"?jn.frameParsers["T*"](he):he.id[0]==="W"&&jn.frameParsers["W*"](he),he.owner==="com.apple.streaming.transportStreamTimestamp"){var Ee=he.data,wt=(Ee[3]&1)<<30|Ee[4]<<22|Ee[5]<<14|Ee[6]<<6|Ee[7]>>>2;wt*=4,wt+=Ee[7]&3,he.timeStamp=wt,Y.pts===void 0&&Y.dts===void 0&&(Y.pts=he.timeStamp,Y.dts=he.timeStamp),this.trigger("timestamp",he)}Y.frames.push(he),J+=10,J+=ne}while(J<S);this.trigger("data",Y)}}}},Es.prototype=new zr;var Wc=Es,ks=t,Hi=Ci,Rn=yn,Ju=ke.TimestampRolloverStream,qr,ls,ma,Pi=188,qa=71;qr=function(){var p=new Uint8Array(Pi),x=0;qr.prototype.init.call(this),this.push=function(S){var b=0,E=Pi,L;for(x?(L=new Uint8Array(S.byteLength+x),L.set(p.subarray(0,x)),L.set(S,x),x=0):L=S;E<L.byteLength;){if(L[b]===qa&&L[E]===qa){this.trigger("data",L.subarray(b,E)),b+=Pi,E+=Pi;continue}b++,E++}b<L.byteLength&&(p.set(L.subarray(b),0),x=L.byteLength-b)},this.flush=function(){x===Pi&&p[0]===qa&&(this.trigger("data",p),x=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){x=0,this.trigger("reset")}},qr.prototype=new ks,ls=function(){var p,x,S,b;ls.prototype.init.call(this),b=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,p=function(E,L){var G=0;L.payloadUnitStartIndicator&&(G+=E[G]+1),L.type==="pat"?x(E.subarray(G),L):S(E.subarray(G),L)},x=function(E,L){L.section_number=E[7],L.last_section_number=E[8],b.pmtPid=(E[10]&31)<<8|E[11],L.pmtPid=b.pmtPid},S=function(E,L){var G,Y,J,ne;if(E[5]&1){for(b.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(E[1]&15)<<8|E[2],Y=3+G-4,J=(E[10]&15)<<8|E[11],ne=12+J;ne<Y;){var he=E[ne],ge=(E[ne+1]&31)<<8|E[ne+2];he===Rn.H264_STREAM_TYPE&&b.programMapTable.video===null?b.programMapTable.video=ge:he===Rn.ADTS_STREAM_TYPE&&b.programMapTable.audio===null?b.programMapTable.audio=ge:he===Rn.METADATA_STREAM_TYPE&&(b.programMapTable["timed-metadata"][ge]=he),ne+=((E[ne+3]&15)<<8|E[ne+4])+5}L.programMapTable=b.programMapTable}},this.push=function(E){var L={},G=4;if(L.payloadUnitStartIndicator=!!(E[1]&64),L.pid=E[1]&31,L.pid<<=8,L.pid|=E[2],(E[3]&48)>>>4>1&&(G+=E[G]+1),L.pid===0)L.type="pat",p(E.subarray(G),L),this.trigger("data",L);else if(L.pid===this.pmtPid)for(L.type="pmt",p(E.subarray(G),L),this.trigger("data",L);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([E,G,L]):this.processPes_(E,G,L)},this.processPes_=function(E,L,G){G.pid===this.programMapTable.video?G.streamType=Rn.H264_STREAM_TYPE:G.pid===this.programMapTable.audio?G.streamType=Rn.ADTS_STREAM_TYPE:G.streamType=this.programMapTable["timed-metadata"][G.pid],G.type="pes",G.data=E.subarray(L),this.trigger("data",G)}},ls.prototype=new ks,ls.STREAM_TYPES={h264:27,adts:15},ma=function(){var p=this,x=!1,S={data:[],size:0},b={data:[],size:0},E={data:[],size:0},L,G=function(J,ne){var he;const ge=J[0]<<16|J[1]<<8|J[2];ne.data=new Uint8Array,ge===1&&(ne.packetLength=6+(J[4]<<8|J[5]),ne.dataAlignmentIndicator=(J[6]&4)!==0,he=J[7],he&192&&(ne.pts=(J[9]&14)<<27|(J[10]&255)<<20|(J[11]&254)<<12|(J[12]&255)<<5|(J[13]&254)>>>3,ne.pts*=4,ne.pts+=(J[13]&6)>>>1,ne.dts=ne.pts,he&64&&(ne.dts=(J[14]&14)<<27|(J[15]&255)<<20|(J[16]&254)<<12|(J[17]&255)<<5|(J[18]&254)>>>3,ne.dts*=4,ne.dts+=(J[18]&6)>>>1)),ne.data=J.subarray(9+J[8]))},Y=function(J,ne,he){var ge=new Uint8Array(J.size),Ge={type:ne},Ee=0,wt=0,Wt=!1,Gr;if(!(!J.data.length||J.size<9)){for(Ge.trackId=J.data[0].pid,Ee=0;Ee<J.data.length;Ee++)Gr=J.data[Ee],ge.set(Gr.data,wt),wt+=Gr.data.byteLength;G(ge,Ge),Wt=ne==="video"||Ge.packetLength<=J.size,(he||Wt)&&(J.size=0,J.data.length=0),Wt&&p.trigger("data",Ge)}};ma.prototype.init.call(this),this.push=function(J){({pat:function(){},pes:function(){var ne,he;switch(J.streamType){case Rn.H264_STREAM_TYPE:ne=S,he="video";break;case Rn.ADTS_STREAM_TYPE:ne=b,he="audio";break;case Rn.METADATA_STREAM_TYPE:ne=E,he="timed-metadata";break;default:return}J.payloadUnitStartIndicator&&Y(ne,he,!0),ne.data.push(J),ne.size+=J.data.byteLength},pmt:function(){var ne={type:"metadata",tracks:[]};L=J.programMapTable,L.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),L.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),x=!0,p.trigger("data",ne)}})[J.type]()},this.reset=function(){S.size=0,S.data.length=0,b.size=0,b.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Y(S,"video"),Y(b,"audio"),Y(E,"timed-metadata")},this.flush=function(){if(!x&&L){var J={type:"metadata",tracks:[]};L.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),L.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),p.trigger("data",J)}x=!1,this.flushStreams_(),this.trigger("done")}},ma.prototype=new ks;var ql={PAT_PID:0,MP2T_PACKET_LENGTH:Pi,TransportPacketStream:qr,TransportParseStream:ls,ElementaryStream:ma,TimestampRolloverStream:Ju,CaptionStream:Hi.CaptionStream,Cea608Stream:Hi.Cea608Stream,Cea708Stream:Hi.Cea708Stream,MetadataStream:Wc};for(var wo in Rn)Rn.hasOwnProperty(wo)&&(ql[wo]=Rn[wo]);var Zu=ql,Gl=t,ga=Ut.ONE_SECOND_IN_TS,wi,Ri=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];wi=function(p){var x,S=0;wi.prototype.init.call(this),this.skipWarn_=function(b,E){this.trigger("log",{level:"warn",message:`adts skiping bytes ${b} to ${E} in frame ${S} outside syncword`})},this.push=function(b){var E=0,L,G,Y,J,ne;if(p||(S=0),b.type==="audio"){x&&x.length?(Y=x,x=new Uint8Array(Y.byteLength+b.data.byteLength),x.set(Y),x.set(b.data,Y.byteLength)):x=b.data;for(var he;E+7<x.length;){if(x[E]!==255||(x[E+1]&246)!==240){typeof he!="number"&&(he=E),E++;continue}if(typeof he=="number"&&(this.skipWarn_(he,E),he=null),G=(~x[E+1]&1)*2,L=(x[E+3]&3)<<11|x[E+4]<<3|(x[E+5]&224)>>5,J=((x[E+6]&3)+1)*1024,ne=J*ga/Ri[(x[E+2]&60)>>>2],x.byteLength-E<L)break;this.trigger("data",{pts:b.pts+S*ne,dts:b.dts+S*ne,sampleCount:J,audioobjecttype:(x[E+2]>>>6&3)+1,channelcount:(x[E+2]&1)<<2|(x[E+3]&192)>>>6,samplerate:Ri[(x[E+2]&60)>>>2],samplingfrequencyindex:(x[E+2]&60)>>>2,samplesize:16,data:x.subarray(E+7+G,E+L)}),S++,E+=L}typeof he=="number"&&(this.skipWarn_(he,E),he=null),x=x.subarray(E)}},this.flush=function(){S=0,this.trigger("done")},this.reset=function(){x=void 0,this.trigger("reset")},this.endTimeline=function(){x=void 0,this.trigger("endedtimeline")}},wi.prototype=new Gl;var va=wi,Ga;Ga=function(p){var x=p.byteLength,S=0,b=0;this.length=function(){return 8*x},this.bitsAvailable=function(){return 8*x+b},this.loadWord=function(){var E=p.byteLength-x,L=new Uint8Array(4),G=Math.min(4,x);if(G===0)throw new Error("no bytes available");L.set(p.subarray(E,E+G)),S=new DataView(L.buffer).getUint32(0),b=G*8,x-=G},this.skipBits=function(E){var L;b>E?(S<<=E,b-=E):(E-=b,L=Math.floor(E/8),E-=L*8,x-=L,this.loadWord(),S<<=E,b-=E)},this.readBits=function(E){var L=Math.min(b,E),G=S>>>32-L;return b-=L,b>0?S<<=L:x>0&&this.loadWord(),L=E-L,L>0?G<<L|this.readBits(L):G},this.skipLeadingZeros=function(){var E;for(E=0;E<b;++E)if((S&2147483648>>>E)!==0)return S<<=E,b-=E,E;return this.loadWord(),E+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var E=this.skipLeadingZeros();return this.readBits(E+1)-1},this.readExpGolomb=function(){var E=this.readUnsignedExpGolomb();return 1&E?1+E>>>1:-1*(E>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ya=Ga,Kl=t,qc=ya,Vi,Ka,Xl;Ka=function(){var p=0,x,S;Ka.prototype.init.call(this),this.push=function(b){var E;S?(E=new Uint8Array(S.byteLength+b.data.byteLength),E.set(S),E.set(b.data,S.byteLength),S=E):S=b.data;for(var L=S.byteLength;p<L-3;p++)if(S[p+2]===1){x=p+5;break}for(;x<L;)switch(S[x]){case 0:if(S[x-1]!==0){x+=2;break}else if(S[x-2]!==0){x++;break}p+3!==x-2&&this.trigger("data",S.subarray(p+3,x-2));do x++;while(S[x]!==1&&x<L);p=x-2,x+=3;break;case 1:if(S[x-1]!==0||S[x-2]!==0){x+=3;break}this.trigger("data",S.subarray(p+3,x-2)),p=x-2,x+=3;break;default:x+=3;break}S=S.subarray(p),x-=p,p=0},this.reset=function(){S=null,p=0,this.trigger("reset")},this.flush=function(){S&&S.byteLength>3&&this.trigger("data",S.subarray(p+3)),S=null,p=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ka.prototype=new Kl,Xl={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Vi=function(){var p=new Ka,x,S,b,E,L,G,Y;Vi.prototype.init.call(this),x=this,this.push=function(J){J.type==="video"&&(S=J.trackId,b=J.pts,E=J.dts,p.push(J))},p.on("data",function(J){var ne={trackId:S,pts:b,dts:E,data:J,nalUnitTypeCode:J[0]&31};switch(ne.nalUnitTypeCode){case 5:ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ne.nalUnitType="sei_rbsp",ne.escapedRBSP=L(J.subarray(1));break;case 7:ne.nalUnitType="seq_parameter_set_rbsp",ne.escapedRBSP=L(J.subarray(1)),ne.config=G(ne.escapedRBSP);break;case 8:ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:ne.nalUnitType="access_unit_delimiter_rbsp";break}x.trigger("data",ne)}),p.on("done",function(){x.trigger("done")}),p.on("partialdone",function(){x.trigger("partialdone")}),p.on("reset",function(){x.trigger("reset")}),p.on("endedtimeline",function(){x.trigger("endedtimeline")}),this.flush=function(){p.flush()},this.partialFlush=function(){p.partialFlush()},this.reset=function(){p.reset()},this.endTimeline=function(){p.endTimeline()},Y=function(J,ne){var he=8,ge=8,Ge,Ee;for(Ge=0;Ge<J;Ge++)ge!==0&&(Ee=ne.readExpGolomb(),ge=(he+Ee+256)%256),he=ge===0?he:ge},L=function(J){for(var ne=J.byteLength,he=[],ge=1,Ge,Ee;ge<ne-2;)J[ge]===0&&J[ge+1]===0&&J[ge+2]===3?(he.push(ge+2),ge+=2):ge++;if(he.length===0)return J;Ge=ne-he.length,Ee=new Uint8Array(Ge);var wt=0;for(ge=0;ge<Ge;wt++,ge++)wt===he[0]&&(wt++,he.shift()),Ee[ge]=J[wt];return Ee},G=function(J){var ne=0,he=0,ge=0,Ge=0,Ee,wt,Wt,Gr,pn,gi,Oo,ou,dc,Ta,Ca,er=[1,1],gn,Kn;if(Ee=new qc(J),wt=Ee.readUnsignedByte(),Gr=Ee.readUnsignedByte(),Wt=Ee.readUnsignedByte(),Ee.skipUnsignedExpGolomb(),Xl[wt]&&(pn=Ee.readUnsignedExpGolomb(),pn===3&&Ee.skipBits(1),Ee.skipUnsignedExpGolomb(),Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),Ee.readBoolean()))for(Ca=pn!==3?8:12,Kn=0;Kn<Ca;Kn++)Ee.readBoolean()&&(Kn<6?Y(16,Ee):Y(64,Ee));if(Ee.skipUnsignedExpGolomb(),gi=Ee.readUnsignedExpGolomb(),gi===0)Ee.readUnsignedExpGolomb();else if(gi===1)for(Ee.skipBits(1),Ee.skipExpGolomb(),Ee.skipExpGolomb(),Oo=Ee.readUnsignedExpGolomb(),Kn=0;Kn<Oo;Kn++)Ee.skipExpGolomb();if(Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),ou=Ee.readUnsignedExpGolomb(),dc=Ee.readUnsignedExpGolomb(),Ta=Ee.readBits(1),Ta===0&&Ee.skipBits(1),Ee.skipBits(1),Ee.readBoolean()&&(ne=Ee.readUnsignedExpGolomb(),he=Ee.readUnsignedExpGolomb(),ge=Ee.readUnsignedExpGolomb(),Ge=Ee.readUnsignedExpGolomb()),Ee.readBoolean()&&Ee.readBoolean()){switch(gn=Ee.readUnsignedByte(),gn){case 1:er=[1,1];break;case 2:er=[12,11];break;case 3:er=[10,11];break;case 4:er=[16,11];break;case 5:er=[40,33];break;case 6:er=[24,11];break;case 7:er=[20,11];break;case 8:er=[32,11];break;case 9:er=[80,33];break;case 10:er=[18,11];break;case 11:er=[15,11];break;case 12:er=[64,33];break;case 13:er=[160,99];break;case 14:er=[4,3];break;case 15:er=[3,2];break;case 16:er=[2,1];break;case 255:{er=[Ee.readUnsignedByte()<<8|Ee.readUnsignedByte(),Ee.readUnsignedByte()<<8|Ee.readUnsignedByte()];break}}er&&er[0]/er[1]}return{profileIdc:wt,levelIdc:Wt,profileCompatibility:Gr,width:(ou+1)*16-ne*2-he*2,height:(2-Ta)*(dc+1)*16-ge*2-Ge*2,sarRatio:er}}},Vi.prototype=new Kl;var Yl={H264Stream:Vi},pl=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Xa=function(p,x){var S=p[x+6]<<21|p[x+7]<<14|p[x+8]<<7|p[x+9],b=p[x+5],E=(b&16)>>4;return S=S>=0?S:0,E?S+20:S+10},As=function(p,x){return p.length-x<10||p[x]!==73||p[x+1]!==68||p[x+2]!==51?x:(x+=Xa(p,x),As(p,x))},us=function(p){var x=As(p,0);return p.length>=x+2&&(p[x]&255)===255&&(p[x+1]&240)===240&&(p[x+1]&22)===16},xa=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},ml=function(p,x,S){var b,E="";for(b=x;b<S;b++)E+="%"+("00"+p[b].toString(16)).slice(-2);return E},Gc=function(p,x,S){return unescape(ml(p,x,S))},Kc=function(p,x){var S=(p[x+5]&224)>>5,b=p[x+4]<<3,E=p[x+3]&6144;return E|b|S},ec=function(p,x){return p[x]===73&&p[x+1]===68&&p[x+2]===51?"timed-metadata":p[x]&!0&&(p[x+1]&240)===240?"audio":null},Ql=function(p){for(var x=0;x+5<p.length;){if(p[x]!==255||(p[x+1]&246)!==240){x++;continue}return pl[(p[x+2]&60)>>>2]}return null},tc=function(p){var x,S,b,E;x=10,p[5]&64&&(x+=4,x+=xa(p.subarray(10,14)));do{if(S=xa(p.subarray(x+4,x+8)),S<1)return null;if(E=String.fromCharCode(p[x],p[x+1],p[x+2],p[x+3]),E==="PRIV"){b=p.subarray(x+10,x+S+10);for(var L=0;L<b.byteLength;L++)if(b[L]===0){var G=Gc(b,0,L);if(G==="com.apple.streaming.transportStreamTimestamp"){var Y=b.subarray(L+1),J=(Y[3]&1)<<30|Y[4]<<22|Y[5]<<14|Y[6]<<6|Y[7]>>>2;return J*=4,J+=Y[7]&3,J}break}}x+=10,x+=S}while(x<p.byteLength);return null},Vs={isLikelyAacData:us,parseId3TagSize:Xa,parseAdtsSize:Kc,parseType:ec,parseSampleRate:Ql,parseAacTimestamp:tc},_a=t,cs=Vs,Ds;Ds=function(){var p=new Uint8Array,x=0;Ds.prototype.init.call(this),this.setTimestamp=function(S){x=S},this.push=function(S){var b=0,E=0,L,G,Y,J;for(p.length?(J=p.length,p=new Uint8Array(S.byteLength+J),p.set(p.subarray(0,J)),p.set(S,J)):p=S;p.length-E>=3;){if(p[E]===73&&p[E+1]===68&&p[E+2]===51){if(p.length-E<10||(b=cs.parseId3TagSize(p,E),E+b>p.length))break;G={type:"timed-metadata",data:p.subarray(E,E+b)},this.trigger("data",G),E+=b;continue}else if((p[E]&255)===255&&(p[E+1]&240)===240){if(p.length-E<7||(b=cs.parseAdtsSize(p,E),E+b>p.length))break;Y={type:"audio",data:p.subarray(E,E+b),pts:x,dts:x},this.trigger("data",Y),E+=b;continue}E++}L=p.length-E,L>0?p=p.subarray(E):p=new Uint8Array},this.reset=function(){p=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){p=new Uint8Array,this.trigger("endedtimeline")}},Ds.prototype=new _a;var Xc=Ds,un=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Jl=un,Yc=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Li=Yc,Oi=t,ds=ot,Ei=Me,Ya=wn,En=je,Hn=Zu,Wi=Ut,Qa=va,Eo=Yl.H264Stream,gl=Xc,oh=Vs.isLikelyAacData,lh=Ut.ONE_SECOND_IN_TS,vl=Jl,rc=Li,Ja,Ws,Za,Mi,Qc=function(p,x){x.stream=p,this.trigger("log",x)},ko=function(p,x){for(var S=Object.keys(x),b=0;b<S.length;b++){var E=S[b];E==="headOfPipeline"||!x[E].on||x[E].on("log",Qc.bind(p,E))}},eo=function(p,x){var S;if(p.length!==x.length)return!1;for(S=0;S<p.length;S++)if(p[S]!==x[S])return!1;return!0},nc=function(p,x,S,b,E,L){var G=S-x,Y=b-x,J=E-S;return{start:{dts:p,pts:p+G},end:{dts:p+Y,pts:p+J},prependedContentDuration:L,baseMediaDecodeTime:p}};Ws=function(p,x){var S=[],b,E=0,L=0,G=1/0;x=x||{},b=x.firstSequenceNumber||0,Ws.prototype.init.call(this),this.push=function(Y){En.collectDtsInfo(p,Y),p&&vl.forEach(function(J){p[J]=Y[J]}),S.push(Y)},this.setEarliestDts=function(Y){E=Y},this.setVideoBaseMediaDecodeTime=function(Y){G=Y},this.setAudioAppendStart=function(Y){L=Y},this.flush=function(){var Y,J,ne,he,ge,Ge,Ee;if(S.length===0){this.trigger("done","AudioSegmentStream");return}Y=Ya.trimAdtsFramesByEarliestDts(S,p,E),p.baseMediaDecodeTime=En.calculateTrackBaseMediaDecodeTime(p,x.keepOriginalTimestamps),Ee=Ya.prefixWithSilence(p,Y,L,G),p.samples=Ya.generateSampleTable(Y),ne=ds.mdat(Ya.concatenateFrameData(Y)),S=[],J=ds.moof(b,[p]),he=new Uint8Array(J.byteLength+ne.byteLength),b++,he.set(J),he.set(ne,J.byteLength),En.clearDtsInfo(p),ge=Math.ceil(lh*1024/p.samplerate),Y.length&&(Ge=Y.length*ge,this.trigger("segmentTimingInfo",nc(Wi.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),Y[0].dts,Y[0].pts,Y[0].dts+Ge,Y[0].pts+Ge,Ee||0)),this.trigger("timingInfo",{start:Y[0].pts,end:Y[0].pts+Ge})),this.trigger("data",{track:p,boxes:he}),this.trigger("done","AudioSegmentStream")},this.reset=function(){En.clearDtsInfo(p),S=[],this.trigger("reset")}},Ws.prototype=new Oi,Ja=function(p,x){var S,b=[],E=[],L,G;x=x||{},S=x.firstSequenceNumber||0,Ja.prototype.init.call(this),delete p.minPTS,this.gopCache_=[],this.push=function(Y){En.collectDtsInfo(p,Y),Y.nalUnitType==="seq_parameter_set_rbsp"&&!L&&(L=Y.config,p.sps=[Y.data],rc.forEach(function(J){p[J]=L[J]},this)),Y.nalUnitType==="pic_parameter_set_rbsp"&&!G&&(G=Y.data,p.pps=[Y.data]),b.push(Y)},this.flush=function(){for(var Y,J,ne,he,ge,Ge,Ee=0,wt,Wt;b.length&&b[0].nalUnitType!=="access_unit_delimiter_rbsp";)b.shift();if(b.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Y=Ei.groupNalsIntoFrames(b),ne=Ei.groupFramesIntoGops(Y),ne[0][0].keyFrame||(J=this.getGopForFusion_(b[0],p),J?(Ee=J.duration,ne.unshift(J),ne.byteLength+=J.byteLength,ne.nalCount+=J.nalCount,ne.pts=J.pts,ne.dts=J.dts,ne.duration+=J.duration):ne=Ei.extendFirstKeyFrame(ne)),E.length){var Gr;if(x.alignGopsAtEnd?Gr=this.alignGopsAtEnd_(ne):Gr=this.alignGopsAtStart_(ne),!Gr){this.gopCache_.unshift({gop:ne.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}En.clearDtsInfo(p),ne=Gr}En.collectDtsInfo(p,ne),p.samples=Ei.generateSampleTable(ne),ge=ds.mdat(Ei.concatenateNalData(ne)),p.baseMediaDecodeTime=En.calculateTrackBaseMediaDecodeTime(p,x.keepOriginalTimestamps),this.trigger("processedGopsInfo",ne.map(function(pn){return{pts:pn.pts,dts:pn.dts,byteLength:pn.byteLength}})),wt=ne[0],Wt=ne[ne.length-1],this.trigger("segmentTimingInfo",nc(p.baseMediaDecodeTime,wt.dts,wt.pts,Wt.dts+Wt.duration,Wt.pts+Wt.duration,Ee)),this.trigger("timingInfo",{start:ne[0].pts,end:ne[ne.length-1].pts+ne[ne.length-1].duration}),this.gopCache_.unshift({gop:ne.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.trigger("baseMediaDecodeTime",p.baseMediaDecodeTime),this.trigger("timelineStartInfo",p.timelineStartInfo),he=ds.moof(S,[p]),Ge=new Uint8Array(he.byteLength+ge.byteLength),S++,Ge.set(he),Ge.set(ge,he.byteLength),this.trigger("data",{track:p,boxes:Ge}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),b=[],this.gopCache_.length=0,E.length=0,this.trigger("reset")},this.resetStream_=function(){En.clearDtsInfo(p),L=void 0,G=void 0},this.getGopForFusion_=function(Y){var J=45e3,ne=1/0,he,ge,Ge,Ee,wt;for(wt=0;wt<this.gopCache_.length;wt++)Ee=this.gopCache_[wt],Ge=Ee.gop,!(!(p.pps&&eo(p.pps[0],Ee.pps[0]))||!(p.sps&&eo(p.sps[0],Ee.sps[0])))&&(Ge.dts<p.timelineStartInfo.dts||(he=Y.dts-Ge.dts-Ge.duration,he>=-1e4&&he<=J&&(!ge||ne>he)&&(ge=Ee,ne=he)));return ge?ge.gop:null},this.alignGopsAtStart_=function(Y){var J,ne,he,ge,Ge,Ee,wt,Wt;for(Ge=Y.byteLength,Ee=Y.nalCount,wt=Y.duration,J=ne=0;J<E.length&&ne<Y.length&&(he=E[J],ge=Y[ne],he.pts!==ge.pts);){if(ge.pts>he.pts){J++;continue}ne++,Ge-=ge.byteLength,Ee-=ge.nalCount,wt-=ge.duration}return ne===0?Y:ne===Y.length?null:(Wt=Y.slice(ne),Wt.byteLength=Ge,Wt.duration=wt,Wt.nalCount=Ee,Wt.pts=Wt[0].pts,Wt.dts=Wt[0].dts,Wt)},this.alignGopsAtEnd_=function(Y){var J,ne,he,ge,Ge,Ee;for(J=E.length-1,ne=Y.length-1,Ge=null,Ee=!1;J>=0&&ne>=0;){if(he=E[J],ge=Y[ne],he.pts===ge.pts){Ee=!0;break}if(he.pts>ge.pts){J--;continue}J===E.length-1&&(Ge=ne),ne--}if(!Ee&&Ge===null)return null;var wt;if(Ee?wt=ne:wt=Ge,wt===0)return Y;var Wt=Y.slice(wt),Gr=Wt.reduce(function(pn,gi){return pn.byteLength+=gi.byteLength,pn.duration+=gi.duration,pn.nalCount+=gi.nalCount,pn},{byteLength:0,duration:0,nalCount:0});return Wt.byteLength=Gr.byteLength,Wt.duration=Gr.duration,Wt.nalCount=Gr.nalCount,Wt.pts=Wt[0].pts,Wt.dts=Wt[0].dts,Wt},this.alignGopsWith=function(Y){E=Y}},Ja.prototype=new Oi,Mi=function(p,x){this.numberOfTracks=0,this.metadataStream=x,p=p||{},typeof p.remux<"u"?this.remuxTracks=!!p.remux:this.remuxTracks=!0,typeof p.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=p.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Mi.prototype.init.call(this),this.push=function(S){if(S.content||S.text)return this.pendingCaptions.push(S);if(S.frames)return this.pendingMetadata.push(S);this.pendingTracks.push(S.track),this.pendingBytes+=S.boxes.byteLength,S.track.type==="video"&&(this.videoTrack=S.track,this.pendingBoxes.push(S.boxes)),S.track.type==="audio"&&(this.audioTrack=S.track,this.pendingBoxes.unshift(S.boxes))}},Mi.prototype=new Oi,Mi.prototype.flush=function(p){var x=0,S={captions:[],captionStreams:{},metadata:[],info:{}},b,E,L,G=0,Y;if(this.pendingTracks.length<this.numberOfTracks){if(p!=="VideoSegmentStream"&&p!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(G=this.videoTrack.timelineStartInfo.pts,rc.forEach(function(J){S.info[J]=this.videoTrack[J]},this)):this.audioTrack&&(G=this.audioTrack.timelineStartInfo.pts,vl.forEach(function(J){S.info[J]=this.audioTrack[J]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?S.type=this.pendingTracks[0].type:S.type="combined",this.emittedTracks+=this.pendingTracks.length,L=ds.initSegment(this.pendingTracks),S.initSegment=new Uint8Array(L.byteLength),S.initSegment.set(L),S.data=new Uint8Array(this.pendingBytes),Y=0;Y<this.pendingBoxes.length;Y++)S.data.set(this.pendingBoxes[Y],x),x+=this.pendingBoxes[Y].byteLength;for(Y=0;Y<this.pendingCaptions.length;Y++)b=this.pendingCaptions[Y],b.startTime=Wi.metadataTsToSeconds(b.startPts,G,this.keepOriginalTimestamps),b.endTime=Wi.metadataTsToSeconds(b.endPts,G,this.keepOriginalTimestamps),S.captionStreams[b.stream]=!0,S.captions.push(b);for(Y=0;Y<this.pendingMetadata.length;Y++)E=this.pendingMetadata[Y],E.cueTime=Wi.metadataTsToSeconds(E.pts,G,this.keepOriginalTimestamps),S.metadata.push(E);for(S.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",S),Y=0;Y<S.captions.length;Y++)b=S.captions[Y],this.trigger("caption",b);for(Y=0;Y<S.metadata.length;Y++)E=S.metadata[Y],this.trigger("id3Frame",E)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Mi.prototype.setRemux=function(p){this.remuxTracks=p},Za=function(p){var x=this,S=!0,b,E;Za.prototype.init.call(this),p=p||{},this.baseMediaDecodeTime=p.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="aac",L.metadataStream=new Hn.MetadataStream,L.aacStream=new gl,L.audioTimestampRolloverStream=new Hn.TimestampRolloverStream("audio"),L.timedMetadataTimestampRolloverStream=new Hn.TimestampRolloverStream("timed-metadata"),L.adtsStream=new Qa,L.coalesceStream=new Mi(p,L.metadataStream),L.headOfPipeline=L.aacStream,L.aacStream.pipe(L.audioTimestampRolloverStream).pipe(L.adtsStream),L.aacStream.pipe(L.timedMetadataTimestampRolloverStream).pipe(L.metadataStream).pipe(L.coalesceStream),L.metadataStream.on("timestamp",function(G){L.aacStream.setTimestamp(G.timeStamp)}),L.aacStream.on("data",function(G){G.type!=="timed-metadata"&&G.type!=="audio"||L.audioSegmentStream||(E=E||{timelineStartInfo:{baseMediaDecodeTime:x.baseMediaDecodeTime},codec:"adts",type:"audio"},L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new Ws(E,p),L.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream),x.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!b}))}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),ko(this,L)},this.setupTsPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="ts",L.metadataStream=new Hn.MetadataStream,L.packetStream=new Hn.TransportPacketStream,L.parseStream=new Hn.TransportParseStream,L.elementaryStream=new Hn.ElementaryStream,L.timestampRolloverStream=new Hn.TimestampRolloverStream,L.adtsStream=new Qa,L.h264Stream=new Eo,L.captionStream=new Hn.CaptionStream(p),L.coalesceStream=new Mi(p,L.metadataStream),L.headOfPipeline=L.packetStream,L.packetStream.pipe(L.parseStream).pipe(L.elementaryStream).pipe(L.timestampRolloverStream),L.timestampRolloverStream.pipe(L.h264Stream),L.timestampRolloverStream.pipe(L.adtsStream),L.timestampRolloverStream.pipe(L.metadataStream).pipe(L.coalesceStream),L.h264Stream.pipe(L.captionStream).pipe(L.coalesceStream),L.elementaryStream.on("data",function(G){var Y;if(G.type==="metadata"){for(Y=G.tracks.length;Y--;)!b&&G.tracks[Y].type==="video"?(b=G.tracks[Y],b.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime):!E&&G.tracks[Y].type==="audio"&&(E=G.tracks[Y],E.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime);b&&!L.videoSegmentStream&&(L.coalesceStream.numberOfTracks++,L.videoSegmentStream=new Ja(b,p),L.videoSegmentStream.on("log",x.getLogTrigger_("videoSegmentStream")),L.videoSegmentStream.on("timelineStartInfo",function(J){E&&!p.keepOriginalTimestamps&&(E.timelineStartInfo=J,L.audioSegmentStream.setEarliestDts(J.dts-x.baseMediaDecodeTime))}),L.videoSegmentStream.on("processedGopsInfo",x.trigger.bind(x,"gopInfo")),L.videoSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"videoSegmentTimingInfo")),L.videoSegmentStream.on("baseMediaDecodeTime",function(J){E&&L.audioSegmentStream.setVideoBaseMediaDecodeTime(J)}),L.videoSegmentStream.on("timingInfo",x.trigger.bind(x,"videoTimingInfo")),L.h264Stream.pipe(L.videoSegmentStream).pipe(L.coalesceStream)),E&&!L.audioSegmentStream&&(L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new Ws(E,p),L.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),L.audioSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"audioSegmentTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream)),x.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!b})}}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("id3Frame",function(G){G.dispatchType=L.metadataStream.dispatchType,x.trigger("id3Frame",G)}),L.coalesceStream.on("caption",this.trigger.bind(this,"caption")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),ko(this,L)},this.setBaseMediaDecodeTime=function(L){var G=this.transmuxPipeline_;p.keepOriginalTimestamps||(this.baseMediaDecodeTime=L),E&&(E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,En.clearDtsInfo(E),G.audioTimestampRolloverStream&&G.audioTimestampRolloverStream.discontinuity()),b&&(G.videoSegmentStream&&(G.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,En.clearDtsInfo(b),G.captionStream.reset()),G.timestampRolloverStream&&G.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(L){E&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(L)},this.setRemux=function(L){var G=this.transmuxPipeline_;p.remux=L,G&&G.coalesceStream&&G.coalesceStream.setRemux(L)},this.alignGopsWith=function(L){b&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(L)},this.getLogTrigger_=function(L){var G=this;return function(Y){Y.stream=L,G.trigger("log",Y)}},this.push=function(L){if(S){var G=oh(L);G&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!G&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),S=!1}this.transmuxPipeline_.headOfPipeline.push(L)},this.flush=function(){S=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Za.prototype=new Oi;var Jc={Transmuxer:Za},Zl=function(p){return p>>>0},Zc=function(p){return("00"+p.toString(16)).slice(-2)},ba={toUnsigned:Zl,toHexString:Zc},ed=function(p){var x="";return x+=String.fromCharCode(p[0]),x+=String.fromCharCode(p[1]),x+=String.fromCharCode(p[2]),x+=String.fromCharCode(p[3]),x},Ao=ed,td=ba.toUnsigned,rd=Ao,Do=function(p,x){var S=[],b,E,L,G,Y;if(!x.length)return null;for(b=0;b<p.byteLength;)E=td(p[b]<<24|p[b+1]<<16|p[b+2]<<8|p[b+3]),L=rd(p.subarray(b+4,b+8)),G=E>1?b+E:p.byteLength,L===x[0]&&(x.length===1?S.push(p.subarray(b+8,G)):(Y=Do(p.subarray(b+8,G),x.slice(1)),Y.length&&(S=S.concat(Y)))),b=G;return S},Io=Do,uh=ba.toUnsigned,ch=s.getUint64,dh=function(p){var x={version:p[0],flags:new Uint8Array(p.subarray(1,4))};return x.version===1?x.baseMediaDecodeTime=ch(p.subarray(4)):x.baseMediaDecodeTime=uh(p[4]<<24|p[5]<<16|p[6]<<8|p[7]),x},yl=dh,xl=function(p){return{isLeading:(p[0]&12)>>>2,dependsOn:p[0]&3,isDependedOn:(p[1]&192)>>>6,hasRedundancy:(p[1]&48)>>>4,paddingValue:(p[1]&14)>>>1,isNonSyncSample:p[1]&1,degradationPriority:p[2]<<8|p[3]}},ic=xl,eu=ic,nd=function(p){var x={version:p[0],flags:new Uint8Array(p.subarray(1,4)),samples:[]},S=new DataView(p.buffer,p.byteOffset,p.byteLength),b=x.flags[2]&1,E=x.flags[2]&4,L=x.flags[1]&1,G=x.flags[1]&2,Y=x.flags[1]&4,J=x.flags[1]&8,ne=S.getUint32(4),he=8,ge;for(b&&(x.dataOffset=S.getInt32(he),he+=4),E&&ne&&(ge={flags:eu(p.subarray(he,he+4))},he+=4,L&&(ge.duration=S.getUint32(he),he+=4),G&&(ge.size=S.getUint32(he),he+=4),J&&(x.version===1?ge.compositionTimeOffset=S.getInt32(he):ge.compositionTimeOffset=S.getUint32(he),he+=4),x.samples.push(ge),ne--);ne--;)ge={},L&&(ge.duration=S.getUint32(he),he+=4),G&&(ge.size=S.getUint32(he),he+=4),Y&&(ge.flags=eu(p.subarray(he,he+4)),he+=4),J&&(x.version===1?ge.compositionTimeOffset=S.getInt32(he):ge.compositionTimeOffset=S.getUint32(he),he+=4),x.samples.push(ge);return x},qs=nd,sn=function(p){var x=new DataView(p.buffer,p.byteOffset,p.byteLength),S={version:p[0],flags:new Uint8Array(p.subarray(1,4)),trackId:x.getUint32(4)},b=S.flags[2]&1,E=S.flags[2]&2,L=S.flags[2]&8,G=S.flags[2]&16,Y=S.flags[2]&32,J=S.flags[0]&65536,ne=S.flags[0]&131072,he;return he=8,b&&(he+=4,S.baseDataOffset=x.getUint32(12),he+=4),E&&(S.sampleDescriptionIndex=x.getUint32(he),he+=4),L&&(S.defaultSampleDuration=x.getUint32(he),he+=4),G&&(S.defaultSampleSize=x.getUint32(he),he+=4),Y&&(S.defaultSampleFlags=x.getUint32(he)),J&&(S.durationIsEmpty=!0),!b&&ne&&(S.baseDataOffsetIsMoof=!0),S},Is=sn,cn;typeof window<"u"?cn=window:typeof r<"u"?cn=r:typeof self<"u"?cn=self:cn={};var qi=cn,hh=Qe.discardEmulationPreventionBytes,id=Ci.CaptionStream,Ps=Io,sd=yl,_l=qs,bl=Is,sc=qi,tu=function(p,x){for(var S=p,b=0;b<x.length;b++){var E=x[b];if(S<E.size)return E;S-=E.size}return null},fh=function(p,x,S){var b=new DataView(p.buffer,p.byteOffset,p.byteLength),E={logs:[],seiNals:[]},L,G,Y,J;for(G=0;G+4<p.length;G+=Y)if(Y=b.getUint32(G),G+=4,!(Y<=0))switch(p[G]&31){case 6:var ne=p.subarray(G+1,G+1+Y),he=tu(G,x);if(L={nalUnitType:"sei_rbsp",size:Y,data:ne,escapedRBSP:hh(ne),trackId:S},he)L.pts=he.pts,L.dts=he.dts,J=he;else if(J)L.pts=J.pts,L.dts=J.dts;else{E.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+G+" for trackId "+S+". See mux.js#223."});break}E.seiNals.push(L);break}return E},ac=function(p,x,S){var b=x,E=S.defaultSampleDuration||0,L=S.defaultSampleSize||0,G=S.trackId,Y=[];return p.forEach(function(J){var ne=_l(J),he=ne.samples;he.forEach(function(ge){ge.duration===void 0&&(ge.duration=E),ge.size===void 0&&(ge.size=L),ge.trackId=G,ge.dts=b,ge.compositionTimeOffset===void 0&&(ge.compositionTimeOffset=0),typeof b=="bigint"?(ge.pts=b+sc.BigInt(ge.compositionTimeOffset),b+=sc.BigInt(ge.duration)):(ge.pts=b+ge.compositionTimeOffset,b+=ge.duration)}),Y=Y.concat(he)}),Y},ue=function(p,x){var S=Ps(p,["moof","traf"]),b=Ps(p,["mdat"]),E={},L=[];return b.forEach(function(G,Y){var J=S[Y];L.push({mdat:G,traf:J})}),L.forEach(function(G){var Y=G.mdat,J=G.traf,ne=Ps(J,["tfhd"]),he=bl(ne[0]),ge=he.trackId,Ge=Ps(J,["tfdt"]),Ee=Ge.length>0?sd(Ge[0]).baseMediaDecodeTime:0,wt=Ps(J,["trun"]),Wt,Gr;x===ge&&wt.length>0&&(Wt=ac(wt,Ee,he),Gr=fh(Y,Wt,ge),E[ge]||(E[ge]={seiNals:[],logs:[]}),E[ge].seiNals=E[ge].seiNals.concat(Gr.seiNals),E[ge].logs=E[ge].logs.concat(Gr.logs))}),E},B=function(p,x,S){var b;if(x===null)return null;b=ue(p,x);var E=b[x]||{};return{seiNals:E.seiNals,logs:E.logs,timescale:S}},V=function(){var p=!1,x,S,b,E,L,G;this.isInitialized=function(){return p},this.init=function(Y){x=new id,p=!0,G=Y?Y.isPartial:!1,x.on("data",function(J){J.startTime=J.startPts/E,J.endTime=J.endPts/E,L.captions.push(J),L.captionStreams[J.stream]=!0}),x.on("log",function(J){L.logs.push(J)})},this.isNewInit=function(Y,J){return Y&&Y.length===0||J&&typeof J=="object"&&Object.keys(J).length===0?!1:b!==Y[0]||E!==J[b]},this.parse=function(Y,J,ne){var he;if(this.isInitialized()){if(!J||!ne)return null;if(this.isNewInit(J,ne))b=J[0],E=ne[b];else if(b===null||!E)return S.push(Y),null}else return null;for(;S.length>0;){var ge=S.shift();this.parse(ge,J,ne)}return he=B(Y,b,E),he&&he.logs&&(L.logs=L.logs.concat(he.logs)),he===null||!he.seiNals?L.logs.length?{logs:L.logs,captions:[],captionStreams:[]}:null:(this.pushNals(he.seiNals),this.flushStream(),L)},this.pushNals=function(Y){if(!this.isInitialized()||!Y||Y.length===0)return null;Y.forEach(function(J){x.push(J)})},this.flushStream=function(){if(!this.isInitialized())return null;G?x.partialFlush():x.flush()},this.clearParsedCaptions=function(){L.captions=[],L.captionStreams={},L.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;x.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){S=[],b=null,E=null,L?this.clearParsedCaptions():L={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},z=V,q=function(p){for(var x=0,S=String.fromCharCode(p[x]),b="";S!=="\0";)b+=S,x++,S=String.fromCharCode(p[x]);return b+=S,b},Z={uint8ToCString:q},re=Z.uint8ToCString,me=s.getUint64,xe=function(p){var x=4,S=p[0],b,E,L,G,Y,J,ne,he;if(S===0){b=re(p.subarray(x)),x+=b.length,E=re(p.subarray(x)),x+=E.length;var ge=new DataView(p.buffer);L=ge.getUint32(x),x+=4,Y=ge.getUint32(x),x+=4,J=ge.getUint32(x),x+=4,ne=ge.getUint32(x),x+=4}else if(S===1){var ge=new DataView(p.buffer);L=ge.getUint32(x),x+=4,G=me(p.subarray(x)),x+=8,J=ge.getUint32(x),x+=4,ne=ge.getUint32(x),x+=4,b=re(p.subarray(x)),x+=b.length,E=re(p.subarray(x)),x+=E.length}he=new Uint8Array(p.subarray(x,p.byteLength));var Ge={scheme_id_uri:b,value:E,timescale:L||1,presentation_time:G,presentation_time_delta:Y,event_duration:J,id:ne,message_data:he};return we(S,Ge)?Ge:void 0},De=function(p,x,S,b){return p||p===0?p/x:b+S/x},we=function(p,x){var S=x.scheme_id_uri!=="\0",b=p===0&&Pe(x.presentation_time_delta)&&S,E=p===1&&Pe(x.presentation_time)&&S;return!(p>1)&&b||E},Pe=function(p){return p!==void 0||p!==null},lt={parseEmsgBox:xe,scaleTime:De},Mt=ba.toUnsigned,zt=ba.toHexString,st=Io,ar=Ao,In=lt,pi=Is,Gi=qs,Sl=yl,Po=s.getUint64,Ro,Tl,Sa,Gs,_n,to,Ki,ru=qi,Af=fi.parseId3Frames;Ro=function(p){var x={},S=st(p,["moov","trak"]);return S.reduce(function(b,E){var L,G,Y,J,ne;return L=st(E,["tkhd"])[0],!L||(G=L[0],Y=G===0?12:20,J=Mt(L[Y]<<24|L[Y+1]<<16|L[Y+2]<<8|L[Y+3]),ne=st(E,["mdia","mdhd"])[0],!ne)?null:(G=ne[0],Y=G===0?12:20,b[J]=Mt(ne[Y]<<24|ne[Y+1]<<16|ne[Y+2]<<8|ne[Y+3]),b)},x)},Tl=function(p,x){var S;S=st(x,["moof","traf"]);var b=S.reduce(function(E,L){var G=st(L,["tfhd"])[0],Y=Mt(G[4]<<24|G[5]<<16|G[6]<<8|G[7]),J=p[Y]||9e4,ne=st(L,["tfdt"])[0],he=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ge;ne[0]===1?ge=Po(ne.subarray(4,12)):ge=he.getUint32(4);let Ge;return typeof ge=="bigint"?Ge=ge/ru.BigInt(J):typeof ge=="number"&&!isNaN(ge)&&(Ge=ge/J),Ge<Number.MAX_SAFE_INTEGER&&(Ge=Number(Ge)),Ge<E&&(E=Ge),E},1/0);return typeof b=="bigint"||isFinite(b)?b:0},Sa=function(p,x){var S=st(x,["moof","traf"]),b=0,E=0,L;if(S&&S.length){var G=st(S[0],["tfhd"])[0],Y=st(S[0],["trun"])[0],J=st(S[0],["tfdt"])[0];if(G){var ne=pi(G);L=ne.trackId}if(J){var he=Sl(J);b=he.baseMediaDecodeTime}if(Y){var ge=Gi(Y);ge.samples&&ge.samples.length&&(E=ge.samples[0].compositionTimeOffset||0)}}var Ge=p[L]||9e4;typeof b=="bigint"&&(E=ru.BigInt(E),Ge=ru.BigInt(Ge));var Ee=(b+E)/Ge;return typeof Ee=="bigint"&&Ee<Number.MAX_SAFE_INTEGER&&(Ee=Number(Ee)),Ee},Gs=function(p){var x=st(p,["moov","trak"]),S=[];return x.forEach(function(b){var E=st(b,["mdia","hdlr"]),L=st(b,["tkhd"]);E.forEach(function(G,Y){var J=ar(G.subarray(8,12)),ne=L[Y],he,ge,Ge;J==="vide"&&(he=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ge=he.getUint8(0),Ge=ge===0?he.getUint32(12):he.getUint32(20),S.push(Ge))})}),S},to=function(p){var x=p[0],S=x===0?12:20;return Mt(p[S]<<24|p[S+1]<<16|p[S+2]<<8|p[S+3])},_n=function(p){var x=st(p,["moov","trak"]),S=[];return x.forEach(function(b){var E={},L=st(b,["tkhd"])[0],G,Y;L&&(G=new DataView(L.buffer,L.byteOffset,L.byteLength),Y=G.getUint8(0),E.id=Y===0?G.getUint32(12):G.getUint32(20));var J=st(b,["mdia","hdlr"])[0];if(J){var ne=ar(J.subarray(8,12));ne==="vide"?E.type="video":ne==="soun"?E.type="audio":E.type=ne}var he=st(b,["mdia","minf","stbl","stsd"])[0];if(he){var ge=he.subarray(8);E.codec=ar(ge.subarray(4,8));var Ge=st(ge,[E.codec])[0],Ee,wt;Ge&&(/^[asm]vc[1-9]$/i.test(E.codec)?(Ee=Ge.subarray(78),wt=ar(Ee.subarray(4,8)),wt==="avcC"&&Ee.length>11?(E.codec+=".",E.codec+=zt(Ee[9]),E.codec+=zt(Ee[10]),E.codec+=zt(Ee[11])):E.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(E.codec)?(Ee=Ge.subarray(28),wt=ar(Ee.subarray(4,8)),wt==="esds"&&Ee.length>20&&Ee[19]!==0?(E.codec+="."+zt(Ee[19]),E.codec+="."+zt(Ee[20]>>>2&63).replace(/^0/,"")):E.codec="mp4a.40.2"):E.codec=E.codec.toLowerCase())}var Wt=st(b,["mdia","mdhd"])[0];Wt&&(E.timescale=to(Wt)),S.push(E)}),S},Ki=function(p,x=0){var S=st(p,["emsg"]);return S.map(b=>{var E=In.parseEmsgBox(new Uint8Array(b)),L=Af(E.message_data);return{cueTime:In.scaleTime(E.presentation_time,E.timescale,E.presentation_time_delta,x),duration:In.scaleTime(E.event_duration,E.timescale),frames:L}})};var nu={findBox:st,parseType:ar,timescale:Ro,startTime:Tl,compositionStartTime:Sa,videoTrackIds:Gs,tracks:_n,getTimescaleFromMediaHeader:to,getEmsgID3:Ki},iu=yn,ad=function(p){var x=p[1]&31;return x<<=8,x|=p[2],x},Lo=function(p){return!!(p[1]&64)},Xi=function(p){var x=0;return(p[3]&48)>>>4>1&&(x+=p[4]+1),x},ph=function(p,x){var S=ad(p);return S===0?"pat":S===x?"pmt":x?"pes":null},mh=function(p){var x=Lo(p),S=4+Xi(p);return x&&(S+=p[S]+1),(p[S+10]&31)<<8|p[S+11]},Jm=function(p){var x={},S=Lo(p),b=4+Xi(p);if(S&&(b+=p[b]+1),!!(p[b+5]&1)){var E,L,G;E=(p[b+1]&15)<<8|p[b+2],L=3+E-4,G=(p[b+10]&15)<<8|p[b+11];for(var Y=12+G;Y<L;){var J=b+Y;x[(p[J+1]&31)<<8|p[J+2]]=p[J],Y+=((p[J+3]&15)<<8|p[J+4])+5}return x}},Zm=function(p,x){var S=ad(p),b=x[S];switch(b){case iu.H264_STREAM_TYPE:return"video";case iu.ADTS_STREAM_TYPE:return"audio";case iu.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},oc=function(p){var x=Lo(p);if(!x)return null;var S=4+Xi(p);if(S>=p.byteLength)return null;var b=null,E;return E=p[S+7],E&192&&(b={},b.pts=(p[S+9]&14)<<27|(p[S+10]&255)<<20|(p[S+11]&254)<<12|(p[S+12]&255)<<5|(p[S+13]&254)>>>3,b.pts*=4,b.pts+=(p[S+13]&6)>>>1,b.dts=b.pts,E&64&&(b.dts=(p[S+14]&14)<<27|(p[S+15]&255)<<20|(p[S+16]&254)<<12|(p[S+17]&255)<<5|(p[S+18]&254)>>>3,b.dts*=4,b.dts+=(p[S+18]&6)>>>1)),b},lc=function(p){switch(p){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Df=function(p){for(var x=4+Xi(p),S=p.subarray(x),b=0,E=0,L=!1,G;E<S.byteLength-3;E++)if(S[E+2]===1){b=E+5;break}for(;b<S.byteLength;)switch(S[b]){case 0:if(S[b-1]!==0){b+=2;break}else if(S[b-2]!==0){b++;break}E+3!==b-2&&(G=lc(S[E+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0));do b++;while(S[b]!==1&&b<S.length);E=b-2,b+=3;break;case 1:if(S[b-1]!==0||S[b-2]!==0){b+=3;break}G=lc(S[E+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0),E=b-2,b+=3;break;default:b+=3;break}return S=S.subarray(E),b-=E,E=0,S&&S.byteLength>3&&(G=lc(S[E+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0)),L},If={parseType:ph,parsePat:mh,parsePmt:Jm,parsePayloadUnitStartIndicator:Lo,parsePesType:Zm,parsePesTime:oc,videoPacketContainsKeyFrame:Df},bn=yn,hs=ke.handleRollover,or={};or.ts=If,or.aac=Vs;var mi=Ut.ONE_SECOND_IN_TS,dn=188,Vn=71,uc=function(p,x){for(var S=0,b=dn,E,L;b<p.byteLength;){if(p[S]===Vn&&p[b]===Vn){switch(E=p.subarray(S,b),L=or.ts.parseType(E,x.pid),L){case"pat":x.pid=or.ts.parsePat(E);break;case"pmt":var G=or.ts.parsePmt(E);x.table=x.table||{},Object.keys(G).forEach(function(Y){x.table[Y]=G[Y]});break}S+=dn,b+=dn;continue}S++,b++}},su=function(p,x,S){for(var b=0,E=dn,L,G,Y,J,ne,he=!1;E<=p.byteLength;){if(p[b]===Vn&&(p[E]===Vn||E===p.byteLength)){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="audio"&&J&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="audio",S.audio.push(ne),he=!0));break}if(he)break;b+=dn,E+=dn;continue}b++,E++}for(E=p.byteLength,b=E-dn,he=!1;b>=0;){if(p[b]===Vn&&(p[E]===Vn||E===p.byteLength)){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="audio"&&J&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="audio",S.audio.push(ne),he=!0));break}if(he)break;b-=dn,E-=dn;continue}b--,E--}},au=function(p,x,S){for(var b=0,E=dn,L,G,Y,J,ne,he,ge,Ge,Ee=!1,wt={data:[],size:0};E<p.byteLength;){if(p[b]===Vn&&p[E]===Vn){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":if(Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="video"&&(J&&!Ee&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="video",S.video.push(ne),Ee=!0)),!S.firstKeyFrame)){if(J&&wt.size!==0){for(he=new Uint8Array(wt.size),ge=0;wt.data.length;)Ge=wt.data.shift(),he.set(Ge,ge),ge+=Ge.byteLength;if(or.ts.videoPacketContainsKeyFrame(he)){var Wt=or.ts.parsePesTime(he);Wt?(S.firstKeyFrame=Wt,S.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}wt.size=0}wt.data.push(L),wt.size+=L.byteLength}break}if(Ee&&S.firstKeyFrame)break;b+=dn,E+=dn;continue}b++,E++}for(E=p.byteLength,b=E-dn,Ee=!1;b>=0;){if(p[b]===Vn&&p[E]===Vn){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="video"&&J&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="video",S.video.push(ne),Ee=!0));break}if(Ee)break;b-=dn,E-=dn;continue}b--,E--}},Pf=function(p,x){if(p.audio&&p.audio.length){var S=x;(typeof S>"u"||isNaN(S))&&(S=p.audio[0].dts),p.audio.forEach(function(L){L.dts=hs(L.dts,S),L.pts=hs(L.pts,S),L.dtsTime=L.dts/mi,L.ptsTime=L.pts/mi})}if(p.video&&p.video.length){var b=x;if((typeof b>"u"||isNaN(b))&&(b=p.video[0].dts),p.video.forEach(function(L){L.dts=hs(L.dts,b),L.pts=hs(L.pts,b),L.dtsTime=L.dts/mi,L.ptsTime=L.pts/mi}),p.firstKeyFrame){var E=p.firstKeyFrame;E.dts=hs(E.dts,b),E.pts=hs(E.pts,b),E.dtsTime=E.dts/mi,E.ptsTime=E.pts/mi}}},eg=function(p){for(var x=!1,S=0,b=null,E=null,L=0,G=0,Y;p.length-G>=3;){var J=or.aac.parseType(p,G);switch(J){case"timed-metadata":if(p.length-G<10){x=!0;break}if(L=or.aac.parseId3TagSize(p,G),L>p.length){x=!0;break}E===null&&(Y=p.subarray(G,G+L),E=or.aac.parseAacTimestamp(Y)),G+=L;break;case"audio":if(p.length-G<7){x=!0;break}if(L=or.aac.parseAdtsSize(p,G),L>p.length){x=!0;break}b===null&&(Y=p.subarray(G,G+L),b=or.aac.parseSampleRate(Y)),S++,G+=L;break;default:G++;break}if(x)return null}if(b===null||E===null)return null;var ne=mi/b,he={audio:[{type:"audio",dts:E,pts:E},{type:"audio",dts:E+S*1024*ne,pts:E+S*1024*ne}]};return he},tg=function(p){var x={pid:null,table:null},S={};uc(p,x);for(var b in x.table)if(x.table.hasOwnProperty(b)){var E=x.table[b];switch(E){case bn.H264_STREAM_TYPE:S.video=[],au(p,x,S),S.video.length===0&&delete S.video;break;case bn.ADTS_STREAM_TYPE:S.audio=[],su(p,x,S),S.audio.length===0&&delete S.audio;break}}return S},Rf=function(p,x){var S=or.aac.isLikelyAacData(p),b;return S?b=eg(p):b=tg(p),!b||!b.audio&&!b.video?null:(Pf(b,x),b)},od={inspect:Rf,parseAudioPes_:su};const ld=function(p,x){x.on("data",function(S){const b=S.initSegment;S.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};const E=S.data;S.data=E.buffer,p.postMessage({action:"data",segment:S,byteOffset:E.byteOffset,byteLength:E.byteLength},[S.data])}),x.on("done",function(S){p.postMessage({action:"done"})}),x.on("gopInfo",function(S){p.postMessage({action:"gopInfo",gopInfo:S})}),x.on("videoSegmentTimingInfo",function(S){const b={start:{decode:Ut.videoTsToSeconds(S.start.dts),presentation:Ut.videoTsToSeconds(S.start.pts)},end:{decode:Ut.videoTsToSeconds(S.end.dts),presentation:Ut.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ut.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(b.prependedContentDuration=Ut.videoTsToSeconds(S.prependedContentDuration)),p.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:b})}),x.on("audioSegmentTimingInfo",function(S){const b={start:{decode:Ut.videoTsToSeconds(S.start.dts),presentation:Ut.videoTsToSeconds(S.start.pts)},end:{decode:Ut.videoTsToSeconds(S.end.dts),presentation:Ut.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ut.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(b.prependedContentDuration=Ut.videoTsToSeconds(S.prependedContentDuration)),p.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:b})}),x.on("id3Frame",function(S){p.postMessage({action:"id3Frame",id3Frame:S})}),x.on("caption",function(S){p.postMessage({action:"caption",caption:S})}),x.on("trackinfo",function(S){p.postMessage({action:"trackinfo",trackInfo:S})}),x.on("audioTimingInfo",function(S){p.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ut.videoTsToSeconds(S.start),end:Ut.videoTsToSeconds(S.end)}})}),x.on("videoTimingInfo",function(S){p.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ut.videoTsToSeconds(S.start),end:Ut.videoTsToSeconds(S.end)}})}),x.on("log",function(S){p.postMessage({action:"log",log:S})})};class cc{constructor(x,S){this.options=S||{},this.self=x,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Jc.Transmuxer(this.options),ld(this.self,this.transmuxer)}pushMp4Captions(x){this.captionParser||(this.captionParser=new z,this.captionParser.init());const S=new Uint8Array(x.data,x.byteOffset,x.byteLength),b=this.captionParser.parse(S,x.trackIds,x.timescales);this.self.postMessage({action:"mp4Captions",captions:b&&b.captions||[],logs:b&&b.logs||[],data:S.buffer},[S.buffer])}probeMp4StartTime({timescales:x,data:S}){const b=nu.startTime(x,S);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:S},[S.buffer])}probeMp4Tracks({data:x}){const S=nu.tracks(x);this.self.postMessage({action:"probeMp4Tracks",tracks:S,data:x},[x.buffer])}probeEmsgID3({data:x,offset:S}){const b=nu.getEmsgID3(x,S);this.self.postMessage({action:"probeEmsgID3",id3Frames:b,emsgData:x},[x.buffer])}probeTs({data:x,baseStartTime:S}){const b=typeof S=="number"&&!isNaN(S)?S*Ut.ONE_SECOND_IN_TS:void 0,E=od.inspect(x,b);let L=null;E&&(L={hasVideo:E.video&&E.video.length===2||!1,hasAudio:E.audio&&E.audio.length===2||!1},L.hasVideo&&(L.videoStart=E.video[0].ptsTime),L.hasAudio&&(L.audioStart=E.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:L,data:x},[x.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(x){const S=new Uint8Array(x.data,x.byteOffset,x.byteLength);this.transmuxer.push(S)}reset(){this.transmuxer.reset()}setTimestampOffset(x){const S=x.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ut.secondsToVideoTs(S)))}setAudioAppendStart(x){this.transmuxer.setAudioAppendStart(Math.ceil(Ut.secondsToVideoTs(x.appendStart)))}setRemux(x){this.transmuxer.setRemux(x.remux)}flush(x){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(x){this.transmuxer.alignGopsWith(x.gopsToAlignWith.slice())}}self.onmessage=function(p){if(p.data.action==="init"&&p.data.options){this.messageHandlers=new cc(self,p.data.options);return}this.messageHandlers||(this.messageHandlers=new cc(self)),p.data&&p.data.action&&p.data.action!=="init"&&this.messageHandlers[p.data.action]&&this.messageHandlers[p.data.action](p.data)}}));var $he=UU(Uhe);const jhe=(r,e,t)=>{const{type:n,initSegment:i,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=r.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const c=r.data.segment.boxes||{data:r.data.segment.data},h={type:n,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(h.videoFrameDtsTime=l),typeof u<"u"&&(h.videoFramePtsTime=u),t(h)},zhe=({transmuxedData:r,callback:e})=>{r.buffer=[],e(r)},Hhe=(r,e)=>{e.gopInfo=r.data.gopInfo},zU=r=>{const{transmuxer:e,bytes:t,audioAppendStart:n,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:h,onId3:f,onCaptions:g,onDone:v,onEndedTimeline:y,onTransmuxerLog:_,isEndOfTimeline:C,segment:k,triggerSegmentEventFn:D}=r,I={buffer:[]};let A=C;const R=U=>{e.currentTransmux===r&&(U.data.action==="data"&&jhe(U,I,a),U.data.action==="trackinfo"&&o(U.data.trackInfo),U.data.action==="gopInfo"&&Hhe(U,I),U.data.action==="audioTimingInfo"&&l(U.data.audioTimingInfo),U.data.action==="videoTimingInfo"&&u(U.data.videoTimingInfo),U.data.action==="videoSegmentTimingInfo"&&c(U.data.videoSegmentTimingInfo),U.data.action==="audioSegmentTimingInfo"&&h(U.data.audioSegmentTimingInfo),U.data.action==="id3Frame"&&f([U.data.id3Frame],U.data.id3Frame.dispatchType),U.data.action==="caption"&&g(U.data.caption),U.data.action==="endedtimeline"&&(A=!1,y()),U.data.action==="log"&&_(U.data.log),U.data.type==="transmuxed"&&(A||(e.onmessage=null,zhe({transmuxedData:I,callback:v}),HU(e))))},N=()=>{const U={message:"Received an error message from the transmuxer worker",metadata:{errorType:Se.Error.StreamingFailedToTransmuxSegment,segmentInfo:zh({segment:k})}};v(null,U)};if(e.onmessage=R,e.onerror=N,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),t.byteLength){const U=t instanceof ArrayBuffer?t:t.buffer,F=t instanceof ArrayBuffer?0:t.byteOffset;D({type:"segmenttransmuxingstart",segment:k}),e.postMessage({action:"push",data:U,byteOffset:F,byteLength:t.byteLength},[U])}C&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},HU=r=>{r.currentTransmux=null,r.transmuxQueue.length&&(r.currentTransmux=r.transmuxQueue.shift(),typeof r.currentTransmux=="function"?r.currentTransmux():zU(r.currentTransmux))},TM=(r,e)=>{r.postMessage({action:e}),HU(r)},VU=(r,e)=>{if(!e.currentTransmux){e.currentTransmux=r,TM(e,r);return}e.transmuxQueue.push(TM.bind(null,e,r))},Vhe=r=>{VU("reset",r)},Whe=r=>{VU("endTimeline",r)},WU=r=>{if(!r.transmuxer.currentTransmux){r.transmuxer.currentTransmux=r,zU(r);return}r.transmuxer.transmuxQueue.push(r)},qhe=r=>{const e=new $he;e.currentTransmux=null,e.transmuxQueue=[];const t=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,t.call(e)),e.postMessage({action:"init",options:r}),e};var $C={reset:Vhe,endTimeline:Whe,transmux:WU,createTransmuxer:qhe};const h0=function(r){const e=r.transmuxer,t=r.endAction||r.action,n=r.callback,i=sr({},r,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===t&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,r.byteOffset||0,r.byteLength||a.data.data.byteLength),r.data&&(r.data=a.data.data)),n(a.data))};if(e.addEventListener("message",s),r.data){const a=r.data instanceof ArrayBuffer;i.byteOffset=a?0:r.data.byteOffset,i.byteLength=r.data.byteLength;const o=[a?r.data:r.data.buffer];e.postMessage(i,o)}else e.postMessage(i)},Cu={FAILURE:2,TIMEOUT:-101,ABORTED:-102},B2=r=>{r.forEach(e=>{e.abort()})},Ghe=r=>({bandwidth:r.bandwidth,bytesReceived:r.bytesReceived||0,roundTripTime:r.roundTripTime||0}),Khe=r=>{const e=r.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=r.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},CA=(r,e)=>{const{requestType:t}=e,n=af({requestType:t,request:e,error:r});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Cu.TIMEOUT,xhr:e,metadata:n}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Cu.ABORTED,xhr:e,metadata:n}:r?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Cu.FAILURE,xhr:e,metadata:n}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:Cu.FAILURE,xhr:e,metadata:n}:null},CM=(r,e,t,n)=>(i,s)=>{const a=s.response,o=CA(i,s);if(o)return t(o,r);if(a.byteLength!==16)return t({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Cu.FAILURE,xhr:s},r);const l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let h=0;h<e.length;h++)e[h].bytes=u;const c={uri:s.uri};return n({type:"segmentkeyloadcomplete",segment:r,keyInfo:c}),t(null,r)},qU=(r,e)=>{const t=Dm(r.map.bytes);if(t!=="mp4"){const n=r.map.resolvedUri||r.map.uri,i=t||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:Cu.FAILURE,metadata:{mediaType:i}})}h0({action:"probeMp4Tracks",data:r.map.bytes,transmuxer:r.transmuxer,callback:({tracks:n,data:i})=>(r.map.bytes=i,n.forEach(function(s){r.map.tracks=r.map.tracks||{},!r.map.tracks[s.type]&&(r.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(r.map.timescales=r.map.timescales||{},r.map.timescales[s.id]=s.timescale))}),e(null))})},Xhe=({segment:r,finishProcessingFn:e,triggerSegmentEventFn:t})=>(n,i)=>{const s=CA(n,i);if(s)return e(s,r);const a=new Uint8Array(i.response);if(t({type:"segmentloaded",segment:r}),r.map.key)return r.map.encryptedBytes=a,e(null,r);r.map.bytes=a,qU(r,function(o){if(o)return o.xhr=i,o.status=i.status,e(o,r);e(null,r)})},Yhe=({segment:r,finishProcessingFn:e,responseType:t,triggerSegmentEventFn:n})=>(i,s)=>{const a=CA(i,s);if(a)return e(a,r);n({type:"segmentloaded",segment:r});const o=t==="arraybuffer"||!s.responseText?s.response:Bhe(s.responseText.substring(r.lastReachedChar||0));return r.stats=Ghe(s),r.key?r.encryptedBytes=new Uint8Array(o):r.bytes=new Uint8Array(o),e(null,r)},Qhe=({segment:r,bytes:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{const v=r.map&&r.map.tracks||{},y=!!(v.audio&&v.video);let _=n.bind(null,r,"audio","start");const C=n.bind(null,r,"audio","end");let k=n.bind(null,r,"video","start");const D=n.bind(null,r,"video","end"),I=()=>WU({bytes:e,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:y,onData:A=>{A.type=A.type==="combined"?"video":A.type,c(r,A)},onTrackInfo:A=>{t&&(y&&(A.isMuxed=!0),t(r,A))},onAudioTimingInfo:A=>{_&&typeof A.start<"u"&&(_(A.start),_=null),C&&typeof A.end<"u"&&C(A.end)},onVideoTimingInfo:A=>{k&&typeof A.start<"u"&&(k(A.start),k=null),D&&typeof A.end<"u"&&D(A.end)},onVideoSegmentTimingInfo:A=>{const R={pts:{start:A.start.presentation,end:A.end.presentation},dts:{start:A.start.decode,end:A.end.decode}};g({type:"segmenttransmuxingtiminginfoavailable",segment:r,timingInfo:R}),i(A)},onAudioSegmentTimingInfo:A=>{const R={pts:{start:A.start.pts,end:A.end.pts},dts:{start:A.start.dts,end:A.end.dts}};g({type:"segmenttransmuxingtiminginfoavailable",segment:r,timingInfo:R}),s(A)},onId3:(A,R)=>{a(r,A,R)},onCaptions:A=>{o(r,[A])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:f,onDone:(A,R)=>{h&&(A.type=A.type==="combined"?"video":A.type,g({type:"segmenttransmuxingcomplete",segment:r}),h(R,r,A))},segment:r,triggerSegmentEventFn:g});h0({action:"probeTs",transmuxer:r.transmuxer,data:e,baseStartTime:r.baseStartTime,callback:A=>{r.bytes=e=A.data;const R=A.result;R&&(t(r,{hasAudio:R.hasAudio,hasVideo:R.hasVideo,isMuxed:y}),t=null),I()}})},GU=({segment:r,bytes:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{let v=new Uint8Array(e);if(q5(v)){r.isFmp4=!0;const{tracks:y}=r.map,_={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(_.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(_.videoCodec=y.video.codec),y.video&&y.audio&&(_.isMuxed=!0),t(r,_);const C=(k,D)=>{c(r,{data:v,type:_.hasAudio&&!_.isMuxed?"audio":"video"}),D&&D.length&&a(r,D),k&&k.length&&o(r,k),h(null,r,{})};h0({action:"probeMp4StartTime",timescales:r.map.timescales,data:v,transmuxer:r.transmuxer,callback:({data:k,startTime:D})=>{e=k.buffer,r.bytes=v=k,_.hasAudio&&!_.isMuxed&&n(r,"audio","start",D),_.hasVideo&&n(r,"video","start",D),h0({action:"probeEmsgID3",data:v,transmuxer:r.transmuxer,offset:D,callback:({emsgData:I,id3Frames:A})=>{if(e=I.buffer,r.bytes=v=I,!y.video||!I.byteLength||!r.transmuxer){C(void 0,A);return}h0({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:v,timescales:r.map.timescales,trackIds:[y.video.id],callback:R=>{e=R.data.buffer,r.bytes=v=R.data,R.logs.forEach(function(N){f(An(N,{stream:"mp4CaptionParser"}))}),C(R.captions,A)}})}})}});return}if(!r.transmuxer){h(null,r,{});return}if(typeof r.container>"u"&&(r.container=Dm(v)),r.container!=="ts"&&r.container!=="aac"){t(r,{hasAudio:!1,hasVideo:!1}),h(null,r,{});return}Qhe({segment:r,bytes:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})},KU=function({id:r,key:e,encryptedBytes:t,decryptionWorker:n,segment:i,doneFn:s},a){const o=u=>{if(u.data.source===r){n.removeEventListener("message",o);const c=u.data.decrypted;a(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};n.onerror=()=>{const u="An error occurred in the decryption worker",c=zh({segment:i}),h={message:u,metadata:{error:new Error(u),errorType:Se.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(h,i)},n.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(LU({source:r,encrypted:t,key:l,iv:e.iv}),[t.buffer,l.buffer])},Jhe=({decryptionWorker:r,segment:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{g({type:"segmentdecryptionstart"}),KU({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:r,segment:e,doneFn:h},v=>{e.bytes=v,g({type:"segmentdecryptioncomplete",segment:e}),GU({segment:e,bytes:e.bytes,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})})},Zhe=({activeXhrs:r,decryptionWorker:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{let v=0,y=!1;return(_,C)=>{if(!y){if(_)return y=!0,B2(r),h(_,C);if(v+=1,v===r.length){const k=function(){if(C.encryptedBytes)return Jhe({decryptionWorker:e,segment:C,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g});GU({segment:C,bytes:C.bytes,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})};if(C.endOfAllRequests=Date.now(),C.map&&C.map.encryptedBytes&&!C.map.bytes)return g({type:"segmentdecryptionstart",segment:C}),KU({decryptionWorker:e,id:C.requestId+"-init",encryptedBytes:C.map.encryptedBytes,key:C.map.key,segment:C,doneFn:h},D=>{C.map.bytes=D,g({type:"segmentdecryptioncomplete",segment:C}),qU(C,I=>{if(I)return B2(r),h(I,C);k()})});k()}}}},efe=({loadendState:r,abortFn:e})=>t=>{t.target.aborted&&e&&!r.calledAbortFn&&(e(),r.calledAbortFn=!0)},tfe=({segment:r,progressFn:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>h=>{if(!h.target.aborted)return r.stats=An(r.stats,Khe(h)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),e(h,r)},rfe=({xhr:r,xhrOptions:e,decryptionWorker:t,segment:n,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_,triggerSegmentEventFn:C})=>{const k=[],D=Zhe({activeXhrs:k,decryptionWorker:t,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_,triggerSegmentEventFn:C});if(n.key&&!n.key.bytes){const U=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&U.push(n.map.key);const F=An(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),w=CM(n,U,D,C),$={uri:n.key.resolvedUri};C({type:"segmentkeyloadstart",segment:n,keyInfo:$});const H=r(F,w);k.push(H)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const H=An(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),W=CM(n,[n.map.key],D,C),Q={uri:n.map.key.resolvedUri};C({type:"segmentkeyloadstart",segment:n,keyInfo:Q});const te=r(H,W);k.push(te)}const F=An(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:M2(n.map),requestType:"segment-media-initialization"}),w=Xhe({segment:n,finishProcessingFn:D,triggerSegmentEventFn:C});C({type:"segmentloadstart",segment:n});const $=r(F,w);k.push($)}const I=An(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:M2(n),requestType:"segment"}),A=Yhe({segment:n,finishProcessingFn:D,responseType:I.responseType,triggerSegmentEventFn:C});C({type:"segmentloadstart",segment:n});const R=r(I,A);R.addEventListener("progress",tfe({segment:n,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:g,dataFn:v})),k.push(R);const N={};return k.forEach(U=>{U.addEventListener("loadend",efe({loadendState:N,abortFn:i}))}),()=>B2(k)},nfe=hl("CodecUtils"),ife=function(r){const e=r.attributes||{};if(e.CODECS)return Ni(e.CODECS)},XU=(r,e)=>{const t=e.attributes||{};return r&&r.mediaGroups&&r.mediaGroups.AUDIO&&t.AUDIO&&r.mediaGroups.AUDIO[t.AUDIO]},sfe=(r,e)=>{if(!XU(r,e))return!0;const t=e.attributes||{},n=r.mediaGroups.AUDIO[t.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},cb=function(r){const e={};return r.forEach(({mediaType:t,type:n,details:i})=>{e[t]=e[t]||[],e[t].push(jk(`${n}${i}`))}),Object.keys(e).forEach(function(t){if(e[t].length>1){nfe(`multiple ${t} codecs found as attributes: ${e[t].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[t]=null;return}e[t]=e[t][0]}),e},wM=function(r){let e=0;return r.audio&&e++,r.video&&e++,e},f0=function(r,e){const t=e.attributes||{},n=cb(ife(e)||[]);if(XU(r,e)&&!n.audio&&!sfe(r,e)){const i=cb(P5(r,t.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},Gy=hl("PlaylistSelector"),EM=function(r){if(!r||!r.playlist)return;const e=r.playlist;return JSON.stringify({id:e.id,bandwidth:r.bandwidth,width:r.width,height:r.height,codecs:e.attributes&&e.attributes.CODECS||""})},db=function(r,e){if(!r)return"";const t=X.getComputedStyle(r);return t?t[e]:""},Up=function(r,e){const t=r.slice();r.sort(function(n,i){const s=e(n,i);return s===0?t.indexOf(n)-t.indexOf(i):s})},wA=function(r,e){let t,n;return r.attributes.BANDWIDTH&&(t=r.attributes.BANDWIDTH),t=t||X.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||X.Number.MAX_VALUE,t-n},afe=function(r,e){let t,n;return r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(t=r.attributes.RESOLUTION.width),t=t||X.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||X.Number.MAX_VALUE,t===n&&r.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?r.attributes.BANDWIDTH-e.attributes.BANDWIDTH:t-n};let YU=function(r,e,t,n,i,s){if(!r)return;const a={bandwidth:e,width:t,height:n,limitRenditionByPlayerDimensions:i};let o=r.playlists;Fa.isAudioOnly(r)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(A=>{let R;const N=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.width,U=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.height;return R=A.attributes&&A.attributes.BANDWIDTH,R=R||X.Number.MAX_VALUE,{bandwidth:R,width:N,height:U,playlist:A}});Up(l,(A,R)=>A.bandwidth-R.bandwidth),l=l.filter(A=>!Fa.isIncompatible(A.playlist));let u=l.filter(A=>Fa.isEnabled(A.playlist));u.length||(u=l.filter(A=>!Fa.isDisabled(A.playlist)));const c=u.filter(A=>A.bandwidth*Zi.BANDWIDTH_VARIANCE<e);let h=c[c.length-1];const f=c.filter(A=>A.bandwidth===h.bandwidth)[0];if(i===!1){const A=f||u[0]||l[0];if(A&&A.playlist){let R="sortedPlaylistReps";return f&&(R="bandwidthBestRep"),u[0]&&(R="enabledPlaylistReps"),Gy(`choosing ${EM(A)} using ${R} with options`,a),A.playlist}return Gy("could not choose a playlist with options",a),null}const g=c.filter(A=>A.width&&A.height);Up(g,(A,R)=>A.width-R.width);const v=g.filter(A=>A.width===t&&A.height===n);h=v[v.length-1];const y=v.filter(A=>A.bandwidth===h.bandwidth)[0];let _,C,k;y||(_=g.filter(A=>A.width>t||A.height>n),C=_.filter(A=>A.width===_[0].width&&A.height===_[0].height),h=C[C.length-1],k=C.filter(A=>A.bandwidth===h.bandwidth)[0]);let D;if(s.leastPixelDiffSelector){const A=g.map(R=>(R.pixelDiff=Math.abs(R.width-t)+Math.abs(R.height-n),R));Up(A,(R,N)=>R.pixelDiff===N.pixelDiff?N.bandwidth-R.bandwidth:R.pixelDiff-N.pixelDiff),D=A[0]}const I=D||k||y||f||u[0]||l[0];if(I&&I.playlist){let A="sortedPlaylistReps";return D?A="leastPixelDiffRep":k?A="resolutionPlusOneRep":y?A="resolutionBestRep":f?A="bandwidthBestRep":u[0]&&(A="enabledPlaylistReps"),Gy(`choosing ${EM(I)} using ${A} with options`,a),I.playlist}return Gy("could not choose a playlist with options",a),null};const kM=function(){let r=this.useDevicePixelRatio&&X.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),YU(this.playlists.main,this.systemBandwidth,parseInt(db(this.tech_.el(),"width"),10)*r,parseInt(db(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)},ofe=function(r){let e=-1,t=-1;if(r<0||r>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&X.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,t=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==t&&(e=r*this.systemBandwidth+(1-r)*e,t=this.systemBandwidth),YU(this.playlists.main,e,parseInt(db(this.tech_.el(),"width"),10)*n,parseInt(db(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},lfe=function(r){const{main:e,currentTime:t,bandwidth:n,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=r,u=e.playlists.filter(v=>!Fa.isIncompatible(v));let c=u.filter(Fa.isEnabled);c.length||(c=u.filter(v=>!Fa.isDisabled(v)));const f=c.filter(Fa.hasAttribute.bind(null,"BANDWIDTH")).map(v=>{const _=l.getSyncPoint(v,i,o,t)?1:2,k=Fa.estimateSegmentRequestTime(s,n,v)*_-a;return{playlist:v,rebufferingImpact:k}}),g=f.filter(v=>v.rebufferingImpact<=0);return Up(g,(v,y)=>wA(y.playlist,v.playlist)),g.length?g[0]:(Up(f,(v,y)=>v.rebufferingImpact-y.rebufferingImpact),f[0]||null)},ufe=function(){const r=this.playlists.main.playlists.filter(Fa.isEnabled);return Up(r,(t,n)=>wA(t,n)),r.filter(t=>!!f0(this.playlists.main,t).video)[0]||null},cfe=r=>{let e=0,t;return r.bytes&&(t=new Uint8Array(r.bytes),r.segments.forEach(n=>{t.set(n,e),e+=n.byteLength})),t};function QU(r){try{return new URL(r).pathname.split("/").slice(-2).join("/")}catch{return""}}const dfe=function(r,e,t){if(!r[t]){e.trigger({type:"usage",name:"vhs-608"});let n=t;/^cc708_/.test(t)&&(n="SERVICE"+t.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)r[t]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=t,o=t,l=!1;const u=s[n];u&&(a=u.label,o=u.language,l=u.default),r[t]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:a,language:o},!1).track}}},hfe=function({inbandTextTracks:r,captionArray:e,timestampOffset:t}){if(!e)return;const n=X.WebKitDataCue||X.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const o=new n(i.startTime+t,i.endTime+t,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",r[s].addCue(o)}):r[s].addCue(new n(i.startTime+t,i.endTime+t,i.text))})},ffe=function(r){Object.defineProperties(r.frame,{id:{get(){return Se.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),r.value.key}},value:{get(){return Se.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),r.value.data}},privateData:{get(){return Se.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),r.value.data}}})},pfe=({inbandTextTracks:r,metadataArray:e,timestampOffset:t,videoDuration:n})=>{if(!e)return;const i=X.WebKitDataCue||X.VTTCue,s=r.metadataTrack_;if(!s||(e.forEach(c=>{const h=c.cueTime+t;typeof h!="number"||X.isNaN(h)||h<0||!(h<1/0)||!c.frames||!c.frames.length||c.frames.forEach(f=>{const g=new i(h,h,f.value||f.url||f.data||"");g.frame=f,g.value=f,ffe(g),s.addCue(g)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const l=o.reduce((c,h)=>{const f=c[h.startTime]||[];return f.push(h),c[h.startTime]=f,c},{}),u=Object.keys(l).sort((c,h)=>Number(c)-Number(h));u.forEach((c,h)=>{const f=l[c],g=isFinite(n)?n:c,v=Number(u[h+1])||g;f.forEach(y=>{y.endTime=v})})},mfe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},gfe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),vfe=({inbandTextTracks:r,dateRanges:e})=>{const t=r.metadataTrack_;if(!t)return;const n=X.WebKitDataCue||X.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(gfe.has(s))continue;const a=new n(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:mfe[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),t.addCue(a)}i.processDateRange()})},AM=(r,e,t)=>{r.metadataTrack_||(r.metadataTrack_=t.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Se.browser.IS_ANY_SAFARI||(r.metadataTrack_.inBandMetadataTrackDispatchType=e))},Xg=function(r,e,t){let n,i;if(t&&t.cues)for(n=t.cues.length;n--;)i=t.cues[n],i.startTime>=r&&i.endTime<=e&&t.removeCue(i)},yfe=function(r){const e=r.cues;if(!e)return;const t={};for(let n=e.length-1;n>=0;n--){const i=e[n],s=`${i.startTime}-${i.endTime}-${i.text}`;t[s]?r.removeCue(i):t[s]=i}},xfe=(r,e,t)=>{if(typeof e>"u"||e===null||!r.length)return[];const n=Math.ceil((e-t+3)*Ua.ONE_SECOND_IN_TS);let i;for(i=0;i<r.length&&!(r[i].pts>n);i++);return r.slice(i)},_fe=(r,e,t)=>{if(!e.length)return r;if(t)return e.slice();const n=e[0].pts;let i=0;for(i;i<r.length&&!(r[i].pts>=n);i++);return r.slice(0,i).concat(e)},bfe=(r,e,t,n)=>{const i=Math.ceil((e-n)*Ua.ONE_SECOND_IN_TS),s=Math.ceil((t-n)*Ua.ONE_SECOND_IN_TS),a=r.slice();let o=r.length;for(;o--&&!(r[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(r[l].pts<=i););return l=Math.max(l,0),a.splice(l,o-l+1),a},Sfe=function(r,e){if(!r&&!e||!r&&e||r&&!e)return!1;if(r===e)return!0;const t=Object.keys(r).sort(),n=Object.keys(e).sort();if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(s!==n[i]||r[s]!==e[s])return!1}return!0},Tfe=function(r,e,t){e=e||[];const n=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(r===a.timeline&&(n.push(s),i+=a.duration,i>t))return s}return n.length===0?0:n[n.length-1]},Fg=1,Cfe=500,DM=r=>typeof r=="number"&&isFinite(r),Ky=1/60,wfe=(r,e,t)=>r!=="main"||!e||!t?null:!t.hasAudio&&!t.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!t.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&t.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,Efe=(r,e,t)=>{let n=e-Zi.BACK_BUFFER_LENGTH;r.length&&(n=Math.max(n,r.start(0)));const i=e-t;return Math.min(i,n)},rp=r=>{const{startOfSegment:e,duration:t,segment:n,part:i,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:c}=r,h=o.length-1;let f="mediaIndex/partIndex increment";r.getMediaInfoForTime?f=`getMediaInfoForTime (${r.getMediaInfoForTime})`:r.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),r.independent&&(f+=` with independent ${r.independent}`);const g=typeof u=="number",v=r.segment.uri?"segment":"pre-segment",y=g?vU({preloadSegment:n})-1:0;return`${v} [${s+l}/${s+h}]`+(g?` part [${u}/${y}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(g?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${t}] timeline [${c}] selected by [${f}] playlist [${a}]`},IM=r=>`${r}TimingInfo`,kfe=({segmentTimeline:r,currentTimeline:e,startOfSegment:t,buffered:n,overrideCheck:i})=>!i&&r===e?null:r<e?t:n.length?n.end(n.length-1):t,N2=({timelineChangeController:r,currentTimeline:e,segmentTimeline:t,loaderType:n,audioDisabled:i})=>{if(e===t)return!1;if(n==="audio"){const s=r.lastTimelineChange({type:"main"});return!s||s.to!==t}if(n==="main"&&i){const s=r.pendingTimelineChange({type:"audio"});return!(s&&s.to===t)}return!1},Afe=r=>{if(!r)return!1;const e=r.pendingTimelineChange({type:"audio"}),t=r.pendingTimelineChange({type:"main"}),n=e&&t,i=n&&e.to!==t.to;return!!(n&&e.from!==-1&&t.from!==-1&&i)},Dfe=r=>{r&&(r.pause(),r.resetEverything(),r.load())},Ife=r=>{const e=r.timelineChangeController_.pendingTimelineChange({type:"audio"}),t=r.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&t&&e.to<t.to},Td=r=>{const e=r.pendingSegment_;if(!e)return;if(N2({timelineChangeController:r.timelineChangeController_,currentTimeline:r.currentTimeline_,segmentTimeline:e.timeline,loaderType:r.loaderType_,audioDisabled:r.audioDisabled_})&&Afe(r.timelineChangeController_)){if(Ife(r)){r.timelineChangeController_.trigger("audioTimelineBehind");return}Dfe(r)}},Pfe=r=>{let e=0;return["video","audio"].forEach(function(t){const n=r[`${t}TimingInfo`];if(!n)return;const{start:i,end:s}=n;let a;typeof i=="bigint"||typeof s=="bigint"?a=X.BigInt(s)-X.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},PM=({segmentDuration:r,maxDuration:e})=>r?Math.round(r)>e+Su:!1,Rfe=(r,e)=>{if(e!=="hls")return null;const t=Pfe({audioTimingInfo:r.audioTimingInfo,videoTimingInfo:r.videoTimingInfo});if(!t)return null;const n=r.playlist.targetDuration,i=PM({segmentDuration:t,maxDuration:n*2}),s=PM({segmentDuration:t,maxDuration:n}),a=`Segment with index ${r.mediaIndex} from playlist ${r.playlist.id} has a duration of ${t} when the reported duration is ${r.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null},zh=({type:r,segment:e})=>{if(!e)return;const t=!!(e.key||e.map&&e.map.ke),n=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:r||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:t,isMediaInitialization:n}};let U2=class extends Se.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=hl(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Td(this)}),this.sourceUpdater_.on("codecschange",n=>{this.trigger(sr({type:"codecschange"},n))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Td(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",n=>{this.trigger(sr({type:"timelinechange"},n)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Td(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Td(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return $C.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,X.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&$C.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return xs();if(this.loaderType_==="main"){const{hasAudio:t,hasVideo:n,isMuxed:i}=e;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const n=ub(e);let i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,t=!1){if(!e)return null;const n=OU(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${NC(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&$C.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,n=()=>{},i=!1){if(t===1/0&&(t=this.duration_()),t<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&n()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,t,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=bfe(this.gopBuffer_,e,t,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,t,a));for(const o in this.inbandTextTracks_)Xg(e,t,this.inbandTextTracks_[o]);Xg(e,t,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=X.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=X.setTimeout(this.monitorBufferTick_.bind(this),Cfe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const t={segmentInfo:zh({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,n=this.partIndex){if(!t||!this.mediaSource_)return!1;const i=typeof e=="number"&&t.segments[e],s=e+1===t.segments.length,a=!i||!i.parts||n+1===i.parts.length;return t.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),t=NC(e)||0,n=_A(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,s=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=Tfe(this.currentTimeline_,a,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const f=a[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=f.end?f.end:t,f.parts&&f.parts[g+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=g+1):o.mediaIndex=this.mediaIndex+1}else{let f,g,v;const y=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${t}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const _=this.getSyncInfoFromMediaSequenceSync_(y);if(!_){const C="No sync info found while using media sequence sync";return this.error({message:C,metadata:{errorType:Se.Error.StreamingFailedToSelectNextSegment,error:new Error(C)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${_.start} --> ${_.end})`),f=_.segmentIndex,g=_.partIndex,v=_.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const _=Fa.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});f=_.segmentIndex,g=_.partIndex,v=_.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,o.mediaIndex=f,o.startOfSegment=v,o.partIndex=g,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&u&&!c&&!u.independent)if(o.partIndex===0){const f=a[o.mediaIndex-1],g=f.parts&&f.parts.length&&f.parts[f.parts.length-1];g&&g.independent&&(o.mediaIndex-=1,o.partIndex=f.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const h=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&h&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:t,playlist:n,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=n.segments[i],h=typeof o=="number"&&c.parts[o],f={requestId:"segment-loader-"+Math.random(),uri:h&&h.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:h?o:null,isSyncRequest:a,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:h&&h.duration||c.duration,segment:c,part:h,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:t},g=typeof l<"u"?l:this.isPendingTimestampOffset_;f.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:g});const v=NC(this.sourceUpdater_.audioBuffered());return typeof v=="number"&&(f.audioAppendStart=v-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(f.gopsToAlignWith=xfe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),f}timestampOffsetForSegment_(e){return kfe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,s=Fa.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),a=Yde(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=lfe({main:this.vhs_.playlists.main,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const u=s-a-o.rebufferingImpact;let c=.5;a<=Su&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*Zi.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${rp(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&this.trigger("progress")}handleTrackInfo_(e,t){const{hasAudio:n,hasVideo:i}=t,s={segmentInfo:zh({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(t)||(t=t||{},Sfe(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Td(this))))}handleTimingInfo_(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=IM(t);s[a]=s[a]||{},s[a][n]=i,this.logger_(`timinginfo: ${t} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Td(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(t.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};t.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+i),o.endTime=Math.max(o.endTime,a.endTime+i),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:u}=s[a],c=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),dfe(c,this.vhs_.tech_,a),Xg(o,l,c[a]),hfe({captionArray:u,inbandTextTracks:c,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n));return}this.addMetadataToTextTrack(n,t,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(t=>t())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(t=>t())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!N2({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:n,hasVideo:i,isMuxed:s}=t;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||N2({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Td(this),this.callQueue_.push(this.handleData_.bind(this,e,t));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[IM(t.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}updateAppendInitSegmentStatus(e,t){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:n,playlist:i}){if(n){const s=ub(n);if(this.activeInitSegmentId_===s)return null;t=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Kh(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Kh(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(l-o<=Fg&&c-u<=Fg){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Kh(s).join(", ")}, video buffer: ${Kh(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:n}));const f=this.currentTime_()-Fg;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${f}`),this.remove(0,f,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Fg}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=X.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Fg*1e3)},!0)}handleAppendError_({segmentInfo:e,type:t,bytes:n},i){if(i){if(i.code===AU){this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${t} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:Se.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:n,data:i,bytes:s}){if(!s){const o=[i];let l=i.byteLength;n&&(o.unshift(n),l+=n.byteLength),s=cfe({bytes:l,segments:o})}const a={segmentInfo:zh({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:s}))}handleSegmentTimingInfo_(e,t,n){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[s].transmuxedPresentationStart=n.start.presentation,i[s].transmuxedDecodeStart=n.start.decode,i[s].transmuxedPresentationEnd=n.end.presentation,i[s].transmuxedDecodeEnd=n.end.decode,i[s].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,t){const{type:n,data:i}=t;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Td(this),this.loadQueue_.push(()=>{const t=sr({},e,{forceTimestampOffset:!0});sr(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=n||i&&s;this.logger_(`Requesting
${QU(e.uri)}
${rp(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=rfe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_(`${rp(e)} logged from transmuxer stream ${u} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:u,trackInfo:c,timingInfo:h})=>{const g={segmentInfo:zh({segment:l})};u&&(g.keyInfo=u),c&&(g.trackInfo=c),h&&(g.timingInfo=h),this.trigger({type:o,metadata:g})}})}trimBackBuffer_(e){const t=Efe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===t.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),t.key){const l=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(t.key),a.key.iv=l}return t.map&&(a.map=this.initSegmentForMap(t.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<Ky){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Ky}`);return}const n={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_||t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===Cu.ABORTED)return;if(this.pause(),e.code===Cu.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=_fe(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);t!==null&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const u=t.segments[n-1];return n===0||!u||typeof u.start>"u"||u.end!==i+s?i:o.start}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:s}=t,a=this.loaderType_==="main"&&i,o=!this.audioDisabled_&&n&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=wfe(this.loaderType_,this.getCurrentMediaInfo_(),e);return t?(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:t&&typeof t.transmuxedDecodeStart=="number"?t.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),i=this.loaderType_==="main"&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:zh({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const t=Rfe(e,this.sourceType_);if(t&&(t.severity==="warn"?Se.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${rp(e)}`);return}this.logger_(`Appended ${rp(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,s=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${rp(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Ky){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Ky}`);return}const t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,n=t.start,i=t.end;if(!DM(n)||!DM(i))return;Xg(n,i,this.segmentMetadataTrack_);const s=X.WebKitDataCue||X.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},o=JSON.stringify(a),l=new s(n,i,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}};function Dc(){}const JU=function(r){return typeof r!="string"?r:r.replace(/./,e=>e.toUpperCase())},Lfe=["video","audio"],$2=(r,e)=>{const t=e[`${r}Buffer`];return t&&t.updating||e.queuePending[r]},Ofe=(r,e)=>{for(let t=0;t<e.length;t++){const n=e[t];if(n.type==="mediaSource")return null;if(n.type===r)return t}return null},$p=(r,e)=>{if(e.queue.length===0)return;let t=0,n=e.queue[t];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),$p("audio",e),$p("video",e));return}if(r!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||$2(r,e))){if(n.type!==r){if(t=Ofe(r,e.queue),t===null)return;n=e.queue[t]}if(e.queue.splice(t,1),e.queuePending[r]=n,n.action(r,e),!n.doneFn){e.queuePending[r]=null,$p(r,e);return}}},ZU=(r,e)=>{const t=e[`${r}Buffer`],n=JU(r);t&&(t.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),t.removeEventListener("error",e[`on${n}Error_`]),e.codecs[r]=null,e[`${r}Buffer`]=null)},vu=(r,e)=>r&&e&&Array.prototype.indexOf.call(r.sourceBuffers,e)!==-1,so={appendBuffer:(r,e,t)=>(n,i)=>{const s=i[`${n}Buffer`];if(vu(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${r.length} bytes to ${n}Buffer`);try{s.appendBuffer(r)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===AU?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,t(a)}}},remove:(r,e)=>(t,n)=>{const i=n[`${t}Buffer`];if(vu(n.mediaSource,i)){n.logger_(`Removing ${r} to ${e} from ${t}Buffer`);try{i.remove(r,e)}catch{n.logger_(`Remove ${r} to ${e} from ${t}Buffer failed`)}}},timestampOffset:r=>(e,t)=>{const n=t[`${e}Buffer`];vu(t.mediaSource,n)&&(t.logger_(`Setting ${e}timestampOffset to ${r}`),n.timestampOffset=r)},callback:r=>(e,t)=>{r()},endOfStream:r=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${r||""})`);try{e.mediaSource.endOfStream(r)}catch(t){Se.log.warn("Failed to call media source endOfStream",t)}}},duration:r=>e=>{e.logger_(`Setting mediaSource duration to ${r}`);try{e.mediaSource.duration=r}catch(t){Se.log.warn("Failed to set media source duration",t)}},abort:()=>(r,e)=>{if(e.mediaSource.readyState!=="open")return;const t=e[`${r}Buffer`];if(vu(e.mediaSource,t)){e.logger_(`calling abort on ${r}Buffer`);try{t.abort()}catch(n){Se.log.warn(`Failed to abort on ${r}Buffer`,n)}}},addSourceBuffer:(r,e)=>t=>{const n=JU(r),i=ju(e);t.logger_(`Adding ${r}Buffer with codec ${e} to mediaSource`);const s=t.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",t[`on${n}UpdateEnd_`]),s.addEventListener("error",t[`on${n}Error_`]),t.codecs[r]=e,t[`${r}Buffer`]=s},removeSourceBuffer:r=>e=>{const t=e[`${r}Buffer`];if(ZU(r,e),!!vu(e.mediaSource,t)){e.logger_(`Removing ${r}Buffer with codec ${e.codecs[r]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(t)}catch(n){Se.log.warn(`Failed to removeSourceBuffer ${r}Buffer`,n)}}},changeType:r=>(e,t)=>{const n=t[`${e}Buffer`],i=ju(r);if(!vu(t.mediaSource,n))return;const s=r.substring(0,r.indexOf(".")),a=t.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:r}};t.trigger({type:"codecschange",metadata:l}),t.logger_(`changing ${e}Buffer codec from ${a} to ${r}`);try{n.changeType(i),t.codecs[e]=r}catch(u){l.errorType=Se.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,t.error_=u,t.trigger("error"),Se.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},ao=({type:r,sourceUpdater:e,action:t,doneFn:n,name:i})=>{e.queue.push({type:r,action:t,doneFn:n,name:i}),$p(r,e)},RM=(r,e)=>t=>{const n=e[`${r}Buffered`](),i=Gde(n);if(e.logger_(`received "updateend" event for ${r} Source Buffer: `,i),e.queuePending[r]){const s=e.queuePending[r].doneFn;e.queuePending[r]=null,s&&s(e[`${r}Error_`])}$p(r,e)};let e$=class extends Se.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>$p("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=hl("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=RM("video",this),this.onAudioUpdateEnd_=RM("audio",this),this.onVideoError_=t=>{this.videoError_=t},this.onAudioError_=t=>{this.audioError_=t},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){ao({type:"mediaSource",sourceUpdater:this,action:so.addSourceBuffer(e,t),name:"addSourceBuffer"})}abort(e){ao({type:e,sourceUpdater:this,action:so.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Se.log.error("removeSourceBuffer is not supported!");return}ao({type:"mediaSource",sourceUpdater:this,action:so.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Se.browser.IS_FIREFOX&&X.MediaSource&&X.MediaSource.prototype&&typeof X.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return X.SourceBuffer&&X.SourceBuffer.prototype&&typeof X.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){if(!this.canChangeType()){Se.log.error("changeType is not supported!");return}ao({type:e,sourceUpdater:this,action:so.changeType(t),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(t=>{const n=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,n);this.canChangeType()&&this.changeType(t,n)})}appendBuffer(e,t){const{segmentInfo:n,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,t]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=t;if(ao({type:i,sourceUpdater:this,action:so.appendBuffer(s,n||{mediaIndex:-1},a),doneFn:t,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return vu(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:xs()}videoBuffered(){return vu(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:xs()}buffered(){const e=vu(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=vu(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():Xde(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=Dc){ao({type:"mediaSource",sourceUpdater:this,action:so.duration(e),name:"duration",doneFn:t})}endOfStream(e=null,t=Dc){typeof e!="string"&&(e=void 0),ao({type:"mediaSource",sourceUpdater:this,action:so.endOfStream(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,n=Dc){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}ao({type:"audio",sourceUpdater:this,action:so.remove(e,t),doneFn:n,name:"remove"})}removeVideo(e,t,n=Dc){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}ao({type:"video",sourceUpdater:this,action:so.remove(e,t),doneFn:n,name:"remove"})}updating(){return!!($2("audio",this)||$2("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(ao({type:"audio",sourceUpdater:this,action:so.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(ao({type:"video",sourceUpdater:this,action:so.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&ao({type:"audio",sourceUpdater:this,action:so.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&ao({type:"video",sourceUpdater:this,action:so.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Lfe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>ZU(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}};const LM=r=>decodeURIComponent(escape(String.fromCharCode.apply(null,r))),Mfe=r=>{const e=new Uint8Array(r);return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")},OM=new Uint8Array(`

`.split("").map(r=>r.charCodeAt(0)));let Ffe=class extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}},Bfe=class extends U2{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return xs();const e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return xs([[t,n]])}initSegmentForMap(e,t=!1){if(!e)return null;const n=ub(e);let i=this.initSegments_[n];if(t&&!i&&e.bytes){const s=OM.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(OM,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,t){Xg(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const t=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",t),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===Cu.TIMEOUT&&this.handleTimeout_(),e.code===Cu.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=t.map.bytes),i.bytes=t.bytes,typeof X.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(a){this.stopForError({message:a.message,metadata:{errorType:Se.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new X.VTTCue(a.startTime,a.endTime,a.text):a)}),yfe(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let t,n=!1;if(typeof X.WebVTT!="function")throw new Ffe;typeof X.TextDecoder=="function"?t=new X.TextDecoder("utf8"):(t=X.WebVTT.StringDecoder(),n=!0);const i=new X.WebVTT.Parser(X,X.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{Se.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;n&&(a=LM(a)),i.parse(a)}let s=e.bytes;n&&(s=LM(s)),i.parse(s),i.flush()}updateTimeMapping_(e,t,n){const i=e.segment;if(!t)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,l=s/Ua.ONE_SECOND_IN_TS-a+t.mapping;if(e.cues.forEach(u=>{const c=u.endTime-u.startTime,h=this.handleRollover_(u.startTime+l,t.time);u.startTime=Math.max(h,0),u.endTime=Math.max(h+c,0)}),!n.syncInfo){const u=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(u,c-i.duration)}}}handleRollover_(e,t){if(t===null)return e;let n=e*Ua.ONE_SECOND_IN_TS;const i=t*Ua.ONE_SECOND_IN_TS;let s;for(i<n?s=-8589934592:s=8589934592;Math.abs(n-i)>4294967296;)n+=s;return n/Ua.ONE_SECOND_IN_TS}};const Nfe=function(r,e){const t=r.cues;for(let n=0;n<t.length;n++){const i=t[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},Ufe=function(r,e,t=0){if(!r.segments)return;let n=t,i;for(let s=0;s<r.segments.length;s++){const a=r.segments[s];if(i||(i=Nfe(e,n+a.duration/2)),i){if("cueIn"in a){i.endTime=n,i.adEndTime=n,n+=a.duration,i=null;continue}if(n<i.endTime){n+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new X.VTTCue(n,n+a.duration,a.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);i=new X.VTTCue(n,n+a.duration,""),i.adStartTime=n-o,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=a.duration}};let MM=class{constructor({start:e,end:t,segmentIndex:n,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=t,this.segmentIndex_=n,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}},$fe=class{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}},t$=class{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,t){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,t))}getSyncInfoForTime(e){for(const{segmentSyncInfo:t,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,n){const i=new Map;let s=`
`,a=n,o=t;this.start_=a,e.forEach((l,u)=>{const c=this.storage_.get(o),h=a,f=h+l.duration,g=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),v=new MM({start:h,end:f,appended:g,segmentIndex:u});l.syncInfo=v;let y=a;const _=(l.parts||[]).map((C,k)=>{const D=y,I=y+C.duration,A=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[k]&&c.partsSyncInfo[k].isAppended),R=new MM({start:D,end:I,appended:A,segmentIndex:u,partIndex:k});return y=I,s+=`Media Sequence: ${o}.${k} | Range: ${D} --> ${I} | Appended: ${A}
`,C.syncInfo=R,R});i.set(o,new $fe(v,_)),s+=`${QU(l.resolvedUri)} | Media Sequence: ${o} | Range: ${h} --> ${f} | Appended: ${g}
`,o++,a=f}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,t){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:t:0}isReliablePlaylist_(e,t){return e!=null&&Array.isArray(t)&&t.length}},FM=class extends t${constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t)}};const jfe=86400,jC=[{name:"VOD",run:(r,e,t,n,i)=>t!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(r,e,t,n,i,s)=>{const a=r.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(i);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(r,e,t,n,i)=>{if(!Object.keys(r.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=I2(e);i=i||0;for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),c=o[u],h=c.segment,f=r.timelineToDatetimeMappings[h.timeline];if(!f||!h.dateTimeObject)continue;let v=h.dateTimeObject.getTime()/1e3+f;if(h.parts&&typeof c.partIndex=="number")for(let _=0;_<c.partIndex;_++)v+=h.parts[_].duration;const y=Math.abs(i-v);if(a!==null&&(y===0||a<y))break;a=y,s={time:v,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(r,e,t,n,i)=>{let s=null,a=null;i=i||0;const o=I2(e);for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),c=o[u],h=c.segment,f=c.part&&c.part.start||h&&h.start;if(h.timeline===n&&typeof f<"u"){const g=Math.abs(i-f);if(a!==null&&a<g)break;(!s||a===null||a>=g)&&(a=g,s={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(r,e,t,n,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,c=r.discontinuities[u];if(c){const h=Math.abs(i-c.time);if(a!==null&&a<h)break;(!s||a===null||a>=h)&&(a=h,s={time:c.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(r,e,t,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];let zfe=class extends Se.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const t=new t$,n=new FM(t),i=new FM(t);this.mediaSequenceStorage_={main:t,audio:n,vtt:i},this.logger_=hl("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,n,i,s){if(t!==1/0)return jC.find(({name:l})=>l==="VOD").run(this,e,t);const a=this.runStrategies_(e,t,n,i,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:c,time:h}=l;if(c<0)continue;const f=e.segments[c],g=h,v=g+f.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${c}. Time: [${g} -> ${v}]}`),i>=g&&i<v)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,t){if(!e||!e.segments)return null;const n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+d0({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,t,n,i,s){const a=[];for(let o=0;o<jC.length;o++){const l=jC[o],u=l.run(this,e,t,n,i,s);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(e,t){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[t.key]-t.value);o<i&&(i=o,n=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${s}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,t){const n=t.mediaSequence-e.mediaSequence;if(n>jfe){Se.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){t.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&t&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,n){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=t.end+a.mapping;else if(a)o=t.start+a.mapping,l=t.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!i.start||o<i.start)&&(i.start=o),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let i=0;i<t.discontinuityStarts.length;i++){const s=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=n.start-d0({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:s}):u=n.end+d0({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}},Hfe=class extends Se.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:n}){return typeof t=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:n}){if(typeof t=="number"&&typeof n=="number"){this.lastTimelineChanges_[e]={type:e,from:t,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:t,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}};const Vfe=$U(jU(function(){var r=(function(){function y(){this.listeners={}}var _=y.prototype;return _.on=function(k,D){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push(D)},_.off=function(k,D){if(!this.listeners[k])return!1;var I=this.listeners[k].indexOf(D);return this.listeners[k]=this.listeners[k].slice(0),this.listeners[k].splice(I,1),I>-1},_.trigger=function(k){var D=this.listeners[k];if(D)if(arguments.length===2)for(var I=D.length,A=0;A<I;++A)D[A].call(this,arguments[1]);else for(var R=Array.prototype.slice.call(arguments,1),N=D.length,U=0;U<N;++U)D[U].apply(this,R)},_.dispose=function(){this.listeners={}},_.pipe=function(k){this.on("data",function(D){k.push(D)})},y})();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const t=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],_=y[0],C=y[1],k=_[4],D=C[4];let I,A,R;const N=[],U=[];let F,w,$,H,W,Q;for(I=0;I<256;I++)U[(N[I]=I<<1^(I>>7)*283)^I]=I;for(A=R=0;!k[A];A^=F||1,R=U[R]||1)for(H=R^R<<1^R<<2^R<<3^R<<4,H=H>>8^H&255^99,k[A]=H,D[H]=A,$=N[w=N[F=N[A]]],Q=$*16843009^w*65537^F*257^A*16843008,W=N[H]*257^H*16843008,I=0;I<4;I++)_[I][A]=W=W<<24^W>>>8,C[I][H]=Q=Q<<24^Q>>>8;for(I=0;I<5;I++)_[I]=_[I].slice(0),C[I]=C[I].slice(0);return y};let n=null;class i{constructor(_){n||(n=t()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let C,k,D;const I=this._tables[0][4],A=this._tables[1],R=_.length;let N=1;if(R!==4&&R!==6&&R!==8)throw new Error("Invalid aes key size");const U=_.slice(0),F=[];for(this._key=[U,F],C=R;C<4*R+28;C++)D=U[C-1],(C%R===0||R===8&&C%R===4)&&(D=I[D>>>24]<<24^I[D>>16&255]<<16^I[D>>8&255]<<8^I[D&255],C%R===0&&(D=D<<8^D>>>24^N<<24,N=N<<1^(N>>7)*283)),U[C]=U[C-R]^D;for(k=0;C;k++,C--)D=U[k&3?C:C-4],C<=4||k<4?F[k]=D:F[k]=A[0][I[D>>>24]]^A[1][I[D>>16&255]]^A[2][I[D>>8&255]]^A[3][I[D&255]]}decrypt(_,C,k,D,I,A){const R=this._key[1];let N=_^R[0],U=D^R[1],F=k^R[2],w=C^R[3],$,H,W;const Q=R.length/4-2;let te,oe=4;const de=this._tables[1],le=de[0],ae=de[1],ie=de[2],ee=de[3],pe=de[4];for(te=0;te<Q;te++)$=le[N>>>24]^ae[U>>16&255]^ie[F>>8&255]^ee[w&255]^R[oe],H=le[U>>>24]^ae[F>>16&255]^ie[w>>8&255]^ee[N&255]^R[oe+1],W=le[F>>>24]^ae[w>>16&255]^ie[N>>8&255]^ee[U&255]^R[oe+2],w=le[w>>>24]^ae[N>>16&255]^ie[U>>8&255]^ee[F&255]^R[oe+3],oe+=4,N=$,U=H,F=W;for(te=0;te<4;te++)I[(3&-te)+A]=pe[N>>>24]<<24^pe[U>>16&255]<<16^pe[F>>8&255]<<8^pe[w&255]^R[oe++],$=N,N=U,U=F,F=w,w=$}}class s extends r{constructor(){super(r),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(_){this.jobs.push(_),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},o=function(y,_,C){const k=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),D=new i(Array.prototype.slice.call(_)),I=new Uint8Array(y.byteLength),A=new Int32Array(I.buffer);let R,N,U,F,w,$,H,W,Q;for(R=C[0],N=C[1],U=C[2],F=C[3],Q=0;Q<k.length;Q+=4)w=a(k[Q]),$=a(k[Q+1]),H=a(k[Q+2]),W=a(k[Q+3]),D.decrypt(w,$,H,W,A,Q),A[Q]=a(A[Q]^R),A[Q+1]=a(A[Q+1]^N),A[Q+2]=a(A[Q+2]^U),A[Q+3]=a(A[Q+3]^F),R=w,N=$,U=H,F=W;return I};class l{constructor(_,C,k,D){const I=l.STEP,A=new Int32Array(_.buffer),R=new Uint8Array(_.byteLength);let N=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(A.subarray(N,N+I),C,k,R)),N=I;N<A.length;N+=I)k=new Uint32Array([a(A[N-4]),a(A[N-3]),a(A[N-2]),a(A[N-1])]),this.asyncStream_.push(this.decryptChunk_(A.subarray(N,N+I),C,k,R));this.asyncStream_.push(function(){D(null,e(R))})}static get STEP(){return 32e3}decryptChunk_(_,C,k,D){return function(){const I=o(_,C,k);D.set(I,_.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var h=c,f=function(_){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(_):_&&_.buffer instanceof ArrayBuffer},g=h.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),(function(){var y=new Uint16Array([65484]),_=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return _[0]===255?"big":_[0]===204?"little":"unknown"})();const v=function(y){const _={};return Object.keys(y).forEach(C=>{const k=y[C];f(k)?_[C]={bytes:k.buffer,byteOffset:k.byteOffset,byteLength:k.byteLength}:_[C]=k}),_};self.onmessage=function(y){const _=y.data,C=new Uint8Array(_.encrypted.bytes,_.encrypted.byteOffset,_.encrypted.byteLength),k=new Uint32Array(_.key.bytes,_.key.byteOffset,_.key.byteLength/4),D=new Uint32Array(_.iv.bytes,_.iv.byteOffset,_.iv.byteLength/4);new l(C,k,D,function(I,A){self.postMessage(v({source:_.source,decrypted:A}),[A.buffer])})}}));var Wfe=UU(Vfe);const qfe=r=>{let e=r.default?"main":"alternative";return r.characteristics&&r.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},r$=(r,e)=>{r.abort(),r.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},j2=(r,e)=>{e.activePlaylistLoader=r,r.load()},Gfe=(r,e)=>()=>{const{segmentLoaders:{[r]:t,main:n},mediaTypes:{[r]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),o=i.activePlaylistLoader,l=i.lastGroup_;if(!(a&&l&&a.id===l.id)&&(i.lastGroup_=a,i.lastTrack_=s,r$(t,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&n.resetEverything();return}t.resyncLoader(),j2(a.playlistLoader,i)}},Kfe=(r,e)=>()=>{const{segmentLoaders:{[r]:t},mediaTypes:{[r]:n}}=e;n.lastGroup_=null,t.abort(),t.pause()},Xfe=(r,e)=>()=>{const{mainPlaylistLoader:t,segmentLoaders:{[r]:n,main:i},mediaTypes:{[r]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&a&&u.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,r$(n,s),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const c=e.vhs.playlistController_,h=c.selectPlaylist();if(c.media()===h)return;s.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),t.pause(),i.resetEverything(),c.fastQualityChange_(h);return}if(r==="AUDIO"){if(!o.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===o.playlistLoader){j2(o.playlistLoader,s);return}n.track&&n.track(a),n.resetEverything(),j2(o.playlistLoader,s)}},hb={AUDIO:(r,e)=>()=>{const{mediaTypes:{[r]:t},excludePlaylist:n}=e,i=t.activeTrack(),s=t.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=t.tracks[a];if(i===o){n({error:{message:"Problem encountered loading the default audio track."}});return}Se.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in t.tracks)t.tracks[l].enabled=t.tracks[l]===o;t.onTrackChanged()},SUBTITLES:(r,e)=>()=>{const{mediaTypes:{[r]:t}}=e;Se.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=t.activeTrack();n&&(n.mode="disabled"),t.onTrackChanged()}},BM={AUDIO:(r,e,t)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[r]:s}}=t;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!n.paused()||a.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",hb[r](r,t))},SUBTITLES:(r,e,t)=>{const{tech:n,requestOptions:i,segmentLoaders:{[r]:s},mediaTypes:{[r]:a}}=t;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),s.track(a.activeTrack()),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",hb[r](r,t))}},Yfe={AUDIO:(r,e)=>{const{vhs:t,sourceType:n,segmentLoaders:{[r]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[r]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,h=wv(c.main);(!a[r]||Object.keys(a[r]).length===0)&&(a[r]={main:{default:{default:!0}}},h&&(a[r].main.default.playlists=c.main.playlists));for(const f in a[r]){o[f]||(o[f]=[]);for(const g in a[r][f]){let v=a[r][f][g],y;if(h?(u(`AUDIO group '${f}' label '${g}' is a main playlist`),v.isMainPlaylist=!0,y=null):n==="vhs-json"&&v.playlists?y=new xp(v.playlists[0],t,s):v.resolvedUri?y=new xp(v.resolvedUri,t,s):v.playlists&&n==="dash"?y=new F2(v.playlists[0],t,s,c):y=null,v=An({id:g,playlistLoader:y},v),BM[r](r,v.playlistLoader,e),o[f].push(v),typeof l[g]>"u"){const _=new Se.AudioTrack({id:g,kind:qfe(v),enabled:!1,language:v.language,default:v.default,label:g});l[g]=_}}}i.on("error",hb[r](r,e))},SUBTITLES:(r,e)=>{const{tech:t,vhs:n,sourceType:i,segmentLoaders:{[r]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[r]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const h in o[r]){l[h]||(l[h]=[]);for(const f in o[r][h]){if(!n.options_.useForcedSubtitles&&o[r][h][f].forced)continue;let g=o[r][h][f],v;if(i==="hls")v=new xp(g.resolvedUri,n,a);else if(i==="dash"){if(!g.playlists.filter(_=>_.excludeUntil!==1/0).length)return;v=new F2(g.playlists[0],n,a,c)}else i==="vhs-json"&&(v=new xp(g.playlists?g.playlists[0]:g.resolvedUri,n,a));if(g=An({id:f,playlistLoader:v},g),BM[r](r,g.playlistLoader,e),l[h].push(g),typeof u[f]>"u"){const y=t.addRemoteTextTrack({id:f,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:f},!1).track;u[f]=y}}}s.on("error",hb[r](r,e))},"CLOSED-CAPTIONS":(r,e)=>{const{tech:t,main:{mediaGroups:n},mediaTypes:{[r]:{groups:i,tracks:s}}}=e;for(const a in n[r]){i[a]||(i[a]=[]);for(const o in n[r][a]){const l=n[r][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=t.options_.vhs&&t.options_.vhs.captionServices||{};let c={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=An(c,u[c.instreamId])),c.default===void 0&&delete c.default,i[a].push(An({id:o},l)),typeof s[o]>"u"){const h=t.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[o]=h}}}}},n$=(r,e)=>{for(let t=0;t<r.length;t++)if(TA(e,r[t])||r[t].playlists&&n$(r[t].playlists,e))return!0;return!1},Qfe=(r,e)=>t=>{const{mainPlaylistLoader:n,mediaTypes:{[r]:{groups:i}}}=e,s=n.media();if(!s)return null;let a=null;s.attributes[r]&&(a=i[s.attributes[r]]);const o=Object.keys(i);if(!a)if(r==="AUDIO"&&o.length>1&&wv(e.main))for(let l=0;l<o.length;l++){const u=i[o[l]];if(n$(u,s)){a=u;break}}else i.main?a=i.main:o.length===1&&(a=i[o[0]]);return typeof t>"u"?a:t===null||!a?null:a.filter(l=>l.id===t.id)[0]||null},Jfe={AUDIO:(r,e)=>()=>{const{mediaTypes:{[r]:{tracks:t}}}=e;for(const n in t)if(t[n].enabled)return t[n];return null},SUBTITLES:(r,e)=>()=>{const{mediaTypes:{[r]:{tracks:t}}}=e;for(const n in t)if(t[n].mode==="showing"||t[n].mode==="hidden")return t[n];return null}},Zfe=(r,{mediaTypes:e})=>()=>{const t=e[r].activeTrack();return t?e[r].activeGroup(t):null},epe=r=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{Yfe[u](u,r)});const{mediaTypes:e,mainPlaylistLoader:t,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=r;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=Qfe(u,r),e[u].activeTrack=Jfe[u](u,r),e[u].onGroupChanged=Gfe(u,r),e[u].onGroupChanging=Kfe(u,r),e[u].onTrackChanged=Xfe(u,r),e[u].getActiveGroup=Zfe(u,r)});const o=e.AUDIO.activeGroup();if(o){const u=(o.filter(h=>h.default)[0]||o[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}t.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),t.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const u in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[u])},tpe=()=>{const r={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{r[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Dc,activeTrack:Dc,getActiveGroup:Dc,onGroupChanged:Dc,onTrackChanged:Dc,lastTrack_:null,logger_:hl(`MediaGroups[${e}]`)}}),r};let NM=class{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Oa(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(t=>[t.ID,t])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}},rpe=class extends Se.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new NM,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=hl("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const n=t.serverUri||t.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=Oa(e,n),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const t=this.steeringManifest.reloadUri;if(!t)return;const n=e?t:this.getRequestURI(t);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let o;try{o=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:Se.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const t=new X.URL(e),n=new X.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const t=JSON.parse(X.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new X.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const s=`_${this.manifestType_}_pathway`;t.searchParams.set(s,n)}if(i){const s=`_${this.manifestType_}_throughput`;t.searchParams.set(s,i)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!t(i))return i}const n=this.setSteeringParams_(e);return t(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const t=e*1e3;this.ttlTimeout_=X.setTimeout(()=>{this.requestSteeringManifest()},t)}clearTTLTimeout_(){X.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new NM}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(Oa(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}};const npe=10;let Tc;const ipe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],spe=function(r){return this.audioSegmentLoader_[r]+this.mainSegmentLoader_[r]},ape=function({currentPlaylist:r,buffered:e,currentTime:t,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!n)return Se.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${r&&r.id||"null"} -> ${n.id}`;if(!r)return l(`${u} as current playlist is not set`),!0;if(n.id===r.id)return!1;const c=!!yp(e,t).length;if(!r.endList)return!c&&typeof r.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const h=_A(e,t),f=o?Zi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Zi.MAX_BUFFER_LOW_WATER_LINE;if(a<f)return l(`${u} as duration < max low water line (${a} < ${f})`),!0;const g=n.attributes.BANDWIDTH,v=r.attributes.BANDWIDTH;if(g<v&&(!o||h<s)){let y=`${u} as next bandwidth < current bandwidth (${g} < ${v})`;return o&&(y+=` and forwardBuffer < bufferHighWaterLine (${h} < ${s})`),l(y),!0}if((!o||g>v)&&h>=i){let y=`${u} as forwardBuffer >= bufferLowWaterLine (${h} >= ${i})`;return o&&(y+=` and next bandwidth > current bandwidth (${g} > ${v})`),l(y),!0}return l(`not ${u} as no switching criteria met`),!1};let ope=class extends Se.EventTarget{constructor(e){super();const{src:t,withCredentials:n,tech:i,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:h,bufferBasedABR:f,leastPixelDiffSelector:g,captionServices:v,experimentalUseMMS:y}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:_}=e;(_===null||typeof _>"u")&&(_=1/0),Tc=a,this.bufferBasedABR=!!f,this.leastPixelDiffSelector=!!g,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=_,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:_,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=tpe(),y&&X.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new X.ManagedMediaSource,Se.log("Using ManagedMediaSource")):X.MediaSource&&(this.mediaSource=new X.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=xs(),this.hasPlayed_=!1,this.syncController_=new zfe(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new Wfe,this.sourceUpdater_=new e$(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Hfe,this.keyStatusMap_=new Map;const C={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:v,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new F2(t,this.vhs_,An(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new xp(t,this.vhs_,An(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new U2(An(C,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new U2(An(C,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new Bfe(An(C,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((I,A)=>{function R(){i.off("vttjserror",N),I()}function N(){i.off("vttjsloaded",R),A()}i.one("vttjsloaded",R),i.one("vttjserror",N),i.addWebVttScript_()})}),e);const k=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new rpe(this.vhs_.xhr,k),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),ipe.forEach(I=>{this[I+"_"]=spe.bind(this,I)}),this.logger_=hl("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const D=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(D,()=>{const I=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-I,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return e===-1||t===-1?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,n){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${t}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const t=this.mediaTypes_[e],n=t?t.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const a=(n.length?n[0].playlists:n.playlists).filter(o=>o.attributes.serviceLocation===i);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=X.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(X.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=n.main||i.length&&n[i[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return t;const a=[];for(const o in n)if(n[o][s.label]){const l=n[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const t=this.mainPlaylistLoader_.media(),n=t.targetDuration*1.5*1e3;P2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,t.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.mainSegmentLoader_.load()),epe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),t),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let t=this.mainPlaylistLoader_.media();if(!t){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;t=this.initialMedia_}this.handleUpdatedMediaPlaylist(t)}),this.mainPlaylistLoader_.on("error",()=>{const t=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:t.playlist,error:t})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const t=this.mainPlaylistLoader_.media(),n=t.targetDuration*1.5*1e3;P2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const t=this.mainPlaylistLoader_.media();if(t.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(t)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(t=>{this.mainPlaylistLoader_.on(t,n=>{this.player_.trigger(sr({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const n=e.mediaGroups||{};let i=!0;const s=Object.keys(n.AUDIO);for(const a in n.AUDIO)for(const o in n.AUDIO[a])n.AUDIO[a][o].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Tc.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return ape({buffered:a,currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const n=this.audioSegmentLoader_.pendingSegment_;if(!n||!n.segment||!n.segment.syncInfo)return;const i=n.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:npe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,i=>{this.player_.trigger(sr({},i))}),this.audioSegmentLoader_.on(n,i=>{this.player_.trigger(sr({},i))}),this.subtitleSegmentLoader_.on(n,i=>{this.player_.trigger(sr({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const n=t.end(0);let i=n;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(n+s,t.start(0)):i=Math.min(n,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,t=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();!t||t.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=Tc.Playlist.playlistEnd(e,n),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-s<=Tu;const o=a.end(a.length-1);return o-s<=Tu&&i-o<=Tu}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||t.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(GS),a=s.length===1&&s[0]===e;if(i.length===1&&n!==1/0)return Se.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const v=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(v),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(v)},y);return}let g=!1;i.forEach(v=>{if(v===e)return;const y=v.excludeUntil;typeof y<"u"&&y!==1/0&&(g=!0,delete v.excludeUntil)}),g&&(Se.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+n*1e3,e.excludeUntil=o,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=t.internal?this.logger_:Se.log.warn,c=t.message?" "+t.message:"";u(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const h=l.targetDuration/2*1e3||5*1e3,f=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=h;return this.switchMedia_(l,"exclude",a||f)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&n.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&n.push(o)}),n.forEach(a=>t.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const t=yp(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(t&&t.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Tc.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let t=this.mainPlaylistLoader_.media();if(!t)return;let n=this.syncController_.getExpiredTime(t,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,s=Tc.Playlist.seekable(t,n,Tc.Playlist.liveEdgeDelay(i,t));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(t,this.duration()),n===null||(e=Tc.Playlist.seekable(t,n,Tc.Playlist.liveEdgeDelay(i,t)),e.length===0)))return;let a,o;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=xs([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)return;this.logger_(`seekable updated [${mU(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const t=this.tech_.buffered();let n=Tc.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(n=Math.max(n,t.end(t.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const t=this.mediaTypes_[e].groups;for(const n in t)t[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!t||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=f0(this.main(),t),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||R5),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||q_}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||q_,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,c)=>u?Fu(c):Lp(c),o={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!a(e[u].isFmp4,i[u])){const c=e[u].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(i[u]),u==="audio"&&(l=c)}}),s&&l&&t.attributes.AUDIO){const u=t.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==t&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(o).length){const u=Object.keys(o).reduce((c,h)=>(c&&(c+=", "),c+=`${h} does not support codec(s): "${o[h].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const h=(Ni(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,f=(Ni(i[c]||"")[0]||{}).type;h&&f&&h.toLowerCase()!==f.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${i[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach(n=>{const i=e[n];if(t.indexOf(i.id)!==-1)return;t.push(i.id);const s=f0(this.main,i),a=[];s.audio&&!Lp(s.audio)&&!Fu(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!Lp(s.video)&&!Fu(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const t=[],n=this.main().playlists,i=cb(Ni(e)),s=wM(i),a=i.video&&Ni(i.video)[0]||null,o=i.audio&&Ni(i.audio)[0]||null;Object.keys(n).forEach(l=>{const u=n[l];if(t.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;t.push(u.id);const c=[],h=f0(this.mainPlaylistLoader_.main,u),f=wM(h);if(!(!h.audio&&!h.video)){if(f!==s&&c.push(`codec count "${f}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const g=h.video&&Ni(h.video)[0]||null,v=h.audio&&Ni(h.audio)[0]||null;g&&a&&g.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`video codec "${g.type}" !== "${a.type}"`),v&&o&&v.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${v.type}" !== "${o.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let t=0;const n=this.seekable();n.length&&(t=n.start(0)),Ufe(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=Zi.GOAL_BUFFER_LENGTH,n=Zi.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,Zi.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=Zi.BUFFER_LOW_WATER_LINE,n=Zi.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,Zi.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(t,Zi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return Zi.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){AM(this.inbandTextTracks_,"com.apple.streaming",this.tech_),vfe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();AM(this.inbandTextTracks_,e,this.tech_),pfe({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(t=>{this.contentSteeringController_.on(t,n=>{this.trigger(sr({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const t=this.main();(this.contentSteeringController_.didDASHTagChange(t.uri,t.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of t.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let s=!1;Object.keys(n).forEach(a=>{const o=n[a],l=this.pathwayAttribute_(o),u=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!u&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const h=!o.excludeUntil&&o.excludeUntil!==1/0;!i.has(o.id)&&u&&h&&(i.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const t=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[a,o]of n.entries())i.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of i.entries()){const l=n.get(a);if(!l){t.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=t["URI-REPLACEMENT"].PARAMS;for(const s in n)if(n[s]!==i[s])return!1;for(const s in i)if(n[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=n.lastExcludeReason_===t&&n.excludeUntil===1/0;o?o&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${s} is ${a}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==t&&(n.excludeUntil=1/0,n.lastExcludeReason_=t,this.logger_(`excluding playlist ${n.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,s=n.excludeUntil===1/0&&n.lastExcludeReason_===t;i&&s&&(delete n.excludeUntil,Se.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${t} key IDs`))})}addKeyStatus_(e,t){const s=(typeof e=="string"?e:Mfe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}};const lpe=(r,e,t)=>n=>{const i=r.main.playlists[e],s=SA(i),a=GS(i);if(typeof n>"u")return a;n?delete i.disabled:i.disabled=!0;const o={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return n!==a&&!s&&(t(i),n?r.trigger({type:"renditionenabled",metadata:o}):r.trigger({type:"renditiondisabled",metadata:o})),n};let upe=class{constructor(e,t,n){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(t.attributes){const a=t.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=f0(i.main(),t),this.playlist=t,this.id=n,this.enabled=lpe(e.playlists,t.id,s)}};const cpe=function(r){r.representations=()=>{const e=r.playlistController_.main(),t=wv(e)?r.playlistController_.getAudioTrackPlaylists_():e.playlists;return t?t.filter(n=>!SA(n)).map((n,i)=>new upe(r,n,n.id)):[]}},UM=["seeking","seeked","pause","playing","error"];let dpe=class extends Se.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=hl("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(h=>{a[`${h}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(UM,s),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(UM,s),this.tech_.off("canplay",n),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&X.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&X.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=X.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,n=t[`${e}SegmentLoader_`],i=n.buffered_(),s=Qde(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const a={bufferedRanges:i};t.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Kh(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Tu>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(xs([this.lastRecordedTime,e]));const n={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:n}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const t=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=t.end(t.length-1)),this.beforeSeekableWindow_(t,n)){const v=t.start(0);s=v+(v===t.end(0)?0:Tu)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${mU(t)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,c=this.media(),h=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-Su)*2,f=[l,u];for(let v=0;v<f.length;v++){if(!f[v])continue;if(_A(f[v],n)<h)return!1}const g=qy(o,n);return g.length===0?!1:(s=g.start(0)+Tu,this.logger_(`Buffered region starts (${g.start(0)})  just beyond seek point (${n}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),n=yp(t,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=qy(i,t);return a.length>0?(this.logger_(`Stopped at ${t} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0):!1}afterSeekableWindow_(e,t,n,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Tu;const a=!n.endList,o=typeof n.partTargetDuration=="number";return a&&(o||i)&&(s=e.end(e.length-1)+n.targetDuration*3),t>s}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:n}){if(!e)return;let i;if(e.length&&t.length){const s=yp(e,n-3),a=yp(e,n),o=yp(t,n);o.length&&!a.length&&s.length&&(i={start:s.end(0),end:o.end(0)})}else qy(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const t=this.tech_.buffered(),n=this.tech_.currentTime(),i=qy(t,n);if(this.resetTimeUpdate_(),i.length===0||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+Su);const s={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){const n=Kde(e);for(let i=0;i<n.length;i++){const s=n.start(i),a=n.end(i);if(t-s<4&&t-s>2)return{start:s,end:a}}return null}};const hpe={errorInterval:30,getSource(r){const t=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return r(t)}},i$=function(r,e){let t=0,n=0;const i=An(hpe,e);r.ready(()=>{r.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){n&&r.currentTime(n)},a=function(c){c!=null&&(n=r.duration()!==1/0&&r.currentTime()||0,r.one("loadedmetadata",s),r.src(c),r.trigger({type:"usage",name:"vhs-error-reload"}),r.play())},o=function(){if(Date.now()-t<i.errorInterval*1e3){r.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){Se.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return t=Date.now(),i.getSource.call(r,a)},l=function(){r.off("loadedmetadata",s),r.off("error",o),r.off("dispose",l)},u=function(c){l(),i$(r,c)};r.on("error",o),r.on("dispose",l),r.reloadSourceOnError=u},fpe=function(r){i$(this,r)};var s$="3.15.0",ppe="7.0.3",mpe="1.3.1",gpe="7.2.0",vpe="4.0.2";const ri={PlaylistLoader:xp,Playlist:Fa,utils:bhe,STANDARD_PLAYLIST_SELECTOR:kM,INITIAL_PLAYLIST_SELECTOR:ufe,lastBandwidthSelector:kM,movingAverageBandwidthSelector:ofe,comparePlaylistBandwidth:wA,comparePlaylistResolution:afe,xhr:RU()};Object.keys(Zi).forEach(r=>{Object.defineProperty(ri,r,{get(){return Se.log.warn(`using Vhs.${r} is UNSAFE be sure you know what you are doing`),Zi[r]},set(e){if(Se.log.warn(`using Vhs.${r} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Se.log.warn(`value of Vhs.${r} must be greater than or equal to 0`);return}Zi[r]=e}})});const a$="videojs-vhs",o$=function(r,e){const t=e.media();let n=-1;for(let i=0;i<r.length;i++)if(r[i].id===t.id){n=i;break}r.selectedIndex_=n,r.trigger({selectedIndex:n,type:"change"})},ype=function(r,e){e.representations().forEach(t=>{r.addQualityLevel(t)}),o$(r,e.playlists)};ri.canPlaySource=function(){return Se.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const xpe=(r,e,t)=>{if(!r)return r;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=cb(Ni(e.attributes.CODECS))),t&&t.attributes&&t.attributes.CODECS&&(n.audio=t.attributes.CODECS);const i=ju(n.video),s=ju(n.audio),a={};for(const o in r)a[o]={},s&&(a[o].audioContentType=s),i&&(a[o].videoContentType=i),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof r[o]=="string"&&(a[o].url=r[o]);return An(r,a)},_pe=(r,e)=>r.reduce((t,n)=>{if(!n.contentProtection)return t;const i=e.reduce((s,a)=>{const o=n.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(i).length&&t.push(i),t},[]),bpe=({player:r,sourceKeySystems:e,audioMedia:t,mainPlaylists:n})=>{if(!r.eme.initializeMediaKeys)return Promise.resolve();const i=t?n.concat([t]):n,s=_pe(i,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((u,c)=>{r.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,c)=>{r.eme.initializeMediaKeys({keySystems:l},h=>{if(h){c(h);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},Spe=({player:r,sourceKeySystems:e,media:t,audioMedia:n})=>{const i=xpe(e,t,n);return i?(r.currentSource().keySystems=i,i&&!r.eme?(Se.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},l$=()=>{if(!X.localStorage)return null;const r=X.localStorage.getItem(a$);if(!r)return null;try{return JSON.parse(r)}catch{return null}},Tpe=r=>{if(!X.localStorage)return!1;let e=l$();e=e?An(e,r):r;try{X.localStorage.setItem(a$,JSON.stringify(e))}catch{return!1}return e},Cpe=r=>r.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(r.substring(r.indexOf(",")+1)):r,u$=(r,e)=>{r._requestCallbackSet||(r._requestCallbackSet=new Set),r._requestCallbackSet.add(e)},c$=(r,e)=>{r._responseCallbackSet||(r._responseCallbackSet=new Set),r._responseCallbackSet.add(e)},d$=(r,e)=>{r._requestCallbackSet&&(r._requestCallbackSet.delete(e),r._requestCallbackSet.size||delete r._requestCallbackSet)},h$=(r,e)=>{r._responseCallbackSet&&(r._responseCallbackSet.delete(e),r._responseCallbackSet.size||delete r._responseCallbackSet)};ri.supportsNativeHls=(function(){if(!Be||!Be.createElement)return!1;const r=Be.createElement("video");return Se.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(r.canPlayType(t))}):!1})();ri.supportsNativeDash=(function(){return!Be||!Be.createElement||!Se.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Be.createElement("video").canPlayType("application/dash+xml"))})();ri.supportsTypeNatively=r=>r==="hls"?ri.supportsNativeHls:r==="dash"?ri.supportsNativeDash:!1;ri.isSupported=function(){return Se.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};ri.xhr.onRequest=function(r){u$(ri.xhr,r)};ri.xhr.onResponse=function(r){c$(ri.xhr,r)};ri.xhr.offRequest=function(r){d$(ri.xhr,r)};ri.xhr.offResponse=function(r){h$(ri.xhr,r)};const wpe=Se.getComponent("Component");let f$=class extends wpe{constructor(e,t,n){if(super(t,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=hl("VhsHandler"),t.options_&&t.options_.playerId){const i=Se.getPlayer(t.options_.playerId);this.player_=i}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Be,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=Be.fullscreenElement||Be.webkitFullscreenElement||Be.mozFullScreenElement||Be.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=An(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=l$();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Zi.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Zi.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const t=this.options_.customPixelRatio;typeof t=="number"&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;this.setOptions_(),this.options_.src=Cpe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ri,this.options_.sourceType=DS(t),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new ope(this.options_);const n=An({liveRangeSafeTimeDelta:Tu},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new dpe(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=Se.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?ri.movingAverageBandwidthSelector(.55):ri.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=ri.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=X.navigator.connection||X.navigator.mozConnection||X.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){Se.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Kh(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Kh(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&Tpe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{cpe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=X.URL.createObjectURL(this.playlistController_.mediaSource),(Se.browser.IS_ANY_SAFARI||Se.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),bpe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(t=>{this.logger_("error while creating EME key session",t),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=Spe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!t){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Se.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{ype(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{o$(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":s$,"mux.js":ppe,"mpd-parser":mpe,"m3u8-parser":gpe,"aes-decrypter":vpe}}version(){return this.constructor.version()}canChangeType(){return e$.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&X.URL.revokeObjectURL&&(X.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return Ahe({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,n=!0,i=2){return BU({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{u$(this.xhr,e)},this.xhr.onResponse=e=>{c$(this.xhr,e)},this.xhr.offRequest=e=>{d$(this.xhr,e)},this.xhr.offResponse=e=>{h$(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],t=["gapjumped","playedrangeschanged"];e.forEach(n=>{this.playlistController_.on(n,i=>{this.player_.trigger(sr({},i))})}),t.forEach(n=>{this.playbackWatcher_.on(n,i=>{this.player_.trigger(sr({},i))})})}};const fb={name:"videojs-http-streaming",VERSION:s$,canHandleSource(r,e={}){const t=An(Se.options,e);return!t.vhs.experimentalUseMMS&&!Fu("avc1.4d400d,mp4a.40.2",!1)?!1:fb.canPlayType(r.type,t)},handleSource(r,e,t={}){const n=An(Se.options,t);return e.vhs=new f$(r,e,n),e.vhs.xhr=RU(),e.vhs.setupXhrHooks_(),e.vhs.src(r.src,r.type),e.vhs},canPlayType(r,e){const t=DS(r);if(!t)return"";const n=fb.getOverrideNative(e);return!ri.supportsTypeNatively(t)||n?"maybe":""},getOverrideNative(r={}){const{vhs:e={}}=r,t=!(Se.browser.IS_ANY_SAFARI||Se.browser.IS_IOS),{overrideNative:n=t}=e;return n}},Epe=()=>Fu("avc1.4d400d,mp4a.40.2",!0);Epe()&&Se.getTech("Html5").registerSourceHandler(fb,0);Se.VhsHandler=f$;Se.VhsSourceHandler=fb;Se.Vhs=ri;Se.use||Se.registerComponent("Vhs",ri);Se.options.vhs=Se.options.vhs||{};(!Se.getPlugin||!Se.getPlugin("reloadSourceOnError"))&&Se.registerPlugin("reloadSourceOnError",fpe);/*! @name @videojs/http-streaming @version 3.15.0 @license Apache-2.0 */const Ma=yv,pb=(r,e)=>e&&e.responseURL&&r!==e.responseURL?e.responseURL:r,fl=r=>Se.log.debug?Se.log.debug.bind(Se,"VHS:",`${r} >`):function(){};function Dn(...r){const e=Se.obj||Se;return(e.merge||e.mergeOptions).apply(e,r)}function _s(...r){const e=Se.time||Se;return(e.createTimeRanges||e.createTimeRanges).apply(e,r)}function kpe(r){if(r.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let t=0;t<r.length;t++){const n=r.start(t),i=r.end(t);e+=`${n} --> ${i}. Duration (${i-n})
`}return e}const wu=1/30,Eu=wu*3,p$=function(r,e){const t=[];let n;if(r&&r.length)for(n=0;n<r.length;n++)e(r.start(n),r.end(n))&&t.push([r.start(n),r.end(n)]);return _s(t)},_p=function(r,e){return p$(r,function(t,n){return t-Eu<=e&&n+Eu>=e})},Xy=function(r,e){return p$(r,function(t){return t-wu>=e})},Ape=function(r){if(r.length<2)return _s();const e=[];for(let t=1;t<r.length;t++){const n=r.end(t-1),i=r.start(t);e.push([n,i])}return _s(e)},Dpe=function(r,e){let t=null,n=null,i=0;const s=[],a=[];if(!r||!r.length||!e||!e.length)return _s();let o=r.length;for(;o--;)s.push({time:r.start(o),type:"start"}),s.push({time:r.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,u){return l.time-u.time}),o=0;o<s.length;o++)s[o].type==="start"?(i++,i===2&&(t=s[o].time)):s[o].type==="end"&&(i--,i===1&&(n=s[o].time)),t!==null&&n!==null&&(a.push([t,n]),t=null,n=null);return _s(a)},m$=r=>{const e=[];if(!r||!r.length)return"";for(let t=0;t<r.length;t++)e.push(r.start(t)+" => "+r.end(t));return e.join(", ")},Ipe=function(r,e,t=1){return((r.length?r.end(r.length-1):0)-e)/t},Xh=r=>{const e=[];for(let t=0;t<r.length;t++)e.push({start:r.start(t),end:r.end(t)});return e},Ppe=function(r,e){if(r===e)return!1;if(!r&&e||!e&&r||r.length!==e.length)return!0;for(let t=0;t<r.length;t++)if(r.start(t)!==e.start(t)||r.end(t)!==e.end(t))return!0;return!1},zC=function(r){if(!(!r||!r.length||!r.end))return r.end(r.length-1)},EA=function(r,e){let t=0;if(!r||!r.length)return t;for(let n=0;n<r.length;n++){const i=r.start(n),s=r.end(n);if(!(e>s)){if(e>i&&e<=s){t+=s-e;continue}t+=s-i}}return t},kA=(r,e)=>{if(!e.preload)return e.duration;let t=0;return(e.parts||[]).forEach(function(n){t+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(t+=r.partTargetDuration)}),t},z2=r=>(r.segments||[]).reduce((e,t,n)=>(t.parts?t.parts.forEach(function(i,s){e.push({duration:i.duration,segmentIndex:n,partIndex:s,part:i,segment:t})}):e.push({duration:t.duration,segmentIndex:n,partIndex:null,segment:t,part:null}),e),[]),g$=r=>{const e=r.segments&&r.segments.length&&r.segments[r.segments.length-1];return e&&e.parts||[]},v$=({preloadSegment:r})=>{if(!r)return;const{parts:e,preloadHints:t}=r;let n=(t||[]).reduce((i,s)=>i+(s.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},y$=(r,e)=>{if(e.endList)return 0;if(r&&r.suggestedPresentationDelay)return r.suggestedPresentationDelay;const t=g$(e).length>0;return t&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:t&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},Rpe=function(r,e){let t=0,n=e-r.mediaSequence,i=r.segments[n];if(i){if(typeof i.start<"u")return{result:i.start,precise:!0};if(typeof i.end<"u")return{result:i.end-i.duration,precise:!0}}for(;n--;){if(i=r.segments[n],typeof i.end<"u")return{result:t+i.end,precise:!0};if(t+=kA(r,i),typeof i.start<"u")return{result:t+i.start,precise:!0}}return{result:t,precise:!1}},Lpe=function(r,e){let t=0,n,i=e-r.mediaSequence;for(;i<r.segments.length;i++){if(n=r.segments[i],typeof n.start<"u")return{result:n.start-t,precise:!0};if(t+=kA(r,n),typeof n.end<"u")return{result:n.end-t,precise:!0}}return{result:-1,precise:!1}},x$=function(r,e,t){if(typeof e>"u"&&(e=r.mediaSequence+r.segments.length),e<r.mediaSequence)return 0;const n=Rpe(r,e);if(n.precise)return n.result;const i=Lpe(r,e);return i.precise?i.result:n.result+t},_$=function(r,e,t){if(!r)return 0;if(typeof t!="number"&&(t=0),typeof e>"u"){if(r.totalDuration)return r.totalDuration;if(!r.endList)return X.Infinity}return x$(r,e,t)},p0=function({defaultDuration:r,durationList:e,startIndex:t,endIndex:n}){let i=0;if(t>n&&([t,n]=[n,t]),t<0){for(let s=t;s<Math.min(0,n);s++)i+=r;t=0}for(let s=t;s<n;s++)i+=e[s].duration;return i},b$=function(r,e,t,n){if(!r||!r.segments)return null;if(r.endList)return _$(r);if(e===null)return null;e=e||0;let i=x$(r,r.mediaSequence+r.segments.length,e);return t&&(n=typeof n=="number"?n:y$(null,r),i-=n),Math.max(0,i)},Ope=function(r,e,t){const i=e||0;let s=b$(r,e,!0,t);return s===null?_s():(s<i&&(s=i),_s(i,s))},Mpe=function({playlist:r,currentTime:e,startingSegmentIndex:t,startingPartIndex:n,startTime:i,exactManifestTimings:s}){let a=e-i;const o=z2(r);let l=0;for(let u=0;u<o.length;u++){const c=o[u];if(t===c.segmentIndex&&!(typeof n=="number"&&typeof c.partIndex=="number"&&n!==c.partIndex)){l=u;break}}if(a<0){if(l>0)for(let u=l-1;u>=0;u--){const c=o[u];if(a+=c.duration,s){if(a<0)continue}else if(a+wu<=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i-p0({defaultDuration:r.targetDuration,durationList:o,startIndex:l,endIndex:u})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let u=l;u<0;u++)if(a-=r.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let u=l;u<o.length;u++){const c=o[u];a-=c.duration;const h=c.duration>wu,f=a===0,g=h&&a+wu>=0;if(!((f||g)&&u!==o.length-1)){if(s){if(a>0)continue}else if(a-wu>=0)continue;return{partIndex:c.partIndex,segmentIndex:c.segmentIndex,startTime:i+p0({defaultDuration:r.targetDuration,durationList:o,startIndex:l,endIndex:u})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},S$=function(r){return r.excludeUntil&&r.excludeUntil>Date.now()},AA=function(r){return r.excludeUntil&&r.excludeUntil===1/0},KS=function(r){const e=S$(r);return!r.disabled&&!e},Fpe=function(r){return r.disabled},Bpe=function(r){for(let e=0;e<r.segments.length;e++)if(r.segments[e].key)return!0;return!1},T$=function(r,e){return e.attributes&&e.attributes[r]},Npe=function(r,e,t,n=0){return T$("BANDWIDTH",t)?(r*t.attributes.BANDWIDTH-n*8)/e:NaN},H2=(r,e)=>{if(r.playlists.length===1)return!0;const t=e.attributes.BANDWIDTH||Number.MAX_VALUE;return r.playlists.filter(n=>KS(n)?(n.attributes.BANDWIDTH||0)<t:!1).length===0},DA=(r,e)=>!r&&!e||!r&&e||r&&!e?!1:!!(r===e||r.id&&e.id&&r.id===e.id||r.resolvedUri&&e.resolvedUri&&r.resolvedUri===e.resolvedUri||r.uri&&e.uri&&r.uri===e.uri),$M=function(r,e){const t=r&&r.mediaGroups&&r.mediaGroups.AUDIO||{};let n=!1;for(const i in t){for(const s in t[i])if(n=e(t[i][s]),n)break;if(n)break}return!!n},Ev=r=>{if(!r||!r.playlists||!r.playlists.length)return $M(r,t=>t.playlists&&t.playlists.length||t.uri);for(let e=0;e<r.playlists.length;e++){const t=r.playlists[e],n=t.attributes&&t.attributes.CODECS;if(!(n&&n.split(",").every(s=>zk(s))||$M(r,s=>DA(t,s))))return!1}return!0};var Ba={liveEdgeDelay:y$,duration:_$,seekable:Ope,getMediaInfoForTime:Mpe,isEnabled:KS,isDisabled:Fpe,isExcluded:S$,isIncompatible:AA,playlistEnd:b$,isAes:Bpe,hasAttribute:T$,estimateSegmentRequestTime:Npe,isLowestEnabledRendition:H2,isAudioOnly:Ev,playlistMatch:DA,segmentDurationWithParts:kA};const{log:C$}=Se,jp=(r,e)=>`${r}-${e}`,w$=(r,e,t)=>`placeholder-uri-${r}-${e}-${t}`,Upe=({onwarn:r,oninfo:e,manifestString:t,customTagParsers:n=[],customTagMappers:i=[],llhls:s})=>{const a=new I5;r&&a.on("warn",r),e&&a.on("info",e),n.forEach(u=>a.addParser(u)),i.forEach(u=>a.addTagMapper(u)),a.push(t),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(u){o.hasOwnProperty(u)&&delete o[u]}),o.segments&&o.segments.forEach(function(u){["parts","preloadHints"].forEach(function(c){u.hasOwnProperty(c)&&delete u[c]})})),!o.targetDuration){let u=10;o.segments&&o.segments.length&&(u=o.segments.reduce((c,h)=>Math.max(c,h.duration),0)),r&&r({message:`manifest has no targetDuration defaulting to ${u}`}),o.targetDuration=u}const l=g$(o);if(l.length&&!o.partTargetDuration){const u=l.reduce((c,h)=>Math.max(c,h.duration),0);r&&(r({message:`manifest has no partTargetDuration defaulting to ${u}`}),C$.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=u}return o},Nm=(r,e)=>{r.mediaGroups&&["AUDIO","SUBTITLES"].forEach(t=>{if(r.mediaGroups[t])for(const n in r.mediaGroups[t])for(const i in r.mediaGroups[t][n]){const s=r.mediaGroups[t][n][i];e(s,t,n,i)}})},E$=({playlist:r,uri:e,id:t})=>{r.id=t,r.playlistErrors_=0,e&&(r.uri=e),r.attributes=r.attributes||{}},$pe=r=>{let e=r.playlists.length;for(;e--;){const t=r.playlists[e];E$({playlist:t,id:jp(e,t.uri)}),t.resolvedUri=Ma(r.uri,t.uri),r.playlists[t.id]=t,r.playlists[t.uri]=t,t.attributes.BANDWIDTH||C$.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},jpe=r=>{Nm(r,e=>{e.uri&&(e.resolvedUri=Ma(r.uri,e.uri))})},zpe=(r,e)=>{const t=jp(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:X.location.href,resolvedUri:X.location.href,playlists:[{uri:e,id:t,resolvedUri:e,attributes:{}}]};return n.playlists[t]=n.playlists[0],n.playlists[e]=n.playlists[0],n},k$=(r,e,t=w$)=>{r.uri=e;for(let i=0;i<r.playlists.length;i++)if(!r.playlists[i].uri){const s=`placeholder-uri-${i}`;r.playlists[i].uri=s}const n=Ev(r);Nm(r,(i,s,a,o)=>{if(!i.playlists||!i.playlists.length){if(n&&s==="AUDIO"&&!i.uri)for(let l=0;l<r.playlists.length;l++){const u=r.playlists[l];if(u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===a)return}i.playlists=[sr({},i)]}i.playlists.forEach(function(l,u){const c=t(s,a,o,l),h=jp(u,c);l.uri?l.resolvedUri=l.resolvedUri||Ma(r.uri,l.uri):(l.uri=u===0?c:h,l.resolvedUri=l.uri),l.id=l.id||h,l.attributes=l.attributes||{},r.playlists[l.id]=l,r.playlists[l.uri]=l})}),$pe(r),jpe(r)};class jM{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[t]=e;t.programDateTime!==void 0&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,n=t.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((i,s)=>(i.set(s.id,s),i),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},t=[];this.pendingDateRanges_.forEach((n,i)=>{if(!this.processedDateRanges_.has(i)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),t.push(n),!!n.class))if(e[n.class]){const s=e[n.class].push(n);n.classListIndex=s-1}else e[n.class]=[n],n.classListIndex=0});for(const n of t){const i=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&i[n.classListIndex+1]?n.endTime=i[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const A$=22,of=({requestType:r,request:e,error:t,parseFailure:n})=>{const i=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:r},o=i&&!s||n;if(t&&s)a.error=sr({},t),a.errorType=Se.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=Se.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=Se.Error.NetworkRequestTimeout;else if(o){const l=n?Se.Error.NetworkBodyParserFailed:Se.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:Hpe}=Se,Vpe=(r,e)=>{if(e.endList||!e.serverControl)return r;const t={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let i=e.mediaSequence+e.segments.length;if(n){const s=n.parts||[],a=v$(e)-1;a>-1&&a!==s.length-1&&(t._HLS_part=a),(a>-1||s.length)&&i--}t._HLS_msn=i}if(e.serverControl&&e.serverControl.canSkipUntil&&(t._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(t).length){const n=new X.URL(r);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(i){t.hasOwnProperty(i)&&n.searchParams.set(i,t[i])}),r=n.toString()}return r},Wpe=(r,e)=>{if(!r)return e;const t=Dn(r,e);if(r.preloadHints&&!e.preloadHints&&delete t.preloadHints,r.parts&&!e.parts)delete t.parts;else if(r.parts&&e.parts)for(let n=0;n<e.parts.length;n++)r.parts&&r.parts[n]&&(t.parts[n]=Dn(r.parts[n],e.parts[n]));return!r.skipped&&e.skipped&&(t.skipped=!1),r.preload&&!e.preload&&(t.preload=!1),t},qpe=(r,e,t)=>{const n=r.slice(),i=e.slice();t=t||0;const s=[];let a;for(let o=0;o<i.length;o++){const l=n[o+t],u=i[o];l?(a=l.map||a,s.push(Wpe(l,u))):(a&&!u.map&&(u.map=a),s.push(u))}return s},D$=(r,e)=>{!r.resolvedUri&&r.uri&&(r.resolvedUri=Ma(e,r.uri)),r.key&&!r.key.resolvedUri&&(r.key.resolvedUri=Ma(e,r.key.uri)),r.map&&!r.map.resolvedUri&&(r.map.resolvedUri=Ma(e,r.map.uri)),r.map&&r.map.key&&!r.map.key.resolvedUri&&(r.map.key.resolvedUri=Ma(e,r.map.key.uri)),r.parts&&r.parts.length&&r.parts.forEach(t=>{t.resolvedUri||(t.resolvedUri=Ma(e,t.uri))}),r.preloadHints&&r.preloadHints.length&&r.preloadHints.forEach(t=>{t.resolvedUri||(t.resolvedUri=Ma(e,t.uri))})},I$=function(r){const e=r.segments||[],t=r.preloadSegment;if(t&&t.parts&&t.parts.length){if(t.preloadHints){for(let n=0;n<t.preloadHints.length;n++)if(t.preloadHints[n].type==="MAP")return e}t.duration=r.targetDuration,t.preload=!0,e.push(t)}return e},P$=(r,e)=>r===e||r.segments&&e.segments&&r.segments.length===e.segments.length&&r.endList===e.endList&&r.mediaSequence===e.mediaSequence&&r.preloadSegment===e.preloadSegment,V2=(r,e,t=P$)=>{const n=Dn(r,{}),i=n.playlists[e.id];if(!i||t(i,e))return null;e.segments=I$(e);const s=Dn(i,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,i.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=qpe(i.segments,e.segments,e.mediaSequence-i.mediaSequence)}s.segments.forEach(a=>{D$(a,s.resolvedUri)});for(let a=0;a<n.playlists.length;a++)n.playlists[a].id===e.id&&(n.playlists[a]=s);return n.playlists[e.id]=s,n.playlists[e.uri]=s,Nm(r,(a,o,l,u)=>{if(a.playlists)for(let c=0;c<a.playlists.length;c++)e.id===a.playlists[c].id&&(a.playlists[c]=s)}),n},W2=(r,e)=>{const t=r.segments||[],n=t[t.length-1],i=n&&n.parts&&n.parts[n.parts.length-1],s=i&&i.duration||n&&n.duration;return e&&s?s*1e3:(r.partTargetDuration||r.targetDuration||10)*500},zM=(r,e,t)=>{if(!r)return;const n=[];return r.forEach(i=>{if(!i.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=i.attributes;n.push({id:i.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:t,renditions:n}};let bp=class extends Hpe{constructor(e,t,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=fl("PlaylistLoader");const{withCredentials:i=!1}=n;this.src=e,this.vhs_=t,this.withCredentials=i,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const s=t.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new jM,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();!t.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let t=Ma(this.main.uri,e.uri);this.llhls&&(t=Vpe(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,t,n){const{uri:i,id:s}=t;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${i}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:of({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:t}){try{return Upe({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(n){this.error=n,this.error.metadata={errorType:Se.Error.StreamingHlsPlaylistParserError,error:n}}}haveMetadata({playlistString:e,playlistObject:t,url:n,id:i}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:s});const a=t||this.parseManifest_({url:n,manifestString:e});a.lastRequest=Date.now(),E$({playlist:a,uri:n,id:i});const o=V2(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[i]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(W2(this.media(),!!o)),s.parsedPlaylist=zM(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),X.clearTimeout(this.mediaUpdateTimeout),X.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new jM,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(X.clearTimeout(this.finalRenditionTimeout),t){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=X.setTimeout(this.media.bind(this,e,!1),o);return}const n=this.state,i=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(W2(e,!0)),!i)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=pb(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const n=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=X.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=X.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=X.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(t,n)=>{if(!this.request)return;if(this.request=null,t)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:of({requestType:n.requestType,request:n,error:t})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=pb(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const i=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=zM(i.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(i)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,k$(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=I$(n),n.segments.forEach(i=>{D$(i,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const t=this.srcUri()||X.location.href;this.main=zpe(e,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,t){const n=this.main,i=e.ID;let s=n.playlists.length;for(;s--;){const a=n.playlists[s];if(a.attributes["PATHWAY-ID"]===i){const o=a.resolvedUri,l=a.id;if(t){const u=this.createCloneURI_(a.resolvedUri,e),c=jp(i,u),h=this.createCloneAttributes_(i,a.attributes),f=this.createClonePlaylist_(a,c,e,h);n.playlists[s]=f,n.playlists[c]=f,n.playlists[u]=f}else n.playlists.splice(s,1);delete n.playlists[l],delete n.playlists[o]}}this.updateOrDeleteCloneMedia(e,t)}updateOrDeleteCloneMedia(e,t){const n=this.main,i=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!n.mediaGroups[s]||!n.mediaGroups[s][i])){for(const a in n.mediaGroups[s])if(a===i){for(const o in n.mediaGroups[s][a])n.mediaGroups[s][a][o].playlists.forEach((u,c)=>{const h=n.playlists[u.id],f=h.id,g=h.resolvedUri;delete n.playlists[f],delete n.playlists[g]});delete n.mediaGroups[s][a]}}}),t&&this.createClonedMediaGroups_(e)}addClonePathway(e,t={}){const n=this.main,i=n.playlists.length,s=this.createCloneURI_(t.resolvedUri,e),a=jp(e.ID,s),o=this.createCloneAttributes_(e.ID,t.attributes),l=this.createClonePlaylist_(t,a,e,o);n.playlists[i]=l,n.playlists[a]=l,n.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const t=e.ID,n=e["BASE-ID"],i=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||i.mediaGroups[s][t]))for(const a in i.mediaGroups[s]){if(a===n)i.mediaGroups[s][t]={};else continue;for(const o in i.mediaGroups[s][a]){const l=i.mediaGroups[s][a][o];i.mediaGroups[s][t][o]=sr({},l);const u=i.mediaGroups[s][t][o],c=this.createCloneURI_(l.resolvedUri,e);u.resolvedUri=c,u.uri=c,u.playlists=[],l.playlists.forEach((h,f)=>{const g=i.playlists[h.id],v=w$(s,t,o),y=jp(t,v);if(g&&!i.playlists[y]){const _=this.createClonePlaylist_(g,y,e),C=_.resolvedUri;i.playlists[y]=_,i.playlists[C]=_}u.playlists[f]=this.createClonePlaylist_(h,y,e)})}}})}createClonePlaylist_(e,t,n,i){const s=this.createCloneURI_(e.resolvedUri,n),a={resolvedUri:s,uri:s,id:t};return e.segments&&(a.segments=[]),i&&(a.attributes=i),Dn(e,a)}createCloneURI_(e,t){const n=new URL(e);n.hostname=t["URI-REPLACEMENT"].HOST;const i=t["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(i))n.searchParams.set(s,i[s]);return n.href}createCloneAttributes_(e,t){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(i=>{t[i]&&(n[i]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes.keyId;i&&t.add(i.toLowerCase())}return t}}};const q2=function(r,e,t,n){const i=r.responseType==="arraybuffer"?r.response:r.responseText;!e&&i&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=i.byteLength||i.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),t.headers&&(r.responseHeaders=t.headers),e&&e.code==="ETIMEDOUT"&&(r.timedout=!0),!e&&!r.aborted&&t.statusCode!==200&&t.statusCode!==206&&t.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(r&&(i||r.responseText)))),n(e,r)},Gpe=(r,e)=>{if(!r||!r.size)return;let t=e;return r.forEach(n=>{t=n(t)}),t},Kpe=(r,e,t,n)=>{!r||!r.size||r.forEach(i=>{i(e,t,n)})},R$=function(){const r=function e(t,n){t=Dn({timeout:45e3},t);const i=e.beforeRequest||Se.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||Se.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||Se.Vhs.xhr._responseCallbackSet;i&&typeof i=="function"&&(Se.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(i));const o=Se.Vhs.xhr.original===!0?Se.xhr:Se.Vhs.xhr,l=Gpe(s,t);s.delete(i);const u=o(l||t,function(h,f){return Kpe(a,u,h,f),q2(u,h,f,n)}),c=u.abort;return u.abort=function(){return u.aborted=!0,c.apply(u,arguments)},u.uri=t.uri,u.requestType=t.requestType,u.requestTime=Date.now(),u};return r.original=!0,r},Xpe=function(r){let e;const t=r.offset;return typeof r.offset=="bigint"||typeof r.length=="bigint"?e=X.BigInt(r.offset)+X.BigInt(r.length)-X.BigInt(1):e=r.offset+r.length-1,"bytes="+t+"-"+e},G2=function(r){const e={};return r.byterange&&(e.Range=Xpe(r.byterange)),e},Ype=function(r,e){return r.start(e)+"-"+r.end(e)},Qpe=function(r,e){const t=r.toString(16);return"00".substring(0,2-t.length)+t+(e%2?" ":"")},Jpe=function(r){return r>=32&&r<126?String.fromCharCode(r):"."},L$=function(r){const e={};return Object.keys(r).forEach(t=>{const n=r[t];Hk(n)?e[t]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[t]=n}),e},mb=function(r){const e=r.byterange||{length:1/0,offset:0};return[e.length,e.offset,r.resolvedUri].join(",")},O$=function(r){return r.resolvedUri},M$=r=>{const e=Array.prototype.slice.call(r),t=16;let n="",i,s;for(let a=0;a<e.length/t;a++)i=e.slice(a*t,a*t+t).map(Qpe).join(""),s=e.slice(a*t,a*t+t).map(Jpe).join(""),n+=i+" "+s+`
`;return n},Zpe=({bytes:r})=>M$(r),eme=r=>{let e="",t;for(t=0;t<r.length;t++)e+=Ype(r,t)+" ";return e};var tme=Object.freeze({__proto__:null,createTransferableMessage:L$,initSegmentId:mb,segmentKeyId:O$,hexDump:M$,tagDump:Zpe,textRanges:eme});const F$=.25,rme=(r,e)=>{if(!e.dateTimeObject)return null;const t=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+t,s=r-i;return new Date(e.dateTimeObject.getTime()+s*1e3)},nme=r=>r.transmuxedPresentationEnd-r.transmuxedPresentationStart-r.transmuxerPrependedSeconds,ime=(r,e)=>{let t;try{t=new Date(r)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(t<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const u=new Date(e.segments[l+1].dateTimeObject);if(t<u)break}const i=e.segments[e.segments.length-1],s=i.dateTimeObject,a=i.videoTimingInfo?nme(i.videoTimingInfo):i.duration+i.duration*F$,o=new Date(s.getTime()+a*1e3);return t>o?null:(t>new Date(s)&&(n=i),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:Ba.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},sme=(r,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let t=0,n;for(let s=0;s<e.segments.length&&(n=e.segments[s],t=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:t+n.duration,!(r<=t));s++);const i=e.segments[e.segments.length-1];if(i.videoTimingInfo&&i.videoTimingInfo.transmuxedPresentationEnd<r)return null;if(r>t){if(r>t+i.duration*F$)return null;n=i}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:t-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},ame=(r,e)=>{let t,n;try{t=new Date(r),n=new Date(e)}catch{}const i=t.getTime();return(n.getTime()-i)/1e3},ome=r=>{if(!r.segments||r.segments.length===0)return!1;for(let e=0;e<r.segments.length;e++)if(!r.segments[e].dateTimeObject)return!1;return!0},lme=({playlist:r,time:e=void 0,callback:t})=>{if(!t)throw new Error("getProgramTime: callback must be provided");if(!r||e===void 0)return t({message:"getProgramTime: playlist and time must be provided"});const n=sme(e,r);if(!n)return t({message:"valid programTime was not found"});if(n.type==="estimate")return t({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const i={mediaSeconds:e},s=rme(e,n.segment);return s&&(i.programDateTime=s.toISOString()),t(null,i)},B$=({programTime:r,playlist:e,retryCount:t=2,seekTo:n,pauseAfterSeek:i=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof r>"u"||!e||!n)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!ome(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=ime(r,e);if(!o)return a({message:`${r} was not found in the stream`});const l=o.segment,u=ame(l.dateTimeObject,r);if(o.type==="estimate"){if(t===0)return a({message:`${r} is not buffered yet. Try again`});n(o.estimatedStart+u),s.one("seeked",()=>{B$({programTime:r,playlist:e,retryCount:t-1,seekTo:n,pauseAfterSeek:i,tech:s,callback:a})});return}const c=l.start+u,h=()=>a(null,s.currentTime());s.one("seeked",h),i&&s.pause(),n(c)},HC=(r,e)=>{if(r.readyState===4)return e()},ume=(r,e,t,n)=>{let i=[],s,a=!1;const o=function(h,f,g,v){return f.abort(),a=!0,t(h,f,g,v)},l=function(h,f){if(a)return;if(h)return h.metadata=of({requestType:n,request:f,error:h}),o(h,f,"",i);const g=f.responseText.substring(i&&i.byteLength||0,f.responseText.length);if(i=L5(i,Vk(g,!0)),s=s||gp(i),i.length<10||s&&i.length<s+2)return HC(f,()=>o(h,f,"",i));const v=Dm(i);return v==="ts"&&i.length<188?HC(f,()=>o(h,f,"",i)):!v&&i.length<376?HC(f,()=>o(h,f,"",i)):o(null,f,v,i)},c=e({uri:r,beforeSend(h){h.overrideMimeType("text/plain; charset=x-user-defined"),h.addEventListener("progress",function({total:f,loaded:g}){return q2(h,null,{statusCode:h.status},l)})}},function(h,f){return q2(c,h,f,l)});return c},{EventTarget:cme}=Se,HM=function(r,e){if(!P$(r,e)||r.sidx&&e.sidx&&(r.sidx.offset!==e.sidx.offset||r.sidx.length!==e.sidx.length))return!1;if(!r.sidx&&e.sidx||r.sidx&&!e.sidx||r.segments&&!e.segments||!r.segments&&e.segments)return!1;if(!r.segments&&!e.segments)return!0;for(let t=0;t<r.segments.length;t++){const n=r.segments[t],i=e.segments[t];if(n.uri!==i.uri)return!1;if(!n.byterange&&!i.byterange)continue;const s=n.byterange,a=i.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},dme=(r,e,t,n)=>{const i=n.attributes.NAME||t;return`placeholder-uri-${r}-${e}-${i}`},hme=({mainXml:r,srcUrl:e,clientOffset:t,sidxMapping:n,previousManifest:i})=>{const s=z5(r,{manifestUri:e,clientOffset:t,sidxMapping:n,previousManifest:i});return k$(s,e,dme),s},fme=(r,e)=>{Nm(r,(t,n,i,s)=>{(!e.mediaGroups[n][i]||!(s in e.mediaGroups[n][i]))&&delete r.mediaGroups[n][i][s]})},pme=(r,e,t)=>{let n=!0,i=Dn(r,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=Ef(a.sidx);t&&t[l]&&t[l].sidx&&xv(a,t[l].sidx,a.sidx.resolvedUri)}const o=V2(i,a,HM);o&&(i=o,n=!1)}return Nm(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const u=s.playlists[0].id,c=V2(i,s.playlists[0],HM);c&&(i=c,l in i.mediaGroups[a][o]||(i.mediaGroups[a][o][l]=s),i.mediaGroups[a][o][l].playlists[0]=i.playlists[u],n=!1)}}),fme(i,e),e.minimumUpdatePeriod!==r.minimumUpdatePeriod&&(n=!1),n?null:i},mme=(r,e)=>(!r.map&&!e.map||!!(r.map&&e.map&&r.map.byterange.offset===e.map.byterange.offset&&r.map.byterange.length===e.map.byterange.length))&&r.uri===e.uri&&r.byterange.offset===e.byterange.offset&&r.byterange.length===e.byterange.length,VM=(r,e)=>{const t={};for(const n in r){const s=r[n].sidx;if(s){const a=Ef(s);if(!e[a])break;const o=e[a].sidxInfo;mme(o,s)&&(t[a]=e[a])}}return t},gme=(r,e)=>{let n=VM(r.playlists,e);return Nm(r,(i,s,a,o)=>{if(i.playlists&&i.playlists.length){const l=i.playlists;n=Dn(n,VM(l,e))}}),n};let K2=class extends cme{constructor(e,t,n={},i){super(),this.mainPlaylistLoader_=i||this,i||(this.isMain_=!0);const{withCredentials:s=!1}=n;if(this.vhs_=t,this.withCredentials=s,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=fl("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,t,n){const i=e.sidx&&Ef(e.sidx);if(!e.sidx||!i||this.mainPlaylistLoader_.sidxMapping_[i]){this.mediaRequest_=X.setTimeout(()=>n(!1),0);return}const s=pb(e.sidx.resolvedUri),a=(l,u)=>{if(this.requestErrored_(l,u,t))return;const c=this.mainPlaylistLoader_.sidxMapping_,{requestType:h}=u;let f;try{f=V5(br(u.response).subarray(8))}catch(g){g.metadata=of({requestType:h,request:u,parseFailure:!0}),this.requestErrored_(g,u,t);return}return c[i]={sidxInfo:e.sidx,sidx:f},xv(e,f,e.sidx.resolvedUri),n(!0)},o="dash-sidx";this.request=ume(s,this.vhs_.xhr,(l,u,c,h)=>{if(l)return a(l,u);if(!c||c!=="mp4"){const v=c||"unknown";return a({status:u.status,message:`Unsupported ${v} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},u)}const{offset:f,length:g}=e.sidx.byterange;if(h.length>=g+f)return a(l,{response:h.subarray(f,f+g),status:u.status,uri:u.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:G2({byterange:e.sidx.byterange})},a)},o)}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},X.clearTimeout(this.minimumUpdatePeriodTimeout_),X.clearTimeout(this.mediaRequest_),X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,i=>{this.haveMetadata({startingState:t,playlist:e})}))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,this.mediaRequest_=null,this.refreshMedia_(t.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(X.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const n=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=X.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){this.mediaRequest_=X.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,t)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:t}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,i)=>{if(n){const{requestType:a}=i;n.metadata=of({requestType:a,request:i,error:n})}if(this.requestErrored_(n,i)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:t});const s=i.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=pb(this.mainPlaylistLoader_.srcUrl,i),s){this.handleMain_(),this.syncClientServerClock_(()=>e(i,s));return}return e(i,s)})}syncClientServerClock_(e){const t=H5(this.mainPlaylistLoader_.mainXml_);if(t===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(t.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Ma(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,i)=>{if(!this.request)return;if(n){const{requestType:a}=i;return this.error.metadata=of({requestType:a,request:i,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;t.method==="HEAD"?!i.responseHeaders||!i.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(i.responseHeaders.date):s=Date.parse(i.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,t={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:t});let n;try{n=hme({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:Se.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(n=pme(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:s,endList:a}=n,o=[];n.playlists.forEach(u=>{o.push({id:u.id,bandwidth:u.attributes.BANDWIDTH,resolution:u.attributes.RESOLUTION,codecs:u.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};t.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:t})}return!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(X.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;if(t===0&&(e.media()?t=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof t!="number"||t<=0){t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`);return}this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=X.setTimeout(()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=gme(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==t[e];if(n?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const i=()=>{this.media().endList||(this.mediaUpdateTimeout=X.setTimeout(()=>{this.trigger("mediaupdatetimeout"),i()},W2(this.media(),!!n)))};i()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const t=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",t,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const t=new Set;for(const n in e.contentProtection){const i=e.contentProtection[n].attributes["cenc:default_KID"];i&&t.add(i.replace(/-/g,"").toLowerCase())}return t}}};var es={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const vme=r=>{const e=new Uint8Array(new ArrayBuffer(r.length));for(let t=0;t<r.length;t++)e[t]=r.charCodeAt(t);return e.buffer},N$=function(r){return r.on=r.addEventListener,r.off=r.removeEventListener,r},yme=function(r){try{return URL.createObjectURL(new Blob([r],{type:"application/javascript"}))}catch{const t=new BlobBuilder;return t.append(r),URL.createObjectURL(t.getBlob())}},U$=function(r){return function(){const e=yme(r),t=N$(new Worker(e));t.objURL=e;const n=t.terminate;return t.on=t.addEventListener,t.off=t.removeEventListener,t.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},t}},$$=function(r){return`var browserWorkerPolyFill = ${N$.toString()};
browserWorkerPolyFill(self);
`+r},j$=function(r){return r.toString().replace(/^function.+?{/,"").slice(0,-1)},xme=$$(j$(function(){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},e=function(){this.init=function(){var p={};this.on=function(x,S){p[x]||(p[x]=[]),p[x]=p[x].concat(S)},this.off=function(x,S){var b;return p[x]?(b=p[x].indexOf(S),p[x]=p[x].slice(),p[x].splice(b,1),b>-1):!1},this.trigger=function(x){var S,b,E,L;if(S=p[x],!!S)if(arguments.length===2)for(E=S.length,b=0;b<E;++b)S[b].call(this,arguments[1]);else{for(L=[],b=arguments.length,b=1;b<arguments.length;++b)L.push(arguments[b]);for(E=S.length,b=0;b<E;++b)S[b].apply(this,L)}},this.dispose=function(){p={}}}};e.prototype.pipe=function(p){return this.on("data",function(x){p.push(x)}),this.on("done",function(x){p.flush(x)}),this.on("partialdone",function(x){p.partialFlush(x)}),this.on("endedtimeline",function(x){p.endTimeline(x)}),this.on("reset",function(x){p.reset(x)}),p},e.prototype.push=function(p){this.trigger("data",p)},e.prototype.flush=function(p){this.trigger("done",p)},e.prototype.partialFlush=function(p){this.trigger("partialdone",p)},e.prototype.endTimeline=function(p){this.trigger("endedtimeline",p)},e.prototype.reset=function(p){this.trigger("reset",p)};var t=e,n=Math.pow(2,32),i=function(p){var x=new DataView(p.buffer,p.byteOffset,p.byteLength),S;return x.getBigUint64?(S=x.getBigUint64(0),S<Number.MAX_SAFE_INTEGER?Number(S):S):x.getUint32(0)*n+x.getUint32(4)},s={getUint64:i,MAX_UINT32:n},a=s.MAX_UINT32,o,l,u,c,h,f,g,v,y,_,C,k,D,I,A,R,N,U,F,w,$,H,W,Q,te,oe,de,le,ae,ie,ee,pe,ve,_e,Le,Re;(function(){var p;if(W={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(p in W)W.hasOwnProperty(p)&&(W[p]=[p.charCodeAt(0),p.charCodeAt(1),p.charCodeAt(2),p.charCodeAt(3)]);Q=new Uint8Array([105,115,111,109]),oe=new Uint8Array([97,118,99,49]),te=new Uint8Array([0,0,0,1]),de=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),le=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),ae={video:de,audio:le},pe=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0]),ve=new Uint8Array([0,0,0,0,0,0,0,0]),_e=ve,Le=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Re=ve,ie=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(p){var x=[],S=0,b,E,L;for(b=1;b<arguments.length;b++)x.push(arguments[b]);for(b=x.length;b--;)S+=x[b].byteLength;for(E=new Uint8Array(S+8),L=new DataView(E.buffer,E.byteOffset,E.byteLength),L.setUint32(0,E.byteLength),E.set(p,4),b=0,S=8;b<x.length;b++)E.set(x[b],S),S+=x[b].byteLength;return E},l=function(){return o(W.dinf,o(W.dref,pe))},u=function(p){return o(W.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,p.audioobjecttype<<3|p.samplingfrequencyindex>>>1,p.samplingfrequencyindex<<7|p.channelcount<<3,6,1,2]))},c=function(){return o(W.ftyp,Q,te,Q,oe)},R=function(p){return o(W.hdlr,ae[p])},h=function(p){return o(W.mdat,p)},A=function(p){var x=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,p.duration>>>24&255,p.duration>>>16&255,p.duration>>>8&255,p.duration&255,85,196,0,0]);return p.samplerate&&(x[12]=p.samplerate>>>24&255,x[13]=p.samplerate>>>16&255,x[14]=p.samplerate>>>8&255,x[15]=p.samplerate&255),o(W.mdhd,x)},I=function(p){return o(W.mdia,A(p),R(p.type),g(p))},f=function(p){return o(W.mfhd,new Uint8Array([0,0,0,0,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255]))},g=function(p){return o(W.minf,p.type==="video"?o(W.vmhd,ie):o(W.smhd,ee),l(),U(p))},v=function(p,x){for(var S=[],b=x.length;b--;)S[b]=w(x[b]);return o.apply(null,[W.moof,f(p)].concat(S))},y=function(p){for(var x=p.length,S=[];x--;)S[x]=k(p[x]);return o.apply(null,[W.moov,C(4294967295)].concat(S).concat(_(p)))},_=function(p){for(var x=p.length,S=[];x--;)S[x]=$(p[x]);return o.apply(null,[W.mvex].concat(S))},C=function(p){var x=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(p&4278190080)>>24,(p&16711680)>>16,(p&65280)>>8,p&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(W.mvhd,x)},N=function(p){var x=p.samples||[],S=new Uint8Array(4+x.length),b,E;for(E=0;E<x.length;E++)b=x[E].flags,S[E+4]=b.dependsOn<<4|b.isDependedOn<<2|b.hasRedundancy;return o(W.sdtp,S)},U=function(p){return o(W.stbl,F(p),o(W.stts,Re),o(W.stsc,_e),o(W.stsz,Le),o(W.stco,ve))},(function(){var p,x;F=function(S){return o(W.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),S.type==="video"?p(S):x(S))},p=function(S){var b=S.sps||[],E=S.pps||[],L=[],G=[],Y,J;for(Y=0;Y<b.length;Y++)L.push((b[Y].byteLength&65280)>>>8),L.push(b[Y].byteLength&255),L=L.concat(Array.prototype.slice.call(b[Y]));for(Y=0;Y<E.length;Y++)G.push((E[Y].byteLength&65280)>>>8),G.push(E[Y].byteLength&255),G=G.concat(Array.prototype.slice.call(E[Y]));if(J=[W.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(S.width&65280)>>8,S.width&255,(S.height&65280)>>8,S.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(W.avcC,new Uint8Array([1,S.profileIdc,S.profileCompatibility,S.levelIdc,255].concat([b.length],L,[E.length],G))),o(W.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],S.sarRatio){var ne=S.sarRatio[0],he=S.sarRatio[1];J.push(o(W.pasp,new Uint8Array([(ne&4278190080)>>24,(ne&16711680)>>16,(ne&65280)>>8,ne&255,(he&4278190080)>>24,(he&16711680)>>16,(he&65280)>>8,he&255])))}return o.apply(null,J)},x=function(S){return o(W.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(S.channelcount&65280)>>8,S.channelcount&255,(S.samplesize&65280)>>8,S.samplesize&255,0,0,0,0,(S.samplerate&65280)>>8,S.samplerate&255,0,0]),u(S))}})(),D=function(p){var x=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,0,(p.duration&4278190080)>>24,(p.duration&16711680)>>16,(p.duration&65280)>>8,p.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(p.width&65280)>>8,p.width&255,0,0,(p.height&65280)>>8,p.height&255,0,0]);return o(W.tkhd,x)},w=function(p){var x,S,b,E,L,G,Y;return x=o(W.tfhd,new Uint8Array([0,0,0,58,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),G=Math.floor(p.baseMediaDecodeTime/a),Y=Math.floor(p.baseMediaDecodeTime%a),S=o(W.tfdt,new Uint8Array([1,0,0,0,G>>>24&255,G>>>16&255,G>>>8&255,G&255,Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255])),L=92,p.type==="audio"?(b=H(p,L),o(W.traf,x,S,b)):(E=N(p),b=H(p,E.length+L),o(W.traf,x,S,b,E))},k=function(p){return p.duration=p.duration||4294967295,o(W.trak,D(p),I(p))},$=function(p){var x=new Uint8Array([0,0,0,0,(p.id&4278190080)>>24,(p.id&16711680)>>16,(p.id&65280)>>8,p.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return p.type!=="video"&&(x[x.length-1]=0),o(W.trex,x)},(function(){var p,x,S;S=function(b,E){var L=0,G=0,Y=0,J=0;return b.length&&(b[0].duration!==void 0&&(L=1),b[0].size!==void 0&&(G=2),b[0].flags!==void 0&&(Y=4),b[0].compositionTimeOffset!==void 0&&(J=8)),[0,0,L|G|Y|J,1,(b.length&4278190080)>>>24,(b.length&16711680)>>>16,(b.length&65280)>>>8,b.length&255,(E&4278190080)>>>24,(E&16711680)>>>16,(E&65280)>>>8,E&255]},x=function(b,E){var L,G,Y,J,ne,he;for(J=b.samples||[],E+=20+16*J.length,Y=S(J,E),G=new Uint8Array(Y.length+J.length*16),G.set(Y),L=Y.length,he=0;he<J.length;he++)ne=J[he],G[L++]=(ne.duration&4278190080)>>>24,G[L++]=(ne.duration&16711680)>>>16,G[L++]=(ne.duration&65280)>>>8,G[L++]=ne.duration&255,G[L++]=(ne.size&4278190080)>>>24,G[L++]=(ne.size&16711680)>>>16,G[L++]=(ne.size&65280)>>>8,G[L++]=ne.size&255,G[L++]=ne.flags.isLeading<<2|ne.flags.dependsOn,G[L++]=ne.flags.isDependedOn<<6|ne.flags.hasRedundancy<<4|ne.flags.paddingValue<<1|ne.flags.isNonSyncSample,G[L++]=ne.flags.degradationPriority&61440,G[L++]=ne.flags.degradationPriority&15,G[L++]=(ne.compositionTimeOffset&4278190080)>>>24,G[L++]=(ne.compositionTimeOffset&16711680)>>>16,G[L++]=(ne.compositionTimeOffset&65280)>>>8,G[L++]=ne.compositionTimeOffset&255;return o(W.trun,G)},p=function(b,E){var L,G,Y,J,ne,he;for(J=b.samples||[],E+=20+8*J.length,Y=S(J,E),L=new Uint8Array(Y.length+J.length*8),L.set(Y),G=Y.length,he=0;he<J.length;he++)ne=J[he],L[G++]=(ne.duration&4278190080)>>>24,L[G++]=(ne.duration&16711680)>>>16,L[G++]=(ne.duration&65280)>>>8,L[G++]=ne.duration&255,L[G++]=(ne.size&4278190080)>>>24,L[G++]=(ne.size&16711680)>>>16,L[G++]=(ne.size&65280)>>>8,L[G++]=ne.size&255;return o(W.trun,L)},H=function(b,E){return b.type==="audio"?p(b,E):x(b,E)}})();var ot={ftyp:c,mdat:h,moof:v,moov:y,initSegment:function(p){var x=c(),S=y(p),b;return b=new Uint8Array(x.byteLength+S.byteLength),b.set(x),b.set(S,x.byteLength),b}},ze=function(p){var x,S,b=[],E=[];for(E.byteLength=0,E.nalCount=0,E.duration=0,b.byteLength=0,x=0;x<p.length;x++)S=p[x],S.nalUnitType==="access_unit_delimiter_rbsp"?(b.length&&(b.duration=S.dts-b.dts,E.byteLength+=b.byteLength,E.nalCount+=b.length,E.duration+=b.duration,E.push(b)),b=[S],b.byteLength=S.data.byteLength,b.pts=S.pts,b.dts=S.dts):(S.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(b.keyFrame=!0),b.duration=S.dts-b.dts,b.byteLength+=S.data.byteLength,b.push(S));return E.length&&(!b.duration||b.duration<=0)&&(b.duration=E[E.length-1].duration),E.byteLength+=b.byteLength,E.nalCount+=b.length,E.duration+=b.duration,E.push(b),E},mt=function(p){var x,S,b=[],E=[];for(b.byteLength=0,b.nalCount=0,b.duration=0,b.pts=p[0].pts,b.dts=p[0].dts,E.byteLength=0,E.nalCount=0,E.duration=0,E.pts=p[0].pts,E.dts=p[0].dts,x=0;x<p.length;x++)S=p[x],S.keyFrame?(b.length&&(E.push(b),E.byteLength+=b.byteLength,E.nalCount+=b.nalCount,E.duration+=b.duration),b=[S],b.nalCount=S.length,b.byteLength=S.byteLength,b.pts=S.pts,b.dts=S.dts,b.duration=S.duration):(b.duration+=S.duration,b.nalCount+=S.length,b.byteLength+=S.byteLength,b.push(S));return E.length&&b.duration<=0&&(b.duration=E[E.length-1].duration),E.byteLength+=b.byteLength,E.nalCount+=b.nalCount,E.duration+=b.duration,E.push(b),E},Je=function(p){var x;return!p[0][0].keyFrame&&p.length>1&&(x=p.shift(),p.byteLength-=x.byteLength,p.nalCount-=x.nalCount,p[0][0].dts=x.dts,p[0][0].pts=x.pts,p[0][0].duration+=x.duration),p},Pt=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Rt=function(p,x){var S=Pt();return S.dataOffset=x,S.compositionTimeOffset=p.pts-p.dts,S.duration=p.duration,S.size=4*p.length,S.size+=p.byteLength,p.keyFrame&&(S.flags.dependsOn=2,S.flags.isNonSyncSample=0),S},Ve=function(p,x){var S,b,E,L,G,Y=x||0,J=[];for(S=0;S<p.length;S++)for(L=p[S],b=0;b<L.length;b++)G=L[b],E=Rt(G,Y),Y+=E.size,J.push(E);return J},Ne=function(p){var x,S,b,E,L,G,Y=0,J=p.byteLength,ne=p.nalCount,he=J+4*ne,ge=new Uint8Array(he),Ge=new DataView(ge.buffer);for(x=0;x<p.length;x++)for(E=p[x],S=0;S<E.length;S++)for(L=E[S],b=0;b<L.length;b++)G=L[b],Ge.setUint32(Y,G.data.byteLength),Y+=4,ge.set(G.data,Y),Y+=G.data.byteLength;return ge},et=function(p,x){var S,b=x||0,E=[];return S=Rt(p,b),E.push(S),E},at=function(p){var x,S,b=0,E=p.byteLength,L=p.length,G=E+4*L,Y=new Uint8Array(G),J=new DataView(Y.buffer);for(x=0;x<p.length;x++)S=p[x],J.setUint32(b,S.data.byteLength),b+=4,Y.set(S.data,b),b+=S.data.byteLength;return Y},Me={groupNalsIntoFrames:ze,groupFramesIntoGops:mt,extendFirstKeyFrame:Je,generateSampleTable:Ve,concatenateNalData:Ne,generateSampleTableForFrame:et,concatenateNalDataForFrame:at},$e=[33,16,5,32,164,27],qe=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Ye=function(p){for(var x=[];p--;)x.push(0);return x},vt=function(p){return Object.keys(p).reduce(function(x,S){return x[S]=new Uint8Array(p[S].reduce(function(b,E){return b.concat(E)},[])),x},{})},ut,gr=function(){if(!ut){var p={96e3:[$e,[227,64],Ye(154),[56]],88200:[$e,[231],Ye(170),[56]],64e3:[$e,[248,192],Ye(240),[56]],48e3:[$e,[255,192],Ye(268),[55,148,128],Ye(54),[112]],44100:[$e,[255,192],Ye(268),[55,163,128],Ye(84),[112]],32e3:[$e,[255,192],Ye(268),[55,234],Ye(226),[112]],24e3:[$e,[255,192],Ye(268),[55,255,128],Ye(268),[111,112],Ye(126),[224]],16e3:[$e,[255,192],Ye(268),[55,255,128],Ye(268),[111,255],Ye(269),[223,108],Ye(195),[1,192]],12e3:[qe,Ye(268),[3,127,248],Ye(268),[6,255,240],Ye(268),[13,255,224],Ye(268),[27,253,128],Ye(259),[56]],11025:[qe,Ye(268),[3,127,248],Ye(268),[6,255,240],Ye(268),[13,255,224],Ye(268),[27,255,192],Ye(268),[55,175,128],Ye(108),[112]],8e3:[qe,Ye(268),[3,121,16],Ye(47),[7]]};ut=vt(p)}return ut},hr=9e4,Rr,nr,qt,fr,xr,Lr,xt;Rr=function(p){return p*hr},nr=function(p,x){return p*x},qt=function(p){return p/hr},fr=function(p,x){return p/x},xr=function(p,x){return Rr(fr(p,x))},Lr=function(p,x){return nr(qt(p),x)},xt=function(p,x,S){return qt(S?p:p-x)};var Ut={ONE_SECOND_IN_TS:hr,secondsToVideoTs:Rr,secondsToAudioTs:nr,videoTsToSeconds:qt,audioTsToSeconds:fr,audioTsToVideoTs:xr,videoTsToAudioTs:Lr,metadataTsToSeconds:xt},rn=gr,jt=Ut,Tr=function(p){var x,S,b=0;for(x=0;x<p.length;x++)S=p[x],b+=S.data.byteLength;return b},Or=function(p,x,S,b){var E,L=0,G=0,Y=0,J=0,ne,he,ge;if(x.length&&(E=jt.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),L=Math.ceil(jt.ONE_SECOND_IN_TS/(p.samplerate/1024)),S&&b&&(G=E-Math.max(S,b),Y=Math.floor(G/L),J=Y*L),!(Y<1||J>jt.ONE_SECOND_IN_TS/2))){for(ne=rn()[p.samplerate],ne||(ne=x[0].data),he=0;he<Y;he++)ge=x[0],x.splice(0,0,{data:ne,dts:ge.dts-L,pts:ge.pts-L});return p.baseMediaDecodeTime-=Math.floor(jt.videoTsToAudioTs(J,p.samplerate)),J}},Hr=function(p,x,S){return x.minSegmentDts>=S?p:(x.minSegmentDts=1/0,p.filter(function(b){return b.dts>=S?(x.minSegmentDts=Math.min(x.minSegmentDts,b.dts),x.minSegmentPts=x.minSegmentDts,!0):!1}))},ln=function(p){var x,S,b=[];for(x=0;x<p.length;x++)S=p[x],b.push({size:S.data.byteLength,duration:1024});return b},Cn=function(p){var x,S,b=0,E=new Uint8Array(Tr(p));for(x=0;x<p.length;x++)S=p[x],E.set(S.data,b),b+=S.data.byteLength;return E},wn={prefixWithSilence:Or,trimAdtsFramesByEarliestDts:Hr,generateSampleTable:ln,concatenateFrameData:Cn},Fr=Ut.ONE_SECOND_IN_TS,se=function(p,x){typeof x.pts=="number"&&(p.timelineStartInfo.pts===void 0&&(p.timelineStartInfo.pts=x.pts),p.minSegmentPts===void 0?p.minSegmentPts=x.pts:p.minSegmentPts=Math.min(p.minSegmentPts,x.pts),p.maxSegmentPts===void 0?p.maxSegmentPts=x.pts:p.maxSegmentPts=Math.max(p.maxSegmentPts,x.pts)),typeof x.dts=="number"&&(p.timelineStartInfo.dts===void 0&&(p.timelineStartInfo.dts=x.dts),p.minSegmentDts===void 0?p.minSegmentDts=x.dts:p.minSegmentDts=Math.min(p.minSegmentDts,x.dts),p.maxSegmentDts===void 0?p.maxSegmentDts=x.dts:p.maxSegmentDts=Math.max(p.maxSegmentDts,x.dts))},fe=function(p){delete p.minSegmentDts,delete p.maxSegmentDts,delete p.minSegmentPts,delete p.maxSegmentPts},Te=function(p,x){var S,b,E=p.minSegmentDts;return x||(E-=p.timelineStartInfo.dts),S=p.timelineStartInfo.baseMediaDecodeTime,S+=E,S=Math.max(0,S),p.type==="audio"&&(b=p.samplerate/Fr,S*=b,S=Math.floor(S)),S},je={clearDtsInfo:fe,calculateTrackBaseMediaDecodeTime:Te,collectDtsInfo:se},gt=4,Tt=128,be=function(p){for(var x=0,S={payloadType:-1,payloadSize:0},b=0,E=0;x<p.byteLength&&p[x]!==Tt;){for(;p[x]===255;)b+=255,x++;for(b+=p[x++];p[x]===255;)E+=255,x++;if(E+=p[x++],!S.payload&&b===gt){var L=String.fromCharCode(p[x+3],p[x+4],p[x+5],p[x+6]);if(L==="GA94"){S.payloadType=b,S.payloadSize=E,S.payload=p.subarray(x,x+E);break}else S.payload=void 0}x+=E,b=0,E=0}return S},ye=function(p){return p.payload[0]!==181||(p.payload[1]<<8|p.payload[2])!==49||String.fromCharCode(p.payload[3],p.payload[4],p.payload[5],p.payload[6])!=="GA94"||p.payload[7]!==3?null:p.payload.subarray(8,p.payload.length-1)},Ae=function(p,x){var S=[],b,E,L,G;if(!(x[0]&64))return S;for(E=x[0]&31,b=0;b<E;b++)L=b*3,G={type:x[L+2]&3,pts:p},x[L+2]&4&&(G.ccData=x[L+3]<<8|x[L+4],S.push(G));return S},Xe=function(p){for(var x=p.byteLength,S=[],b=1,E,L;b<x-2;)p[b]===0&&p[b+1]===0&&p[b+2]===3?(S.push(b+2),b+=2):b++;if(S.length===0)return p;E=x-S.length,L=new Uint8Array(E);var G=0;for(b=0;b<E;G++,b++)G===S[0]&&(G++,S.shift()),L[b]=p[G];return L},Qe={parseSei:be,parseUserData:ye,parseCaptionPackets:Ae,discardEmulationPreventionBytes:Xe,USER_DATA_REGISTERED_ITU_T_T35:gt},St=t,Lt=Qe,dt=function(p){p=p||{},dt.prototype.init.call(this),this.parse708captions_=typeof p.parse708captions=="boolean"?p.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new ir(0,0),new ir(0,1),new ir(1,0),new ir(1,1)],this.parse708captions_&&(this.cc708Stream_=new Ct({captionServices:p.captionServices})),this.reset(),this.ccStreams_.forEach(function(x){x.on("data",this.trigger.bind(this,"data")),x.on("partialdone",this.trigger.bind(this,"partialdone")),x.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};dt.prototype=new St,dt.prototype.push=function(p){var x,S,b;if(p.nalUnitType==="sei_rbsp"&&(x=Lt.parseSei(p.escapedRBSP),!!x.payload&&x.payloadType===Lt.USER_DATA_REGISTERED_ITU_T_T35&&(S=Lt.parseUserData(x),!!S))){if(p.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(p.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}b=Lt.parseCaptionPackets(p.pts,S),this.captionPackets_=this.captionPackets_.concat(b),this.latestDts_!==p.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=p.dts}},dt.prototype.flushCCStreams=function(p){this.ccStreams_.forEach(function(x){return p==="flush"?x.flush():x.partialFlush()},this)},dt.prototype.flushStream=function(p){if(!this.captionPackets_.length){this.flushCCStreams(p);return}this.captionPackets_.forEach(function(x,S){x.presortIndex=S}),this.captionPackets_.sort(function(x,S){return x.pts===S.pts?x.presortIndex-S.presortIndex:x.pts-S.pts}),this.captionPackets_.forEach(function(x){x.type<2?this.dispatchCea608Packet(x):this.dispatchCea708Packet(x)},this),this.captionPackets_.length=0,this.flushCCStreams(p)},dt.prototype.flush=function(){return this.flushStream("flush")},dt.prototype.partialFlush=function(){return this.flushStream("partialFlush")},dt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(p){p.reset()})},dt.prototype.dispatchCea608Packet=function(p){this.setsTextOrXDSActive(p)?this.activeCea608Channel_[p.type]=null:this.setsChannel1Active(p)?this.activeCea608Channel_[p.type]=0:this.setsChannel2Active(p)&&(this.activeCea608Channel_[p.type]=1),this.activeCea608Channel_[p.type]!==null&&this.ccStreams_[(p.type<<1)+this.activeCea608Channel_[p.type]].push(p)},dt.prototype.setsChannel1Active=function(p){return(p.ccData&30720)===4096},dt.prototype.setsChannel2Active=function(p){return(p.ccData&30720)===6144},dt.prototype.setsTextOrXDSActive=function(p){return(p.ccData&28928)===256||(p.ccData&30974)===4138||(p.ccData&30974)===6186},dt.prototype.dispatchCea708Packet=function(p){this.parse708captions_&&this.cc708Stream_.push(p)};var _t={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Vt=function(p){var x=_t[p]||p;return p&4096&&p===x?"":String.fromCharCode(x)},Kt=function(p){return 32<=p&&p<=127||160<=p&&p<=255},Nt=function(p){this.windowNum=p,this.reset()};Nt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Nt.prototype.getText=function(){return this.rows.join(`
`)},Nt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Nt.prototype.newLine=function(p){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(p),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Nt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Nt.prototype.addText=function(p){this.rows[this.rowIdx]+=p},Nt.prototype.backspace=function(){if(!this.isEmpty()){var p=this.rows[this.rowIdx];this.rows[this.rowIdx]=p.substr(0,p.length-1)}};var vr=function(p,x,S){this.serviceNum=p,this.text="",this.currentWindow=new Nt(-1),this.windows=[],this.stream=S,typeof x=="string"&&this.createTextDecoder(x)};vr.prototype.init=function(p,x){this.startPts=p;for(var S=0;S<8;S++)this.windows[S]=new Nt(S),typeof x=="function"&&(this.windows[S].beforeRowOverflow=x)},vr.prototype.setCurrentWindow=function(p){this.currentWindow=this.windows[p]},vr.prototype.createTextDecoder=function(p){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(p)}catch(x){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+p+" encoding. "+x})}};var Ct=function(p){p=p||{},Ct.prototype.init.call(this);var x=this,S=p.captionServices||{},b={},E;Object.keys(S).forEach(L=>{E=S[L],/^SERVICE/.test(L)&&(b[L]=E.encoding)}),this.serviceEncodings=b,this.current708Packet=null,this.services={},this.push=function(L){L.type===3?(x.new708Packet(),x.add708Bytes(L)):(x.current708Packet===null&&x.new708Packet(),x.add708Bytes(L))}};Ct.prototype=new St,Ct.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Ct.prototype.add708Bytes=function(p){var x=p.ccData,S=x>>>8,b=x&255;this.current708Packet.ptsVals.push(p.pts),this.current708Packet.data.push(S),this.current708Packet.data.push(b)},Ct.prototype.push708Packet=function(){var p=this.current708Packet,x=p.data,S=null,b=null,E=0,L=x[E++];for(p.seq=L>>6,p.sizeCode=L&63;E<x.length;E++)L=x[E++],S=L>>5,b=L&31,S===7&&b>0&&(L=x[E++],S=L),this.pushServiceBlock(S,E,b),b>0&&(E+=b-1)},Ct.prototype.pushServiceBlock=function(p,x,S){var b,E=x,L=this.current708Packet.data,G=this.services[p];for(G||(G=this.initService(p,E));E<x+S&&E<L.length;E++)b=L[E],Kt(b)?E=this.handleText(E,G):b===24?E=this.multiByteCharacter(E,G):b===16?E=this.extendedCommands(E,G):128<=b&&b<=135?E=this.setCurrentWindow(E,G):152<=b&&b<=159?E=this.defineWindow(E,G):b===136?E=this.clearWindows(E,G):b===140?E=this.deleteWindows(E,G):b===137?E=this.displayWindows(E,G):b===138?E=this.hideWindows(E,G):b===139?E=this.toggleWindows(E,G):b===151?E=this.setWindowAttributes(E,G):b===144?E=this.setPenAttributes(E,G):b===145?E=this.setPenColor(E,G):b===146?E=this.setPenLocation(E,G):b===143?G=this.reset(E,G):b===8?G.currentWindow.backspace():b===12?G.currentWindow.clearText():b===13?G.currentWindow.pendingNewLine=!0:b===14?G.currentWindow.clearText():b===141&&E++},Ct.prototype.extendedCommands=function(p,x){var S=this.current708Packet.data,b=S[++p];return Kt(b)&&(p=this.handleText(p,x,{isExtended:!0})),p},Ct.prototype.getPts=function(p){return this.current708Packet.ptsVals[Math.floor(p/2)]},Ct.prototype.initService=function(p,x){var b="SERVICE"+p,S=this,b,E;return b in this.serviceEncodings&&(E=this.serviceEncodings[b]),this.services[p]=new vr(p,E,S),this.services[p].init(this.getPts(x),function(L){S.flushDisplayed(L,S.services[p])}),this.services[p]},Ct.prototype.handleText=function(p,x,S){var b=S&&S.isExtended,E=S&&S.isMultiByte,L=this.current708Packet.data,G=b?4096:0,Y=L[p],J=L[p+1],ne=x.currentWindow,he,ge;function Ge(Ee){return Ee.map(wt=>("0"+(wt&255).toString(16)).slice(-2)).join("")}if(E?(ge=[Y,J],p++):ge=[Y],x.textDecoder_&&!b)he=x.textDecoder_.decode(new Uint8Array(ge));else if(E){const Ee=Ge(ge);he=String.fromCharCode(parseInt(Ee,16))}else he=Vt(G|Y);return ne.pendingNewLine&&!ne.isEmpty()&&ne.newLine(this.getPts(p)),ne.pendingNewLine=!1,ne.addText(he),p},Ct.prototype.multiByteCharacter=function(p,x){var S=this.current708Packet.data,b=S[p+1],E=S[p+2];return Kt(b)&&Kt(E)&&(p=this.handleText(++p,x,{isMultiByte:!0})),p},Ct.prototype.setCurrentWindow=function(p,x){var S=this.current708Packet.data,b=S[p],E=b&7;return x.setCurrentWindow(E),p},Ct.prototype.defineWindow=function(p,x){var S=this.current708Packet.data,b=S[p],E=b&7;x.setCurrentWindow(E);var L=x.currentWindow;return b=S[++p],L.visible=(b&32)>>5,L.rowLock=(b&16)>>4,L.columnLock=(b&8)>>3,L.priority=b&7,b=S[++p],L.relativePositioning=(b&128)>>7,L.anchorVertical=b&127,b=S[++p],L.anchorHorizontal=b,b=S[++p],L.anchorPoint=(b&240)>>4,L.rowCount=b&15,b=S[++p],L.columnCount=b&63,b=S[++p],L.windowStyle=(b&56)>>3,L.penStyle=b&7,L.virtualRowCount=L.rowCount+1,p},Ct.prototype.setWindowAttributes=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.winAttr;return b=S[++p],E.fillOpacity=(b&192)>>6,E.fillRed=(b&48)>>4,E.fillGreen=(b&12)>>2,E.fillBlue=b&3,b=S[++p],E.borderType=(b&192)>>6,E.borderRed=(b&48)>>4,E.borderGreen=(b&12)>>2,E.borderBlue=b&3,b=S[++p],E.borderType+=(b&128)>>5,E.wordWrap=(b&64)>>6,E.printDirection=(b&48)>>4,E.scrollDirection=(b&12)>>2,E.justify=b&3,b=S[++p],E.effectSpeed=(b&240)>>4,E.effectDirection=(b&12)>>2,E.displayEffect=b&3,p},Ct.prototype.flushDisplayed=function(p,x){for(var S=[],b=0;b<8;b++)x.windows[b].visible&&!x.windows[b].isEmpty()&&S.push(x.windows[b].getText());x.endPts=p,x.text=S.join(`

`),this.pushCaption(x),x.startPts=p},Ct.prototype.pushCaption=function(p){p.text!==""&&(this.trigger("data",{startPts:p.startPts,endPts:p.endPts,text:p.text,stream:"cc708_"+p.serviceNum}),p.text="",p.startPts=p.endPts)},Ct.prototype.displayWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&(x.windows[L].visible=1);return p},Ct.prototype.hideWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&(x.windows[L].visible=0);return p},Ct.prototype.toggleWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&(x.windows[L].visible^=1);return p},Ct.prototype.clearWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&x.windows[L].clearText();return p},Ct.prototype.deleteWindows=function(p,x){var S=this.current708Packet.data,b=S[++p],E=this.getPts(p);this.flushDisplayed(E,x);for(var L=0;L<8;L++)b&1<<L&&x.windows[L].reset();return p},Ct.prototype.setPenAttributes=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.penAttr;return b=S[++p],E.textTag=(b&240)>>4,E.offset=(b&12)>>2,E.penSize=b&3,b=S[++p],E.italics=(b&128)>>7,E.underline=(b&64)>>6,E.edgeType=(b&56)>>3,E.fontStyle=b&7,p},Ct.prototype.setPenColor=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.penColor;return b=S[++p],E.fgOpacity=(b&192)>>6,E.fgRed=(b&48)>>4,E.fgGreen=(b&12)>>2,E.fgBlue=b&3,b=S[++p],E.bgOpacity=(b&192)>>6,E.bgRed=(b&48)>>4,E.bgGreen=(b&12)>>2,E.bgBlue=b&3,b=S[++p],E.edgeRed=(b&48)>>4,E.edgeGreen=(b&12)>>2,E.edgeBlue=b&3,p},Ct.prototype.setPenLocation=function(p,x){var S=this.current708Packet.data,b=S[p],E=x.currentWindow.penLoc;return x.currentWindow.pendingNewLine=!0,b=S[++p],E.row=b&15,b=S[++p],E.column=b&63,p},Ct.prototype.reset=function(p,x){var S=this.getPts(p);return this.flushDisplayed(S,x),this.initService(x.serviceNum,p)};var _r={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Zr=function(p){return p===null?"":(p=_r[p]||p,String.fromCharCode(p))},Br=14,jr=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Pn=function(){for(var p=[],x=Br+1;x--;)p.push({text:"",indent:0,offset:0});return p},ir=function(p,x){ir.prototype.init.call(this),this.field_=p||0,this.dataChannel_=x||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(S){var b,E,L,G,Y;if(b=S.ccData&32639,b===this.lastControlCode_){this.lastControlCode_=null;return}if((b&61440)===4096?this.lastControlCode_=b:b!==this.PADDING_&&(this.lastControlCode_=null),L=b>>>8,G=b&255,b!==this.PADDING_)if(b===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(b===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(S.pts),this.flushDisplayed(S.pts),E=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=E,this.startPts_=S.pts;else if(b===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(S.pts);else if(b===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(S.pts);else if(b===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(S.pts);else if(b===this.CARRIAGE_RETURN_)this.clearFormatting(S.pts),this.flushDisplayed(S.pts),this.shiftRowsUp_(),this.startPts_=S.pts;else if(b===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(b===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(S.pts),this.displayed_=Pn();else if(b===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Pn();else if(b===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(S.pts),this.displayed_=Pn()),this.mode_="paintOn",this.startPts_=S.pts;else if(this.isSpecialCharacter(L,G))L=(L&3)<<8,Y=Zr(L|G),this[this.mode_](S.pts,Y),this.column_++;else if(this.isExtCharacter(L,G))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),L=(L&3)<<8,Y=Zr(L|G),this[this.mode_](S.pts,Y),this.column_++;else if(this.isMidRowCode(L,G))this.clearFormatting(S.pts),this[this.mode_](S.pts," "),this.column_++,(G&14)===14&&this.addFormatting(S.pts,["i"]),(G&1)===1&&this.addFormatting(S.pts,["u"]);else if(this.isOffsetControlCode(L,G)){const ne=G&3;this.nonDisplayed_[this.row_].offset=ne,this.column_+=ne}else if(this.isPAC(L,G)){var J=jr.indexOf(b&7968);if(this.mode_==="rollUp"&&(J-this.rollUpRows_+1<0&&(J=this.rollUpRows_-1),this.setRollUp(S.pts,J)),J!==this.row_&&J>=0&&J<=14&&(this.clearFormatting(S.pts),this.row_=J),G&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(S.pts,["u"]),(b&16)===16){const ne=(b&14)>>1;this.column_=ne*4,this.nonDisplayed_[this.row_].indent+=ne}this.isColorPAC(G)&&(G&14)===14&&this.addFormatting(S.pts,["i"])}else this.isNormalChar(L)&&(G===0&&(G=null),Y=Zr(L),Y+=Zr(G),this[this.mode_](S.pts,Y),this.column_+=Y.length)}};ir.prototype=new St,ir.prototype.flushDisplayed=function(p){const x=b=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+b+"."})},S=[];this.displayed_.forEach((b,E)=>{if(b&&b.text&&b.text.length){try{b.text=b.text.trim()}catch{x(E)}b.text.length&&S.push({text:b.text,line:E+1,position:10+Math.min(70,b.indent*10)+b.offset*2.5})}else b==null&&x(E)}),S.length&&this.trigger("data",{startPts:this.startPts_,endPts:p,content:S,stream:this.name_})},ir.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Pn(),this.nonDisplayed_=Pn(),this.lastControlCode_=null,this.column_=0,this.row_=Br,this.rollUpRows_=2,this.formatting_=[]},ir.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},ir.prototype.isSpecialCharacter=function(p,x){return p===this.EXT_&&x>=48&&x<=63},ir.prototype.isExtCharacter=function(p,x){return(p===this.EXT_+1||p===this.EXT_+2)&&x>=32&&x<=63},ir.prototype.isMidRowCode=function(p,x){return p===this.EXT_&&x>=32&&x<=47},ir.prototype.isOffsetControlCode=function(p,x){return p===this.OFFSET_&&x>=33&&x<=35},ir.prototype.isPAC=function(p,x){return p>=this.BASE_&&p<this.BASE_+8&&x>=64&&x<=127},ir.prototype.isColorPAC=function(p){return p>=64&&p<=79||p>=96&&p<=127},ir.prototype.isNormalChar=function(p){return p>=32&&p<=127},ir.prototype.setRollUp=function(p,x){if(this.mode_!=="rollUp"&&(this.row_=Br,this.mode_="rollUp",this.flushDisplayed(p),this.nonDisplayed_=Pn(),this.displayed_=Pn()),x!==void 0&&x!==this.row_)for(var S=0;S<this.rollUpRows_;S++)this.displayed_[x-S]=this.displayed_[this.row_-S],this.displayed_[this.row_-S]={text:"",indent:0,offset:0};x===void 0&&(x=this.row_),this.topRow_=x-this.rollUpRows_+1},ir.prototype.addFormatting=function(p,x){this.formatting_=this.formatting_.concat(x);var S=x.reduce(function(b,E){return b+"<"+E+">"},"");this[this.mode_](p,S)},ir.prototype.clearFormatting=function(p){if(this.formatting_.length){var x=this.formatting_.reverse().reduce(function(S,b){return S+"</"+b+">"},"");this.formatting_=[],this[this.mode_](p,x)}},ir.prototype.popOn=function(p,x){var S=this.nonDisplayed_[this.row_].text;S+=x,this.nonDisplayed_[this.row_].text=S},ir.prototype.rollUp=function(p,x){var S=this.displayed_[this.row_].text;S+=x,this.displayed_[this.row_].text=S},ir.prototype.shiftRowsUp_=function(){var p;for(p=0;p<this.topRow_;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.row_+1;p<Br+1;p++)this.displayed_[p]={text:"",indent:0,offset:0};for(p=this.topRow_;p<this.row_;p++)this.displayed_[p]=this.displayed_[p+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},ir.prototype.paintOn=function(p,x){var S=this.displayed_[this.row_].text;S+=x,this.displayed_[this.row_].text=S};var Ci={CaptionStream:dt,Cea608Stream:ir,Cea708Stream:Ct},yn={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Cs=t,nn=8589934592,ws=4294967296,hi="shared",si=function(p,x){var S=1;for(p>x&&(S=-1);Math.abs(x-p)>ws;)p+=S*nn;return p},Mr=function(p){var x,S;Mr.prototype.init.call(this),this.type_=p||hi,this.push=function(b){if(b.type==="metadata"){this.trigger("data",b);return}this.type_!==hi&&b.type!==this.type_||(S===void 0&&(S=b.dts),b.dts=si(b.dts,S),b.pts=si(b.pts,S),x=b.dts,this.trigger("data",b))},this.flush=function(){S=x,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){S=void 0,x=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Mr.prototype=new Cs;var ke={TimestampRolloverStream:Mr,handleRollover:si},Ue=(p,x,S)=>{if(!p)return-1;for(var b=S;b<p.length;b++)if(p[b]===x)return b;return-1},tt={typedArrayIndexOf:Ue},nt=tt.typedArrayIndexOf,bt={Utf8:3},At=function(p,x,S){var b,E="";for(b=x;b<S;b++)E+="%"+("00"+p[b].toString(16)).slice(-2);return E},Bt=function(p,x,S){return decodeURIComponent(At(p,x,S))},Er=function(p,x,S){return unescape(At(p,x,S))},Wr=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},xn={APIC:function(p){var x=1,S,b,E="-->";p.data[0]===bt.Utf8&&(S=nt(p.data,0,x),!(S<0)&&(p.mimeType=Er(p.data,x,S),x=S+1,p.pictureType=p.data[x],x++,b=nt(p.data,0,x),!(b<0)&&(p.description=Bt(p.data,x,b),x=b+1,p.mimeType===E?p.url=Er(p.data,x,p.data.length):p.pictureData=p.data.subarray(x,p.data.length))))},"T*":function(p){p.data[0]===bt.Utf8&&(p.value=Bt(p.data,1,p.data.length).replace(/\0*$/,""),p.values=p.value.split("\0"))},TXXX:function(p){var x;p.data[0]===bt.Utf8&&(x=nt(p.data,0,1),x!==-1&&(p.description=Bt(p.data,1,x),p.value=Bt(p.data,x+1,p.data.length).replace(/\0*$/,""),p.data=p.value))},"W*":function(p){p.url=Er(p.data,0,p.data.length).replace(/\0.*$/,"")},WXXX:function(p){var x;p.data[0]===bt.Utf8&&(x=nt(p.data,0,1),x!==-1&&(p.description=Bt(p.data,1,x),p.url=Er(p.data,x+1,p.data.length).replace(/\0.*$/,"")))},PRIV:function(p){var x;for(x=0;x<p.data.length;x++)if(p.data[x]===0){p.owner=Er(p.data,0,x);break}p.privateData=p.data.subarray(x+1),p.data=p.privateData}},Dr=function(p){var x,S,b=10,E=0,L=[];if(!(p.length<10||p[0]!==73||p[1]!==68||p[2]!==51)){E=Wr(p.subarray(6,10)),E+=10;var G=p[5]&64;G&&(b+=4,b+=Wr(p.subarray(10,14)),E-=Wr(p.subarray(16,20)));do{if(x=Wr(p.subarray(b+4,b+8)),x<1)break;S=String.fromCharCode(p[b],p[b+1],p[b+2],p[b+3]);var Y={id:S,data:p.subarray(b+10,b+x+10)};Y.key=Y.id,xn[Y.id]?xn[Y.id](Y):Y.id[0]==="T"?xn["T*"](Y):Y.id[0]==="W"&&xn["W*"](Y),L.push(Y),b+=10,b+=x}while(b<E);return L}},fi={parseId3Frames:Dr,parseSyncSafeInteger:Wr,frameParsers:xn},zr=t,Mn=yn,jn=fi,Es;Es=function(p){var x={descriptor:p&&p.descriptor},S=0,b=[],E=0,L;if(Es.prototype.init.call(this),this.dispatchType=Mn.METADATA_STREAM_TYPE.toString(16),x.descriptor)for(L=0;L<x.descriptor.length;L++)this.dispatchType+=("00"+x.descriptor[L].toString(16)).slice(-2);this.push=function(G){var Y,J,ne,he,ge,Ge;if(G.type==="timed-metadata"){if(G.dataAlignmentIndicator&&(E=0,b.length=0),b.length===0&&(G.data.length<10||G.data[0]!==73||G.data[1]!==68||G.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(b.push(G),E+=G.data.byteLength,b.length===1&&(S=jn.parseSyncSafeInteger(G.data.subarray(6,10)),S+=10),!(E<S)){for(Y={data:new Uint8Array(S),frames:[],pts:b[0].pts,dts:b[0].dts},ge=0;ge<S;)Y.data.set(b[0].data.subarray(0,S-ge),ge),ge+=b[0].data.byteLength,E-=b[0].data.byteLength,b.shift();J=10,Y.data[5]&64&&(J+=4,J+=jn.parseSyncSafeInteger(Y.data.subarray(10,14)),S-=jn.parseSyncSafeInteger(Y.data.subarray(16,20)));do{if(ne=jn.parseSyncSafeInteger(Y.data.subarray(J+4,J+8)),ne<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ge=String.fromCharCode(Y.data[J],Y.data[J+1],Y.data[J+2],Y.data[J+3]),he={id:Ge,data:Y.data.subarray(J+10,J+ne+10)},he.key=he.id,jn.frameParsers[he.id]?jn.frameParsers[he.id](he):he.id[0]==="T"?jn.frameParsers["T*"](he):he.id[0]==="W"&&jn.frameParsers["W*"](he),he.owner==="com.apple.streaming.transportStreamTimestamp"){var Ee=he.data,wt=(Ee[3]&1)<<30|Ee[4]<<22|Ee[5]<<14|Ee[6]<<6|Ee[7]>>>2;wt*=4,wt+=Ee[7]&3,he.timeStamp=wt,Y.pts===void 0&&Y.dts===void 0&&(Y.pts=he.timeStamp,Y.dts=he.timeStamp),this.trigger("timestamp",he)}Y.frames.push(he),J+=10,J+=ne}while(J<S);this.trigger("data",Y)}}}},Es.prototype=new zr;var Wc=Es,ks=t,Hi=Ci,Rn=yn,Ju=ke.TimestampRolloverStream,qr,ls,ma,Pi=188,qa=71;qr=function(){var p=new Uint8Array(Pi),x=0;qr.prototype.init.call(this),this.push=function(S){var b=0,E=Pi,L;for(x?(L=new Uint8Array(S.byteLength+x),L.set(p.subarray(0,x)),L.set(S,x),x=0):L=S;E<L.byteLength;){if(L[b]===qa&&L[E]===qa){this.trigger("data",L.subarray(b,E)),b+=Pi,E+=Pi;continue}b++,E++}b<L.byteLength&&(p.set(L.subarray(b),0),x=L.byteLength-b)},this.flush=function(){x===Pi&&p[0]===qa&&(this.trigger("data",p),x=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){x=0,this.trigger("reset")}},qr.prototype=new ks,ls=function(){var p,x,S,b;ls.prototype.init.call(this),b=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,p=function(E,L){var G=0;L.payloadUnitStartIndicator&&(G+=E[G]+1),L.type==="pat"?x(E.subarray(G),L):S(E.subarray(G),L)},x=function(E,L){L.section_number=E[7],L.last_section_number=E[8],b.pmtPid=(E[10]&31)<<8|E[11],L.pmtPid=b.pmtPid},S=function(E,L){var G,Y,J,ne;if(E[5]&1){for(b.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(E[1]&15)<<8|E[2],Y=3+G-4,J=(E[10]&15)<<8|E[11],ne=12+J;ne<Y;){var he=E[ne],ge=(E[ne+1]&31)<<8|E[ne+2];he===Rn.H264_STREAM_TYPE&&b.programMapTable.video===null?b.programMapTable.video=ge:he===Rn.ADTS_STREAM_TYPE&&b.programMapTable.audio===null?b.programMapTable.audio=ge:he===Rn.METADATA_STREAM_TYPE&&(b.programMapTable["timed-metadata"][ge]=he),ne+=((E[ne+3]&15)<<8|E[ne+4])+5}L.programMapTable=b.programMapTable}},this.push=function(E){var L={},G=4;if(L.payloadUnitStartIndicator=!!(E[1]&64),L.pid=E[1]&31,L.pid<<=8,L.pid|=E[2],(E[3]&48)>>>4>1&&(G+=E[G]+1),L.pid===0)L.type="pat",p(E.subarray(G),L),this.trigger("data",L);else if(L.pid===this.pmtPid)for(L.type="pmt",p(E.subarray(G),L),this.trigger("data",L);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([E,G,L]):this.processPes_(E,G,L)},this.processPes_=function(E,L,G){G.pid===this.programMapTable.video?G.streamType=Rn.H264_STREAM_TYPE:G.pid===this.programMapTable.audio?G.streamType=Rn.ADTS_STREAM_TYPE:G.streamType=this.programMapTable["timed-metadata"][G.pid],G.type="pes",G.data=E.subarray(L),this.trigger("data",G)}},ls.prototype=new ks,ls.STREAM_TYPES={h264:27,adts:15},ma=function(){var p=this,x=!1,S={data:[],size:0},b={data:[],size:0},E={data:[],size:0},L,G=function(J,ne){var he;const ge=J[0]<<16|J[1]<<8|J[2];ne.data=new Uint8Array,ge===1&&(ne.packetLength=6+(J[4]<<8|J[5]),ne.dataAlignmentIndicator=(J[6]&4)!==0,he=J[7],he&192&&(ne.pts=(J[9]&14)<<27|(J[10]&255)<<20|(J[11]&254)<<12|(J[12]&255)<<5|(J[13]&254)>>>3,ne.pts*=4,ne.pts+=(J[13]&6)>>>1,ne.dts=ne.pts,he&64&&(ne.dts=(J[14]&14)<<27|(J[15]&255)<<20|(J[16]&254)<<12|(J[17]&255)<<5|(J[18]&254)>>>3,ne.dts*=4,ne.dts+=(J[18]&6)>>>1)),ne.data=J.subarray(9+J[8]))},Y=function(J,ne,he){var ge=new Uint8Array(J.size),Ge={type:ne},Ee=0,wt=0,Wt=!1,Gr;if(!(!J.data.length||J.size<9)){for(Ge.trackId=J.data[0].pid,Ee=0;Ee<J.data.length;Ee++)Gr=J.data[Ee],ge.set(Gr.data,wt),wt+=Gr.data.byteLength;G(ge,Ge),Wt=ne==="video"||Ge.packetLength<=J.size,(he||Wt)&&(J.size=0,J.data.length=0),Wt&&p.trigger("data",Ge)}};ma.prototype.init.call(this),this.push=function(J){({pat:function(){},pes:function(){var ne,he;switch(J.streamType){case Rn.H264_STREAM_TYPE:ne=S,he="video";break;case Rn.ADTS_STREAM_TYPE:ne=b,he="audio";break;case Rn.METADATA_STREAM_TYPE:ne=E,he="timed-metadata";break;default:return}J.payloadUnitStartIndicator&&Y(ne,he,!0),ne.data.push(J),ne.size+=J.data.byteLength},pmt:function(){var ne={type:"metadata",tracks:[]};L=J.programMapTable,L.video!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),L.audio!==null&&ne.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),x=!0,p.trigger("data",ne)}})[J.type]()},this.reset=function(){S.size=0,S.data.length=0,b.size=0,b.data.length=0,this.trigger("reset")},this.flushStreams_=function(){Y(S,"video"),Y(b,"audio"),Y(E,"timed-metadata")},this.flush=function(){if(!x&&L){var J={type:"metadata",tracks:[]};L.video!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.video,codec:"avc",type:"video"}),L.audio!==null&&J.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+L.audio,codec:"adts",type:"audio"}),p.trigger("data",J)}x=!1,this.flushStreams_(),this.trigger("done")}},ma.prototype=new ks;var ql={PAT_PID:0,MP2T_PACKET_LENGTH:Pi,TransportPacketStream:qr,TransportParseStream:ls,ElementaryStream:ma,TimestampRolloverStream:Ju,CaptionStream:Hi.CaptionStream,Cea608Stream:Hi.Cea608Stream,Cea708Stream:Hi.Cea708Stream,MetadataStream:Wc};for(var wo in Rn)Rn.hasOwnProperty(wo)&&(ql[wo]=Rn[wo]);var Zu=ql,Gl=t,ga=Ut.ONE_SECOND_IN_TS,wi,Ri=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];wi=function(p){var x,S=0;wi.prototype.init.call(this),this.skipWarn_=function(b,E){this.trigger("log",{level:"warn",message:`adts skiping bytes ${b} to ${E} in frame ${S} outside syncword`})},this.push=function(b){var E=0,L,G,Y,J,ne;if(p||(S=0),b.type==="audio"){x&&x.length?(Y=x,x=new Uint8Array(Y.byteLength+b.data.byteLength),x.set(Y),x.set(b.data,Y.byteLength)):x=b.data;for(var he;E+7<x.length;){if(x[E]!==255||(x[E+1]&246)!==240){typeof he!="number"&&(he=E),E++;continue}if(typeof he=="number"&&(this.skipWarn_(he,E),he=null),G=(~x[E+1]&1)*2,L=(x[E+3]&3)<<11|x[E+4]<<3|(x[E+5]&224)>>5,J=((x[E+6]&3)+1)*1024,ne=J*ga/Ri[(x[E+2]&60)>>>2],x.byteLength-E<L)break;this.trigger("data",{pts:b.pts+S*ne,dts:b.dts+S*ne,sampleCount:J,audioobjecttype:(x[E+2]>>>6&3)+1,channelcount:(x[E+2]&1)<<2|(x[E+3]&192)>>>6,samplerate:Ri[(x[E+2]&60)>>>2],samplingfrequencyindex:(x[E+2]&60)>>>2,samplesize:16,data:x.subarray(E+7+G,E+L)}),S++,E+=L}typeof he=="number"&&(this.skipWarn_(he,E),he=null),x=x.subarray(E)}},this.flush=function(){S=0,this.trigger("done")},this.reset=function(){x=void 0,this.trigger("reset")},this.endTimeline=function(){x=void 0,this.trigger("endedtimeline")}},wi.prototype=new Gl;var va=wi,Ga;Ga=function(p){var x=p.byteLength,S=0,b=0;this.length=function(){return 8*x},this.bitsAvailable=function(){return 8*x+b},this.loadWord=function(){var E=p.byteLength-x,L=new Uint8Array(4),G=Math.min(4,x);if(G===0)throw new Error("no bytes available");L.set(p.subarray(E,E+G)),S=new DataView(L.buffer).getUint32(0),b=G*8,x-=G},this.skipBits=function(E){var L;b>E?(S<<=E,b-=E):(E-=b,L=Math.floor(E/8),E-=L*8,x-=L,this.loadWord(),S<<=E,b-=E)},this.readBits=function(E){var L=Math.min(b,E),G=S>>>32-L;return b-=L,b>0?S<<=L:x>0&&this.loadWord(),L=E-L,L>0?G<<L|this.readBits(L):G},this.skipLeadingZeros=function(){var E;for(E=0;E<b;++E)if((S&2147483648>>>E)!==0)return S<<=E,b-=E,E;return this.loadWord(),E+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var E=this.skipLeadingZeros();return this.readBits(E+1)-1},this.readExpGolomb=function(){var E=this.readUnsignedExpGolomb();return 1&E?1+E>>>1:-1*(E>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ya=Ga,Kl=t,qc=ya,Vi,Ka,Xl;Ka=function(){var p=0,x,S;Ka.prototype.init.call(this),this.push=function(b){var E;S?(E=new Uint8Array(S.byteLength+b.data.byteLength),E.set(S),E.set(b.data,S.byteLength),S=E):S=b.data;for(var L=S.byteLength;p<L-3;p++)if(S[p+2]===1){x=p+5;break}for(;x<L;)switch(S[x]){case 0:if(S[x-1]!==0){x+=2;break}else if(S[x-2]!==0){x++;break}p+3!==x-2&&this.trigger("data",S.subarray(p+3,x-2));do x++;while(S[x]!==1&&x<L);p=x-2,x+=3;break;case 1:if(S[x-1]!==0||S[x-2]!==0){x+=3;break}this.trigger("data",S.subarray(p+3,x-2)),p=x-2,x+=3;break;default:x+=3;break}S=S.subarray(p),x-=p,p=0},this.reset=function(){S=null,p=0,this.trigger("reset")},this.flush=function(){S&&S.byteLength>3&&this.trigger("data",S.subarray(p+3)),S=null,p=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Ka.prototype=new Kl,Xl={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},Vi=function(){var p=new Ka,x,S,b,E,L,G,Y;Vi.prototype.init.call(this),x=this,this.push=function(J){J.type==="video"&&(S=J.trackId,b=J.pts,E=J.dts,p.push(J))},p.on("data",function(J){var ne={trackId:S,pts:b,dts:E,data:J,nalUnitTypeCode:J[0]&31};switch(ne.nalUnitTypeCode){case 5:ne.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:ne.nalUnitType="sei_rbsp",ne.escapedRBSP=L(J.subarray(1));break;case 7:ne.nalUnitType="seq_parameter_set_rbsp",ne.escapedRBSP=L(J.subarray(1)),ne.config=G(ne.escapedRBSP);break;case 8:ne.nalUnitType="pic_parameter_set_rbsp";break;case 9:ne.nalUnitType="access_unit_delimiter_rbsp";break}x.trigger("data",ne)}),p.on("done",function(){x.trigger("done")}),p.on("partialdone",function(){x.trigger("partialdone")}),p.on("reset",function(){x.trigger("reset")}),p.on("endedtimeline",function(){x.trigger("endedtimeline")}),this.flush=function(){p.flush()},this.partialFlush=function(){p.partialFlush()},this.reset=function(){p.reset()},this.endTimeline=function(){p.endTimeline()},Y=function(J,ne){var he=8,ge=8,Ge,Ee;for(Ge=0;Ge<J;Ge++)ge!==0&&(Ee=ne.readExpGolomb(),ge=(he+Ee+256)%256),he=ge===0?he:ge},L=function(J){for(var ne=J.byteLength,he=[],ge=1,Ge,Ee;ge<ne-2;)J[ge]===0&&J[ge+1]===0&&J[ge+2]===3?(he.push(ge+2),ge+=2):ge++;if(he.length===0)return J;Ge=ne-he.length,Ee=new Uint8Array(Ge);var wt=0;for(ge=0;ge<Ge;wt++,ge++)wt===he[0]&&(wt++,he.shift()),Ee[ge]=J[wt];return Ee},G=function(J){var ne=0,he=0,ge=0,Ge=0,Ee,wt,Wt,Gr,pn,gi,Oo,ou,dc,Ta,Ca,er=[1,1],gn,Kn;if(Ee=new qc(J),wt=Ee.readUnsignedByte(),Gr=Ee.readUnsignedByte(),Wt=Ee.readUnsignedByte(),Ee.skipUnsignedExpGolomb(),Xl[wt]&&(pn=Ee.readUnsignedExpGolomb(),pn===3&&Ee.skipBits(1),Ee.skipUnsignedExpGolomb(),Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),Ee.readBoolean()))for(Ca=pn!==3?8:12,Kn=0;Kn<Ca;Kn++)Ee.readBoolean()&&(Kn<6?Y(16,Ee):Y(64,Ee));if(Ee.skipUnsignedExpGolomb(),gi=Ee.readUnsignedExpGolomb(),gi===0)Ee.readUnsignedExpGolomb();else if(gi===1)for(Ee.skipBits(1),Ee.skipExpGolomb(),Ee.skipExpGolomb(),Oo=Ee.readUnsignedExpGolomb(),Kn=0;Kn<Oo;Kn++)Ee.skipExpGolomb();if(Ee.skipUnsignedExpGolomb(),Ee.skipBits(1),ou=Ee.readUnsignedExpGolomb(),dc=Ee.readUnsignedExpGolomb(),Ta=Ee.readBits(1),Ta===0&&Ee.skipBits(1),Ee.skipBits(1),Ee.readBoolean()&&(ne=Ee.readUnsignedExpGolomb(),he=Ee.readUnsignedExpGolomb(),ge=Ee.readUnsignedExpGolomb(),Ge=Ee.readUnsignedExpGolomb()),Ee.readBoolean()&&Ee.readBoolean()){switch(gn=Ee.readUnsignedByte(),gn){case 1:er=[1,1];break;case 2:er=[12,11];break;case 3:er=[10,11];break;case 4:er=[16,11];break;case 5:er=[40,33];break;case 6:er=[24,11];break;case 7:er=[20,11];break;case 8:er=[32,11];break;case 9:er=[80,33];break;case 10:er=[18,11];break;case 11:er=[15,11];break;case 12:er=[64,33];break;case 13:er=[160,99];break;case 14:er=[4,3];break;case 15:er=[3,2];break;case 16:er=[2,1];break;case 255:{er=[Ee.readUnsignedByte()<<8|Ee.readUnsignedByte(),Ee.readUnsignedByte()<<8|Ee.readUnsignedByte()];break}}er&&er[0]/er[1]}return{profileIdc:wt,levelIdc:Wt,profileCompatibility:Gr,width:(ou+1)*16-ne*2-he*2,height:(2-Ta)*(dc+1)*16-ge*2-Ge*2,sarRatio:er}}},Vi.prototype=new Kl;var Yl={H264Stream:Vi},pl=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Xa=function(p,x){var S=p[x+6]<<21|p[x+7]<<14|p[x+8]<<7|p[x+9],b=p[x+5],E=(b&16)>>4;return S=S>=0?S:0,E?S+20:S+10},As=function(p,x){return p.length-x<10||p[x]!==73||p[x+1]!==68||p[x+2]!==51?x:(x+=Xa(p,x),As(p,x))},us=function(p){var x=As(p,0);return p.length>=x+2&&(p[x]&255)===255&&(p[x+1]&240)===240&&(p[x+1]&22)===16},xa=function(p){return p[0]<<21|p[1]<<14|p[2]<<7|p[3]},ml=function(p,x,S){var b,E="";for(b=x;b<S;b++)E+="%"+("00"+p[b].toString(16)).slice(-2);return E},Gc=function(p,x,S){return unescape(ml(p,x,S))},Kc=function(p,x){var S=(p[x+5]&224)>>5,b=p[x+4]<<3,E=p[x+3]&6144;return E|b|S},ec=function(p,x){return p[x]===73&&p[x+1]===68&&p[x+2]===51?"timed-metadata":p[x]&!0&&(p[x+1]&240)===240?"audio":null},Ql=function(p){for(var x=0;x+5<p.length;){if(p[x]!==255||(p[x+1]&246)!==240){x++;continue}return pl[(p[x+2]&60)>>>2]}return null},tc=function(p){var x,S,b,E;x=10,p[5]&64&&(x+=4,x+=xa(p.subarray(10,14)));do{if(S=xa(p.subarray(x+4,x+8)),S<1)return null;if(E=String.fromCharCode(p[x],p[x+1],p[x+2],p[x+3]),E==="PRIV"){b=p.subarray(x+10,x+S+10);for(var L=0;L<b.byteLength;L++)if(b[L]===0){var G=Gc(b,0,L);if(G==="com.apple.streaming.transportStreamTimestamp"){var Y=b.subarray(L+1),J=(Y[3]&1)<<30|Y[4]<<22|Y[5]<<14|Y[6]<<6|Y[7]>>>2;return J*=4,J+=Y[7]&3,J}break}}x+=10,x+=S}while(x<p.byteLength);return null},Vs={isLikelyAacData:us,parseId3TagSize:Xa,parseAdtsSize:Kc,parseType:ec,parseSampleRate:Ql,parseAacTimestamp:tc},_a=t,cs=Vs,Ds;Ds=function(){var p=new Uint8Array,x=0;Ds.prototype.init.call(this),this.setTimestamp=function(S){x=S},this.push=function(S){var b=0,E=0,L,G,Y,J;for(p.length?(J=p.length,p=new Uint8Array(S.byteLength+J),p.set(p.subarray(0,J)),p.set(S,J)):p=S;p.length-E>=3;){if(p[E]===73&&p[E+1]===68&&p[E+2]===51){if(p.length-E<10||(b=cs.parseId3TagSize(p,E),E+b>p.length))break;G={type:"timed-metadata",data:p.subarray(E,E+b)},this.trigger("data",G),E+=b;continue}else if((p[E]&255)===255&&(p[E+1]&240)===240){if(p.length-E<7||(b=cs.parseAdtsSize(p,E),E+b>p.length))break;Y={type:"audio",data:p.subarray(E,E+b),pts:x,dts:x},this.trigger("data",Y),E+=b;continue}E++}L=p.length-E,L>0?p=p.subarray(E):p=new Uint8Array},this.reset=function(){p=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){p=new Uint8Array,this.trigger("endedtimeline")}},Ds.prototype=new _a;var Xc=Ds,un=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Jl=un,Yc=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Li=Yc,Oi=t,ds=ot,Ei=Me,Ya=wn,En=je,Hn=Zu,Wi=Ut,Qa=va,Eo=Yl.H264Stream,gl=Xc,oh=Vs.isLikelyAacData,lh=Ut.ONE_SECOND_IN_TS,vl=Jl,rc=Li,Ja,Ws,Za,Mi,Qc=function(p,x){x.stream=p,this.trigger("log",x)},ko=function(p,x){for(var S=Object.keys(x),b=0;b<S.length;b++){var E=S[b];E==="headOfPipeline"||!x[E].on||x[E].on("log",Qc.bind(p,E))}},eo=function(p,x){var S;if(p.length!==x.length)return!1;for(S=0;S<p.length;S++)if(p[S]!==x[S])return!1;return!0},nc=function(p,x,S,b,E,L){var G=S-x,Y=b-x,J=E-S;return{start:{dts:p,pts:p+G},end:{dts:p+Y,pts:p+J},prependedContentDuration:L,baseMediaDecodeTime:p}};Ws=function(p,x){var S=[],b,E=0,L=0,G=1/0;x=x||{},b=x.firstSequenceNumber||0,Ws.prototype.init.call(this),this.push=function(Y){En.collectDtsInfo(p,Y),p&&vl.forEach(function(J){p[J]=Y[J]}),S.push(Y)},this.setEarliestDts=function(Y){E=Y},this.setVideoBaseMediaDecodeTime=function(Y){G=Y},this.setAudioAppendStart=function(Y){L=Y},this.flush=function(){var Y,J,ne,he,ge,Ge,Ee;if(S.length===0){this.trigger("done","AudioSegmentStream");return}Y=Ya.trimAdtsFramesByEarliestDts(S,p,E),p.baseMediaDecodeTime=En.calculateTrackBaseMediaDecodeTime(p,x.keepOriginalTimestamps),Ee=Ya.prefixWithSilence(p,Y,L,G),p.samples=Ya.generateSampleTable(Y),ne=ds.mdat(Ya.concatenateFrameData(Y)),S=[],J=ds.moof(b,[p]),he=new Uint8Array(J.byteLength+ne.byteLength),b++,he.set(J),he.set(ne,J.byteLength),En.clearDtsInfo(p),ge=Math.ceil(lh*1024/p.samplerate),Y.length&&(Ge=Y.length*ge,this.trigger("segmentTimingInfo",nc(Wi.audioTsToVideoTs(p.baseMediaDecodeTime,p.samplerate),Y[0].dts,Y[0].pts,Y[0].dts+Ge,Y[0].pts+Ge,Ee||0)),this.trigger("timingInfo",{start:Y[0].pts,end:Y[0].pts+Ge})),this.trigger("data",{track:p,boxes:he}),this.trigger("done","AudioSegmentStream")},this.reset=function(){En.clearDtsInfo(p),S=[],this.trigger("reset")}},Ws.prototype=new Oi,Ja=function(p,x){var S,b=[],E=[],L,G;x=x||{},S=x.firstSequenceNumber||0,Ja.prototype.init.call(this),delete p.minPTS,this.gopCache_=[],this.push=function(Y){En.collectDtsInfo(p,Y),Y.nalUnitType==="seq_parameter_set_rbsp"&&!L&&(L=Y.config,p.sps=[Y.data],rc.forEach(function(J){p[J]=L[J]},this)),Y.nalUnitType==="pic_parameter_set_rbsp"&&!G&&(G=Y.data,p.pps=[Y.data]),b.push(Y)},this.flush=function(){for(var Y,J,ne,he,ge,Ge,Ee=0,wt,Wt;b.length&&b[0].nalUnitType!=="access_unit_delimiter_rbsp";)b.shift();if(b.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(Y=Ei.groupNalsIntoFrames(b),ne=Ei.groupFramesIntoGops(Y),ne[0][0].keyFrame||(J=this.getGopForFusion_(b[0],p),J?(Ee=J.duration,ne.unshift(J),ne.byteLength+=J.byteLength,ne.nalCount+=J.nalCount,ne.pts=J.pts,ne.dts=J.dts,ne.duration+=J.duration):ne=Ei.extendFirstKeyFrame(ne)),E.length){var Gr;if(x.alignGopsAtEnd?Gr=this.alignGopsAtEnd_(ne):Gr=this.alignGopsAtStart_(ne),!Gr){this.gopCache_.unshift({gop:ne.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}En.clearDtsInfo(p),ne=Gr}En.collectDtsInfo(p,ne),p.samples=Ei.generateSampleTable(ne),ge=ds.mdat(Ei.concatenateNalData(ne)),p.baseMediaDecodeTime=En.calculateTrackBaseMediaDecodeTime(p,x.keepOriginalTimestamps),this.trigger("processedGopsInfo",ne.map(function(pn){return{pts:pn.pts,dts:pn.dts,byteLength:pn.byteLength}})),wt=ne[0],Wt=ne[ne.length-1],this.trigger("segmentTimingInfo",nc(p.baseMediaDecodeTime,wt.dts,wt.pts,Wt.dts+Wt.duration,Wt.pts+Wt.duration,Ee)),this.trigger("timingInfo",{start:ne[0].pts,end:ne[ne.length-1].pts+ne[ne.length-1].duration}),this.gopCache_.unshift({gop:ne.pop(),pps:p.pps,sps:p.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),b=[],this.trigger("baseMediaDecodeTime",p.baseMediaDecodeTime),this.trigger("timelineStartInfo",p.timelineStartInfo),he=ds.moof(S,[p]),Ge=new Uint8Array(he.byteLength+ge.byteLength),S++,Ge.set(he),Ge.set(ge,he.byteLength),this.trigger("data",{track:p,boxes:Ge}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),b=[],this.gopCache_.length=0,E.length=0,this.trigger("reset")},this.resetStream_=function(){En.clearDtsInfo(p),L=void 0,G=void 0},this.getGopForFusion_=function(Y){var J=45e3,ne=1/0,he,ge,Ge,Ee,wt;for(wt=0;wt<this.gopCache_.length;wt++)Ee=this.gopCache_[wt],Ge=Ee.gop,!(!(p.pps&&eo(p.pps[0],Ee.pps[0]))||!(p.sps&&eo(p.sps[0],Ee.sps[0])))&&(Ge.dts<p.timelineStartInfo.dts||(he=Y.dts-Ge.dts-Ge.duration,he>=-1e4&&he<=J&&(!ge||ne>he)&&(ge=Ee,ne=he)));return ge?ge.gop:null},this.alignGopsAtStart_=function(Y){var J,ne,he,ge,Ge,Ee,wt,Wt;for(Ge=Y.byteLength,Ee=Y.nalCount,wt=Y.duration,J=ne=0;J<E.length&&ne<Y.length&&(he=E[J],ge=Y[ne],he.pts!==ge.pts);){if(ge.pts>he.pts){J++;continue}ne++,Ge-=ge.byteLength,Ee-=ge.nalCount,wt-=ge.duration}return ne===0?Y:ne===Y.length?null:(Wt=Y.slice(ne),Wt.byteLength=Ge,Wt.duration=wt,Wt.nalCount=Ee,Wt.pts=Wt[0].pts,Wt.dts=Wt[0].dts,Wt)},this.alignGopsAtEnd_=function(Y){var J,ne,he,ge,Ge,Ee;for(J=E.length-1,ne=Y.length-1,Ge=null,Ee=!1;J>=0&&ne>=0;){if(he=E[J],ge=Y[ne],he.pts===ge.pts){Ee=!0;break}if(he.pts>ge.pts){J--;continue}J===E.length-1&&(Ge=ne),ne--}if(!Ee&&Ge===null)return null;var wt;if(Ee?wt=ne:wt=Ge,wt===0)return Y;var Wt=Y.slice(wt),Gr=Wt.reduce(function(pn,gi){return pn.byteLength+=gi.byteLength,pn.duration+=gi.duration,pn.nalCount+=gi.nalCount,pn},{byteLength:0,duration:0,nalCount:0});return Wt.byteLength=Gr.byteLength,Wt.duration=Gr.duration,Wt.nalCount=Gr.nalCount,Wt.pts=Wt[0].pts,Wt.dts=Wt[0].dts,Wt},this.alignGopsWith=function(Y){E=Y}},Ja.prototype=new Oi,Mi=function(p,x){this.numberOfTracks=0,this.metadataStream=x,p=p||{},typeof p.remux<"u"?this.remuxTracks=!!p.remux:this.remuxTracks=!0,typeof p.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=p.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Mi.prototype.init.call(this),this.push=function(S){if(S.content||S.text)return this.pendingCaptions.push(S);if(S.frames)return this.pendingMetadata.push(S);this.pendingTracks.push(S.track),this.pendingBytes+=S.boxes.byteLength,S.track.type==="video"&&(this.videoTrack=S.track,this.pendingBoxes.push(S.boxes)),S.track.type==="audio"&&(this.audioTrack=S.track,this.pendingBoxes.unshift(S.boxes))}},Mi.prototype=new Oi,Mi.prototype.flush=function(p){var x=0,S={captions:[],captionStreams:{},metadata:[],info:{}},b,E,L,G=0,Y;if(this.pendingTracks.length<this.numberOfTracks){if(p!=="VideoSegmentStream"&&p!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(G=this.videoTrack.timelineStartInfo.pts,rc.forEach(function(J){S.info[J]=this.videoTrack[J]},this)):this.audioTrack&&(G=this.audioTrack.timelineStartInfo.pts,vl.forEach(function(J){S.info[J]=this.audioTrack[J]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?S.type=this.pendingTracks[0].type:S.type="combined",this.emittedTracks+=this.pendingTracks.length,L=ds.initSegment(this.pendingTracks),S.initSegment=new Uint8Array(L.byteLength),S.initSegment.set(L),S.data=new Uint8Array(this.pendingBytes),Y=0;Y<this.pendingBoxes.length;Y++)S.data.set(this.pendingBoxes[Y],x),x+=this.pendingBoxes[Y].byteLength;for(Y=0;Y<this.pendingCaptions.length;Y++)b=this.pendingCaptions[Y],b.startTime=Wi.metadataTsToSeconds(b.startPts,G,this.keepOriginalTimestamps),b.endTime=Wi.metadataTsToSeconds(b.endPts,G,this.keepOriginalTimestamps),S.captionStreams[b.stream]=!0,S.captions.push(b);for(Y=0;Y<this.pendingMetadata.length;Y++)E=this.pendingMetadata[Y],E.cueTime=Wi.metadataTsToSeconds(E.pts,G,this.keepOriginalTimestamps),S.metadata.push(E);for(S.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",S),Y=0;Y<S.captions.length;Y++)b=S.captions[Y],this.trigger("caption",b);for(Y=0;Y<S.metadata.length;Y++)E=S.metadata[Y],this.trigger("id3Frame",E)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Mi.prototype.setRemux=function(p){this.remuxTracks=p},Za=function(p){var x=this,S=!0,b,E;Za.prototype.init.call(this),p=p||{},this.baseMediaDecodeTime=p.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="aac",L.metadataStream=new Hn.MetadataStream,L.aacStream=new gl,L.audioTimestampRolloverStream=new Hn.TimestampRolloverStream("audio"),L.timedMetadataTimestampRolloverStream=new Hn.TimestampRolloverStream("timed-metadata"),L.adtsStream=new Qa,L.coalesceStream=new Mi(p,L.metadataStream),L.headOfPipeline=L.aacStream,L.aacStream.pipe(L.audioTimestampRolloverStream).pipe(L.adtsStream),L.aacStream.pipe(L.timedMetadataTimestampRolloverStream).pipe(L.metadataStream).pipe(L.coalesceStream),L.metadataStream.on("timestamp",function(G){L.aacStream.setTimestamp(G.timeStamp)}),L.aacStream.on("data",function(G){G.type!=="timed-metadata"&&G.type!=="audio"||L.audioSegmentStream||(E=E||{timelineStartInfo:{baseMediaDecodeTime:x.baseMediaDecodeTime},codec:"adts",type:"audio"},L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new Ws(E,p),L.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream),x.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!b}))}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),ko(this,L)},this.setupTsPipeline=function(){var L={};this.transmuxPipeline_=L,L.type="ts",L.metadataStream=new Hn.MetadataStream,L.packetStream=new Hn.TransportPacketStream,L.parseStream=new Hn.TransportParseStream,L.elementaryStream=new Hn.ElementaryStream,L.timestampRolloverStream=new Hn.TimestampRolloverStream,L.adtsStream=new Qa,L.h264Stream=new Eo,L.captionStream=new Hn.CaptionStream(p),L.coalesceStream=new Mi(p,L.metadataStream),L.headOfPipeline=L.packetStream,L.packetStream.pipe(L.parseStream).pipe(L.elementaryStream).pipe(L.timestampRolloverStream),L.timestampRolloverStream.pipe(L.h264Stream),L.timestampRolloverStream.pipe(L.adtsStream),L.timestampRolloverStream.pipe(L.metadataStream).pipe(L.coalesceStream),L.h264Stream.pipe(L.captionStream).pipe(L.coalesceStream),L.elementaryStream.on("data",function(G){var Y;if(G.type==="metadata"){for(Y=G.tracks.length;Y--;)!b&&G.tracks[Y].type==="video"?(b=G.tracks[Y],b.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime):!E&&G.tracks[Y].type==="audio"&&(E=G.tracks[Y],E.timelineStartInfo.baseMediaDecodeTime=x.baseMediaDecodeTime);b&&!L.videoSegmentStream&&(L.coalesceStream.numberOfTracks++,L.videoSegmentStream=new Ja(b,p),L.videoSegmentStream.on("log",x.getLogTrigger_("videoSegmentStream")),L.videoSegmentStream.on("timelineStartInfo",function(J){E&&!p.keepOriginalTimestamps&&(E.timelineStartInfo=J,L.audioSegmentStream.setEarliestDts(J.dts-x.baseMediaDecodeTime))}),L.videoSegmentStream.on("processedGopsInfo",x.trigger.bind(x,"gopInfo")),L.videoSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"videoSegmentTimingInfo")),L.videoSegmentStream.on("baseMediaDecodeTime",function(J){E&&L.audioSegmentStream.setVideoBaseMediaDecodeTime(J)}),L.videoSegmentStream.on("timingInfo",x.trigger.bind(x,"videoTimingInfo")),L.h264Stream.pipe(L.videoSegmentStream).pipe(L.coalesceStream)),E&&!L.audioSegmentStream&&(L.coalesceStream.numberOfTracks++,L.audioSegmentStream=new Ws(E,p),L.audioSegmentStream.on("log",x.getLogTrigger_("audioSegmentStream")),L.audioSegmentStream.on("timingInfo",x.trigger.bind(x,"audioTimingInfo")),L.audioSegmentStream.on("segmentTimingInfo",x.trigger.bind(x,"audioSegmentTimingInfo")),L.adtsStream.pipe(L.audioSegmentStream).pipe(L.coalesceStream)),x.trigger("trackinfo",{hasAudio:!!E,hasVideo:!!b})}}),L.coalesceStream.on("data",this.trigger.bind(this,"data")),L.coalesceStream.on("id3Frame",function(G){G.dispatchType=L.metadataStream.dispatchType,x.trigger("id3Frame",G)}),L.coalesceStream.on("caption",this.trigger.bind(this,"caption")),L.coalesceStream.on("done",this.trigger.bind(this,"done")),ko(this,L)},this.setBaseMediaDecodeTime=function(L){var G=this.transmuxPipeline_;p.keepOriginalTimestamps||(this.baseMediaDecodeTime=L),E&&(E.timelineStartInfo.dts=void 0,E.timelineStartInfo.pts=void 0,En.clearDtsInfo(E),G.audioTimestampRolloverStream&&G.audioTimestampRolloverStream.discontinuity()),b&&(G.videoSegmentStream&&(G.videoSegmentStream.gopCache_=[]),b.timelineStartInfo.dts=void 0,b.timelineStartInfo.pts=void 0,En.clearDtsInfo(b),G.captionStream.reset()),G.timestampRolloverStream&&G.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(L){E&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(L)},this.setRemux=function(L){var G=this.transmuxPipeline_;p.remux=L,G&&G.coalesceStream&&G.coalesceStream.setRemux(L)},this.alignGopsWith=function(L){b&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(L)},this.getLogTrigger_=function(L){var G=this;return function(Y){Y.stream=L,G.trigger("log",Y)}},this.push=function(L){if(S){var G=oh(L);G&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!G&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),S=!1}this.transmuxPipeline_.headOfPipeline.push(L)},this.flush=function(){S=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Za.prototype=new Oi;var Jc={Transmuxer:Za},Zl=function(p){return p>>>0},Zc=function(p){return("00"+p.toString(16)).slice(-2)},ba={toUnsigned:Zl,toHexString:Zc},ed=function(p){var x="";return x+=String.fromCharCode(p[0]),x+=String.fromCharCode(p[1]),x+=String.fromCharCode(p[2]),x+=String.fromCharCode(p[3]),x},Ao=ed,td=ba.toUnsigned,rd=Ao,Do=function(p,x){var S=[],b,E,L,G,Y;if(!x.length)return null;for(b=0;b<p.byteLength;)E=td(p[b]<<24|p[b+1]<<16|p[b+2]<<8|p[b+3]),L=rd(p.subarray(b+4,b+8)),G=E>1?b+E:p.byteLength,L===x[0]&&(x.length===1?S.push(p.subarray(b+8,G)):(Y=Do(p.subarray(b+8,G),x.slice(1)),Y.length&&(S=S.concat(Y)))),b=G;return S},Io=Do,uh=ba.toUnsigned,ch=s.getUint64,dh=function(p){var x={version:p[0],flags:new Uint8Array(p.subarray(1,4))};return x.version===1?x.baseMediaDecodeTime=ch(p.subarray(4)):x.baseMediaDecodeTime=uh(p[4]<<24|p[5]<<16|p[6]<<8|p[7]),x},yl=dh,xl=function(p){return{isLeading:(p[0]&12)>>>2,dependsOn:p[0]&3,isDependedOn:(p[1]&192)>>>6,hasRedundancy:(p[1]&48)>>>4,paddingValue:(p[1]&14)>>>1,isNonSyncSample:p[1]&1,degradationPriority:p[2]<<8|p[3]}},ic=xl,eu=ic,nd=function(p){var x={version:p[0],flags:new Uint8Array(p.subarray(1,4)),samples:[]},S=new DataView(p.buffer,p.byteOffset,p.byteLength),b=x.flags[2]&1,E=x.flags[2]&4,L=x.flags[1]&1,G=x.flags[1]&2,Y=x.flags[1]&4,J=x.flags[1]&8,ne=S.getUint32(4),he=8,ge;for(b&&(x.dataOffset=S.getInt32(he),he+=4),E&&ne&&(ge={flags:eu(p.subarray(he,he+4))},he+=4,L&&(ge.duration=S.getUint32(he),he+=4),G&&(ge.size=S.getUint32(he),he+=4),J&&(x.version===1?ge.compositionTimeOffset=S.getInt32(he):ge.compositionTimeOffset=S.getUint32(he),he+=4),x.samples.push(ge),ne--);ne--;)ge={},L&&(ge.duration=S.getUint32(he),he+=4),G&&(ge.size=S.getUint32(he),he+=4),Y&&(ge.flags=eu(p.subarray(he,he+4)),he+=4),J&&(x.version===1?ge.compositionTimeOffset=S.getInt32(he):ge.compositionTimeOffset=S.getUint32(he),he+=4),x.samples.push(ge);return x},qs=nd,sn=function(p){var x=new DataView(p.buffer,p.byteOffset,p.byteLength),S={version:p[0],flags:new Uint8Array(p.subarray(1,4)),trackId:x.getUint32(4)},b=S.flags[2]&1,E=S.flags[2]&2,L=S.flags[2]&8,G=S.flags[2]&16,Y=S.flags[2]&32,J=S.flags[0]&65536,ne=S.flags[0]&131072,he;return he=8,b&&(he+=4,S.baseDataOffset=x.getUint32(12),he+=4),E&&(S.sampleDescriptionIndex=x.getUint32(he),he+=4),L&&(S.defaultSampleDuration=x.getUint32(he),he+=4),G&&(S.defaultSampleSize=x.getUint32(he),he+=4),Y&&(S.defaultSampleFlags=x.getUint32(he)),J&&(S.durationIsEmpty=!0),!b&&ne&&(S.baseDataOffsetIsMoof=!0),S},Is=sn,cn;typeof window<"u"?cn=window:typeof r<"u"?cn=r:typeof self<"u"?cn=self:cn={};var qi=cn,hh=Qe.discardEmulationPreventionBytes,id=Ci.CaptionStream,Ps=Io,sd=yl,_l=qs,bl=Is,sc=qi,tu=function(p,x){for(var S=p,b=0;b<x.length;b++){var E=x[b];if(S<E.size)return E;S-=E.size}return null},fh=function(p,x,S){var b=new DataView(p.buffer,p.byteOffset,p.byteLength),E={logs:[],seiNals:[]},L,G,Y,J;for(G=0;G+4<p.length;G+=Y)if(Y=b.getUint32(G),G+=4,!(Y<=0))switch(p[G]&31){case 6:var ne=p.subarray(G+1,G+1+Y),he=tu(G,x);if(L={nalUnitType:"sei_rbsp",size:Y,data:ne,escapedRBSP:hh(ne),trackId:S},he)L.pts=he.pts,L.dts=he.dts,J=he;else if(J)L.pts=J.pts,L.dts=J.dts;else{E.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+G+" for trackId "+S+". See mux.js#223."});break}E.seiNals.push(L);break}return E},ac=function(p,x,S){var b=x,E=S.defaultSampleDuration||0,L=S.defaultSampleSize||0,G=S.trackId,Y=[];return p.forEach(function(J){var ne=_l(J),he=ne.samples;he.forEach(function(ge){ge.duration===void 0&&(ge.duration=E),ge.size===void 0&&(ge.size=L),ge.trackId=G,ge.dts=b,ge.compositionTimeOffset===void 0&&(ge.compositionTimeOffset=0),typeof b=="bigint"?(ge.pts=b+sc.BigInt(ge.compositionTimeOffset),b+=sc.BigInt(ge.duration)):(ge.pts=b+ge.compositionTimeOffset,b+=ge.duration)}),Y=Y.concat(he)}),Y},ue=function(p,x){var S=Ps(p,["moof","traf"]),b=Ps(p,["mdat"]),E={},L=[];return b.forEach(function(G,Y){var J=S[Y];L.push({mdat:G,traf:J})}),L.forEach(function(G){var Y=G.mdat,J=G.traf,ne=Ps(J,["tfhd"]),he=bl(ne[0]),ge=he.trackId,Ge=Ps(J,["tfdt"]),Ee=Ge.length>0?sd(Ge[0]).baseMediaDecodeTime:0,wt=Ps(J,["trun"]),Wt,Gr;x===ge&&wt.length>0&&(Wt=ac(wt,Ee,he),Gr=fh(Y,Wt,ge),E[ge]||(E[ge]={seiNals:[],logs:[]}),E[ge].seiNals=E[ge].seiNals.concat(Gr.seiNals),E[ge].logs=E[ge].logs.concat(Gr.logs))}),E},B=function(p,x,S){var b;if(x===null)return null;b=ue(p,x);var E=b[x]||{};return{seiNals:E.seiNals,logs:E.logs,timescale:S}},V=function(){var p=!1,x,S,b,E,L,G;this.isInitialized=function(){return p},this.init=function(Y){x=new id,p=!0,G=Y?Y.isPartial:!1,x.on("data",function(J){J.startTime=J.startPts/E,J.endTime=J.endPts/E,L.captions.push(J),L.captionStreams[J.stream]=!0}),x.on("log",function(J){L.logs.push(J)})},this.isNewInit=function(Y,J){return Y&&Y.length===0||J&&typeof J=="object"&&Object.keys(J).length===0?!1:b!==Y[0]||E!==J[b]},this.parse=function(Y,J,ne){var he;if(this.isInitialized()){if(!J||!ne)return null;if(this.isNewInit(J,ne))b=J[0],E=ne[b];else if(b===null||!E)return S.push(Y),null}else return null;for(;S.length>0;){var ge=S.shift();this.parse(ge,J,ne)}return he=B(Y,b,E),he&&he.logs&&(L.logs=L.logs.concat(he.logs)),he===null||!he.seiNals?L.logs.length?{logs:L.logs,captions:[],captionStreams:[]}:null:(this.pushNals(he.seiNals),this.flushStream(),L)},this.pushNals=function(Y){if(!this.isInitialized()||!Y||Y.length===0)return null;Y.forEach(function(J){x.push(J)})},this.flushStream=function(){if(!this.isInitialized())return null;G?x.partialFlush():x.flush()},this.clearParsedCaptions=function(){L.captions=[],L.captionStreams={},L.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;x.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){S=[],b=null,E=null,L?this.clearParsedCaptions():L={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},z=V,q=function(p){for(var x=0,S=String.fromCharCode(p[x]),b="";S!=="\0";)b+=S,x++,S=String.fromCharCode(p[x]);return b+=S,b},Z={uint8ToCString:q},re=Z.uint8ToCString,me=s.getUint64,xe=function(p){var x=4,S=p[0],b,E,L,G,Y,J,ne,he;if(S===0){b=re(p.subarray(x)),x+=b.length,E=re(p.subarray(x)),x+=E.length;var ge=new DataView(p.buffer);L=ge.getUint32(x),x+=4,Y=ge.getUint32(x),x+=4,J=ge.getUint32(x),x+=4,ne=ge.getUint32(x),x+=4}else if(S===1){var ge=new DataView(p.buffer);L=ge.getUint32(x),x+=4,G=me(p.subarray(x)),x+=8,J=ge.getUint32(x),x+=4,ne=ge.getUint32(x),x+=4,b=re(p.subarray(x)),x+=b.length,E=re(p.subarray(x)),x+=E.length}he=new Uint8Array(p.subarray(x,p.byteLength));var Ge={scheme_id_uri:b,value:E,timescale:L||1,presentation_time:G,presentation_time_delta:Y,event_duration:J,id:ne,message_data:he};return we(S,Ge)?Ge:void 0},De=function(p,x,S,b){return p||p===0?p/x:b+S/x},we=function(p,x){var S=x.scheme_id_uri!=="\0",b=p===0&&Pe(x.presentation_time_delta)&&S,E=p===1&&Pe(x.presentation_time)&&S;return!(p>1)&&b||E},Pe=function(p){return p!==void 0||p!==null},lt={parseEmsgBox:xe,scaleTime:De},Mt=ba.toUnsigned,zt=ba.toHexString,st=Io,ar=Ao,In=lt,pi=Is,Gi=qs,Sl=yl,Po=s.getUint64,Ro,Tl,Sa,Gs,_n,to,Ki,ru=qi,Af=fi.parseId3Frames;Ro=function(p){var x={},S=st(p,["moov","trak"]);return S.reduce(function(b,E){var L,G,Y,J,ne;return L=st(E,["tkhd"])[0],!L||(G=L[0],Y=G===0?12:20,J=Mt(L[Y]<<24|L[Y+1]<<16|L[Y+2]<<8|L[Y+3]),ne=st(E,["mdia","mdhd"])[0],!ne)?null:(G=ne[0],Y=G===0?12:20,b[J]=Mt(ne[Y]<<24|ne[Y+1]<<16|ne[Y+2]<<8|ne[Y+3]),b)},x)},Tl=function(p,x){var S;S=st(x,["moof","traf"]);var b=S.reduce(function(E,L){var G=st(L,["tfhd"])[0],Y=Mt(G[4]<<24|G[5]<<16|G[6]<<8|G[7]),J=p[Y]||9e4,ne=st(L,["tfdt"])[0],he=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ge;ne[0]===1?ge=Po(ne.subarray(4,12)):ge=he.getUint32(4);let Ge;return typeof ge=="bigint"?Ge=ge/ru.BigInt(J):typeof ge=="number"&&!isNaN(ge)&&(Ge=ge/J),Ge<Number.MAX_SAFE_INTEGER&&(Ge=Number(Ge)),Ge<E&&(E=Ge),E},1/0);return typeof b=="bigint"||isFinite(b)?b:0},Sa=function(p,x){var S=st(x,["moof","traf"]),b=0,E=0,L;if(S&&S.length){var G=st(S[0],["tfhd"])[0],Y=st(S[0],["trun"])[0],J=st(S[0],["tfdt"])[0];if(G){var ne=pi(G);L=ne.trackId}if(J){var he=Sl(J);b=he.baseMediaDecodeTime}if(Y){var ge=Gi(Y);ge.samples&&ge.samples.length&&(E=ge.samples[0].compositionTimeOffset||0)}}var Ge=p[L]||9e4;typeof b=="bigint"&&(E=ru.BigInt(E),Ge=ru.BigInt(Ge));var Ee=(b+E)/Ge;return typeof Ee=="bigint"&&Ee<Number.MAX_SAFE_INTEGER&&(Ee=Number(Ee)),Ee},Gs=function(p){var x=st(p,["moov","trak"]),S=[];return x.forEach(function(b){var E=st(b,["mdia","hdlr"]),L=st(b,["tkhd"]);E.forEach(function(G,Y){var J=ar(G.subarray(8,12)),ne=L[Y],he,ge,Ge;J==="vide"&&(he=new DataView(ne.buffer,ne.byteOffset,ne.byteLength),ge=he.getUint8(0),Ge=ge===0?he.getUint32(12):he.getUint32(20),S.push(Ge))})}),S},to=function(p){var x=p[0],S=x===0?12:20;return Mt(p[S]<<24|p[S+1]<<16|p[S+2]<<8|p[S+3])},_n=function(p){var x=st(p,["moov","trak"]),S=[];return x.forEach(function(b){var E={},L=st(b,["tkhd"])[0],G,Y;L&&(G=new DataView(L.buffer,L.byteOffset,L.byteLength),Y=G.getUint8(0),E.id=Y===0?G.getUint32(12):G.getUint32(20));var J=st(b,["mdia","hdlr"])[0];if(J){var ne=ar(J.subarray(8,12));ne==="vide"?E.type="video":ne==="soun"?E.type="audio":E.type=ne}var he=st(b,["mdia","minf","stbl","stsd"])[0];if(he){var ge=he.subarray(8);E.codec=ar(ge.subarray(4,8));var Ge=st(ge,[E.codec])[0],Ee,wt;Ge&&(/^[asm]vc[1-9]$/i.test(E.codec)?(Ee=Ge.subarray(78),wt=ar(Ee.subarray(4,8)),wt==="avcC"&&Ee.length>11?(E.codec+=".",E.codec+=zt(Ee[9]),E.codec+=zt(Ee[10]),E.codec+=zt(Ee[11])):E.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(E.codec)?(Ee=Ge.subarray(28),wt=ar(Ee.subarray(4,8)),wt==="esds"&&Ee.length>20&&Ee[19]!==0?(E.codec+="."+zt(Ee[19]),E.codec+="."+zt(Ee[20]>>>2&63).replace(/^0/,"")):E.codec="mp4a.40.2"):E.codec=E.codec.toLowerCase())}var Wt=st(b,["mdia","mdhd"])[0];Wt&&(E.timescale=to(Wt)),S.push(E)}),S},Ki=function(p,x=0){var S=st(p,["emsg"]);return S.map(b=>{var E=In.parseEmsgBox(new Uint8Array(b)),L=Af(E.message_data);return{cueTime:In.scaleTime(E.presentation_time,E.timescale,E.presentation_time_delta,x),duration:In.scaleTime(E.event_duration,E.timescale),frames:L}})};var nu={findBox:st,parseType:ar,timescale:Ro,startTime:Tl,compositionStartTime:Sa,videoTrackIds:Gs,tracks:_n,getTimescaleFromMediaHeader:to,getEmsgID3:Ki},iu=yn,ad=function(p){var x=p[1]&31;return x<<=8,x|=p[2],x},Lo=function(p){return!!(p[1]&64)},Xi=function(p){var x=0;return(p[3]&48)>>>4>1&&(x+=p[4]+1),x},ph=function(p,x){var S=ad(p);return S===0?"pat":S===x?"pmt":x?"pes":null},mh=function(p){var x=Lo(p),S=4+Xi(p);return x&&(S+=p[S]+1),(p[S+10]&31)<<8|p[S+11]},Jm=function(p){var x={},S=Lo(p),b=4+Xi(p);if(S&&(b+=p[b]+1),!!(p[b+5]&1)){var E,L,G;E=(p[b+1]&15)<<8|p[b+2],L=3+E-4,G=(p[b+10]&15)<<8|p[b+11];for(var Y=12+G;Y<L;){var J=b+Y;x[(p[J+1]&31)<<8|p[J+2]]=p[J],Y+=((p[J+3]&15)<<8|p[J+4])+5}return x}},Zm=function(p,x){var S=ad(p),b=x[S];switch(b){case iu.H264_STREAM_TYPE:return"video";case iu.ADTS_STREAM_TYPE:return"audio";case iu.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},oc=function(p){var x=Lo(p);if(!x)return null;var S=4+Xi(p);if(S>=p.byteLength)return null;var b=null,E;return E=p[S+7],E&192&&(b={},b.pts=(p[S+9]&14)<<27|(p[S+10]&255)<<20|(p[S+11]&254)<<12|(p[S+12]&255)<<5|(p[S+13]&254)>>>3,b.pts*=4,b.pts+=(p[S+13]&6)>>>1,b.dts=b.pts,E&64&&(b.dts=(p[S+14]&14)<<27|(p[S+15]&255)<<20|(p[S+16]&254)<<12|(p[S+17]&255)<<5|(p[S+18]&254)>>>3,b.dts*=4,b.dts+=(p[S+18]&6)>>>1)),b},lc=function(p){switch(p){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Df=function(p){for(var x=4+Xi(p),S=p.subarray(x),b=0,E=0,L=!1,G;E<S.byteLength-3;E++)if(S[E+2]===1){b=E+5;break}for(;b<S.byteLength;)switch(S[b]){case 0:if(S[b-1]!==0){b+=2;break}else if(S[b-2]!==0){b++;break}E+3!==b-2&&(G=lc(S[E+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0));do b++;while(S[b]!==1&&b<S.length);E=b-2,b+=3;break;case 1:if(S[b-1]!==0||S[b-2]!==0){b+=3;break}G=lc(S[E+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0),E=b-2,b+=3;break;default:b+=3;break}return S=S.subarray(E),b-=E,E=0,S&&S.byteLength>3&&(G=lc(S[E+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(L=!0)),L},If={parseType:ph,parsePat:mh,parsePmt:Jm,parsePayloadUnitStartIndicator:Lo,parsePesType:Zm,parsePesTime:oc,videoPacketContainsKeyFrame:Df},bn=yn,hs=ke.handleRollover,or={};or.ts=If,or.aac=Vs;var mi=Ut.ONE_SECOND_IN_TS,dn=188,Vn=71,uc=function(p,x){for(var S=0,b=dn,E,L;b<p.byteLength;){if(p[S]===Vn&&p[b]===Vn){switch(E=p.subarray(S,b),L=or.ts.parseType(E,x.pid),L){case"pat":x.pid=or.ts.parsePat(E);break;case"pmt":var G=or.ts.parsePmt(E);x.table=x.table||{},Object.keys(G).forEach(function(Y){x.table[Y]=G[Y]});break}S+=dn,b+=dn;continue}S++,b++}},su=function(p,x,S){for(var b=0,E=dn,L,G,Y,J,ne,he=!1;E<=p.byteLength;){if(p[b]===Vn&&(p[E]===Vn||E===p.byteLength)){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="audio"&&J&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="audio",S.audio.push(ne),he=!0));break}if(he)break;b+=dn,E+=dn;continue}b++,E++}for(E=p.byteLength,b=E-dn,he=!1;b>=0;){if(p[b]===Vn&&(p[E]===Vn||E===p.byteLength)){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="audio"&&J&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="audio",S.audio.push(ne),he=!0));break}if(he)break;b-=dn,E-=dn;continue}b--,E--}},au=function(p,x,S){for(var b=0,E=dn,L,G,Y,J,ne,he,ge,Ge,Ee=!1,wt={data:[],size:0};E<p.byteLength;){if(p[b]===Vn&&p[E]===Vn){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":if(Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="video"&&(J&&!Ee&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="video",S.video.push(ne),Ee=!0)),!S.firstKeyFrame)){if(J&&wt.size!==0){for(he=new Uint8Array(wt.size),ge=0;wt.data.length;)Ge=wt.data.shift(),he.set(Ge,ge),ge+=Ge.byteLength;if(or.ts.videoPacketContainsKeyFrame(he)){var Wt=or.ts.parsePesTime(he);Wt?(S.firstKeyFrame=Wt,S.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}wt.size=0}wt.data.push(L),wt.size+=L.byteLength}break}if(Ee&&S.firstKeyFrame)break;b+=dn,E+=dn;continue}b++,E++}for(E=p.byteLength,b=E-dn,Ee=!1;b>=0;){if(p[b]===Vn&&p[E]===Vn){switch(L=p.subarray(b,E),G=or.ts.parseType(L,x.pid),G){case"pes":Y=or.ts.parsePesType(L,x.table),J=or.ts.parsePayloadUnitStartIndicator(L),Y==="video"&&J&&(ne=or.ts.parsePesTime(L),ne&&(ne.type="video",S.video.push(ne),Ee=!0));break}if(Ee)break;b-=dn,E-=dn;continue}b--,E--}},Pf=function(p,x){if(p.audio&&p.audio.length){var S=x;(typeof S>"u"||isNaN(S))&&(S=p.audio[0].dts),p.audio.forEach(function(L){L.dts=hs(L.dts,S),L.pts=hs(L.pts,S),L.dtsTime=L.dts/mi,L.ptsTime=L.pts/mi})}if(p.video&&p.video.length){var b=x;if((typeof b>"u"||isNaN(b))&&(b=p.video[0].dts),p.video.forEach(function(L){L.dts=hs(L.dts,b),L.pts=hs(L.pts,b),L.dtsTime=L.dts/mi,L.ptsTime=L.pts/mi}),p.firstKeyFrame){var E=p.firstKeyFrame;E.dts=hs(E.dts,b),E.pts=hs(E.pts,b),E.dtsTime=E.dts/mi,E.ptsTime=E.pts/mi}}},eg=function(p){for(var x=!1,S=0,b=null,E=null,L=0,G=0,Y;p.length-G>=3;){var J=or.aac.parseType(p,G);switch(J){case"timed-metadata":if(p.length-G<10){x=!0;break}if(L=or.aac.parseId3TagSize(p,G),L>p.length){x=!0;break}E===null&&(Y=p.subarray(G,G+L),E=or.aac.parseAacTimestamp(Y)),G+=L;break;case"audio":if(p.length-G<7){x=!0;break}if(L=or.aac.parseAdtsSize(p,G),L>p.length){x=!0;break}b===null&&(Y=p.subarray(G,G+L),b=or.aac.parseSampleRate(Y)),S++,G+=L;break;default:G++;break}if(x)return null}if(b===null||E===null)return null;var ne=mi/b,he={audio:[{type:"audio",dts:E,pts:E},{type:"audio",dts:E+S*1024*ne,pts:E+S*1024*ne}]};return he},tg=function(p){var x={pid:null,table:null},S={};uc(p,x);for(var b in x.table)if(x.table.hasOwnProperty(b)){var E=x.table[b];switch(E){case bn.H264_STREAM_TYPE:S.video=[],au(p,x,S),S.video.length===0&&delete S.video;break;case bn.ADTS_STREAM_TYPE:S.audio=[],su(p,x,S),S.audio.length===0&&delete S.audio;break}}return S},Rf=function(p,x){var S=or.aac.isLikelyAacData(p),b;return S?b=eg(p):b=tg(p),!b||!b.audio&&!b.video?null:(Pf(b,x),b)},od={inspect:Rf,parseAudioPes_:su};const ld=function(p,x){x.on("data",function(S){const b=S.initSegment;S.initSegment={data:b.buffer,byteOffset:b.byteOffset,byteLength:b.byteLength};const E=S.data;S.data=E.buffer,p.postMessage({action:"data",segment:S,byteOffset:E.byteOffset,byteLength:E.byteLength},[S.data])}),x.on("done",function(S){p.postMessage({action:"done"})}),x.on("gopInfo",function(S){p.postMessage({action:"gopInfo",gopInfo:S})}),x.on("videoSegmentTimingInfo",function(S){const b={start:{decode:Ut.videoTsToSeconds(S.start.dts),presentation:Ut.videoTsToSeconds(S.start.pts)},end:{decode:Ut.videoTsToSeconds(S.end.dts),presentation:Ut.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ut.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(b.prependedContentDuration=Ut.videoTsToSeconds(S.prependedContentDuration)),p.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:b})}),x.on("audioSegmentTimingInfo",function(S){const b={start:{decode:Ut.videoTsToSeconds(S.start.dts),presentation:Ut.videoTsToSeconds(S.start.pts)},end:{decode:Ut.videoTsToSeconds(S.end.dts),presentation:Ut.videoTsToSeconds(S.end.pts)},baseMediaDecodeTime:Ut.videoTsToSeconds(S.baseMediaDecodeTime)};S.prependedContentDuration&&(b.prependedContentDuration=Ut.videoTsToSeconds(S.prependedContentDuration)),p.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:b})}),x.on("id3Frame",function(S){p.postMessage({action:"id3Frame",id3Frame:S})}),x.on("caption",function(S){p.postMessage({action:"caption",caption:S})}),x.on("trackinfo",function(S){p.postMessage({action:"trackinfo",trackInfo:S})}),x.on("audioTimingInfo",function(S){p.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ut.videoTsToSeconds(S.start),end:Ut.videoTsToSeconds(S.end)}})}),x.on("videoTimingInfo",function(S){p.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ut.videoTsToSeconds(S.start),end:Ut.videoTsToSeconds(S.end)}})}),x.on("log",function(S){p.postMessage({action:"log",log:S})})};class cc{constructor(x,S){this.options=S||{},this.self=x,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Jc.Transmuxer(this.options),ld(this.self,this.transmuxer)}pushMp4Captions(x){this.captionParser||(this.captionParser=new z,this.captionParser.init());const S=new Uint8Array(x.data,x.byteOffset,x.byteLength),b=this.captionParser.parse(S,x.trackIds,x.timescales);this.self.postMessage({action:"mp4Captions",captions:b&&b.captions||[],logs:b&&b.logs||[],data:S.buffer},[S.buffer])}probeMp4StartTime({timescales:x,data:S}){const b=nu.startTime(x,S);this.self.postMessage({action:"probeMp4StartTime",startTime:b,data:S},[S.buffer])}probeMp4Tracks({data:x}){const S=nu.tracks(x);this.self.postMessage({action:"probeMp4Tracks",tracks:S,data:x},[x.buffer])}probeEmsgID3({data:x,offset:S}){const b=nu.getEmsgID3(x,S);this.self.postMessage({action:"probeEmsgID3",id3Frames:b,emsgData:x},[x.buffer])}probeTs({data:x,baseStartTime:S}){const b=typeof S=="number"&&!isNaN(S)?S*Ut.ONE_SECOND_IN_TS:void 0,E=od.inspect(x,b);let L=null;E&&(L={hasVideo:E.video&&E.video.length===2||!1,hasAudio:E.audio&&E.audio.length===2||!1},L.hasVideo&&(L.videoStart=E.video[0].ptsTime),L.hasAudio&&(L.audioStart=E.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:L,data:x},[x.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(x){const S=new Uint8Array(x.data,x.byteOffset,x.byteLength);this.transmuxer.push(S)}reset(){this.transmuxer.reset()}setTimestampOffset(x){const S=x.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ut.secondsToVideoTs(S)))}setAudioAppendStart(x){this.transmuxer.setAudioAppendStart(Math.ceil(Ut.secondsToVideoTs(x.appendStart)))}setRemux(x){this.transmuxer.setRemux(x.remux)}flush(x){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(x){this.transmuxer.alignGopsWith(x.gopsToAlignWith.slice())}}self.onmessage=function(p){if(p.data.action==="init"&&p.data.options){this.messageHandlers=new cc(self,p.data.options);return}this.messageHandlers||(this.messageHandlers=new cc(self)),p.data&&p.data.action&&p.data.action!=="init"&&this.messageHandlers[p.data.action]&&this.messageHandlers[p.data.action](p.data)}}));var _me=U$(xme);const bme=(r,e,t)=>{const{type:n,initSegment:i,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:u}=r.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const c=r.data.segment.boxes||{data:r.data.segment.data},h={type:n,data:new Uint8Array(c.data,c.data.byteOffset,c.data.byteLength),initSegment:new Uint8Array(i.data,i.byteOffset,i.byteLength)};typeof l<"u"&&(h.videoFrameDtsTime=l),typeof u<"u"&&(h.videoFramePtsTime=u),t(h)},Sme=({transmuxedData:r,callback:e})=>{r.buffer=[],e(r)},Tme=(r,e)=>{e.gopInfo=r.data.gopInfo},z$=r=>{const{transmuxer:e,bytes:t,audioAppendStart:n,gopsToAlignWith:i,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:u,onVideoSegmentTimingInfo:c,onAudioSegmentTimingInfo:h,onId3:f,onCaptions:g,onDone:v,onEndedTimeline:y,onTransmuxerLog:_,isEndOfTimeline:C,segment:k,triggerSegmentEventFn:D}=r,I={buffer:[]};let A=C;const R=U=>{e.currentTransmux===r&&(U.data.action==="data"&&bme(U,I,a),U.data.action==="trackinfo"&&o(U.data.trackInfo),U.data.action==="gopInfo"&&Tme(U,I),U.data.action==="audioTimingInfo"&&l(U.data.audioTimingInfo),U.data.action==="videoTimingInfo"&&u(U.data.videoTimingInfo),U.data.action==="videoSegmentTimingInfo"&&c(U.data.videoSegmentTimingInfo),U.data.action==="audioSegmentTimingInfo"&&h(U.data.audioSegmentTimingInfo),U.data.action==="id3Frame"&&f([U.data.id3Frame],U.data.id3Frame.dispatchType),U.data.action==="caption"&&g(U.data.caption),U.data.action==="endedtimeline"&&(A=!1,y()),U.data.action==="log"&&_(U.data.log),U.data.type==="transmuxed"&&(A||(e.onmessage=null,Sme({transmuxedData:I,callback:v}),H$(e))))},N=()=>{const U={message:"Received an error message from the transmuxer worker",metadata:{errorType:Se.Error.StreamingFailedToTransmuxSegment,segmentInfo:Hh({segment:k})}};v(null,U)};if(e.onmessage=R,e.onerror=N,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(i)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:i}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),t.byteLength){const U=t instanceof ArrayBuffer?t:t.buffer,F=t instanceof ArrayBuffer?0:t.byteOffset;D({type:"segmenttransmuxingstart",segment:k}),e.postMessage({action:"push",data:U,byteOffset:F,byteLength:t.byteLength},[U])}C&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},H$=r=>{r.currentTransmux=null,r.transmuxQueue.length&&(r.currentTransmux=r.transmuxQueue.shift(),typeof r.currentTransmux=="function"?r.currentTransmux():z$(r.currentTransmux))},WM=(r,e)=>{r.postMessage({action:e}),H$(r)},V$=(r,e)=>{if(!e.currentTransmux){e.currentTransmux=r,WM(e,r);return}e.transmuxQueue.push(WM.bind(null,e,r))},Cme=r=>{V$("reset",r)},wme=r=>{V$("endTimeline",r)},W$=r=>{if(!r.transmuxer.currentTransmux){r.transmuxer.currentTransmux=r,z$(r);return}r.transmuxer.transmuxQueue.push(r)},Eme=r=>{const e=new _me;e.currentTransmux=null,e.transmuxQueue=[];const t=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,t.call(e)),e.postMessage({action:"init",options:r}),e};var VC={reset:Cme,endTimeline:wme,transmux:W$,createTransmuxer:Eme};const m0=function(r){const e=r.transmuxer,t=r.endAction||r.action,n=r.callback,i=sr({},r,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===t&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,r.byteOffset||0,r.byteLength||a.data.data.byteLength),r.data&&(r.data=a.data.data)),n(a.data))};if(e.addEventListener("message",s),r.data){const a=r.data instanceof ArrayBuffer;i.byteOffset=a?0:r.data.byteOffset,i.byteLength=r.data.byteLength;const o=[a?r.data:r.data.buffer];e.postMessage(i,o)}else e.postMessage(i)},ku={FAILURE:2,TIMEOUT:-101,ABORTED:-102},X2=r=>{r.forEach(e=>{e.abort()})},kme=r=>({bandwidth:r.bandwidth,bytesReceived:r.bytesReceived||0,roundTripTime:r.roundTripTime||0}),Ame=r=>{const e=r.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=r.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},IA=(r,e)=>{const{requestType:t}=e,n=of({requestType:t,request:e,error:r});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:ku.TIMEOUT,xhr:e,metadata:n}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:ku.ABORTED,xhr:e,metadata:n}:r?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:ku.FAILURE,xhr:e,metadata:n}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:ku.FAILURE,xhr:e,metadata:n}:null},qM=(r,e,t,n)=>(i,s)=>{const a=s.response,o=IA(i,s);if(o)return t(o,r);if(a.byteLength!==16)return t({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:ku.FAILURE,xhr:s},r);const l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let h=0;h<e.length;h++)e[h].bytes=u;const c={uri:s.uri};return n({type:"segmentkeyloadcomplete",segment:r,keyInfo:c}),t(null,r)},q$=(r,e)=>{const t=Dm(r.map.bytes);if(t!=="mp4"){const n=r.map.resolvedUri||r.map.uri,i=t||"unknown";return e({internal:!0,message:`Found unsupported ${i} container for initialization segment at URL: ${n}`,code:ku.FAILURE,metadata:{mediaType:i}})}m0({action:"probeMp4Tracks",data:r.map.bytes,transmuxer:r.transmuxer,callback:({tracks:n,data:i})=>(r.map.bytes=i,n.forEach(function(s){r.map.tracks=r.map.tracks||{},!r.map.tracks[s.type]&&(r.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(r.map.timescales=r.map.timescales||{},r.map.timescales[s.id]=s.timescale))}),e(null))})},Dme=({segment:r,finishProcessingFn:e,triggerSegmentEventFn:t})=>(n,i)=>{const s=IA(n,i);if(s)return e(s,r);const a=new Uint8Array(i.response);if(t({type:"segmentloaded",segment:r}),r.map.key)return r.map.encryptedBytes=a,e(null,r);r.map.bytes=a,q$(r,function(o){if(o)return o.xhr=i,o.status=i.status,e(o,r);e(null,r)})},Ime=({segment:r,finishProcessingFn:e,responseType:t,triggerSegmentEventFn:n})=>(i,s)=>{const a=IA(i,s);if(a)return e(a,r);n({type:"segmentloaded",segment:r});const o=t==="arraybuffer"||!s.responseText?s.response:vme(s.responseText.substring(r.lastReachedChar||0));return r.stats=kme(s),r.key?r.encryptedBytes=new Uint8Array(o):r.bytes=new Uint8Array(o),e(null,r)},Pme=({segment:r,bytes:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{const v=r.map&&r.map.tracks||{},y=!!(v.audio&&v.video);let _=n.bind(null,r,"audio","start");const C=n.bind(null,r,"audio","end");let k=n.bind(null,r,"video","start");const D=n.bind(null,r,"video","end"),I=()=>W$({bytes:e,transmuxer:r.transmuxer,audioAppendStart:r.audioAppendStart,gopsToAlignWith:r.gopsToAlignWith,remux:y,onData:A=>{A.type=A.type==="combined"?"video":A.type,c(r,A)},onTrackInfo:A=>{t&&(y&&(A.isMuxed=!0),t(r,A))},onAudioTimingInfo:A=>{_&&typeof A.start<"u"&&(_(A.start),_=null),C&&typeof A.end<"u"&&C(A.end)},onVideoTimingInfo:A=>{k&&typeof A.start<"u"&&(k(A.start),k=null),D&&typeof A.end<"u"&&D(A.end)},onVideoSegmentTimingInfo:A=>{const R={pts:{start:A.start.presentation,end:A.end.presentation},dts:{start:A.start.decode,end:A.end.decode}};g({type:"segmenttransmuxingtiminginfoavailable",segment:r,timingInfo:R}),i(A)},onAudioSegmentTimingInfo:A=>{const R={pts:{start:A.start.pts,end:A.end.pts},dts:{start:A.start.dts,end:A.end.dts}};g({type:"segmenttransmuxingtiminginfoavailable",segment:r,timingInfo:R}),s(A)},onId3:(A,R)=>{a(r,A,R)},onCaptions:A=>{o(r,[A])},isEndOfTimeline:l,onEndedTimeline:()=>{u()},onTransmuxerLog:f,onDone:(A,R)=>{h&&(A.type=A.type==="combined"?"video":A.type,g({type:"segmenttransmuxingcomplete",segment:r}),h(R,r,A))},segment:r,triggerSegmentEventFn:g});m0({action:"probeTs",transmuxer:r.transmuxer,data:e,baseStartTime:r.baseStartTime,callback:A=>{r.bytes=e=A.data;const R=A.result;R&&(t(r,{hasAudio:R.hasAudio,hasVideo:R.hasVideo,isMuxed:y}),t=null),I()}})},G$=({segment:r,bytes:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{let v=new Uint8Array(e);if(q5(v)){r.isFmp4=!0;const{tracks:y}=r.map,_={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(_.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(_.videoCodec=y.video.codec),y.video&&y.audio&&(_.isMuxed=!0),t(r,_);const C=(k,D)=>{c(r,{data:v,type:_.hasAudio&&!_.isMuxed?"audio":"video"}),D&&D.length&&a(r,D),k&&k.length&&o(r,k),h(null,r,{})};m0({action:"probeMp4StartTime",timescales:r.map.timescales,data:v,transmuxer:r.transmuxer,callback:({data:k,startTime:D})=>{e=k.buffer,r.bytes=v=k,_.hasAudio&&!_.isMuxed&&n(r,"audio","start",D),_.hasVideo&&n(r,"video","start",D),m0({action:"probeEmsgID3",data:v,transmuxer:r.transmuxer,offset:D,callback:({emsgData:I,id3Frames:A})=>{if(e=I.buffer,r.bytes=v=I,!y.video||!I.byteLength||!r.transmuxer){C(void 0,A);return}m0({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:r.transmuxer,data:v,timescales:r.map.timescales,trackIds:[y.video.id],callback:R=>{e=R.data.buffer,r.bytes=v=R.data,R.logs.forEach(function(N){f(Dn(N,{stream:"mp4CaptionParser"}))}),C(R.captions,A)}})}})}});return}if(!r.transmuxer){h(null,r,{});return}if(typeof r.container>"u"&&(r.container=Dm(v)),r.container!=="ts"&&r.container!=="aac"){t(r,{hasAudio:!1,hasVideo:!1}),h(null,r,{});return}Pme({segment:r,bytes:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})},K$=function({id:r,key:e,encryptedBytes:t,decryptionWorker:n,segment:i,doneFn:s},a){const o=u=>{if(u.data.source===r){n.removeEventListener("message",o);const c=u.data.decrypted;a(new Uint8Array(c.bytes,c.byteOffset,c.byteLength))}};n.onerror=()=>{const u="An error occurred in the decryption worker",c=Hh({segment:i}),h={message:u,metadata:{error:new Error(u),errorType:Se.Error.StreamingFailedToDecryptSegment,segmentInfo:c,keyInfo:{uri:i.key.resolvedUri||i.map.key.resolvedUri}}};s(h,i)},n.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(L$({source:r,encrypted:t,key:l,iv:e.iv}),[t.buffer,l.buffer])},Rme=({decryptionWorker:r,segment:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{g({type:"segmentdecryptionstart"}),K$({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:r,segment:e,doneFn:h},v=>{e.bytes=v,g({type:"segmentdecryptioncomplete",segment:e}),G$({segment:e,bytes:e.bytes,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})})},Lme=({activeXhrs:r,decryptionWorker:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})=>{let v=0,y=!1;return(_,C)=>{if(!y){if(_)return y=!0,X2(r),h(_,C);if(v+=1,v===r.length){const k=function(){if(C.encryptedBytes)return Rme({decryptionWorker:e,segment:C,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g});G$({segment:C,bytes:C.bytes,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c,doneFn:h,onTransmuxerLog:f,triggerSegmentEventFn:g})};if(C.endOfAllRequests=Date.now(),C.map&&C.map.encryptedBytes&&!C.map.bytes)return g({type:"segmentdecryptionstart",segment:C}),K$({decryptionWorker:e,id:C.requestId+"-init",encryptedBytes:C.map.encryptedBytes,key:C.map.key,segment:C,doneFn:h},D=>{C.map.bytes=D,g({type:"segmentdecryptioncomplete",segment:C}),q$(C,I=>{if(I)return X2(r),h(I,C);k()})});k()}}}},Ome=({loadendState:r,abortFn:e})=>t=>{t.target.aborted&&e&&!r.calledAbortFn&&(e(),r.calledAbortFn=!0)},Mme=({segment:r,progressFn:e,trackInfoFn:t,timingInfoFn:n,videoSegmentTimingInfoFn:i,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:u,dataFn:c})=>h=>{if(!h.target.aborted)return r.stats=Dn(r.stats,Ame(h)),!r.stats.firstBytesReceivedAt&&r.stats.bytesReceived&&(r.stats.firstBytesReceivedAt=Date.now()),e(h,r)},Fme=({xhr:r,xhrOptions:e,decryptionWorker:t,segment:n,abortFn:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_,triggerSegmentEventFn:C})=>{const k=[],D=Lme({activeXhrs:k,decryptionWorker:t,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:g,dataFn:v,doneFn:y,onTransmuxerLog:_,triggerSegmentEventFn:C});if(n.key&&!n.key.bytes){const U=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&U.push(n.map.key);const F=Dn(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),w=qM(n,U,D,C),$={uri:n.key.resolvedUri};C({type:"segmentkeyloadstart",segment:n,keyInfo:$});const H=r(F,w);k.push(H)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const H=Dn(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),W=qM(n,[n.map.key],D,C),Q={uri:n.map.key.resolvedUri};C({type:"segmentkeyloadstart",segment:n,keyInfo:Q});const te=r(H,W);k.push(te)}const F=Dn(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:G2(n.map),requestType:"segment-media-initialization"}),w=Dme({segment:n,finishProcessingFn:D,triggerSegmentEventFn:C});C({type:"segmentloadstart",segment:n});const $=r(F,w);k.push($)}const I=Dn(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:G2(n),requestType:"segment"}),A=Ime({segment:n,finishProcessingFn:D,responseType:I.responseType,triggerSegmentEventFn:C});C({type:"segmentloadstart",segment:n});const R=r(I,A);R.addEventListener("progress",Mme({segment:n,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:u,id3Fn:c,captionsFn:h,isEndOfTimeline:f,endedTimelineFn:g,dataFn:v})),k.push(R);const N={};return k.forEach(U=>{U.addEventListener("loadend",Ome({loadendState:N,abortFn:i}))}),()=>X2(k)},Bme=fl("CodecUtils"),Nme=function(r){const e=r.attributes||{};if(e.CODECS)return Ni(e.CODECS)},X$=(r,e)=>{const t=e.attributes||{};return r&&r.mediaGroups&&r.mediaGroups.AUDIO&&t.AUDIO&&r.mediaGroups.AUDIO[t.AUDIO]},Ume=(r,e)=>{if(!X$(r,e))return!0;const t=e.attributes||{},n=r.mediaGroups.AUDIO[t.AUDIO];for(const i in n)if(!n[i].uri&&!n[i].playlists)return!0;return!1},gb=function(r){const e={};return r.forEach(({mediaType:t,type:n,details:i})=>{e[t]=e[t]||[],e[t].push(jk(`${n}${i}`))}),Object.keys(e).forEach(function(t){if(e[t].length>1){Bme(`multiple ${t} codecs found as attributes: ${e[t].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[t]=null;return}e[t]=e[t][0]}),e},GM=function(r){let e=0;return r.audio&&e++,r.video&&e++,e},g0=function(r,e){const t=e.attributes||{},n=gb(Nme(e)||[]);if(X$(r,e)&&!n.audio&&!Ume(r,e)){const i=gb(P5(r,t.AUDIO)||[]);i.audio&&(n.audio=i.audio)}return n},Yy=fl("PlaylistSelector"),KM=function(r){if(!r||!r.playlist)return;const e=r.playlist;return JSON.stringify({id:e.id,bandwidth:r.bandwidth,width:r.width,height:r.height,codecs:e.attributes&&e.attributes.CODECS||""})},vb=function(r,e){if(!r)return"";const t=X.getComputedStyle(r);return t?t[e]:""},zp=function(r,e){const t=r.slice();r.sort(function(n,i){const s=e(n,i);return s===0?t.indexOf(n)-t.indexOf(i):s})},PA=function(r,e){let t,n;return r.attributes.BANDWIDTH&&(t=r.attributes.BANDWIDTH),t=t||X.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||X.Number.MAX_VALUE,t-n},$me=function(r,e){let t,n;return r.attributes.RESOLUTION&&r.attributes.RESOLUTION.width&&(t=r.attributes.RESOLUTION.width),t=t||X.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||X.Number.MAX_VALUE,t===n&&r.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?r.attributes.BANDWIDTH-e.attributes.BANDWIDTH:t-n};let Y$=function(r,e,t,n,i,s){if(!r)return;const a={bandwidth:e,width:t,height:n,limitRenditionByPlayerDimensions:i};let o=r.playlists;Ba.isAudioOnly(r)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(A=>{let R;const N=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.width,U=A.attributes&&A.attributes.RESOLUTION&&A.attributes.RESOLUTION.height;return R=A.attributes&&A.attributes.BANDWIDTH,R=R||X.Number.MAX_VALUE,{bandwidth:R,width:N,height:U,playlist:A}});zp(l,(A,R)=>A.bandwidth-R.bandwidth),l=l.filter(A=>!Ba.isIncompatible(A.playlist));let u=l.filter(A=>Ba.isEnabled(A.playlist));u.length||(u=l.filter(A=>!Ba.isDisabled(A.playlist)));const c=u.filter(A=>A.bandwidth*es.BANDWIDTH_VARIANCE<e);let h=c[c.length-1];const f=c.filter(A=>A.bandwidth===h.bandwidth)[0];if(i===!1){const A=f||u[0]||l[0];if(A&&A.playlist){let R="sortedPlaylistReps";return f&&(R="bandwidthBestRep"),u[0]&&(R="enabledPlaylistReps"),Yy(`choosing ${KM(A)} using ${R} with options`,a),A.playlist}return Yy("could not choose a playlist with options",a),null}const g=c.filter(A=>A.width&&A.height);zp(g,(A,R)=>A.width-R.width);const v=g.filter(A=>A.width===t&&A.height===n);h=v[v.length-1];const y=v.filter(A=>A.bandwidth===h.bandwidth)[0];let _,C,k;y||(_=g.filter(A=>A.width>t||A.height>n),C=_.filter(A=>A.width===_[0].width&&A.height===_[0].height),h=C[C.length-1],k=C.filter(A=>A.bandwidth===h.bandwidth)[0]);let D;if(s.leastPixelDiffSelector){const A=g.map(R=>(R.pixelDiff=Math.abs(R.width-t)+Math.abs(R.height-n),R));zp(A,(R,N)=>R.pixelDiff===N.pixelDiff?N.bandwidth-R.bandwidth:R.pixelDiff-N.pixelDiff),D=A[0]}const I=D||k||y||f||u[0]||l[0];if(I&&I.playlist){let A="sortedPlaylistReps";return D?A="leastPixelDiffRep":k?A="resolutionPlusOneRep":y?A="resolutionBestRep":f?A="bandwidthBestRep":u[0]&&(A="enabledPlaylistReps"),Yy(`choosing ${KM(I)} using ${A} with options`,a),I.playlist}return Yy("could not choose a playlist with options",a),null};const XM=function(){let r=this.useDevicePixelRatio&&X.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(r=this.customPixelRatio),Y$(this.playlists.main,this.systemBandwidth,parseInt(vb(this.tech_.el(),"width"),10)*r,parseInt(vb(this.tech_.el(),"height"),10)*r,this.limitRenditionByPlayerDimensions,this.playlistController_)},jme=function(r){let e=-1,t=-1;if(r<0||r>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&X.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,t=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==t&&(e=r*this.systemBandwidth+(1-r)*e,t=this.systemBandwidth),Y$(this.playlists.main,e,parseInt(vb(this.tech_.el(),"width"),10)*n,parseInt(vb(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},zme=function(r){const{main:e,currentTime:t,bandwidth:n,duration:i,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=r,u=e.playlists.filter(v=>!Ba.isIncompatible(v));let c=u.filter(Ba.isEnabled);c.length||(c=u.filter(v=>!Ba.isDisabled(v)));const f=c.filter(Ba.hasAttribute.bind(null,"BANDWIDTH")).map(v=>{const _=l.getSyncPoint(v,i,o,t)?1:2,k=Ba.estimateSegmentRequestTime(s,n,v)*_-a;return{playlist:v,rebufferingImpact:k}}),g=f.filter(v=>v.rebufferingImpact<=0);return zp(g,(v,y)=>PA(y.playlist,v.playlist)),g.length?g[0]:(zp(f,(v,y)=>v.rebufferingImpact-y.rebufferingImpact),f[0]||null)},Hme=function(){const r=this.playlists.main.playlists.filter(Ba.isEnabled);return zp(r,(t,n)=>PA(t,n)),r.filter(t=>!!g0(this.playlists.main,t).video)[0]||null},Vme=r=>{let e=0,t;return r.bytes&&(t=new Uint8Array(r.bytes),r.segments.forEach(n=>{t.set(n,e),e+=n.byteLength})),t};function Q$(r){try{return new URL(r).pathname.split("/").slice(-2).join("/")}catch{return""}}const Wme=function(r,e,t){if(!r[t]){e.trigger({type:"usage",name:"vhs-608"});let n=t;/^cc708_/.test(t)&&(n="SERVICE"+t.split("_")[1]);const i=e.textTracks().getTrackById(n);if(i)r[t]=i;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=t,o=t,l=!1;const u=s[n];u&&(a=u.label,o=u.language,l=u.default),r[t]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:a,language:o},!1).track}}},qme=function({inbandTextTracks:r,captionArray:e,timestampOffset:t}){if(!e)return;const n=X.WebKitDataCue||X.VTTCue;e.forEach(i=>{const s=i.stream;i.content?i.content.forEach(a=>{const o=new n(i.startTime+t,i.endTime+t,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",r[s].addCue(o)}):r[s].addCue(new n(i.startTime+t,i.endTime+t,i.text))})},Gme=function(r){Object.defineProperties(r.frame,{id:{get(){return Se.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),r.value.key}},value:{get(){return Se.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),r.value.data}},privateData:{get(){return Se.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),r.value.data}}})},Kme=({inbandTextTracks:r,metadataArray:e,timestampOffset:t,videoDuration:n})=>{if(!e)return;const i=X.WebKitDataCue||X.VTTCue,s=r.metadataTrack_;if(!s||(e.forEach(c=>{const h=c.cueTime+t;typeof h!="number"||X.isNaN(h)||h<0||!(h<1/0)||!c.frames||!c.frames.length||c.frames.forEach(f=>{const g=new i(h,h,f.value||f.url||f.data||"");g.frame=f,g.value=f,Gme(g),s.addCue(g)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let c=0;c<a.length;c++)a[c]&&o.push(a[c]);const l=o.reduce((c,h)=>{const f=c[h.startTime]||[];return f.push(h),c[h.startTime]=f,c},{}),u=Object.keys(l).sort((c,h)=>Number(c)-Number(h));u.forEach((c,h)=>{const f=l[c],g=isFinite(n)?n:c,v=Number(u[h+1])||g;f.forEach(y=>{y.endTime=v})})},Xme={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},Yme=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),Qme=({inbandTextTracks:r,dateRanges:e})=>{const t=r.metadataTrack_;if(!t)return;const n=X.WebKitDataCue||X.VTTCue;e.forEach(i=>{for(const s of Object.keys(i)){if(Yme.has(s))continue;const a=new n(i.startTime,i.endTime,"");a.id=i.id,a.type="com.apple.quicktime.HLS",a.value={key:Xme[s],data:i[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),t.addCue(a)}i.processDateRange()})},YM=(r,e,t)=>{r.metadataTrack_||(r.metadataTrack_=t.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,Se.browser.IS_ANY_SAFARI||(r.metadataTrack_.inBandMetadataTrackDispatchType=e))},Yg=function(r,e,t){let n,i;if(t&&t.cues)for(n=t.cues.length;n--;)i=t.cues[n],i.startTime>=r&&i.endTime<=e&&t.removeCue(i)},Jme=function(r){const e=r.cues;if(!e)return;const t={};for(let n=e.length-1;n>=0;n--){const i=e[n],s=`${i.startTime}-${i.endTime}-${i.text}`;t[s]?r.removeCue(i):t[s]=i}},Zme=(r,e,t)=>{if(typeof e>"u"||e===null||!r.length)return[];const n=Math.ceil((e-t+3)*Ua.ONE_SECOND_IN_TS);let i;for(i=0;i<r.length&&!(r[i].pts>n);i++);return r.slice(i)},ege=(r,e,t)=>{if(!e.length)return r;if(t)return e.slice();const n=e[0].pts;let i=0;for(i;i<r.length&&!(r[i].pts>=n);i++);return r.slice(0,i).concat(e)},tge=(r,e,t,n)=>{const i=Math.ceil((e-n)*Ua.ONE_SECOND_IN_TS),s=Math.ceil((t-n)*Ua.ONE_SECOND_IN_TS),a=r.slice();let o=r.length;for(;o--&&!(r[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(r[l].pts<=i););return l=Math.max(l,0),a.splice(l,o-l+1),a},rge=function(r,e){if(!r&&!e||!r&&e||r&&!e)return!1;if(r===e)return!0;const t=Object.keys(r).sort(),n=Object.keys(e).sort();if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(s!==n[i]||r[s]!==e[s])return!1}return!0},nge=function(r,e,t){e=e||[];const n=[];let i=0;for(let s=0;s<e.length;s++){const a=e[s];if(r===a.timeline&&(n.push(s),i+=a.duration,i>t))return s}return n.length===0?0:n[n.length-1]},Bg=1,ige=500,QM=r=>typeof r=="number"&&isFinite(r),Qy=1/60,sge=(r,e,t)=>r!=="main"||!e||!t?null:!t.hasAudio&&!t.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!t.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&t.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,age=(r,e,t)=>{let n=e-es.BACK_BUFFER_LENGTH;r.length&&(n=Math.max(n,r.start(0)));const i=e-t;return Math.min(i,n)},np=r=>{const{startOfSegment:e,duration:t,segment:n,part:i,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:u,timeline:c}=r,h=o.length-1;let f="mediaIndex/partIndex increment";r.getMediaInfoForTime?f=`getMediaInfoForTime (${r.getMediaInfoForTime})`:r.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),r.independent&&(f+=` with independent ${r.independent}`);const g=typeof u=="number",v=r.segment.uri?"segment":"pre-segment",y=g?v$({preloadSegment:n})-1:0;return`${v} [${s+l}/${s+h}]`+(g?` part [${u}/${y}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(g?` part start/end [${i.start} => ${i.end}]`:"")+` startOfSegment [${e}] duration [${t}] timeline [${c}] selected by [${f}] playlist [${a}]`},JM=r=>`${r}TimingInfo`,oge=({segmentTimeline:r,currentTimeline:e,startOfSegment:t,buffered:n,overrideCheck:i})=>!i&&r===e?null:r<e?t:n.length?n.end(n.length-1):t,Y2=({timelineChangeController:r,currentTimeline:e,segmentTimeline:t,loaderType:n,audioDisabled:i})=>{if(e===t)return!1;if(n==="audio"){const s=r.lastTimelineChange({type:"main"});return!s||s.to!==t}if(n==="main"&&i){const s=r.pendingTimelineChange({type:"audio"});return!(s&&s.to===t)}return!1},lge=r=>{if(!r)return!1;const e=r.pendingTimelineChange({type:"audio"}),t=r.pendingTimelineChange({type:"main"}),n=e&&t,i=n&&e.to!==t.to;return!!(n&&e.from!==-1&&t.from!==-1&&i)},uge=r=>{r&&(r.pause(),r.resetEverything(),r.load())},cge=r=>{const e=r.timelineChangeController_.pendingTimelineChange({type:"audio"}),t=r.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&t&&e.to<t.to},Cd=r=>{const e=r.pendingSegment_;if(!e)return;if(Y2({timelineChangeController:r.timelineChangeController_,currentTimeline:r.currentTimeline_,segmentTimeline:e.timeline,loaderType:r.loaderType_,audioDisabled:r.audioDisabled_})&&lge(r.timelineChangeController_)){if(cge(r)){r.timelineChangeController_.trigger("audioTimelineBehind");return}uge(r)}},dge=r=>{let e=0;return["video","audio"].forEach(function(t){const n=r[`${t}TimingInfo`];if(!n)return;const{start:i,end:s}=n;let a;typeof i=="bigint"||typeof s=="bigint"?a=X.BigInt(s)-X.BigInt(i):typeof i=="number"&&typeof s=="number"&&(a=s-i),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},ZM=({segmentDuration:r,maxDuration:e})=>r?Math.round(r)>e+wu:!1,hge=(r,e)=>{if(e!=="hls")return null;const t=dge({audioTimingInfo:r.audioTimingInfo,videoTimingInfo:r.videoTimingInfo});if(!t)return null;const n=r.playlist.targetDuration,i=ZM({segmentDuration:t,maxDuration:n*2}),s=ZM({segmentDuration:t,maxDuration:n}),a=`Segment with index ${r.mediaIndex} from playlist ${r.playlist.id} has a duration of ${t} when the reported duration is ${r.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return i||s?{severity:i?"warn":"info",message:a}:null},Hh=({type:r,segment:e})=>{if(!e)return;const t=!!(e.key||e.map&&e.map.ke),n=!!(e.map&&!e.map.bytes),i=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:r||e.type,uri:e.resolvedUri||e.uri,start:i,duration:e.duration,isEncrypted:t,isMediaInitialization:n}};let Q2=class extends Se.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=fl(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Cd(this)}),this.sourceUpdater_.on("codecschange",n=>{this.trigger(sr({type:"codecschange"},n))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Cd(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",n=>{this.trigger(sr({type:"timelinechange"},n)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Cd(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Cd(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return VC.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,X.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&VC.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return _s();if(this.loaderType_==="main"){const{hasAudio:t,hasVideo:n,isMuxed:i}=e;if(n&&t&&!this.audioDisabled_&&!i)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const n=mb(e);let i=this.initSegments_[n];return t&&!i&&e.bytes&&(this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),i||e}segmentKey(e,t=!1){if(!e)return null;const n=O$(e);let i=this.keyCache_[n];this.cacheEncryptionKeys_&&t&&!i&&e.bytes&&(this.keyCache_[n]=i={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(i||e).resolvedUri};return i&&(s.bytes=i.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;const n=this.playlist_,i=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(n&&(n.id?s=n.id:n.uri&&(s=n.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${zC(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}i&&(i.mediaIndex-=a,i.mediaIndex<0?(i.mediaIndex=null,i.partIndex=null):(i.mediaIndex>=0&&(i.segment=e.segments[i.mediaIndex]),i.partIndex>=0&&i.segment.parts&&(i.part=i.segment.parts[i.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&VC.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,n=()=>{},i=!1){if(t===1/0&&(t=this.duration_()),t<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&n()};(i||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,t,a)),(i||this.loaderType_==="main")&&(this.gopBuffer_=tge(this.gopBuffer_,e,t,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,t,a));for(const o in this.inbandTextTracks_)Yg(e,t,this.inbandTextTracks_[o]);Yg(e,t,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=X.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=X.setTimeout(this.monitorBufferTick_.bind(this),ige)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const t={segmentInfo:Hh({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:t}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,n=this.partIndex){if(!t||!this.mediaSource_)return!1;const i=typeof e=="number"&&t.segments[e],s=e+1===t.segments.length,a=!i||!i.parts||n+1===i.parts.length;return t.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),t=zC(e)||0,n=EA(e,this.currentTime_()),i=!this.hasPlayed_()&&n>=1,s=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||i||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=nge(this.currentTimeline_,a,t),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const f=a[this.mediaIndex],g=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=f.end?f.end:t,f.parts&&f.parts[g+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=g+1):o.mediaIndex=this.mediaIndex+1}else{let f,g,v;const y=this.fetchAtBuffer_?t:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${y}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${t}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const _=this.getSyncInfoFromMediaSequenceSync_(y);if(!_){const C="No sync info found while using media sequence sync";return this.error({message:C,metadata:{errorType:Se.Error.StreamingFailedToSelectNextSegment,error:new Error(C)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${_.start} --> ${_.end})`),f=_.segmentIndex,g=_.partIndex,v=_.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const _=Ba.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:y,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});f=_.segmentIndex,g=_.partIndex,v=_.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${y}`:`currentTime ${y}`,o.mediaIndex=f,o.startOfSegment=v,o.partIndex=g,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let u=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!u)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,u=l.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&u&&!c&&!u.independent)if(o.partIndex===0){const f=a[o.mediaIndex-1],g=f.parts&&f.parts.length&&f.parts[f.parts.length-1];g&&g.independent&&(o.mediaIndex-=1,o.partIndex=f.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const h=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&h&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const t=Math.max(e,this.mediaSequenceSync_.start);e!==t&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${t}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(t);if(!n)return null;if(!n.isAppended)return n;const i=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return i?(i.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),i):null}generateSegmentInfo_(e){const{independent:t,playlist:n,mediaIndex:i,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:u}=e,c=n.segments[i],h=typeof o=="number"&&c.parts[o],f={requestId:"segment-loader-"+Math.random(),uri:h&&h.resolvedUri||c.resolvedUri,mediaIndex:i,partIndex:h?o:null,isSyncRequest:a,startOfSegment:s,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:h&&h.duration||c.duration,segment:c,part:h,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:u,independent:t},g=typeof l<"u"?l:this.isPendingTimestampOffset_;f.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:g});const v=zC(this.sourceUpdater_.audioBuffered());return typeof v=="number"&&(f.audioAppendStart=v-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(f.gopsToAlignWith=Zme(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),f}timestampOffsetForSegment_(e){return oge(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),n=e.bandwidth,i=this.pendingSegment_.duration,s=Ba.estimateSegmentRequestTime(i,n,this.playlist_,e.bytesReceived),a=Ipe(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=zme({main:this.vhs_.playlists.main,currentTime:t,bandwidth:n,duration:this.duration_(),segmentDuration:i,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const u=s-a-o.rebufferingImpact;let c=.5;a<=wu&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||u<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*es.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${np(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),!this.checkForAbort_(t.requestId)&&this.trigger("progress")}handleTrackInfo_(e,t){const{hasAudio:n,hasVideo:i}=t,s={segmentInfo:Hh({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:i}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(t)||(t=t||{},rge(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Cd(this))))}handleTimingInfo_(e,t,n,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=JM(t);s[a]=s[a]||{},s[a][n]=i,this.logger_(`timinginfo: ${t} - ${n} - ${i}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Cd(this)}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(t.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),s={};t.forEach(a=>{s[a.stream]=s[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=s[a.stream];o.startTime=Math.min(o.startTime,a.startTime+i),o.endTime=Math.max(o.endTime,a.endTime+i),o.captions.push(a)}),Object.keys(s).forEach(a=>{const{startTime:o,endTime:l,captions:u}=s[a],c=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),Wme(c,this.vhs_.tech_,a),Yg(o,l,c[a]),qme({captionArray:u,inbandTextTracks:c,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,n));return}this.addMetadataToTextTrack(n,t,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(t=>t())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(t=>t())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!Y2({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:n,hasVideo:i,isMuxed:s}=t;return!(i&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||Y2({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Cd(this),this.callQueue_.push(this.handleData_.bind(this,e,t));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[JM(t.type)].start;else{const i=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo;let a;s&&(a=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,t.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=this.chooseNextRequest_();if(i.mediaIndex!==n.mediaIndex||i.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,t)}}updateAppendInitSegmentStatus(e,t){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:n,playlist:i}){if(n){const s=mb(n);if(this.activeInitSegmentId_===s)return null;t=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=s}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=i,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n},i){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Xh(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Xh(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,u=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(l-o<=Bg&&c-u<=Bg){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Xh(s).join(", ")}, video buffer: ${Xh(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:n}));const f=this.currentTime_()-Bg;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${f}`),this.remove(0,f,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Bg}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=X.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Bg*1e3)},!0)}handleAppendError_({segmentInfo:e,type:t,bytes:n},i){if(i){if(i.code===A$){this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",i),this.error({message:`${t} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:Se.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:n,data:i,bytes:s}){if(!s){const o=[i];let l=i.byteLength;n&&(o.unshift(n),l+=n.byteLength),s=Vme({bytes:l,segments:o})}const a={segmentInfo:Hh({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:s}))}handleSegmentTimingInfo_(e,t,n){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const i=this.pendingSegment_.segment,s=`${e}TimingInfo`;i[s]||(i[s]={}),i[s].transmuxerPrependedSeconds=n.prependedContentDuration||0,i[s].transmuxedPresentationStart=n.start.presentation,i[s].transmuxedDecodeStart=n.start.decode,i[s].transmuxedPresentationEnd=n.end.presentation,i[s].transmuxedDecodeEnd=n.end.decode,i[s].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,t){const{type:n,data:i}=t;if(!i||!i.byteLength||n==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:n,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:s,data:i})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Cd(this),this.loadQueue_.push(()=>{const t=sr({},e,{forceTimestampOffset:!0});sr(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),i=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=n||i&&s;this.logger_(`Requesting
${Q$(e.uri)}
${np(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=Fme({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:u})=>{this.logger_(`${np(e)} logged from transmuxer stream ${u} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:u,trackInfo:c,timingInfo:h})=>{const g={segmentInfo:Hh({segment:l})};u&&(g.keyInfo=u),c&&(g.trackInfo=c),h&&(g.timingInfo=h),this.trigger({type:o,metadata:g})}})}trimBackBuffer_(e){const t=age(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,n=e.part,i=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:n?n.resolvedUri:t.resolvedUri,byterange:n?n.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:i,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===t.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),t.key){const l=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(t.key),a.key.iv=l}return t.map&&(a.map=this.initSegmentForMap(t.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){if(this.pendingSegment_.byteLength=t.bytesReceived,e<Qy){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${Qy}`);return}const n={bandwidthInfo:{from:this.bandwidth,to:t.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,n));return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_||t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===ku.ABORTED)return;if(this.pause(),e.code===ku.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),i.endOfAllRequests=t.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=ege(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(i)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);t!==null&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:n,firstVideoFrameTimeForData:i,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const u=t.segments[n-1];return n===0||!u||typeof u.start>"u"||u.end!==i+s?i:o.start}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:i,isMuxed:s}=t,a=this.loaderType_==="main"&&i,o=!this.audioDisabled_&&n&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=sge(this.loaderType_,this.getCurrentMediaInfo_(),e);return t?(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:t&&typeof t.transmuxedDecodeStart=="number"?t.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),i=this.loaderType_==="main"&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:Hh({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const t=hge(e,this.sourceType_);if(t&&(t.severity==="warn"?Se.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${np(e)}`);return}this.logger_(`Appended ${np(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,i=e.part,s=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,a=i&&i.end&&this.currentTime_()-i.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${np(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<Qy){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${Qy}`);return}const t=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,i=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(i-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,n=t.start,i=t.end;if(!QM(n)||!QM(i))return;Yg(n,i,this.segmentMetadataTrack_);const s=X.WebKitDataCue||X.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:i},o=JSON.stringify(a),l=new s(n,i,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}};function Ic(){}const J$=function(r){return typeof r!="string"?r:r.replace(/./,e=>e.toUpperCase())},fge=["video","audio"],J2=(r,e)=>{const t=e[`${r}Buffer`];return t&&t.updating||e.queuePending[r]},pge=(r,e)=>{for(let t=0;t<e.length;t++){const n=e[t];if(n.type==="mediaSource")return null;if(n.type===r)return t}return null},Hp=(r,e)=>{if(e.queue.length===0)return;let t=0,n=e.queue[t];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),Hp("audio",e),Hp("video",e));return}if(r!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||J2(r,e))){if(n.type!==r){if(t=pge(r,e.queue),t===null)return;n=e.queue[t]}if(e.queue.splice(t,1),e.queuePending[r]=n,n.action(r,e),!n.doneFn){e.queuePending[r]=null,Hp(r,e);return}}},Z$=(r,e)=>{const t=e[`${r}Buffer`],n=J$(r);t&&(t.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),t.removeEventListener("error",e[`on${n}Error_`]),e.codecs[r]=null,e[`${r}Buffer`]=null)},yu=(r,e)=>r&&e&&Array.prototype.indexOf.call(r.sourceBuffers,e)!==-1,oo={appendBuffer:(r,e,t)=>(n,i)=>{const s=i[`${n}Buffer`];if(yu(i.mediaSource,s)){i.logger_(`Appending segment ${e.mediaIndex}'s ${r.length} bytes to ${n}Buffer`);try{s.appendBuffer(r)}catch(a){i.logger_(`Error with code ${a.code} `+(a.code===A$?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),i.queuePending[n]=null,t(a)}}},remove:(r,e)=>(t,n)=>{const i=n[`${t}Buffer`];if(yu(n.mediaSource,i)){n.logger_(`Removing ${r} to ${e} from ${t}Buffer`);try{i.remove(r,e)}catch{n.logger_(`Remove ${r} to ${e} from ${t}Buffer failed`)}}},timestampOffset:r=>(e,t)=>{const n=t[`${e}Buffer`];yu(t.mediaSource,n)&&(t.logger_(`Setting ${e}timestampOffset to ${r}`),n.timestampOffset=r)},callback:r=>(e,t)=>{r()},endOfStream:r=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${r||""})`);try{e.mediaSource.endOfStream(r)}catch(t){Se.log.warn("Failed to call media source endOfStream",t)}}},duration:r=>e=>{e.logger_(`Setting mediaSource duration to ${r}`);try{e.mediaSource.duration=r}catch(t){Se.log.warn("Failed to set media source duration",t)}},abort:()=>(r,e)=>{if(e.mediaSource.readyState!=="open")return;const t=e[`${r}Buffer`];if(yu(e.mediaSource,t)){e.logger_(`calling abort on ${r}Buffer`);try{t.abort()}catch(n){Se.log.warn(`Failed to abort on ${r}Buffer`,n)}}},addSourceBuffer:(r,e)=>t=>{const n=J$(r),i=ju(e);t.logger_(`Adding ${r}Buffer with codec ${e} to mediaSource`);const s=t.mediaSource.addSourceBuffer(i);s.addEventListener("updateend",t[`on${n}UpdateEnd_`]),s.addEventListener("error",t[`on${n}Error_`]),t.codecs[r]=e,t[`${r}Buffer`]=s},removeSourceBuffer:r=>e=>{const t=e[`${r}Buffer`];if(Z$(r,e),!!yu(e.mediaSource,t)){e.logger_(`Removing ${r}Buffer with codec ${e.codecs[r]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(t)}catch(n){Se.log.warn(`Failed to removeSourceBuffer ${r}Buffer`,n)}}},changeType:r=>(e,t)=>{const n=t[`${e}Buffer`],i=ju(r);if(!yu(t.mediaSource,n))return;const s=r.substring(0,r.indexOf(".")),a=t.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const l={codecsChangeInfo:{from:a,to:r}};t.trigger({type:"codecschange",metadata:l}),t.logger_(`changing ${e}Buffer codec from ${a} to ${r}`);try{n.changeType(i),t.codecs[e]=r}catch(u){l.errorType=Se.Error.StreamingCodecsChangeError,l.error=u,u.metadata=l,t.error_=u,t.trigger("error"),Se.log.warn(`Failed to changeType on ${e}Buffer`,u)}}},lo=({type:r,sourceUpdater:e,action:t,doneFn:n,name:i})=>{e.queue.push({type:r,action:t,doneFn:n,name:i}),Hp(r,e)},e3=(r,e)=>t=>{const n=e[`${r}Buffered`](),i=kpe(n);if(e.logger_(`received "updateend" event for ${r} Source Buffer: `,i),e.queuePending[r]){const s=e.queuePending[r].doneFn;e.queuePending[r]=null,s&&s(e[`${r}Error_`])}Hp(r,e)};let ej=class extends Se.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Hp("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=fl("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=e3("video",this),this.onAudioUpdateEnd_=e3("audio",this),this.onVideoError_=t=>{this.videoError_=t},this.onAudioError_=t=>{this.audioError_=t},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){lo({type:"mediaSource",sourceUpdater:this,action:oo.addSourceBuffer(e,t),name:"addSourceBuffer"})}abort(e){lo({type:e,sourceUpdater:this,action:oo.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){Se.log.error("removeSourceBuffer is not supported!");return}lo({type:"mediaSource",sourceUpdater:this,action:oo.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!Se.browser.IS_FIREFOX&&X.MediaSource&&X.MediaSource.prototype&&typeof X.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return X.SourceBuffer&&X.SourceBuffer.prototype&&typeof X.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){if(!this.canChangeType()){Se.log.error("changeType is not supported!");return}lo({type:e,sourceUpdater:this,action:oo.changeType(t),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(t=>{const n=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,n);this.canChangeType()&&this.changeType(t,n)})}appendBuffer(e,t){const{segmentInfo:n,type:i,bytes:s}=e;if(this.processedAppend_=!0,i==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,t]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=t;if(lo({type:i,sourceUpdater:this,action:oo.appendBuffer(s,n||{mediaIndex:-1},a),doneFn:t,name:"appendBuffer"}),i==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return yu(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:_s()}videoBuffered(){return yu(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:_s()}buffered(){const e=yu(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=yu(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():Dpe(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=Ic){lo({type:"mediaSource",sourceUpdater:this,action:oo.duration(e),name:"duration",doneFn:t})}endOfStream(e=null,t=Ic){typeof e!="string"&&(e=void 0),lo({type:"mediaSource",sourceUpdater:this,action:oo.endOfStream(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,n=Ic){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}lo({type:"audio",sourceUpdater:this,action:oo.remove(e,t),doneFn:n,name:"remove"})}removeVideo(e,t,n=Ic){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}lo({type:"video",sourceUpdater:this,action:oo.remove(e,t),doneFn:n,name:"remove"})}updating(){return!!(J2("audio",this)||J2("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(lo({type:"audio",sourceUpdater:this,action:oo.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(lo({type:"video",sourceUpdater:this,action:oo.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&lo({type:"audio",sourceUpdater:this,action:oo.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&lo({type:"video",sourceUpdater:this,action:oo.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),fge.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>Z$(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}};const t3=r=>decodeURIComponent(escape(String.fromCharCode.apply(null,r))),mge=r=>{const e=new Uint8Array(r);return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")},r3=new Uint8Array(`

`.split("").map(r=>r.charCodeAt(0)));let gge=class extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}},vge=class extends Q2{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return _s();const e=this.subtitlesTrack_.cues,t=e[0].startTime,n=e[e.length-1].startTime;return _s([[t,n]])}initSegmentForMap(e,t=!1){if(!e)return null;const n=mb(e);let i=this.initSegments_[n];if(t&&!i&&e.bytes){const s=r3.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(r3,e.bytes.byteLength),this.initSegments_[n]=i={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return i||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,t){Yg(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const t=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",t),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(t.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===ku.TIMEOUT&&this.handleTimeout_(),e.code===ku.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const i=this.pendingSegment_;this.saveBandwidthRelatedStats_(i.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const s=i.segment;if(s.map&&(s.map.bytes=t.map.bytes),i.bytes=t.bytes,typeof X.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,t,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}s.requested=!0;try{this.parseVTTCues_(i)}catch(a){this.stopForError({message:a.message,metadata:{errorType:Se.Error.StreamingVttParserError,error:a}});return}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.cues.length?i.timingInfo={start:i.cues[0].startTime,end:i.cues[i.cues.length-1].endTime}:i.timingInfo={start:i.startOfSegment,end:i.startOfSegment+i.duration},i.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=s.duration,i.cues.forEach(a=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new X.VTTCue(a.startTime,a.endTime,a.text):a)}),Jme(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let t,n=!1;if(typeof X.WebVTT!="function")throw new gge;typeof X.TextDecoder=="function"?t=new X.TextDecoder("utf8"):(t=X.WebVTT.StringDecoder(),n=!0);const i=new X.WebVTT.Parser(X,X.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},i.oncue=e.cues.push.bind(e.cues),i.ontimestampmap=a=>{e.timestampmap=a},i.onparsingerror=a=>{Se.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;n&&(a=t3(a)),i.parse(a)}let s=e.bytes;n&&(s=t3(s)),i.parse(s),i.flush()}updateTimeMapping_(e,t,n){const i=e.segment;if(!t)return;if(!e.cues.length){i.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,l=s/Ua.ONE_SECOND_IN_TS-a+t.mapping;if(e.cues.forEach(u=>{const c=u.endTime-u.startTime,h=this.handleRollover_(u.startTime+l,t.time);u.startTime=Math.max(h,0),u.endTime=Math.max(h+c,0)}),!n.syncInfo){const u=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(u,c-i.duration)}}}handleRollover_(e,t){if(t===null)return e;let n=e*Ua.ONE_SECOND_IN_TS;const i=t*Ua.ONE_SECOND_IN_TS;let s;for(i<n?s=-8589934592:s=8589934592;Math.abs(n-i)>4294967296;)n+=s;return n/Ua.ONE_SECOND_IN_TS}};const yge=function(r,e){const t=r.cues;for(let n=0;n<t.length;n++){const i=t[n];if(e>=i.adStartTime&&e<=i.adEndTime)return i}return null},xge=function(r,e,t=0){if(!r.segments)return;let n=t,i;for(let s=0;s<r.segments.length;s++){const a=r.segments[s];if(i||(i=yge(e,n+a.duration/2)),i){if("cueIn"in a){i.endTime=n,i.adEndTime=n,n+=a.duration,i=null;continue}if(n<i.endTime){n+=a.duration;continue}i.endTime+=a.duration}else if("cueOut"in a&&(i=new X.VTTCue(n,n+a.duration,a.cueOut),i.adStartTime=n,i.adEndTime=n+parseFloat(a.cueOut),e.addCue(i)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);i=new X.VTTCue(n,n+a.duration,""),i.adStartTime=n-o,i.adEndTime=i.adStartTime+l,e.addCue(i)}n+=a.duration}};class n3{constructor({start:e,end:t,segmentIndex:n,partIndex:i=null,appended:s=!1}){this.start_=e,this.end_=t,this.segmentIndex_=n,this.partIndex_=i,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class _ge{constructor(e,t=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=t}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class tj{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,t){const{mediaSequence:n,segments:i}=e;if(this.isReliable_=this.isReliablePlaylist_(n,i),!!this.isReliable_)return this.updateStorage_(i,n,this.calculateBaseTime_(n,t))}getSyncInfoForTime(e){for(const{segmentSyncInfo:t,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const i of n)if(i.isInRange(e))return i}else if(t.isInRange(e))return t;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,t,n){const i=new Map;let s=`
`,a=n,o=t;this.start_=a,e.forEach((l,u)=>{const c=this.storage_.get(o),h=a,f=h+l.duration,g=!!(c&&c.segmentSyncInfo&&c.segmentSyncInfo.isAppended),v=new n3({start:h,end:f,appended:g,segmentIndex:u});l.syncInfo=v;let y=a;const _=(l.parts||[]).map((C,k)=>{const D=y,I=y+C.duration,A=!!(c&&c.partsSyncInfo&&c.partsSyncInfo[k]&&c.partsSyncInfo[k].isAppended),R=new n3({start:D,end:I,appended:A,segmentIndex:u,partIndex:k});return y=I,s+=`Media Sequence: ${o}.${k} | Range: ${D} --> ${I} | Appended: ${A}
`,C.syncInfo=R,R});i.set(o,new _ge(v,_)),s+=`${Q$(l.resolvedUri)} | Media Sequence: ${o} | Range: ${h} --> ${f} | Appended: ${g}
`,o++,a=f}),this.end_=a,this.storage_=i,this.diagnostics_=s}calculateBaseTime_(e,t){return this.storage_.size?this.storage_.has(e)?this.storage_.get(e).segmentSyncInfo.start:t:0}isReliablePlaylist_(e,t){return e!=null&&Array.isArray(t)&&t.length}}class i3 extends tj{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,t){if(!this.storage_.size){const n=this.parent_.getSyncInfoForMediaSequence(e);return n?n.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,t)}}const bge=86400,WC=[{name:"VOD",run:(r,e,t,n,i)=>t!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(r,e,t,n,i,s)=>{const a=r.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(i);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(r,e,t,n,i)=>{if(!Object.keys(r.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=z2(e);i=i||0;for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),c=o[u],h=c.segment,f=r.timelineToDatetimeMappings[h.timeline];if(!f||!h.dateTimeObject)continue;let v=h.dateTimeObject.getTime()/1e3+f;if(h.parts&&typeof c.partIndex=="number")for(let _=0;_<c.partIndex;_++)v+=h.parts[_].duration;const y=Math.abs(i-v);if(a!==null&&(y===0||a<y))break;a=y,s={time:v,segmentIndex:c.segmentIndex,partIndex:c.partIndex}}return s}},{name:"Segment",run:(r,e,t,n,i)=>{let s=null,a=null;i=i||0;const o=z2(e);for(let l=0;l<o.length;l++){const u=e.endList||i===0?l:o.length-(l+1),c=o[u],h=c.segment,f=c.part&&c.part.start||h&&h.start;if(h.timeline===n&&typeof f<"u"){const g=Math.abs(i-f);if(a!==null&&a<g)break;(!s||a===null||a>=g)&&(a=g,s={time:f,segmentIndex:c.segmentIndex,partIndex:c.partIndex})}}return s}},{name:"Discontinuity",run:(r,e,t,n,i)=>{let s=null;if(i=i||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],u=e.discontinuitySequence+o+1,c=r.discontinuities[u];if(c){const h=Math.abs(i-c.time);if(a!==null&&a<h)break;(!s||a===null||a>=h)&&(a=h,s={time:c.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(r,e,t,n,i)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];let Sge=class extends Se.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const t=new tj,n=new i3(t),i=new i3(t);this.mediaSequenceStorage_={main:t,audio:n,vtt:i},this.logger_=fl("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,t,n,i,s){if(t!==1/0)return WC.find(({name:l})=>l==="VOD").run(this,e,t);const a=this.runStrategies_(e,t,n,i,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:u}=o,{segmentIndex:c,time:h}=l;if(c<0)continue;const f=e.segments[c],g=h,v=g+f.duration;if(this.logger_(`Strategy: ${u}. Current time: ${i}. selected segment: ${c}. Time: [${g} -> ${v}]}`),i>=g&&i<v)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:i})}getExpiredTime(e,t){if(!e||!e.segments)return null;const n=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!n.length)return null;const i=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return i.segmentIndex>0&&(i.time*=-1),Math.abs(i.time+p0({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:i.segmentIndex,endIndex:0}))}runStrategies_(e,t,n,i,s){const a=[];for(let o=0;o<WC.length;o++){const l=WC[o],u=l.run(this,e,t,n,i,s);u&&(u.strategy=l.name,a.push({strategy:l.name,syncPoint:u}))}return a}selectSyncPoint_(e,t){let n=e[0].syncPoint,i=Math.abs(e[0].syncPoint[t.key]-t.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[t.key]-t.value);o<i&&(i=o,n=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${s}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,t){const n=t.mediaSequence-e.mediaSequence;if(n>bge){Se.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let i=n-1;i>=0;i--){const s=e.segments[i];if(s&&typeof s.start<"u"){t.syncInfo={mediaSequence:e.mediaSequence+i,time:s.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],n=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),i=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:i.start}));const s=i.dateTimeObject;i.discontinuity&&t&&s&&(this.timelineToDatetimeMappings[i.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,n){const i=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-t.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=t.end+a.mapping;else if(a)o=t.start+a.mapping,l=t.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!i.start||o<i.start)&&(i.start=o),i.end=l,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let i=0;i<t.discontinuityStarts.length;i++){const s=t.discontinuityStarts[i],a=t.discontinuitySequence+i+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let u;o<0?u=n.start-p0({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:s}):u=n.end+p0({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:u,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}},Tge=class extends Se.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:n}){return typeof t=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:n}){if(typeof t=="number"&&typeof n=="number"){this.lastTimelineChanges_[e]={type:e,from:t,to:n},delete this.pendingTimelineChanges_[e];const i={timelineChangeInfo:{from:t,to:n}};this.trigger({type:"timelinechange",metadata:i})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}};const Cge=$$(j$(function(){var r=(function(){function y(){this.listeners={}}var _=y.prototype;return _.on=function(k,D){this.listeners[k]||(this.listeners[k]=[]),this.listeners[k].push(D)},_.off=function(k,D){if(!this.listeners[k])return!1;var I=this.listeners[k].indexOf(D);return this.listeners[k]=this.listeners[k].slice(0),this.listeners[k].splice(I,1),I>-1},_.trigger=function(k){var D=this.listeners[k];if(D)if(arguments.length===2)for(var I=D.length,A=0;A<I;++A)D[A].call(this,arguments[1]);else for(var R=Array.prototype.slice.call(arguments,1),N=D.length,U=0;U<N;++U)D[U].apply(this,R)},_.dispose=function(){this.listeners={}},_.pipe=function(k){this.on("data",function(D){k.push(D)})},y})();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(y){return y.subarray(0,y.byteLength-y[y.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const t=function(){const y=[[[],[],[],[],[]],[[],[],[],[],[]]],_=y[0],C=y[1],k=_[4],D=C[4];let I,A,R;const N=[],U=[];let F,w,$,H,W,Q;for(I=0;I<256;I++)U[(N[I]=I<<1^(I>>7)*283)^I]=I;for(A=R=0;!k[A];A^=F||1,R=U[R]||1)for(H=R^R<<1^R<<2^R<<3^R<<4,H=H>>8^H&255^99,k[A]=H,D[H]=A,$=N[w=N[F=N[A]]],Q=$*16843009^w*65537^F*257^A*16843008,W=N[H]*257^H*16843008,I=0;I<4;I++)_[I][A]=W=W<<24^W>>>8,C[I][H]=Q=Q<<24^Q>>>8;for(I=0;I<5;I++)_[I]=_[I].slice(0),C[I]=C[I].slice(0);return y};let n=null;class i{constructor(_){n||(n=t()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let C,k,D;const I=this._tables[0][4],A=this._tables[1],R=_.length;let N=1;if(R!==4&&R!==6&&R!==8)throw new Error("Invalid aes key size");const U=_.slice(0),F=[];for(this._key=[U,F],C=R;C<4*R+28;C++)D=U[C-1],(C%R===0||R===8&&C%R===4)&&(D=I[D>>>24]<<24^I[D>>16&255]<<16^I[D>>8&255]<<8^I[D&255],C%R===0&&(D=D<<8^D>>>24^N<<24,N=N<<1^(N>>7)*283)),U[C]=U[C-R]^D;for(k=0;C;k++,C--)D=U[k&3?C:C-4],C<=4||k<4?F[k]=D:F[k]=A[0][I[D>>>24]]^A[1][I[D>>16&255]]^A[2][I[D>>8&255]]^A[3][I[D&255]]}decrypt(_,C,k,D,I,A){const R=this._key[1];let N=_^R[0],U=D^R[1],F=k^R[2],w=C^R[3],$,H,W;const Q=R.length/4-2;let te,oe=4;const de=this._tables[1],le=de[0],ae=de[1],ie=de[2],ee=de[3],pe=de[4];for(te=0;te<Q;te++)$=le[N>>>24]^ae[U>>16&255]^ie[F>>8&255]^ee[w&255]^R[oe],H=le[U>>>24]^ae[F>>16&255]^ie[w>>8&255]^ee[N&255]^R[oe+1],W=le[F>>>24]^ae[w>>16&255]^ie[N>>8&255]^ee[U&255]^R[oe+2],w=le[w>>>24]^ae[N>>16&255]^ie[U>>8&255]^ee[F&255]^R[oe+3],oe+=4,N=$,U=H,F=W;for(te=0;te<4;te++)I[(3&-te)+A]=pe[N>>>24]<<24^pe[U>>16&255]<<16^pe[F>>8&255]<<8^pe[w&255]^R[oe++],$=N,N=U,U=F,F=w,w=$}}class s extends r{constructor(){super(r),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(_){this.jobs.push(_),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(y){return y<<24|(y&65280)<<8|(y&16711680)>>8|y>>>24},o=function(y,_,C){const k=new Int32Array(y.buffer,y.byteOffset,y.byteLength>>2),D=new i(Array.prototype.slice.call(_)),I=new Uint8Array(y.byteLength),A=new Int32Array(I.buffer);let R,N,U,F,w,$,H,W,Q;for(R=C[0],N=C[1],U=C[2],F=C[3],Q=0;Q<k.length;Q+=4)w=a(k[Q]),$=a(k[Q+1]),H=a(k[Q+2]),W=a(k[Q+3]),D.decrypt(w,$,H,W,A,Q),A[Q]=a(A[Q]^R),A[Q+1]=a(A[Q+1]^N),A[Q+2]=a(A[Q+2]^U),A[Q+3]=a(A[Q+3]^F),R=w,N=$,U=H,F=W;return I};class l{constructor(_,C,k,D){const I=l.STEP,A=new Int32Array(_.buffer),R=new Uint8Array(_.byteLength);let N=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(A.subarray(N,N+I),C,k,R)),N=I;N<A.length;N+=I)k=new Uint32Array([a(A[N-4]),a(A[N-3]),a(A[N-2]),a(A[N-1])]),this.asyncStream_.push(this.decryptChunk_(A.subarray(N,N+I),C,k,R));this.asyncStream_.push(function(){D(null,e(R))})}static get STEP(){return 32e3}decryptChunk_(_,C,k,D){return function(){const I=o(_,C,k);D.set(I,_.byteOffset)}}}var u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c;typeof window<"u"?c=window:typeof u<"u"?c=u:typeof self<"u"?c=self:c={};var h=c,f=function(_){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(_):_&&_.buffer instanceof ArrayBuffer},g=h.BigInt||Number;g("0x1"),g("0x100"),g("0x10000"),g("0x1000000"),g("0x100000000"),g("0x10000000000"),g("0x1000000000000"),g("0x100000000000000"),g("0x10000000000000000"),(function(){var y=new Uint16Array([65484]),_=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);return _[0]===255?"big":_[0]===204?"little":"unknown"})();const v=function(y){const _={};return Object.keys(y).forEach(C=>{const k=y[C];f(k)?_[C]={bytes:k.buffer,byteOffset:k.byteOffset,byteLength:k.byteLength}:_[C]=k}),_};self.onmessage=function(y){const _=y.data,C=new Uint8Array(_.encrypted.bytes,_.encrypted.byteOffset,_.encrypted.byteLength),k=new Uint32Array(_.key.bytes,_.key.byteOffset,_.key.byteLength/4),D=new Uint32Array(_.iv.bytes,_.iv.byteOffset,_.iv.byteLength/4);new l(C,k,D,function(I,A){self.postMessage(v({source:_.source,decrypted:A}),[A.buffer])})}}));var wge=U$(Cge);const Ege=r=>{let e=r.default?"main":"alternative";return r.characteristics&&r.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},rj=(r,e)=>{r.abort(),r.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Z2=(r,e)=>{e.activePlaylistLoader=r,r.load()},kge=(r,e)=>()=>{const{segmentLoaders:{[r]:t,main:n},mediaTypes:{[r]:i}}=e,s=i.activeTrack(),a=i.getActiveGroup(),o=i.activePlaylistLoader,l=i.lastGroup_;if(!(a&&l&&a.id===l.id)&&(i.lastGroup_=a,i.lastTrack_=s,rj(t,i),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&n.resetEverything();return}t.resyncLoader(),Z2(a.playlistLoader,i)}},Age=(r,e)=>()=>{const{segmentLoaders:{[r]:t},mediaTypes:{[r]:n}}=e;n.lastGroup_=null,t.abort(),t.pause()},Dge=(r,e)=>()=>{const{mainPlaylistLoader:t,segmentLoaders:{[r]:n,main:i},mediaTypes:{[r]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,u=s.lastTrack_;if(!(u&&a&&u.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,rj(n,s),!!o)){if(o.isMainPlaylist){if(!a||!u||a.id===u.id)return;const c=e.vhs.playlistController_,h=c.selectPlaylist();if(c.media()===h)return;s.logger_(`track change. Switching main audio from ${u.id} to ${a.id}`),t.pause(),i.resetEverything(),c.fastQualityChange_(h);return}if(r==="AUDIO"){if(!o.playlistLoader){i.setAudio(!0),i.resetEverything();return}n.setAudio(!0),i.setAudio(!1)}if(l===o.playlistLoader){Z2(o.playlistLoader,s);return}n.track&&n.track(a),n.resetEverything(),Z2(o.playlistLoader,s)}},yb={AUDIO:(r,e)=>()=>{const{mediaTypes:{[r]:t},excludePlaylist:n}=e,i=t.activeTrack(),s=t.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=t.tracks[a];if(i===o){n({error:{message:"Problem encountered loading the default audio track."}});return}Se.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in t.tracks)t.tracks[l].enabled=t.tracks[l]===o;t.onTrackChanged()},SUBTITLES:(r,e)=>()=>{const{mediaTypes:{[r]:t}}=e;Se.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=t.activeTrack();n&&(n.mode="disabled"),t.onTrackChanged()}},s3={AUDIO:(r,e,t)=>{if(!e)return;const{tech:n,requestOptions:i,segmentLoaders:{[r]:s}}=t;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,i),(!n.paused()||a.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",yb[r](r,t))},SUBTITLES:(r,e,t)=>{const{tech:n,requestOptions:i,segmentLoaders:{[r]:s},mediaTypes:{[r]:a}}=t;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,i),s.track(a.activeTrack()),(!n.paused()||o.endList&&n.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),i),n.paused()||s.load()}),e.on("error",yb[r](r,t))}},Ige={AUDIO:(r,e)=>{const{vhs:t,sourceType:n,segmentLoaders:{[r]:i},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[r]:{groups:o,tracks:l,logger_:u}},mainPlaylistLoader:c}=e,h=Ev(c.main);(!a[r]||Object.keys(a[r]).length===0)&&(a[r]={main:{default:{default:!0}}},h&&(a[r].main.default.playlists=c.main.playlists));for(const f in a[r]){o[f]||(o[f]=[]);for(const g in a[r][f]){let v=a[r][f][g],y;if(h?(u(`AUDIO group '${f}' label '${g}' is a main playlist`),v.isMainPlaylist=!0,y=null):n==="vhs-json"&&v.playlists?y=new bp(v.playlists[0],t,s):v.resolvedUri?y=new bp(v.resolvedUri,t,s):v.playlists&&n==="dash"?y=new K2(v.playlists[0],t,s,c):y=null,v=Dn({id:g,playlistLoader:y},v),s3[r](r,v.playlistLoader,e),o[f].push(v),typeof l[g]>"u"){const _=new Se.AudioTrack({id:g,kind:Ege(v),enabled:!1,language:v.language,default:v.default,label:g});l[g]=_}}}i.on("error",yb[r](r,e))},SUBTITLES:(r,e)=>{const{tech:t,vhs:n,sourceType:i,segmentLoaders:{[r]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[r]:{groups:l,tracks:u}},mainPlaylistLoader:c}=e;for(const h in o[r]){l[h]||(l[h]=[]);for(const f in o[r][h]){if(!n.options_.useForcedSubtitles&&o[r][h][f].forced)continue;let g=o[r][h][f],v;if(i==="hls")v=new bp(g.resolvedUri,n,a);else if(i==="dash"){if(!g.playlists.filter(_=>_.excludeUntil!==1/0).length)return;v=new K2(g.playlists[0],n,a,c)}else i==="vhs-json"&&(v=new bp(g.playlists?g.playlists[0]:g.resolvedUri,n,a));if(g=Dn({id:f,playlistLoader:v},g),s3[r](r,g.playlistLoader,e),l[h].push(g),typeof u[f]>"u"){const y=t.addRemoteTextTrack({id:f,kind:"subtitles",default:g.default&&g.autoselect,language:g.language,label:f},!1).track;u[f]=y}}}s.on("error",yb[r](r,e))},"CLOSED-CAPTIONS":(r,e)=>{const{tech:t,main:{mediaGroups:n},mediaTypes:{[r]:{groups:i,tracks:s}}}=e;for(const a in n[r]){i[a]||(i[a]=[]);for(const o in n[r][a]){const l=n[r][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const u=t.options_.vhs&&t.options_.vhs.captionServices||{};let c={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(u[c.instreamId]&&(c=Dn(c,u[c.instreamId])),c.default===void 0&&delete c.default,i[a].push(Dn({id:o},l)),typeof s[o]>"u"){const h=t.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;s[o]=h}}}}},nj=(r,e)=>{for(let t=0;t<r.length;t++)if(DA(e,r[t])||r[t].playlists&&nj(r[t].playlists,e))return!0;return!1},Pge=(r,e)=>t=>{const{mainPlaylistLoader:n,mediaTypes:{[r]:{groups:i}}}=e,s=n.media();if(!s)return null;let a=null;s.attributes[r]&&(a=i[s.attributes[r]]);const o=Object.keys(i);if(!a)if(r==="AUDIO"&&o.length>1&&Ev(e.main))for(let l=0;l<o.length;l++){const u=i[o[l]];if(nj(u,s)){a=u;break}}else i.main?a=i.main:o.length===1&&(a=i[o[0]]);return typeof t>"u"?a:t===null||!a?null:a.filter(l=>l.id===t.id)[0]||null},Rge={AUDIO:(r,e)=>()=>{const{mediaTypes:{[r]:{tracks:t}}}=e;for(const n in t)if(t[n].enabled)return t[n];return null},SUBTITLES:(r,e)=>()=>{const{mediaTypes:{[r]:{tracks:t}}}=e;for(const n in t)if(t[n].mode==="showing"||t[n].mode==="hidden")return t[n];return null}},Lge=(r,{mediaTypes:e})=>()=>{const t=e[r].activeTrack();return t?e[r].activeGroup(t):null},Oge=r=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(u=>{Ige[u](u,r)});const{mediaTypes:e,mainPlaylistLoader:t,tech:n,vhs:i,segmentLoaders:{["AUDIO"]:s,main:a}}=r;["AUDIO","SUBTITLES"].forEach(u=>{e[u].activeGroup=Pge(u,r),e[u].activeTrack=Rge[u](u,r),e[u].onGroupChanged=kge(u,r),e[u].onGroupChanging=Age(u,r),e[u].onTrackChanged=Dge(u,r),e[u].getActiveGroup=Lge(u,r)});const o=e.AUDIO.activeGroup();if(o){const u=(o.filter(h=>h.default)[0]||o[0]).id;e.AUDIO.tracks[u].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}t.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanged())}),t.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(u=>e[u].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),i.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const u in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[u])},Mge=()=>{const r={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{r[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Ic,activeTrack:Ic,getActiveGroup:Ic,onGroupChanged:Ic,onTrackChanged:Ic,lastTrack_:null,logger_:fl(`MediaGroups[${e}]`)}}),r};class a3{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Ma(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(t=>[t.ID,t])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class Fge extends Se.EventTarget{constructor(e,t){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new a3,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=fl("Content Steering"),this.xhr_=e,this.getBandwidth_=t}assignTagProperties(e,t){this.manifestType_=t.serverUri?"HLS":"DASH";const n=t.serverUri||t.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=Ma(e,n),this.defaultPathway=t.pathwayId||t.defaultServiceLocation,this.queryBeforeStart=t.queryBeforeStart,this.proxyServerUrl_=t.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const t=this.steeringManifest.reloadUri;if(!t)return;const n=e?t:this.getRequestURI(t);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const i={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:i}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(a.status===429){const u=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${u} seconds.`),this.startTTLTimeout_(parseInt(u,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:i});let o;try{o=JSON.parse(this.request_.responseText)}catch(u){const c={errorType:Se.Error.StreamingContentSteeringParserError,error:u};this.trigger({type:"error",metadata:c})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:i.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const t=new X.URL(e),n=new X.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(t.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const t=JSON.parse(X.atob(e));this.assignSteeringProperties_(t)}setSteeringParams_(e){const t=new X.URL(e),n=this.getPathway(),i=this.getBandwidth_();if(n){const s=`_${this.manifestType_}_pathway`;t.searchParams.set(s,n)}if(i){const s=`_${this.manifestType_}_throughput`;t.searchParams.set(s,i)}return t.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const s of i)if(this.availablePathways_.has(s))return s;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const t=i=>this.excludedSteeringManifestURLs.has(i);if(this.proxyServerUrl_){const i=this.setProxyServerUrl_(e);if(!t(i))return i}const n=this.setSteeringParams_(e);return t(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const t=e*1e3;this.ttlTimeout_=X.setTimeout(()=>{this.requestSteeringManifest()},t)}clearTTLTimeout_(){X.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new a3}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,t){return!t&&this.steeringManifest.reloadUri||t&&(Ma(e,t.serverURL)!==this.steeringManifest.reloadUri||t.defaultServiceLocation!==this.defaultPathway||t.queryBeforeStart!==this.queryBeforeStart||t.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const Bge=10;let Cc;const Nge=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Uge=function(r){return this.audioSegmentLoader_[r]+this.mainSegmentLoader_[r]},$ge=function({currentPlaylist:r,buffered:e,currentTime:t,nextPlaylist:n,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!n)return Se.log.warn("We received no playlist to switch to. Please check your stream."),!1;const u=`allowing switch ${r&&r.id||"null"} -> ${n.id}`;if(!r)return l(`${u} as current playlist is not set`),!0;if(n.id===r.id)return!1;const c=!!_p(e,t).length;if(!r.endList)return!c&&typeof r.partTargetDuration=="number"?(l(`not ${u} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${u} as current playlist is live`),!0);const h=EA(e,t),f=o?es.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:es.MAX_BUFFER_LOW_WATER_LINE;if(a<f)return l(`${u} as duration < max low water line (${a} < ${f})`),!0;const g=n.attributes.BANDWIDTH,v=r.attributes.BANDWIDTH;if(g<v&&(!o||h<s)){let y=`${u} as next bandwidth < current bandwidth (${g} < ${v})`;return o&&(y+=` and forwardBuffer < bufferHighWaterLine (${h} < ${s})`),l(y),!0}if((!o||g>v)&&h>=i){let y=`${u} as forwardBuffer >= bufferLowWaterLine (${h} >= ${i})`;return o&&(y+=` and next bandwidth > current bandwidth (${g} > ${v})`),l(y),!0}return l(`not ${u} as no switching criteria met`),!1};class jge extends Se.EventTarget{constructor(e){super();const{src:t,withCredentials:n,tech:i,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:u,sourceType:c,cacheEncryptionKeys:h,bufferBasedABR:f,leastPixelDiffSelector:g,captionServices:v,experimentalUseMMS:y}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:_}=e;(_===null||typeof _>"u")&&(_=1/0),Cc=a,this.bufferBasedABR=!!f,this.leastPixelDiffSelector=!!g,this.withCredentials=n,this.tech_=i,this.vhs_=i.vhs,this.player_=e.player_,this.sourceType_=c,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=_,this.enableLowInitialPlaylist=u,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:_,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=Mge(),y&&X.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new X.ManagedMediaSource,Se.log("Using ManagedMediaSource")):X.MediaSource&&(this.mediaSource=new X.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=_s(),this.hasPlayed_=!1,this.syncController_=new Sge(e),this.segmentMetadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new wge,this.sourceUpdater_=new ej(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Tge,this.keyStatusMap_=new Map;const C={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:v,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:h,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new K2(t,this.vhs_,Dn(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new bp(t,this.vhs_,Dn(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new Q2(Dn(C,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new Q2(Dn(C,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new vge(Dn(C,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((I,A)=>{function R(){i.off("vttjserror",N),I()}function N(){i.off("vttjsloaded",R),A()}i.one("vttjsloaded",R),i.one("vttjserror",N),i.addWebVttScript_()})}),e);const k=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new Fge(this.vhs_.xhr,k),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),Nge.forEach(I=>{this[I+"_"]=Uge.bind(this,I)}),this.logger_=fl("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const D=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(D,()=>{const I=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-I,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return e===-1||t===-1?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,n){const i=this.media(),s=i&&(i.id||i.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${t}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:t};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const t=this.mediaTypes_[e],n=t?t.activeGroup():null,i=this.contentSteeringController_.getPathway();if(n&&i){const a=(n.length?n[0].playlists:n.playlists).filter(o=>o.attributes.serviceLocation===i);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=X.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(X.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const n=e.mediaGroups.AUDIO,i=Object.keys(n);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=n.main||i.length&&n[i[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return t;const a=[];for(const o in n)if(n[o][s.label]){const l=n[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let u=0;u<e.playlists.length;u++){const c=e.playlists[u];c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===o&&a.push(c)}}return a.length?a:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const t=this.mainPlaylistLoader_.media(),n=t.targetDuration*1.5*1e3;H2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,t.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.mainSegmentLoader_.load()),Oge({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),t),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let t=this.mainPlaylistLoader_.media();if(!t){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;t=this.initialMedia_}this.handleUpdatedMediaPlaylist(t)}),this.mainPlaylistLoader_.on("error",()=>{const t=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:t.playlist,error:t})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const t=this.mainPlaylistLoader_.media(),n=t.targetDuration*1.5*1e3;H2(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(t,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const t=this.mainPlaylistLoader_.media();if(t.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(t)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(t=>{this.mainPlaylistLoader_.on(t,n=>{this.player_.trigger(sr({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const n=e.mediaGroups||{};let i=!0;const s=Object.keys(n.AUDIO);for(const a in n.AUDIO)for(const o in n.AUDIO[a])n.AUDIO[a][o].uri||(i=!1);i&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Cc.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(n.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),i=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return $ge({buffered:a,currentTime:n,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:i,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const n=this.audioSegmentLoader_.pendingSegment_;if(!n||!n.segment||!n.segment.syncInfo)return;const i=n.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:Bge}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,i=>{this.player_.trigger(sr({},i))}),this.audioSegmentLoader_.on(n,i=>{this.player_.trigger(sr({},i))}),this.subtitleSegmentLoader_.on(n,i=>{this.player_.trigger(sr({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(()=>{this.mainSegmentLoader_.load()})}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const n=t.end(0);let i=n;if(e.start){const s=e.start.timeOffset;s<0?i=Math.max(n+s,t.start(0)):i=Math.min(n,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(i)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,t=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();!t||t.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=Cc.Playlist.playlistEnd(e,n),s=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return i-s<=Eu;const o=a.end(a.length-1);return o-s<=Eu&&i-o<=Eu}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||t.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=t,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const i=this.mainPlaylistLoader_.main.playlists,s=i.filter(KS),a=s.length===1&&s[0]===e;if(i.length===1&&n!==1/0)return Se.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const v=this.pathwayAttribute_(e),y=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(v),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(v)},y);return}let g=!1;i.forEach(v=>{if(v===e)return;const y=v.excludeUntil;typeof y<"u"&&y!==1/0&&(g=!0,delete v.excludeUntil)}),g&&(Se.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+n*1e3,e.excludeUntil=o,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const u=t.internal?this.logger_:Se.log.warn,c=t.message?" "+t.message:"";u(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const h=l.targetDuration/2*1e3||5*1e3,f=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=h;return this.switchMedia_(l,"exclude",a||f)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const n=[],i=e==="all";(i||e==="main")&&n.push(this.mainPlaylistLoader_);const s=[];(i||e==="audio")&&s.push("AUDIO"),(i||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&n.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&n.push(o)}),n.forEach(a=>t.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const t=_p(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(t&&t.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Cc.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let t=this.mainPlaylistLoader_.media();if(!t)return;let n=this.syncController_.getExpiredTime(t,this.duration());if(n===null)return;const i=this.mainPlaylistLoader_.main,s=Cc.Playlist.seekable(t,n,Cc.Playlist.liveEdgeDelay(i,t));if(s.length===0||this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),n=this.syncController_.getExpiredTime(t,this.duration()),n===null||(e=Cc.Playlist.seekable(t,n,Cc.Playlist.liveEdgeDelay(i,t)),e.length===0)))return;let a,o;if(this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),o=this.seekable_.start(0)),e?e.start(0)>s.end(0)||s.start(0)>e.end(0)?this.seekable_=s:this.seekable_=_s([[e.start(0)>s.start(0)?e.start(0):s.start(0),e.end(0)<s.end(0)?e.end(0):s.end(0)]]):this.seekable_=s,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===o)return;this.logger_(`seekable updated [${m$(this.seekable_)}]`);const l={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:l}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const i=this.seekable();if(!i.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<i.end(i.length-1))&&this.sourceUpdater_.setDuration(i.end(i.length-1));return}const t=this.tech_.buffered();let n=Cc.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(n=Math.max(n,t.end(t.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const t=this.mediaTypes_[e].groups;for(const n in t)t[n].forEach(i=>{i.playlistLoader&&i.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!t||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=g0(this.main(),t),i={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(i.video=n.video||e.main.videoCodec||R5),e.main.isMuxed&&(i.video+=`,${n.audio||e.main.audioCodec||q_}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(i.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||q_,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!i.audio&&!i.video){this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(u,c)=>u?Fu(c):Lp(c),o={};let l;if(["video","audio"].forEach(function(u){if(i.hasOwnProperty(u)&&!a(e[u].isFmp4,i[u])){const c=e[u].isFmp4?"browser":"muxer";o[c]=o[c]||[],o[c].push(i[u]),u==="audio"&&(l=c)}}),s&&l&&t.attributes.AUDIO){const u=t.attributes.AUDIO;this.main().playlists.forEach(c=>{(c.attributes&&c.attributes.AUDIO)===u&&c!==t&&(c.excludeUntil=1/0)}),this.logger_(`excluding audio group ${u} as ${l} does not support codec(s): "${i.audio}"`)}if(Object.keys(o).length){const u=Object.keys(o).reduce((c,h)=>(c&&(c+=", "),c+=`${h} does not support codec(s): "${o[h].join(",")}"`,c),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:u},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const u=[];if(["video","audio"].forEach(c=>{const h=(Ni(this.sourceUpdater_.codecs[c]||"")[0]||{}).type,f=(Ni(i[c]||"")[0]||{}).type;h&&f&&h.toLowerCase()!==f.toLowerCase()&&u.push(`"${this.sourceUpdater_.codecs[c]}" -> "${i[c]}"`)}),u.length){this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${u.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return i}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach(n=>{const i=e[n];if(t.indexOf(i.id)!==-1)return;t.push(i.id);const s=g0(this.main,i),a=[];s.audio&&!Lp(s.audio)&&!Fu(s.audio)&&a.push(`audio codec ${s.audio}`),s.video&&!Lp(s.video)&&!Fu(s.video)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(i.excludeUntil=1/0,this.logger_(`excluding ${i.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const t=[],n=this.main().playlists,i=gb(Ni(e)),s=GM(i),a=i.video&&Ni(i.video)[0]||null,o=i.audio&&Ni(i.audio)[0]||null;Object.keys(n).forEach(l=>{const u=n[l];if(t.indexOf(u.id)!==-1||u.excludeUntil===1/0)return;t.push(u.id);const c=[],h=g0(this.mainPlaylistLoader_.main,u),f=GM(h);if(!(!h.audio&&!h.video)){if(f!==s&&c.push(`codec count "${f}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const g=h.video&&Ni(h.video)[0]||null,v=h.audio&&Ni(h.audio)[0]||null;g&&a&&g.type.toLowerCase()!==a.type.toLowerCase()&&c.push(`video codec "${g.type}" !== "${a.type}"`),v&&o&&v.type.toLowerCase()!==o.type.toLowerCase()&&c.push(`audio codec "${v.type}" !== "${o.type}"`)}c.length&&(u.excludeUntil=1/0,this.logger_(`excluding ${u.id}: ${c.join(" && ")}`))}})}updateAdCues_(e){let t=0;const n=this.seekable();n.length&&(t=n.start(0)),xge(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=es.GOAL_BUFFER_LENGTH,n=es.GOAL_BUFFER_LENGTH_RATE,i=Math.max(t,es.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*n,i)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=es.BUFFER_LOW_WATER_LINE,n=es.BUFFER_LOW_WATER_LINE_RATE,i=Math.max(t,es.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(t,es.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*n,this.bufferBasedABR?s:i)}bufferHighWaterLine(){return es.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){YM(this.inbandTextTracks_,"com.apple.streaming",this.tech_),Qme({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,n){const i=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();YM(this.inbandTextTracks_,e,this.tech_),Kme({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:i,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const t of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(t));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(t=>{this.contentSteeringController_.on(t,n=>{this.trigger(sr({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const t=this.main();(this.contentSteeringController_.didDASHTagChange(t.uri,t.contentSteering)||(()=>{const s=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of t.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!s.has(l)))return!0}return!!(!a.length&&s.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let s=!1;Object.keys(n).forEach(a=>{const o=n[a],l=this.pathwayAttribute_(o),u=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!u&&(delete o.excludeUntil,delete o.lastExcludeReason_,s=!0);const h=!o.excludeUntil&&o.excludeUntil!==1/0;!i.has(o.id)&&u&&h&&(i.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(s=!0)}}),s&&this.changeSegmentPathway_()}handlePathwayClones_(){const t=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[a,o]of n.entries())i.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of i.entries()){const l=n.get(a);if(!l){t.filter(c=>c.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(c=>{this.mainPlaylistLoader_.addClonePathway(o,c)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,t){if(e["BASE-ID"]!==t["BASE-ID"]||e.ID!==t.ID||e["URI-REPLACEMENT"].HOST!==t["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,i=t["URI-REPLACEMENT"].PARAMS;for(const s in n)if(n[s]!==i[s])return!1;for(const s in i)if(n[s]!==i[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const t="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=this.mainPlaylistLoader_.getKeyIdSet(n);!i||!i.size||i.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=n.lastExcludeReason_===t&&n.excludeUntil===1/0;o?o&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${s} is ${a}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==t&&(n.excludeUntil=1/0,n.lastExcludeReason_=t,this.logger_(`excluding playlist ${n.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const i=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,s=n.excludeUntil===1/0&&n.lastExcludeReason_===t;i&&s&&(delete n.excludeUntil,Se.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${t} key IDs`))})}addKeyStatus_(e,t){const s=(typeof e=="string"?e:mge(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${t}' with key ID ${s} added to the keyStatusMap`),this.keyStatusMap_.set(s,t)}updatePlaylistByKeyStatus(e,t){this.addKeyStatus_(e,t),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const zge=(r,e,t)=>n=>{const i=r.main.playlists[e],s=AA(i),a=KS(i);if(typeof n>"u")return a;n?delete i.disabled:i.disabled=!0;const o={renditionInfo:{id:e,bandwidth:i.attributes.BANDWIDTH,resolution:i.attributes.RESOLUTION,codecs:i.attributes.CODECS},cause:"fast-quality"};return n!==a&&!s&&(t(i),n?r.trigger({type:"renditionenabled",metadata:o}):r.trigger({type:"renditiondisabled",metadata:o})),n};let Hge=class{constructor(e,t,n){const{playlistController_:i}=e,s=i.fastQualityChange_.bind(i);if(t.attributes){const a=t.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=g0(i.main(),t),this.playlist=t,this.id=n,this.enabled=zge(e.playlists,t.id,s)}};const Vge=function(r){r.representations=()=>{const e=r.playlistController_.main(),t=Ev(e)?r.playlistController_.getAudioTrackPlaylists_():e.playlists;return t?t.filter(n=>!AA(n)).map((n,i)=>new Hge(r,n,n.id)):[]}},o3=["seeking","seeked","pause","playing","error"];let Wge=class extends Se.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=fl("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),i=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(c=>{l[c]={reset:()=>this.resetSegmentDownloads_(c),updateend:()=>this.checkSegmentDownloads_(c)},a[`${c}SegmentLoader_`].on("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].on("playlistupdate",l[c].reset),this.tech_.on(["seeked","seeking"],l[c].reset)});const u=c=>{["main","audio"].forEach(h=>{a[`${h}SegmentLoader_`][c]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),u("off"))},this.clearSeekingAppendCheck_=()=>u("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),u("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",i),this.tech_.on(o3,s),this.tech_.on("canplay",n),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",i),this.tech_.off(o3,s),this.tech_.off("canplay",n),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(c=>{a[`${c}SegmentLoader_`].off("appendsdone",l[c].updateend),a[`${c}SegmentLoader_`].off("playlistupdate",l[c].reset),this.tech_.off(["seeked","seeking"],l[c].reset)}),this.checkCurrentTimeTimeout_&&X.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&X.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=X.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,n=t[`${e}SegmentLoader_`],i=n.buffered_(),s=Ppe(this[`${e}Buffered_`],i);if(this[`${e}Buffered_`]=i,s){const a={bufferedRanges:i};t.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Xh(i)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+Eu>=t.end(t.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(_s([this.lastRecordedTime,e]));const n={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:n}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const t=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(t,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let s;if(i&&(s=t.end(t.length-1)),this.beforeSeekableWindow_(t,n)){const v=t.start(0);s=v+(v===t.end(0)?0:Eu)}if(typeof s<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${m$(t)}. Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,u=a.videoBuffer?a.videoBuffered():null,c=this.media(),h=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-wu)*2,f=[l,u];for(let v=0;v<f.length;v++){if(!f[v])continue;if(EA(f[v],n)<h)return!1}const g=Xy(o,n);return g.length===0?!1:(s=g.start(0)+Eu,this.logger_(`Buffered region starts (${g.start(0)})  just beyond seek point (${n}). Seeking to ${s}.`),this.tech_.setCurrentTime(s),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),n=_p(t,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,i=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=Xy(i,t);return a.length>0?(this.logger_(`Stopped at ${t} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0):!1}afterSeekableWindow_(e,t,n,i=!1){if(!e.length)return!1;let s=e.end(e.length-1)+Eu;const a=!n.endList,o=typeof n.partTargetDuration=="number";return a&&(o||i)&&(s=e.end(e.length-1)+n.targetDuration*3),t>s}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:n}){if(!e)return;let i;if(e.length&&t.length){const s=_p(e,n-3),a=_p(e,n),o=_p(t,n);o.length&&!a.length&&s.length&&(i={start:s.end(0),end:o.end(0)})}else Xy(e,n).length||(i=this.gapFromVideoUnderflow_(e,n));return i?(this.logger_(`Encountered a gap in video from ${i.start} to ${i.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const t=this.tech_.buffered(),n=this.tech_.currentTime(),i=Xy(t,n);if(this.resetTimeUpdate_(),i.length===0||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",i.start(0)),this.tech_.setCurrentTime(i.start(0)+wu);const s={gapInfo:{from:n,to:i.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,t){const n=Ape(e);for(let i=0;i<n.length;i++){const s=n.start(i),a=n.end(i);if(t-s<4&&t-s>2)return{start:s,end:a}}return null}};const qge={errorInterval:30,getSource(r){const t=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return r(t)}},ij=function(r,e){let t=0,n=0;const i=Dn(qge,e);r.ready(()=>{r.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){n&&r.currentTime(n)},a=function(c){c!=null&&(n=r.duration()!==1/0&&r.currentTime()||0,r.one("loadedmetadata",s),r.src(c),r.trigger({type:"usage",name:"vhs-error-reload"}),r.play())},o=function(){if(Date.now()-t<i.errorInterval*1e3){r.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!i.getSource||typeof i.getSource!="function"){Se.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return t=Date.now(),i.getSource.call(r,a)},l=function(){r.off("loadedmetadata",s),r.off("error",o),r.off("dispose",l)},u=function(c){l(),ij(r,c)};r.on("error",o),r.on("dispose",l),r.reloadSourceOnError=u},Gge=function(r){ij(this,r)};var sj="3.15.0",Kge="7.0.3",Xge="1.3.1",Yge="7.2.0",Qge="4.0.2";const ni={PlaylistLoader:bp,Playlist:Ba,utils:tme,STANDARD_PLAYLIST_SELECTOR:XM,INITIAL_PLAYLIST_SELECTOR:Hme,lastBandwidthSelector:XM,movingAverageBandwidthSelector:jme,comparePlaylistBandwidth:PA,comparePlaylistResolution:$me,xhr:R$()};Object.keys(es).forEach(r=>{Object.defineProperty(ni,r,{get(){return Se.log.warn(`using Vhs.${r} is UNSAFE be sure you know what you are doing`),es[r]},set(e){if(Se.log.warn(`using Vhs.${r} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){Se.log.warn(`value of Vhs.${r} must be greater than or equal to 0`);return}es[r]=e}})});const aj="videojs-vhs",oj=function(r,e){const t=e.media();let n=-1;for(let i=0;i<r.length;i++)if(r[i].id===t.id){n=i;break}r.selectedIndex_=n,r.trigger({selectedIndex:n,type:"change"})},Jge=function(r,e){e.representations().forEach(t=>{r.addQualityLevel(t)}),oj(r,e.playlists)};ni.canPlaySource=function(){return Se.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const Zge=(r,e,t)=>{if(!r)return r;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=gb(Ni(e.attributes.CODECS))),t&&t.attributes&&t.attributes.CODECS&&(n.audio=t.attributes.CODECS);const i=ju(n.video),s=ju(n.audio),a={};for(const o in r)a[o]={},s&&(a[o].audioContentType=s),i&&(a[o].videoContentType=i),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof r[o]=="string"&&(a[o].url=r[o]);return Dn(r,a)},e0e=(r,e)=>r.reduce((t,n)=>{if(!n.contentProtection)return t;const i=e.reduce((s,a)=>{const o=n.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(i).length&&t.push(i),t},[]),t0e=({player:r,sourceKeySystems:e,audioMedia:t,mainPlaylists:n})=>{if(!r.eme.initializeMediaKeys)return Promise.resolve();const i=t?n.concat([t]):n,s=e0e(i,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((u,c)=>{r.tech_.one("keysessioncreated",u)})),a.push(new Promise((u,c)=>{r.eme.initializeMediaKeys({keySystems:l},h=>{if(h){c(h);return}u()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},r0e=({player:r,sourceKeySystems:e,media:t,audioMedia:n})=>{const i=Zge(e,t,n);return i?(r.currentSource().keySystems=i,i&&!r.eme?(Se.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},lj=()=>{if(!X.localStorage)return null;const r=X.localStorage.getItem(aj);if(!r)return null;try{return JSON.parse(r)}catch{return null}},n0e=r=>{if(!X.localStorage)return!1;let e=lj();e=e?Dn(e,r):r;try{X.localStorage.setItem(aj,JSON.stringify(e))}catch{return!1}return e},i0e=r=>r.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(r.substring(r.indexOf(",")+1)):r,uj=(r,e)=>{r._requestCallbackSet||(r._requestCallbackSet=new Set),r._requestCallbackSet.add(e)},cj=(r,e)=>{r._responseCallbackSet||(r._responseCallbackSet=new Set),r._responseCallbackSet.add(e)},dj=(r,e)=>{r._requestCallbackSet&&(r._requestCallbackSet.delete(e),r._requestCallbackSet.size||delete r._requestCallbackSet)},hj=(r,e)=>{r._responseCallbackSet&&(r._responseCallbackSet.delete(e),r._responseCallbackSet.size||delete r._responseCallbackSet)};ni.supportsNativeHls=(function(){if(!Be||!Be.createElement)return!1;const r=Be.createElement("video");return Se.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(r.canPlayType(t))}):!1})();ni.supportsNativeDash=(function(){return!Be||!Be.createElement||!Se.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Be.createElement("video").canPlayType("application/dash+xml"))})();ni.supportsTypeNatively=r=>r==="hls"?ni.supportsNativeHls:r==="dash"?ni.supportsNativeDash:!1;ni.isSupported=function(){return Se.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};ni.xhr.onRequest=function(r){uj(ni.xhr,r)};ni.xhr.onResponse=function(r){cj(ni.xhr,r)};ni.xhr.offRequest=function(r){dj(ni.xhr,r)};ni.xhr.offResponse=function(r){hj(ni.xhr,r)};const s0e=Se.getComponent("Component");let fj=class extends s0e{constructor(e,t,n){if(super(t,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=fl("VhsHandler"),t.options_&&t.options_.playerId){const i=Se.getPlayer(t.options_.playerId);this.player_=i}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Be,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],i=>{const s=Be.fullscreenElement||Be.webkitFullscreenElement||Be.mozFullScreenElement||Be.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Dn(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=lj();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=es.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===es.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const t=this.options_.customPixelRatio;typeof t=="number"&&t>=0&&(this.customPixelRatio=t)}setOptions(e={}){this.setOptions_(e)}src(e,t){if(!e)return;this.setOptions_(),this.options_.src=i0e(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=ni,this.options_.sourceType=DS(t),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new jge(this.options_);const n=Dn({liveRangeSafeTimeDelta:Eu},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new Wge(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=Se.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const i=this.options_.bufferBasedABR?ni.movingAverageBandwidthSelector(.55):ni.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):i.bind(this),this.playlistController_.selectInitialPlaylist=ni.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=X.navigator.connection||X.navigator.mozConnection||X.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){Se.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Xh(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Xh(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&n0e({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{Vge(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=X.URL.createObjectURL(this.playlistController_.mediaSource),(Se.browser.IS_ANY_SAFARI||Se.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),t0e({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(t=>{this.logger_("error while creating EME key session",t),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=r0e({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!t){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=Se.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{Jge(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{oj(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":sj,"mux.js":Kge,"mpd-parser":Xge,"m3u8-parser":Yge,"aes-decrypter":Qge}}version(){return this.constructor.version()}canChangeType(){return ej.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&X.URL.revokeObjectURL&&(X.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return lme({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,n=!0,i=2){return B$({programTime:e,playlist:this.playlistController_.media(),retryCount:i,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{uj(this.xhr,e)},this.xhr.onResponse=e=>{cj(this.xhr,e)},this.xhr.offRequest=e=>{dj(this.xhr,e)},this.xhr.offResponse=e=>{hj(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],t=["gapjumped","playedrangeschanged"];e.forEach(n=>{this.playlistController_.on(n,i=>{this.player_.trigger(sr({},i))})}),t.forEach(n=>{this.playbackWatcher_.on(n,i=>{this.player_.trigger(sr({},i))})})}};const xb={name:"videojs-http-streaming",VERSION:sj,canHandleSource(r,e={}){const t=Dn(Se.options,e);return!t.vhs.experimentalUseMMS&&!Fu("avc1.4d400d,mp4a.40.2",!1)?!1:xb.canPlayType(r.type,t)},handleSource(r,e,t={}){const n=Dn(Se.options,t);return e.vhs=new fj(r,e,n),e.vhs.xhr=R$(),e.vhs.setupXhrHooks_(),e.vhs.src(r.src,r.type),e.vhs},canPlayType(r,e){const t=DS(r);if(!t)return"";const n=xb.getOverrideNative(e);return!ni.supportsTypeNatively(t)||n?"maybe":""},getOverrideNative(r={}){const{vhs:e={}}=r,t=!(Se.browser.IS_ANY_SAFARI||Se.browser.IS_IOS),{overrideNative:n=t}=e;return n}},a0e=()=>Fu("avc1.4d400d,mp4a.40.2",!0);a0e()&&Se.getTech("Html5").registerSourceHandler(xb,0);Se.VhsHandler=fj;Se.VhsSourceHandler=xb;Se.Vhs=ni;Se.use||Se.registerComponent("Vhs",ni);Se.options.vhs=Se.options.vhs||{};(!Se.getPlugin||!Se.getPlugin("reloadSourceOnError"))&&Se.registerPlugin("reloadSourceOnError",Gge);var Jy={exports:{}},l3;function o0e(){return l3||(l3=1,(function(r,e){function t(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return a[l];var c=String(l),h=n[c.toLowerCase()];if(h)return h;var h=i[c.toLowerCase()];if(h)return h;if(c.length===1)return c.charCodeAt(0)}t.isEventKey=function(u,c){if(u&&typeof u=="object"){var h=u.which||u.keyCode||u.charCode;if(h==null)return!1;if(typeof c=="string"){var f=n[c.toLowerCase()];if(f)return f===h;var f=i[c.toLowerCase()];if(f)return f===h}else if(typeof c=="number")return c===h;return!1}},e=r.exports=t;var n=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)n[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)n[s-48]=s;for(s=1;s<13;s++)n["f"+s]=s+111;for(s=0;s<10;s++)n["numpad "+s]=s+96;var a=e.names=e.title={};for(s in n)a[n[s]]=s;for(var o in i)n[o]=i[o]})(Jy,Jy.exports)),Jy.exports}var l0e=o0e();const $r=ha(l0e);var qC,u3;function u0e(){if(u3)return qC;u3=1,qC=r;function r(e,t){var n,i=null;try{n=JSON.parse(e,t)}catch(s){i=s}return[i,n]}return qC}var c0e=u0e();const d0e=ha(c0e);var Zy={exports:{}},GC,c3;function h0e(){if(c3)return GC;c3=1;var r=Am(),e=function(i,s){return s===void 0&&(s=!1),function(a,o,l){if(a){i(a);return}if(o.statusCode>=400&&o.statusCode<=599){var u=l;if(s)if(r.TextDecoder){var c=t(o.headers&&o.headers["content-type"]);try{u=new TextDecoder(c).decode(l)}catch{}}else u=String.fromCharCode.apply(null,new Uint8Array(l));i({cause:u});return}i(null,l)}};function t(n){return n===void 0&&(n=""),n.toLowerCase().split(";").reduce(function(i,s){var a=s.split("="),o=a[0],l=a[1];return o.trim()==="charset"?l.trim():i},"utf-8")}return GC=e,GC}var d3;function f0e(){if(d3)return Zy.exports;d3=1;var r=Am(),e=E5(),t=k5();o.httpHandler=h0e();/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var n=function(f){var g={};return f&&f.trim().split(`
`).forEach(function(v){var y=v.indexOf(":"),_=v.slice(0,y).trim().toLowerCase(),C=v.slice(y+1).trim();typeof g[_]>"u"?g[_]=C:Array.isArray(g[_])?g[_].push(C):g[_]=[g[_],C]}),g};Zy.exports=o,Zy.exports.default=o,o.XMLHttpRequest=r.XMLHttpRequest||c,o.XDomainRequest="withCredentials"in new o.XMLHttpRequest?o.XMLHttpRequest:r.XDomainRequest,i(["get","put","post","patch","head","delete"],function(h){o[h==="delete"?"del":h]=function(f,g,v){return g=a(f,g,v),g.method=h.toUpperCase(),l(g)}});function i(h,f){for(var g=0;g<h.length;g++)f(h[g])}function s(h){for(var f in h)if(h.hasOwnProperty(f))return!1;return!0}function a(h,f,g){var v=h;return t(f)?(g=f,typeof h=="string"&&(v={uri:h})):v=e({},f,{uri:h}),v.callback=g,v}function o(h,f,g){return f=a(h,f,g),l(f)}function l(h){if(typeof h.callback>"u")throw new Error("callback argument missing");var f=!1,g=function(Q,te,oe){f||(f=!0,h.callback(Q,te,oe))};function v(){k.readyState===4&&setTimeout(C,0)}function y(){var W=void 0;if(k.response?W=k.response:W=k.responseText||u(k),w)try{W=JSON.parse(W)}catch{}return W}function _(W){return clearTimeout($),W instanceof Error||(W=new Error(""+(W||"Unknown XMLHttpRequest Error"))),W.statusCode=0,g(W,H)}function C(){if(!I){var W;clearTimeout($),h.useXDR&&k.status===void 0?W=200:W=k.status===1223?204:k.status;var Q=H,te=null;return W!==0?(Q={body:y(),statusCode:W,method:R,headers:{},url:A,rawRequest:k},k.getAllResponseHeaders&&(Q.headers=n(k.getAllResponseHeaders()))):te=new Error("Internal XMLHttpRequest Error"),g(te,Q,Q.body)}}var k=h.xhr||null;k||(h.cors||h.useXDR?k=new o.XDomainRequest:k=new o.XMLHttpRequest);var D,I,A=k.url=h.uri||h.url,R=k.method=h.method||"GET",N=h.body||h.data,U=k.headers=h.headers||{},F=!!h.sync,w=!1,$,H={body:void 0,headers:{},statusCode:0,method:R,url:A,rawRequest:k};if("json"in h&&h.json!==!1&&(w=!0,U.accept||U.Accept||(U.Accept="application/json"),R!=="GET"&&R!=="HEAD"&&(U["content-type"]||U["Content-Type"]||(U["Content-Type"]="application/json"),N=JSON.stringify(h.json===!0?N:h.json))),k.onreadystatechange=v,k.onload=C,k.onerror=_,k.onprogress=function(){},k.onabort=function(){I=!0},k.ontimeout=_,k.open(R,A,!F,h.username,h.password),F||(k.withCredentials=!!h.withCredentials),!F&&h.timeout>0&&($=setTimeout(function(){if(!I){I=!0,k.abort("timeout");var W=new Error("XMLHttpRequest timeout");W.code="ETIMEDOUT",_(W)}},h.timeout)),k.setRequestHeader)for(D in U)U.hasOwnProperty(D)&&k.setRequestHeader(D,U[D]);else if(h.headers&&!s(h.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in h&&(k.responseType=h.responseType),"beforeSend"in h&&typeof h.beforeSend=="function"&&h.beforeSend(k),k.send(N||null),k}function u(h){try{if(h.responseType==="document")return h.responseXML;var f=h.responseXML&&h.responseXML.documentElement.nodeName==="parsererror";if(h.responseType===""&&!f)return h.responseXML}catch{}return null}function c(){}return Zy.exports}var p0e=f0e();const pj=ha(p0e);function mj(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mj=function(){return!!r})()}function gj(r,e,t){if(mj())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(r.bind.apply(r,n));return t&&Xp(i,t.prototype),i}function Wa(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),e&&Xp(r,e)}var KC={exports:{}},h3;function m0e(){return h3||(h3=1,(function(r,e){(function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");return h.path=o.normalizePath(h.path),o.buildURLFromParts(h)}var f=o.parseURL(u);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return c.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):u;var g=o.parseURL(l);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var v=i.exec(g.path);g.netLoc=v[1],g.path=v[2]}g.netLoc&&!g.path&&(g.path="/");var y={scheme:g.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(y.netLoc=g.netLoc,f.path[0]!=="/"))if(!f.path)y.path=g.path,f.params||(y.params=g.params,f.query||(y.query=g.query));else{var _=g.path,C=_.substring(0,_.lastIndexOf("/")+1)+f.path;y.path=o.normalizePath(C)}return y.path===null&&(y.path=c.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(y)},parseURL:function(l){var u=n.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};r.exports=o})()})(KC)),KC.exports}var g0e=m0e();const f3=ha(g0e);var p3="http://example.com",XS=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=X.location&&X.location.href||"");var n=typeof X.URL=="function",i=/^\/\//.test(e),s=!X.location&&!/\/\//i.test(e);if(n?e=new X.URL(e,X.location||p3):/\/\//i.test(e)||(e=f3.buildAbsoluteURL(X.location&&X.location.href||"",e)),n){var a=new URL(t,e);return s?a.href.slice(p3.length):i?a.href.slice(a.protocol.length):a.href}return f3.buildAbsoluteURL(e,t)},RA=(function(){function r(){this.listeners={}}var e=r.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var s=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(s,1),s>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var s=i.length,a=0;a<s;++a)i[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=i.length,u=0;u<l;++u)i[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},r})(),v0e=function(e){return X.atob?X.atob(e):Buffer.from(e,"base64").toString("binary")};function vj(r){for(var e=v0e(r),t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var y0e=(function(r){Ht(e,r);function e(){var n;return n=r.call(this)||this,n.buffer="",n}var t=e.prototype;return t.push=function(i){var s;for(this.buffer+=i,s=this.buffer.indexOf(`
`);s>-1;s=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,s)),this.buffer=this.buffer.substring(s+1)},e})(RA),x0e="	",XC=function(e){var t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),n={};return t[1]&&(n.length=parseInt(t[1],10)),t[2]&&(n.offset=parseInt(t[2],10)),n},_0e=function(){var e="[^=]*",t='"[^"]*"|[^,]*',n="(?:"+e+")=(?:"+t+")";return new RegExp("(?:^|,)("+n+")")},Dl=function(e){for(var t=e.split(_0e()),n={},i=t.length,s;i--;)t[i]!==""&&(s=/([^=]*)=(.*)/.exec(t[i]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),n[s[0]]=s[1]);return n},b0e=(function(r){Ht(e,r);function e(){var n;return n=r.call(this)||this,n.customParsers=[],n.tagMappers=[],n}var t=e.prototype;return t.push=function(i){var s=this,a,o;if(i=i.trim(),i.length!==0){if(i[0]!=="#"){this.trigger("data",{type:"uri",uri:i});return}var l=this.tagMappers.reduce(function(u,c){var h=c(i);return h===i?u:u.concat([h])},[i]);l.forEach(function(u){for(var c=0;c<s.customParsers.length;c++)if(s.customParsers[c].call(s,u))return;if(u.indexOf("#EXT")!==0){s.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),a=/^#EXTM3U/.exec(u),a){s.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),a){o={type:"tag",tagType:"inf"},a[1]&&(o.duration=parseFloat(a[1])),a[2]&&(o.title=a[2]),s.trigger("data",o);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"targetduration"},a[1]&&(o.duration=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"version"},a[1]&&(o.version=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"media-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"playlist-type"},a[1]&&(o.playlistType=a[1]),s.trigger("data",o);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),a){o=sr(XC(a[1]),{type:"tag",tagType:"byterange"}),s.trigger("data",o);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),a){o={type:"tag",tagType:"allow-cache"},a[1]&&(o.allowed=!/NO/.test(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"map"},a[1]){var h=Dl(a[1]);h.URI&&(o.uri=h.URI),h.BYTERANGE&&(o.byterange=XC(h.BYTERANGE))}s.trigger("data",o);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"stream-inf"},a[1]){if(o.attributes=Dl(a[1]),o.attributes.RESOLUTION){var f=o.attributes.RESOLUTION.split("x"),g={};f[0]&&(g.width=parseInt(f[0],10)),f[1]&&(g.height=parseInt(f[1],10)),o.attributes.RESOLUTION=g}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(u),a){o={type:"tag",tagType:"media"},a[1]&&(o.attributes=Dl(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-ENDLIST/.exec(u),a){s.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(u),a){s.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),a){o={type:"tag",tagType:"program-date-time"},a[1]&&(o.dateTimeString=a[1],o.dateTimeObject=new Date(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(u),a){o={type:"tag",tagType:"key"},a[1]&&(o.attributes=Dl(a[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),s.trigger("data",o);return}if(a=/^#EXT-X-START:?(.*)$/.exec(u),a){o={type:"tag",tagType:"start"},a[1]&&(o.attributes=Dl(a[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out-cont"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-in"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"skip"},o.attributes=Dl(a[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(x0e)),s.trigger("data",o);return}if(a=/^#EXT-X-PART:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part"},o.attributes=Dl(a[1]),["DURATION"].forEach(function(v){o.attributes.hasOwnProperty(v)&&(o.attributes[v]=parseFloat(o.attributes[v]))}),["INDEPENDENT","GAP"].forEach(function(v){o.attributes.hasOwnProperty(v)&&(o.attributes[v]=/YES/.test(o.attributes[v]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=XC(o.attributes.BYTERANGE)),s.trigger("data",o);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"server-control"},o.attributes=Dl(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(v){o.attributes.hasOwnProperty(v)&&(o.attributes[v]=parseFloat(o.attributes[v]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(v){o.attributes.hasOwnProperty(v)&&(o.attributes[v]=/YES/.test(o.attributes[v]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part-inf"},o.attributes=Dl(a[1]),["PART-TARGET"].forEach(function(v){o.attributes.hasOwnProperty(v)&&(o.attributes[v]=parseFloat(o.attributes[v]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=Dl(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(v){if(o.attributes.hasOwnProperty(v)){o.attributes[v]=parseInt(o.attributes[v],10);var y=v==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[y]=o.attributes[v],delete o.attributes[v]}}),s.trigger("data",o);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=Dl(a[1]),["LAST-MSN","LAST-PART"].forEach(function(v){o.attributes.hasOwnProperty(v)&&(o.attributes[v]=parseInt(o.attributes[v],10))}),s.trigger("data",o);return}s.trigger("data",{type:"tag",data:u.slice(4)})})}},t.addParser=function(i){var s=this,a=i.expression,o=i.customType,l=i.dataParser,u=i.segment;typeof l!="function"&&(l=function(h){return h}),this.customParsers.push(function(c){var h=a.exec(c);if(h)return s.trigger("data",{type:"custom",data:l(c),customType:o,segment:u}),!0})},t.addTagMapper=function(i){var s=i.expression,a=i.map,o=function(u){return s.test(u)?a(u):u};this.tagMappers.push(o)},e})(RA),S0e=function(e){return e.toLowerCase().replace(/-(\w)/g,function(t){return t[1].toUpperCase()})},ip=function(e){var t={};return Object.keys(e).forEach(function(n){t[S0e(n)]=e[n]}),t},YC=function(e){var t=e.serverControl,n=e.targetDuration,i=e.partTargetDuration;if(t){var s="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",l=n&&n*3,u=i&&i*2;n&&!t.hasOwnProperty(a)&&(t[a]=l,this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&t[a]<l&&(this.trigger("warn",{message:s+" clamping HOLD-BACK ("+t[a]+") to targetDuration * 3 ("+l+")"}),t[a]=l),i&&!t.hasOwnProperty(o)&&(t[o]=i*3,this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+t[o]+")."})),i&&t[o]<u&&(this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+t[o]+") to partTargetDuration * 2 ("+u+")."}),t[o]=u)}},T0e=(function(r){Ht(e,r);function e(){var n;n=r.call(this)||this,n.lineStream=new y0e,n.parseStream=new b0e,n.lineStream.pipe(n.parseStream);var i=We(n),s=[],a={},o,l,u=!1,c=function(){},h={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},f="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",g=0;n.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var v=0,y=0;return n.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&o&&(a.map=o),!a.key&&l&&(a.key=l),!a.timeline&&typeof g=="number"&&(a.timeline=g),n.manifest.preloadSegment=a)}),n.parseStream.on("data",function(_){var C,k;({tag:function(){({version:function(){_.version&&(this.manifest.version=_.version)},"allow-cache":function(){this.manifest.allowCache=_.allowed,"allowed"in _||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var A={};"length"in _&&(a.byterange=A,A.length=_.length,"offset"in _||(_.offset=v)),"offset"in _&&(a.byterange=A,A.offset=_.offset),v=A.offset+A.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),_.duration>0&&(a.duration=_.duration),_.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(!_.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(_.attributes.METHOD==="NONE"){l=null;return}if(!_.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(_.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:_.attributes};return}if(_.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:_.attributes.URI};return}if(_.attributes.KEYFORMAT===f){var A=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(A.indexOf(_.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(_.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),_.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(_.attributes.KEYID&&_.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:_.attributes.KEYFORMAT,keyId:_.attributes.KEYID.substring(2)},pssh:vj(_.attributes.URI.split(",")[1])};return}_.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:_.attributes.METHOD||"AES-128",uri:_.attributes.URI},typeof _.attributes.IV<"u"&&(l.iv=_.attributes.IV)},"media-sequence":function(){if(!isFinite(_.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+_.number});return}this.manifest.mediaSequence=_.number},"discontinuity-sequence":function(){if(!isFinite(_.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+_.number});return}this.manifest.discontinuitySequence=_.number,g=_.number},"playlist-type":function(){if(!/VOD|EVENT/.test(_.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+_.playlist});return}this.manifest.playlistType=_.playlistType},map:function(){o={},_.uri&&(o.uri=_.uri),_.byterange&&(o.byterange=_.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||h,!_.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),sr(a.attributes,_.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||h,!(_.attributes&&_.attributes.TYPE&&_.attributes["GROUP-ID"]&&_.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var A=this.manifest.mediaGroups[_.attributes.TYPE];A[_.attributes["GROUP-ID"]]=A[_.attributes["GROUP-ID"]]||{},C=A[_.attributes["GROUP-ID"]],k={default:/yes/i.test(_.attributes.DEFAULT)},k.default?k.autoselect=!0:k.autoselect=/yes/i.test(_.attributes.AUTOSELECT),_.attributes.LANGUAGE&&(k.language=_.attributes.LANGUAGE),_.attributes.URI&&(k.uri=_.attributes.URI),_.attributes["INSTREAM-ID"]&&(k.instreamId=_.attributes["INSTREAM-ID"]),_.attributes.CHARACTERISTICS&&(k.characteristics=_.attributes.CHARACTERISTICS),_.attributes.FORCED&&(k.forced=/yes/i.test(_.attributes.FORCED)),C[_.attributes.NAME]=k},discontinuity:function(){g+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=_.dateTimeString,this.manifest.dateTimeObject=_.dateTimeObject),a.dateTimeString=_.dateTimeString,a.dateTimeObject=_.dateTimeObject},targetduration:function(){if(!isFinite(_.duration)||_.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+_.duration});return}this.manifest.targetDuration=_.duration,YC.call(this,this.manifest)},start:function(){if(!_.attributes||isNaN(_.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:_.attributes["TIME-OFFSET"],precise:_.attributes.PRECISE}},"cue-out":function(){a.cueOut=_.data},"cue-out-cont":function(){a.cueOutCont=_.data},"cue-in":function(){a.cueIn=_.data},skip:function(){this.manifest.skip=ip(_.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",_.attributes,["SKIPPED-SEGMENTS"])},part:function(){var A=this;u=!0;var R=this.manifest.segments.length,N=ip(_.attributes);a.parts=a.parts||[],a.parts.push(N),N.byterange&&(N.byterange.hasOwnProperty("offset")||(N.byterange.offset=y),y=N.byterange.offset+N.byterange.length);var U=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+U+" for segment #"+R,_.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(F,w){F.hasOwnProperty("lastPart")||A.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+w+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var A=this.manifest.serverControl=ip(_.attributes);A.hasOwnProperty("canBlockReload")||(A.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),YC.call(this,this.manifest),A.canSkipDateranges&&!A.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var A=this.manifest.segments.length,R=ip(_.attributes),N=R.type&&R.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(R),R.byterange&&(R.byterange.hasOwnProperty("offset")||(R.byterange.offset=N?y:0,N&&(y=R.byterange.offset+R.byterange.length)));var U=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+U+" for segment #"+A,_.attributes,["TYPE","URI"]),!!R.type)for(var F=0;F<a.preloadHints.length-1;F++){var w=a.preloadHints[F];w.type&&w.type===R.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+U+" for segment #"+A+" has the same TYPE "+R.type+" as preload hint #"+F})}},"rendition-report":function(){var A=ip(_.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(A);var R=this.manifest.renditionReports.length-1,N=["LAST-MSN","URI"];u&&N.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+R,_.attributes,N)},"part-inf":function(){this.manifest.partInf=ip(_.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",_.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),YC.call(this,this.manifest)}}[_.tagType]||c).call(i)},uri:function(){a.uri=_.uri,s.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=g,o&&(a.map=o),y=0,a={}},comment:function(){},custom:function(){_.segment?(a.custom=a.custom||{},a.custom[_.customType]=_.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[_.customType]=_.data)}})[_.type].call(i)}),n}var t=e.prototype;return t.warnOnMissingAttributes_=function(i,s,a){var o=[];a.forEach(function(l){s.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:i+" lacks required attribute(s): "+o.join(", ")})},t.push=function(i){this.lineStream.push(i)},t.end=function(){this.lineStream.push(`
`),this.trigger("end")},t.addParser=function(i){this.parseStream.addParser(i)},t.addTagMapper=function(i){this.parseStream.addTagMapper(i)},e})(RA),lf={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},C0e=["video","audio","text"],m3=["Video","Audio","Text"],yj=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(t,n,i){var s=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(i).toString(16)).slice(-2);return"avc1."+s+"00"+a})},pu=function(e){e===void 0&&(e="");var t=e.split(","),n=[];return t.forEach(function(i){i=i.trim();var s;C0e.forEach(function(a){var o=lf[a].exec(i.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=i.substring(0,o[1].length),u=i.replace(l,"");n.push({type:l,details:u,mediaType:a})}}),s||n.push({type:i,details:"",mediaType:"unknown"})}),n},w0e=function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var n=e.mediaGroups.AUDIO[t];if(!n)return null;for(var i in n){var s=n[i];if(s.default&&s.playlists)return pu(s.playlists[0].attributes.CODECS)}return null},xj=function(e){return e===void 0&&(e=""),lf.audio.test(e.trim().toLowerCase())},E0e=function(e){return e===void 0&&(e=""),lf.text.test(e.trim().toLowerCase())},z0=function(e){if(!(!e||typeof e!="string")){var t=e.toLowerCase().split(",").map(function(s){return yj(s.trim())}),n="video";t.length===1&&xj(t[0])?n="audio":t.length===1&&E0e(t[0])&&(n="application");var i="mp4";return t.every(function(s){return lf.mp4.test(s)})?i="mp4":t.every(function(s){return lf.webm.test(s)})?i="webm":t.every(function(s){return lf.ogg.test(s)})&&(i="ogg"),n+"/"+i+';codecs="'+e+'"'}},p_=function(e){return e===void 0&&(e=""),X.MediaSource&&X.MediaSource.isTypeSupported&&X.MediaSource.isTypeSupported(z0(e))||!1},QC=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(t){t=t.trim();for(var n=0;n<m3.length;n++){var i=m3[n];if(lf["muxer"+i].test(t))return!0}return!1})},g3="mp4a.40.2",k0e="avc1.4d400d",A0e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,D0e=/^application\/dash\+xml/i,_j=function(e){return A0e.test(e)?"hls":D0e.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},I0e=function(e){return e.toString(2).length},P0e=function(e){return Math.ceil(I0e(e)/8)},bj=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},R0e=function(e){return bj(e)},wr=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!R0e(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},vs=X.BigInt||Number,eE=[vs("0x1"),vs("0x100"),vs("0x10000"),vs("0x1000000"),vs("0x100000000"),vs("0x10000000000"),vs("0x1000000000000"),vs("0x100000000000000"),vs("0x10000000000000000")];(function(){var r=new Uint16Array([65484]),e=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var L0e=function(e,t){var n=t===void 0?{}:t,i=n.signed,s=i===void 0?!1:i,a=n.le,o=a===void 0?!1:a;e=wr(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(f,g,v){var y=o?v:Math.abs(v+1-e.length);return f+vs(g)*eE[y]},vs(0));if(s){var h=eE[e.length]/vs(2)-vs(1);c=vs(c),c>h&&(c-=h,c-=h,c-=vs(2))}return Number(c)},O0e=function(e,t){var n={},i=n.le,s=i===void 0?!1:i;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=vs(e);for(var a=P0e(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/eE[l]&vs(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},Sj=function(e,t){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n},M0e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t=t.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),t.length<=1)return wr(t[0]);var i=t.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(i),a=0;return t.forEach(function(o){o=wr(o),s.set(o,a),a+=o.byteLength}),s},Jn=function(e,t,n){var i=n===void 0?{}:n,s=i.offset,a=s===void 0?0:s,o=i.mask,l=o===void 0?[]:o;e=wr(e),t=wr(t);var u=t.every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&u.call(t,function(c,h){var f=l[h]?l[h]&e[a+h]:e[a+h];return c===f})},F0e=function(e,t,n){t.forEach(function(i){for(var s in e.mediaGroups[i])for(var a in e.mediaGroups[i][s]){var o=e.mediaGroups[i][s][a];n(o,i,s,a)}})};/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var v3=function(e){return!!e&&typeof e=="object"},aa=function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(i,s){return typeof s!="object"||Object.keys(s).forEach(function(a){Array.isArray(i[a])&&Array.isArray(s[a])?i[a]=i[a].concat(s[a]):v3(i[a])&&v3(s[a])?i[a]=r(i[a],s[a]):i[a]=s[a]}),i},{})},Tj=function(e){return Object.keys(e).map(function(t){return e[t]})},B0e=function(e,t){for(var n=[],i=e;i<t;i++)n.push(i);return n},YS=function(e){return e.reduce(function(t,n){return t.concat(n)},[])},Cj=function(e){if(!e.length)return[];for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t},N0e=function(e,t){return e.reduce(function(n,i,s){return i[t]&&n.push(s),n},[])},tE=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},U0e=function(e,t){return Tj(e.reduce(function(n,i){return i.forEach(function(s){n[t(s)]=s}),n},{}))},hm={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},H0=function(e){var t=e.baseUrl,n=t===void 0?"":t,i=e.source,s=i===void 0?"":i,a=e.range,o=a===void 0?"":a,l=e.indexRange,u=l===void 0?"":l,c={uri:s,resolvedUri:XS(n||"",s)};if(o||u){var h=o||u,f=h.split("-"),g=X.BigInt?X.BigInt(f[0]):parseInt(f[0],10),v=X.BigInt?X.BigInt(f[1]):parseInt(f[1],10);g<Number.MAX_SAFE_INTEGER&&typeof g=="bigint"&&(g=Number(g)),v<Number.MAX_SAFE_INTEGER&&typeof v=="bigint"&&(v=Number(v));var y;typeof v=="bigint"||typeof g=="bigint"?y=X.BigInt(v)-X.BigInt(g)+X.BigInt(1):y=v-g+1,typeof y=="bigint"&&y<Number.MAX_SAFE_INTEGER&&(y=Number(y)),c.byterange={length:y,offset:g}}return c},$0e=function(e){var t;return typeof e.offset=="bigint"||typeof e.length=="bigint"?t=X.BigInt(e.offset)+X.BigInt(e.length)-X.BigInt(1):t=e.offset+e.length-1,e.offset+"-"+t},y3=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},j0e={static:function(e){var t=e.duration,n=e.timescale,i=n===void 0?1:n,s=e.sourceDuration,a=e.periodDuration,o=y3(e.endNumber),l=t/i;return typeof o=="number"?{start:0,end:o}:typeof a=="number"?{start:0,end:a/l}:{start:0,end:s/l}},dynamic:function(e){var t=e.NOW,n=e.clientOffset,i=e.availabilityStartTime,s=e.timescale,a=s===void 0?1:s,o=e.duration,l=e.periodStart,u=l===void 0?0:l,c=e.minimumUpdatePeriod,h=c===void 0?0:c,f=e.timeShiftBufferDepth,g=f===void 0?1/0:f,v=y3(e.endNumber),y=(t+n)/1e3,_=i+u,C=y+h,k=C-_,D=Math.ceil(k*a/o),I=Math.floor((y-_-g)*a/o),A=Math.floor((y-_)*a/o);return{start:Math.max(0,I),end:typeof v=="number"?v:Math.min(D,A)}}},z0e=function(e){return function(t){var n=e.duration,i=e.timescale,s=i===void 0?1:i,a=e.periodStart,o=e.startNumber,l=o===void 0?1:o;return{number:l+t,duration:n/s,timeline:a,time:t*n}}},LA=function(e){var t=e.type,n=e.duration,i=e.timescale,s=i===void 0?1:i,a=e.periodDuration,o=e.sourceDuration,l=j0e[t](e),u=l.start,c=l.end,h=B0e(u,c).map(z0e(e));if(t==="static"){var f=h.length-1,g=typeof a=="number"?a:o;h[f].duration=g-n/s*f}return h},wj=function(e){var t=e.baseUrl,n=e.initialization,i=n===void 0?{}:n,s=e.sourceDuration,a=e.indexRange,o=a===void 0?"":a,l=e.periodStart,u=e.presentationTime,c=e.number,h=c===void 0?0:c,f=e.duration;if(!t)throw new Error(hm.NO_BASE_URL);var g=H0({baseUrl:t,source:i.sourceURL,range:i.range}),v=H0({baseUrl:t,source:t,indexRange:o});if(v.map=g,f){var y=LA(e);y.length&&(v.duration=y[0].duration,v.timeline=y[0].timeline)}else s&&(v.duration=s,v.timeline=l);return v.presentationTime=u||l,v.number=h,[v]},OA=function(e,t,n){var i=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,a=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=t.timescale,c=t.references.filter(function(F){return F.referenceType!==1}),h=[],f=e.endList?"static":"dynamic",g=e.sidx.timeline,v=g,y=e.mediaSequence||0,_;typeof t.firstOffset=="bigint"?_=X.BigInt(l)+t.firstOffset:_=l+t.firstOffset;for(var C=0;C<c.length;C++){var k=t.references[C],D=k.referencedSize,I=k.subsegmentDuration,A=void 0;typeof _=="bigint"?A=_+X.BigInt(D)-X.BigInt(1):A=_+D-1;var R=_+"-"+A,N={baseUrl:n,timescale:u,timeline:a,periodStart:g,presentationTime:v,number:y,duration:I,sourceDuration:s,indexRange:R,type:f},U=wj(N)[0];i&&(U.map=i),h.push(U),typeof _=="bigint"?_+=X.BigInt(D):_+=D,v+=I/u,y++}return e.segments=h,e},H0e=["AUDIO","SUBTITLES"],V0e=1/60,Ej=function(e){return U0e(e,function(t){var n=t.timeline;return n}).sort(function(t,n){return t.timeline>n.timeline?1:-1})},W0e=function(e,t){for(var n=0;n<e.length;n++)if(e[n].attributes.NAME===t)return e[n];return null},x3=function(e){var t=[];return F0e(e,H0e,function(n,i,s,a){t=t.concat(n.playlists||[])}),t},_3=function(e){var t=e.playlist,n=e.mediaSequence;t.mediaSequence=n,t.segments.forEach(function(i,s){i.number=t.mediaSequence+s})},q0e=function(e){var t=e.oldPlaylists,n=e.newPlaylists,i=e.timelineStarts;n.forEach(function(s){s.discontinuitySequence=tE(i,function(c){var h=c.timeline;return h===s.timeline});var a=W0e(t,s.attributes.NAME);if(a&&!s.sidx){var o=s.segments[0],l=tE(a.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<V0e});if(l===-1){_3({playlist:s,mediaSequence:a.mediaSequence+a.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!a.segments.length&&s.timeline>a.timeline||a.segments.length&&s.timeline>a.segments[a.segments.length-1].timeline)&&s.discontinuitySequence--;return}var u=a.segments[l];u.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),_3({playlist:s,mediaSequence:a.segments[l].number})}})},G0e=function(e){var t=e.oldManifest,n=e.newManifest,i=t.playlists.concat(x3(t)),s=n.playlists.concat(x3(n));return n.timelineStarts=Ej([t.timelineStarts,n.timelineStarts]),q0e({oldPlaylists:i,newPlaylists:s,timelineStarts:n.timelineStarts}),n},QS=function(e){return e&&e.uri+"-"+$0e(e.byterange)},JC=function(e){var t=Tj(e.reduce(function(n,i){var s=i.attributes.id+(i.attributes.lang||"");if(!n[s])n[s]=i,n[s].attributes.timelineStarts=[];else{if(i.segments){var a;i.segments[0]&&(i.segments[0].discontinuity=!0),(a=n[s].segments).push.apply(a,i.segments)}i.attributes.contentProtection&&(n[s].attributes.contentProtection=i.attributes.contentProtection)}return n[s].attributes.timelineStarts.push({start:i.attributes.periodStart,timeline:i.attributes.periodStart}),n},{}));return t.map(function(n){return n.discontinuityStarts=N0e(n.segments||[],"discontinuity"),n})},MA=function(e,t){var n=QS(e.sidx),i=n&&t[n]&&t[n].sidx;return i&&OA(e,i,e.sidx.resolvedUri),e},K0e=function(e,t){if(t===void 0&&(t={}),!Object.keys(t).length)return e;for(var n in e)e[n]=MA(e[n],t);return e},X0e=function(e,t){var n,i=e.attributes,s=e.segments,a=e.sidx,o=e.mediaSequence,l=e.discontinuitySequence,u=e.discontinuityStarts,c={attributes:(n={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},n["PROGRAM-ID"]=1,n),uri:"",endList:i.type==="static",timeline:i.periodStart,resolvedUri:"",targetDuration:i.duration,discontinuitySequence:l,discontinuityStarts:u,timelineStarts:i.timelineStarts,mediaSequence:o,segments:s};return i.contentProtection&&(c.contentProtection=i.contentProtection),a&&(c.sidx=a),t&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},Y0e=function(e){var t,n=e.attributes,i=e.segments,s=e.mediaSequence,a=e.discontinuityStarts,o=e.discontinuitySequence;typeof i>"u"&&(i=[{uri:n.baseUrl,timeline:n.periodStart,resolvedUri:n.baseUrl||"",duration:n.sourceDuration,number:0}],n.duration=n.sourceDuration);var l=(t={NAME:n.id,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t);return n.codecs&&(l.CODECS=n.codecs),{attributes:l,uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:n.baseUrl||"",targetDuration:n.duration,timelineStarts:n.timelineStarts,discontinuityStarts:a,discontinuitySequence:o,mediaSequence:s,segments:i}},Q0e=function(e,t,n){t===void 0&&(t={}),n===void 0&&(n=!1);var i,s=e.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",c=l.attributes.lang||"",h=l.attributes.label||"main";if(c&&!l.attributes.label){var f=u?" ("+u+")":"";h=""+l.attributes.lang+f}o[h]||(o[h]={language:c,autoselect:!0,default:u==="main",playlists:[],uri:""});var g=MA(X0e(l,n),t);return o[h].playlists.push(g),typeof i>"u"&&u==="main"&&(i=l,i.default=!0),o},{});if(!i){var a=Object.keys(s)[0];s[a].default=!0}return s},J0e=function(e,t){return t===void 0&&(t={}),e.reduce(function(n,i){var s=i.attributes.lang||"text";return n[s]||(n[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),n[s].playlists.push(MA(Y0e(i),t)),n},{})},Z0e=function(e){return e.reduce(function(t,n){return n&&n.forEach(function(i){var s=i.channel,a=i.language;t[a]={autoselect:!1,default:!1,instreamId:s,language:a},i.hasOwnProperty("aspectRatio")&&(t[a].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(t[a].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(t[a]["3D"]=i["3D"])}),t},{})},eve=function(e){var t,n=e.attributes,i=e.segments,s=e.sidx,a=e.discontinuityStarts,o={attributes:(t={NAME:n.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:n.width,height:n.height},CODECS:n.codecs,BANDWIDTH:n.bandwidth},t["PROGRAM-ID"]=1,t),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuityStarts:a,timelineStarts:n.timelineStarts,segments:i};return n.frameRate&&(o.attributes["FRAME-RATE"]=n.frameRate),n.contentProtection&&(o.contentProtection=n.contentProtection),s&&(o.sidx=s),o},tve=function(e){var t=e.attributes;return t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video"},rve=function(e){var t=e.attributes;return t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio"},nve=function(e){var t=e.attributes;return t.mimeType==="text/vtt"||t.contentType==="text"},ive=function(e,t){e.forEach(function(n){n.mediaSequence=0,n.discontinuitySequence=tE(t,function(i){var s=i.timeline;return s===n.timeline}),n.segments&&n.segments.forEach(function(i,s){i.number=s})})},b3=function(e){return e?Object.keys(e).reduce(function(t,n){var i=e[n];return t.concat(i.playlists)},[]):[]},sve=function(e){var t,n=e.dashPlaylists,i=e.locations,s=e.sidxMapping,a=s===void 0?{}:s,o=e.previousManifest;if(!n.length)return{};var l=n[0].attributes,u=l.sourceDuration,c=l.type,h=l.suggestedPresentationDelay,f=l.minimumUpdatePeriod,g=JC(n.filter(tve)).map(eve),v=JC(n.filter(rve)),y=JC(n.filter(nve)),_=n.map(function(N){return N.attributes.captionServices}).filter(Boolean),C={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(t={AUDIO:{},VIDEO:{}},t["CLOSED-CAPTIONS"]={},t.SUBTITLES={},t),uri:"",duration:u,playlists:K0e(g,a)};f>=0&&(C.minimumUpdatePeriod=f*1e3),i&&(C.locations=i),c==="dynamic"&&(C.suggestedPresentationDelay=h);var k=C.playlists.length===0,D=v.length?Q0e(v,a,k):null,I=y.length?J0e(y,a):null,A=g.concat(b3(D),b3(I)),R=A.map(function(N){var U=N.timelineStarts;return U});return C.timelineStarts=Ej(R),ive(A,C.timelineStarts),D&&(C.mediaGroups.AUDIO.audio=D),I&&(C.mediaGroups.SUBTITLES.subs=I),_.length&&(C.mediaGroups["CLOSED-CAPTIONS"].cc=Z0e(_)),o?G0e({oldManifest:o,newManifest:C}):C},ave=function(e,t,n){var i=e.NOW,s=e.clientOffset,a=e.availabilityStartTime,o=e.timescale,l=o===void 0?1:o,u=e.periodStart,c=u===void 0?0:u,h=e.minimumUpdatePeriod,f=h===void 0?0:h,g=(i+s)/1e3,v=a+c,y=g+f,_=y-v;return Math.ceil((_*l-t)/n)},kj=function(e,t){for(var n=e.type,i=e.minimumUpdatePeriod,s=i===void 0?0:i,a=e.media,o=a===void 0?"":a,l=e.sourceDuration,u=e.timescale,c=u===void 0?1:u,h=e.startNumber,f=h===void 0?1:h,g=e.periodStart,v=[],y=-1,_=0;_<t.length;_++){var C=t[_],k=C.d,D=C.r||0,I=C.t||0;y<0&&(y=I),I&&I>y&&(y=I);var A=void 0;if(D<0){var R=_+1;R===t.length?n==="dynamic"&&s>0&&o.indexOf("$Number$")>0?A=ave(e,y,k):A=(l*c-y)/k:A=(t[R].t-y)/k}else A=D+1;for(var N=f+v.length+A,U=f+v.length;U<N;)v.push({number:U,duration:k/c,time:y,timeline:g}),y+=k,U++}return v},ove=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,lve=function(e){return function(t,n,i,s){if(t==="$$")return"$";if(typeof e[n]>"u")return t;var a=""+e[n];return n==="RepresentationID"||(i?s=parseInt(s,10):s=1,a.length>=s)?a:""+new Array(s-a.length+1).join("0")+a}},S3=function(e,t){return e.replace(ove,lve(t))},uve=function(e,t){return!e.duration&&!t?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?LA(e):kj(e,t)},cve=function(e,t){var n={RepresentationID:e.id,Bandwidth:e.bandwidth||0},i=e.initialization,s=i===void 0?{sourceURL:"",range:""}:i,a=H0({baseUrl:e.baseUrl,source:S3(s.sourceURL,n),range:s.range}),o=uve(e,t);return o.map(function(l){n.Number=l.number,n.Time=l.time;var u=S3(e.media||"",n),c=e.timescale||1,h=e.presentationTimeOffset||0,f=e.periodStart+(l.time-h)/c,g={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:XS(e.baseUrl||"",u),map:a,number:l.number,presentationTime:f};return g})},dve=function(e,t){var n=e.baseUrl,i=e.initialization,s=i===void 0?{}:i,a=H0({baseUrl:n,source:s.sourceURL,range:s.range}),o=H0({baseUrl:n,source:t.media,range:t.mediaRange});return o.map=a,o},hve=function(e,t){var n=e.duration,i=e.segmentUrls,s=i===void 0?[]:i,a=e.periodStart;if(!n&&!t||n&&t)throw new Error(hm.SEGMENT_TIME_UNSPECIFIED);var o=s.map(function(c){return dve(e,c)}),l;n&&(l=LA(e)),t&&(l=kj(e,t));var u=l.map(function(c,h){if(o[h]){var f=o[h],g=e.timescale||1,v=e.presentationTimeOffset||0;return f.timeline=c.timeline,f.duration=c.duration,f.number=c.number,f.presentationTime=a+(c.time-v)/g,f}}).filter(function(c){return c});return u},fve=function(e){var t=e.attributes,n=e.segmentInfo,i,s;n.template?(s=cve,i=aa(t,n.template)):n.base?(s=wj,i=aa(t,n.base)):n.list&&(s=hve,i=aa(t,n.list));var a={attributes:t};if(!s)return a;var o=s(i,n.segmentTimeline);if(i.duration){var l=i,u=l.duration,c=l.timescale,h=c===void 0?1:c;i.duration=u/h}else o.length?i.duration=o.reduce(function(f,g){return Math.max(f,Math.ceil(g.duration))},0):i.duration=0;return a.attributes=i,a.segments=o,n.base&&i.indexRange&&(a.sidx=o[0],a.segments=[]),a},pve=function(e){return e.map(fve)},yi=function(e,t){return Cj(e.childNodes).filter(function(n){var i=n.tagName;return i===t})},FA=function(e){return e.textContent.trim()},mve=function(e){return parseFloat(e.split("/").reduce(function(t,n){return t/n}))},sp=function(e){var t=31536e3,n=720*60*60,i=1440*60,s=3600,a=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(e);if(!l)return 0;var u=l.slice(1),c=u[0],h=u[1],f=u[2],g=u[3],v=u[4],y=u[5];return parseFloat(c||0)*t+parseFloat(h||0)*n+parseFloat(f||0)*i+parseFloat(g||0)*s+parseFloat(v||0)*a+parseFloat(y||0)},gve=function(e){var t=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return t.test(e)&&(e+="Z"),Date.parse(e)},T3={mediaPresentationDuration:function(e){return sp(e)},availabilityStartTime:function(e){return gve(e)/1e3},minimumUpdatePeriod:function(e){return sp(e)},suggestedPresentationDelay:function(e){return sp(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return sp(e)},start:function(e){return sp(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return mve(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var t=parseInt(e,10);return isNaN(t)?sp(e):t},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},Us=function(e){return e&&e.attributes?Cj(e.attributes).reduce(function(t,n){var i=T3[n.name]||T3.DEFAULT;return t[n.name]=i(n.value),t},{}):{}},vve={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},JS=function(e,t){return t.length?YS(e.map(function(n){return t.map(function(i){return XS(n,FA(i))})})):e},BA=function(e){var t=yi(e,"SegmentTemplate")[0],n=yi(e,"SegmentList")[0],i=n&&yi(n,"SegmentURL").map(function(f){return aa({tag:"SegmentURL"},Us(f))}),s=yi(e,"SegmentBase")[0],a=n||t,o=a&&yi(a,"SegmentTimeline")[0],l=n||s||t,u=l&&yi(l,"Initialization")[0],c=t&&Us(t);c&&u?c.initialization=u&&Us(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var h={template:c,segmentTimeline:o&&yi(o,"S").map(function(f){return Us(f)}),list:n&&aa(Us(n),{segmentUrls:i,initialization:Us(u)}),base:s&&aa(Us(s),{initialization:Us(u)})};return Object.keys(h).forEach(function(f){h[f]||delete h[f]}),h},yve=function(e,t,n){return function(i){var s=yi(i,"BaseURL"),a=JS(t,s),o=aa(e,Us(i)),l=BA(i);return a.map(function(u){return{segmentInfo:aa(n,l),attributes:aa(o,{baseUrl:u})}})}},xve=function(e){return e.reduce(function(t,n){var i=Us(n);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());var s=vve[i.schemeIdUri];if(s){t[s]={attributes:i};var a=yi(n,"cenc:pssh")[0];if(a){var o=FA(a);t[s].pssh=o&&vj(o)}}return t},{})},_ve=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var t=typeof e.value!="string"?[]:e.value.split(";");return t.map(function(i){var s,a;if(a=i,/^CC\d=/.test(i)){var o=i.split("=");s=o[0],a=o[1]}else/^CC\d$/.test(i)&&(s=i);return{channel:s,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var n=typeof e.value!="string"?[]:e.value.split(";");return n.map(function(i){var s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){var a=i.split("="),o=a[0],l=a[1],u=l===void 0?"":l;s.channel=o,s.language=i,u.split(",").forEach(function(c){var h=c.split(":"),f=h[0],g=h[1];f==="lang"?s.language=g:f==="er"?s.easyReader=Number(g):f==="war"?s.aspectRatio=Number(g):f==="3D"&&(s["3D"]=Number(g))})}else s.language=i;return s.channel&&(s.channel="SERVICE"+s.channel),s})}},bve=function(e,t,n){return function(i){var s=Us(i),a=JS(t,yi(i,"BaseURL")),o=yi(i,"Role")[0],l={role:Us(o)},u=aa(e,s,l),c=yi(i,"Accessibility")[0],h=_ve(Us(c));h&&(u=aa(u,{captionServices:h}));var f=yi(i,"Label")[0];if(f&&f.childNodes.length){var g=f.childNodes[0].nodeValue.trim();u=aa(u,{label:g})}var v=xve(yi(i,"ContentProtection"));Object.keys(v).length&&(u=aa(u,{contentProtection:v}));var y=BA(i),_=yi(i,"Representation"),C=aa(n,y);return YS(_.map(yve(u,a,C)))}},Sve=function(e,t){return function(n,i){var s=JS(t,yi(n.node,"BaseURL")),a=aa(e,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(a.periodDuration=n.attributes.duration);var o=yi(n.node,"AdaptationSet"),l=BA(n.node);return YS(o.map(bve(a,s,l)))}},Tve=function(e){var t=e.attributes,n=e.priorPeriodAttributes,i=e.mpdType;return typeof t.start=="number"?t.start:n&&typeof n.start=="number"&&typeof n.duration=="number"?n.start+n.duration:!n&&i==="static"?0:null},Cve=function(e,t){t===void 0&&(t={});var n=t,i=n.manifestUri,s=i===void 0?"":i,a=n.NOW,o=a===void 0?Date.now():a,l=n.clientOffset,u=l===void 0?0:l,c=yi(e,"Period");if(!c.length)throw new Error(hm.INVALID_NUMBER_OF_PERIOD);var h=yi(e,"Location"),f=Us(e),g=JS([s],yi(e,"BaseURL"));f.type=f.type||"static",f.sourceDuration=f.mediaPresentationDuration||0,f.NOW=o,f.clientOffset=u,h.length&&(f.locations=h.map(FA));var v=[];return c.forEach(function(y,_){var C=Us(y),k=v[_-1];C.start=Tve({attributes:C,priorPeriodAttributes:k?k.attributes:null,mpdType:f.type}),v.push({node:y,attributes:C})}),{locations:f.locations,representationInfo:YS(v.map(Sve(f,g)))}},Aj=function(e){if(e==="")throw new Error(hm.DASH_EMPTY_MANIFEST);var t=new M5.DOMParser,n,i;try{n=t.parseFromString(e,"application/xml"),i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(hm.DASH_INVALID_XML);return i},wve=function(e){var t=yi(e,"UTCTiming")[0];if(!t)return null;var n=Us(t);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(hm.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},Eve=function(e,t){t===void 0&&(t={});var n=Cve(Aj(e),t),i=pve(n.representationInfo);return sve({dashPlaylists:i,locations:n.locations,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest})},kve=function(e){return wve(Aj(e))},ZC,C3;function Ave(){if(C3)return ZC;C3=1;var r=Math.pow(2,32),e=function(t){var n=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return n.getBigUint64?(i=n.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):n.getUint32(0)*r+n.getUint32(4)};return ZC={getUint64:e,MAX_UINT32:r},ZC}var ew,w3;function Dve(){if(w3)return ew;w3=1;var r=Ave().getUint64,e=function(t){var n=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:n.getUint32(4),timescale:n.getUint32(8)},s=12;i.version===0?(i.earliestPresentationTime=n.getUint32(s),i.firstOffset=n.getUint32(s+4),s+=8):(i.earliestPresentationTime=r(t.subarray(s)),i.firstOffset=r(t.subarray(s+8)),s+=16),s+=2;var a=n.getUint16(s);for(s+=2;a>0;s+=12,a--)i.references.push({referenceType:(t[s]&128)>>>7,referencedSize:n.getUint32(s)&2147483647,subsegmentDuration:n.getUint32(s+4),startsWithSap:!!(t[s+8]&128),sapType:(t[s+8]&112)>>>4,sapDeltaTime:n.getUint32(s+8)&268435455});return i};return ew=e,ew}var Ive=Dve();const Pve=ha(Ive);var Rve=wr([73,68,51]),Lve=function(e,t){t===void 0&&(t=0),e=wr(e);var n=e[t+5],i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9],s=(n&16)>>4;return s?i+20:i+10},Qg=function r(e,t){return t===void 0&&(t=0),e=wr(e),e.length-t<10||!Jn(e,Rve,{offset:t})?t:(t+=Lve(e,t),r(e,t))},E3=function(e){return typeof e=="string"?Sj(e):e},Ove=function(e){return Array.isArray(e)?e.map(function(t){return E3(t)}):[E3(e)]},Mve=function r(e,t,n){n===void 0&&(n=!1),t=Ove(t),e=wr(e);var i=[];if(!t.length)return i;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(n)break;l=e.length}var u=e.subarray(s+8,l);Jn(o,t[0])&&(t.length===1?i.push(u):i.push.apply(i,r(u,t.slice(1),n))),s=l}return i},ex={EBML:wr([26,69,223,163]),DocType:wr([66,130]),Segment:wr([24,83,128,103]),SegmentInfo:wr([21,73,169,102]),Tracks:wr([22,84,174,107]),Track:wr([174]),TrackNumber:wr([215]),DefaultDuration:wr([35,227,131]),TrackEntry:wr([174]),TrackType:wr([131]),FlagDefault:wr([136]),CodecID:wr([134]),CodecPrivate:wr([99,162]),VideoTrack:wr([224]),AudioTrack:wr([225]),Cluster:wr([31,67,182,117]),Timestamp:wr([231]),TimestampScale:wr([42,215,177]),BlockGroup:wr([160]),BlockDuration:wr([155]),Block:wr([161]),SimpleBlock:wr([163])},rE=[128,64,32,16,8,4,2,1],Fve=function(e){for(var t=1,n=0;n<rE.length&&!(e&rE[n]);n++)t++;return t},_b=function(e,t,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var s=Fve(e[t]),a=e.subarray(t,t+s);return n&&(a=Array.prototype.slice.call(e,t,t+s),a[0]^=rE[s-1]),{length:s,value:L0e(a,{signed:i}),bytes:a}},k3=function r(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(t){return r(t)}):typeof e=="number"?O0e(e):e},Bve=function(e){return Array.isArray(e)?e.map(function(t){return k3(t)}):[k3(e)]},Nve=function r(e,t,n){if(n>=t.length)return t.length;var i=_b(t,n,!1);if(Jn(e.bytes,i.bytes))return n;var s=_b(t,n+i.length);return r(e,t,n+s.length+s.value+i.length)},A3=function r(e,t){t=Bve(t),e=wr(e);var n=[];if(!t.length)return n;for(var i=0;i<e.length;){var s=_b(e,i,!1),a=_b(e,i+s.length),o=i+s.length+a.length;a.value===127&&(a.value=Nve(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);Jn(t[0],s.bytes)&&(t.length===1?n.push(u):n=n.concat(r(u,t.slice(1))));var c=s.length+a.length+u.length;i+=c}return n},Uve=wr([0,0,0,1]),$ve=wr([0,0,1]),jve=wr([0,0,3]),zve=function(e){for(var t=[],n=1;n<e.length-2;)Jn(e.subarray(n,n+3),jve)&&(t.push(n+2),n++),n++;if(t.length===0)return e;var i=e.length-t.length,s=new Uint8Array(i),a=0;for(n=0;n<i;a++,n++)a===t[0]&&(a++,t.shift()),s[n]=e[a];return s},Dj=function(e,t,n,i){e=wr(e),n=[].concat(n);for(var s=0,a,o=0;s<e.length&&(o<i||a);){var l=void 0;if(Jn(e.subarray(s),Uve)?l=4:Jn(e.subarray(s),$ve)&&(l=3),!l){s++;continue}if(o++,a)return zve(e.subarray(a,s));var u=void 0;t==="h264"?u=e[s+l]&31:t==="h265"&&(u=e[s+l]>>1&63),n.indexOf(u)!==-1&&(a=s+l),s+=l+(t==="h264"?1:2)}return e.subarray(0,0)},Hve=function(e,t,n){return Dj(e,"h264",t,n)},Vve=function(e,t,n){return Dj(e,"h265",t,n)},Js={webm:wr([119,101,98,109]),matroska:wr([109,97,116,114,111,115,107,97]),flac:wr([102,76,97,67]),ogg:wr([79,103,103,83]),ac3:wr([11,119]),riff:wr([82,73,70,70]),avi:wr([65,86,73]),wav:wr([87,65,86,69]),"3gp":wr([102,116,121,112,51,103]),mp4:wr([102,116,121,112]),fmp4:wr([115,116,121,112]),mov:wr([102,116,121,112,113,116]),moov:wr([109,111,111,118]),moof:wr([109,111,111,102])},fm={aac:function(e){var t=Qg(e);return Jn(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=Qg(e);return Jn(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=A3(e,[ex.EBML,ex.DocType])[0];return Jn(t,Js.webm)},mkv:function(e){var t=A3(e,[ex.EBML,ex.DocType])[0];return Jn(t,Js.matroska)},mp4:function(e){if(fm["3gp"](e)||fm.mov(e))return!1;if(Jn(e,Js.mp4,{offset:4})||Jn(e,Js.fmp4,{offset:4})||Jn(e,Js.moof,{offset:4})||Jn(e,Js.moov,{offset:4}))return!0},mov:function(e){return Jn(e,Js.mov,{offset:4})},"3gp":function(e){return Jn(e,Js["3gp"],{offset:4})},ac3:function(e){var t=Qg(e);return Jn(e,Js.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var t=0;t+188<e.length&&t<188;){if(e[t]===71&&e[t+188]===71)return!0;t+=1}return!1},flac:function(e){var t=Qg(e);return Jn(e,Js.flac,{offset:t})},ogg:function(e){return Jn(e,Js.ogg)},avi:function(e){return Jn(e,Js.riff)&&Jn(e,Js.avi,{offset:8})},wav:function(e){return Jn(e,Js.riff)&&Jn(e,Js.wav,{offset:8})},h264:function(e){return Hve(e,7,3).length},h265:function(e){return Vve(e,[32,33],3).length}},nE=Object.keys(fm).filter(function(r){return r!=="ts"&&r!=="h264"&&r!=="h265"}).concat(["ts","h264","h265"]);nE.forEach(function(r){var e=fm[r];fm[r]=function(t){return e(wr(t))}});var Wve=fm,NA=function(e){e=wr(e);for(var t=0;t<nE.length;t++){var n=nE[t];if(Wve[n](e))return n}return""},qve=function(e){return Mve(e,["moof"]).length>0},tw,D3;function Gve(){if(D3)return tw;D3=1;var r=9e4,e,t,n,i,s,a,o;return e=function(l){return l*r},t=function(l,u){return l*u},n=function(l){return l/r},i=function(l,u){return l/u},s=function(l,u){return e(i(l,u))},a=function(l,u){return t(n(l),u)},o=function(l,u,c){return n(c?l:l-u)},tw={ONE_SECOND_IN_TS:r,secondsToVideoTs:e,secondsToAudioTs:t,videoTsToSeconds:n,audioTsToSeconds:i,audioTsToVideoTs:s,videoTsToAudioTs:a,metadataTsToSeconds:o},tw}var bb=Gve();function Hs(r){return Hs=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Hs(r)}function Kve(r){try{return Function.toString.call(r).indexOf("[native code]")!==-1}catch{return typeof r=="function"}}function iE(r){var e=typeof Map=="function"?new Map:void 0;return iE=function(n){if(n===null||!Kve(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return gj(n,arguments,Hs(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Xp(i,n)},iE(r)}/**
 * @license
 * Video.js 7.21.6 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var Ij="7.21.6",Pc={},Xd=function(e,t){return Pc[e]=Pc[e]||[],t&&(Pc[e]=Pc[e].concat(t)),Pc[e]},Xve=function(e,t){Xd(e,t)},Pj=function(e,t){var n=Xd(e).indexOf(t);return n<=-1?!1:(Pc[e]=Pc[e].slice(),Pc[e].splice(n,1),!0)},Yve=function(e,t){Xd(e,[].concat(t).map(function(n){var i=function s(){return Pj(e,s),n.apply(void 0,arguments)};return i}))},Sb={prefixed:!0},m_=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],I3=m_[0],Jg;for(var tx=0;tx<m_.length;tx++)if(m_[tx][1]in Be){Jg=m_[tx];break}if(Jg){for(var rx=0;rx<Jg.length;rx++)Sb[I3[rx]]=Jg[rx];Sb.prefixed=Jg[0]!==I3[0]}var La=[],Qve=function(e,t){return function(n,i,s){var a=t.levels[i],o=new RegExp("^("+a+")$");if(n!=="log"&&s.unshift(n.toUpperCase()+":"),s.unshift(e+":"),La){La.push([].concat(s));var l=La.length-1e3;La.splice(0,l>0?l:0)}if(X.console){var u=X.console[n];!u&&n==="debug"&&(u=X.console.info||X.console.log),!(!u||!a||!o.test(n))&&u[Array.isArray(s)?"apply":"call"](X.console,s)}}};function Rj(r){var e="info",t,n=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];t("log",e,a)};return t=Qve(r,n),n.createLogger=function(i){return Rj(r+": "+i)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(i){if(typeof i=="string"){if(!n.levels.hasOwnProperty(i))throw new Error('"'+i+'" in not a valid log level');e=i}return e},n.history=function(){return La?[].concat(La):[]},n.history.filter=function(i){return(La||[]).filter(function(s){return new RegExp(".*"+i+".*").test(s[0])})},n.history.clear=function(){La&&(La.length=0)},n.history.disable=function(){La!==null&&(La.length=0,La=null)},n.history.enable=function(){La===null&&(La=[])},n.error=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t("error",e,s)},n.warn=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t("warn",e,s)},n.debug=function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return t("debug",e,s)},n}var Xr=Rj("VIDEOJS"),Lj=Xr.createLogger,Jve=Object.prototype.toString,Oj=function(e){return Uc(e)?Object.keys(e):[]};function Vp(r,e){Oj(r).forEach(function(t){return e(r[t],t)})}function Zve(r,e,t){return t===void 0&&(t=0),Oj(r).reduce(function(n,i){return e(n,r[i],i)},t)}function ci(r){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Object.assign?sr.apply(void 0,[r].concat(t)):(t.forEach(function(i){i&&Vp(i,function(s,a){r[a]=s})}),r)}function Uc(r){return!!r&&typeof r=="object"}function V0(r){return Uc(r)&&Jve.call(r)==="[object Object]"&&r.constructor===Object}function W0(r,e){if(!r||!e)return"";if(typeof X.getComputedStyle=="function"){var t;try{t=X.getComputedStyle(r)}catch{return""}return t?t.getPropertyValue(e)||t[e]:""}return""}var is=X.navigator&&X.navigator.userAgent||"",P3=/AppleWebKit\/([\d.]+)/i.exec(is),eye=P3?parseFloat(P3.pop()):null,Mj=/iPod/i.test(is),tye=(function(){var r=is.match(/OS (\d+)_/i);return r&&r[1]?r[1]:null})(),zc=/Android/i.test(is),UA=(function(){var r=is.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!r)return null;var e=r[1]&&parseFloat(r[1]),t=r[2]&&parseFloat(r[2]);return e&&t?parseFloat(r[1]+"."+r[2]):e||null})(),Fj=zc&&UA<5&&eye<537,Bj=/Firefox/i.test(is),kv=/Edg/i.test(is),Hc=!kv&&(/Chrome/i.test(is)||/CriOS/i.test(is)),Nj=(function(){var r=is.match(/(Chrome|CriOS)\/(\d+)/);return r&&r[2]?parseFloat(r[2]):null})(),Av=(function(){var r=/MSIE\s(\d+)\.\d/.exec(is),e=r&&parseFloat(r[1]);return!e&&/Trident\/7.0/i.test(is)&&/rv:11.0/.test(is)&&(e=11),e})(),$A=/Safari/i.test(is)&&!Hc&&!zc&&!kv,Uj=/Windows/i.test(is),pm=!!(Um()&&("ontouchstart"in X||X.navigator.maxTouchPoints||X.DocumentTouch&&X.document instanceof X.DocumentTouch)),jA=/iPad/i.test(is)||$A&&pm&&!/iPhone/i.test(is),zA=/iPhone/i.test(is)&&!jA,da=zA||jA||Mj,ZS=($A||da)&&!Hc,rye=Object.freeze({__proto__:null,IS_IPOD:Mj,IOS_VERSION:tye,IS_ANDROID:zc,ANDROID_VERSION:UA,IS_NATIVE_ANDROID:Fj,IS_FIREFOX:Bj,IS_EDGE:kv,IS_CHROME:Hc,CHROME_VERSION:Nj,IE_VERSION:Av,IS_SAFARI:$A,IS_WINDOWS:Uj,TOUCH_ENABLED:pm,IS_IPAD:jA,IS_IPHONE:zA,IS_IOS:da,IS_ANY_SAFARI:ZS});function R3(r){return typeof r=="string"&&!!r.trim()}function $j(r){if(r.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function nye(r){return new RegExp("(^|\\s)"+r+"($|\\s)")}function Um(){return Be===X.document}function $m(r){return Uc(r)&&r.nodeType===1}function jj(){try{return X.parent!==X.self}catch{return!0}}function zj(r){return function(e,t){if(!R3(e))return Be[r](null);R3(t)&&(t=Be.querySelector(t));var n=$m(t)?t:Be;return n[r]&&n[r](e)}}function fn(r,e,t,n){r===void 0&&(r="div"),e===void 0&&(e={}),t===void 0&&(t={});var i=Be.createElement(r);return Object.getOwnPropertyNames(e).forEach(function(s){var a=e[s];s.indexOf("aria-")!==-1||s==="role"||s==="type"?(Xr.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+s+" to "+a+".")),i.setAttribute(s,a)):s==="textContent"?kf(i,a):(i[s]!==a||s==="tabIndex")&&(i[s]=a)}),Object.getOwnPropertyNames(t).forEach(function(s){i.setAttribute(s,t[s])}),n&&VA(i,n),i}function kf(r,e){return typeof r.textContent>"u"?r.innerText=e:r.textContent=e,r}function sE(r,e){e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}function uf(r,e){return $j(e),r.classList?r.classList.contains(e):nye(e).test(r.className)}function Mc(r,e){return r.classList?r.classList.add(e):uf(r,e)||(r.className=(r.className+" "+e).trim()),r}function Dv(r,e){return r?(r.classList?r.classList.remove(e):($j(e),r.className=r.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),r):(Xr.warn("removeClass was called with an element that doesn't exist"),null)}function Hj(r,e,t){var n=uf(r,e);if(typeof t=="function"&&(t=t(r,e)),typeof t!="boolean"&&(t=!n),t!==n)return t?Mc(r,e):Dv(r,e),r}function Vj(r,e){Object.getOwnPropertyNames(e).forEach(function(t){var n=e[t];n===null||typeof n>"u"||n===!1?r.removeAttribute(t):r.setAttribute(t,n===!0?"":n)})}function kc(r){var e={},t=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(r&&r.attributes&&r.attributes.length>0)for(var n=r.attributes,i=n.length-1;i>=0;i--){var s=n[i].name,a=n[i].value;(typeof r[s]=="boolean"||t.indexOf(","+s+",")!==-1)&&(a=a!==null),e[s]=a}return e}function Wj(r,e){return r.getAttribute(e)}function mm(r,e,t){r.setAttribute(e,t)}function eT(r,e){r.removeAttribute(e)}function qj(){Be.body.focus(),Be.onselectstart=function(){return!1}}function Gj(){Be.onselectstart=function(){return!0}}function gm(r){if(r&&r.getBoundingClientRect&&r.parentNode){var e=r.getBoundingClientRect(),t={};return["bottom","height","left","right","top","width"].forEach(function(n){e[n]!==void 0&&(t[n]=e[n])}),t.height||(t.height=parseFloat(W0(r,"height"))),t.width||(t.width=parseFloat(W0(r,"width"))),t}}function q0(r){if(!r||r&&!r.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=r.offsetWidth,t=r.offsetHeight,n=0,i=0;r.offsetParent&&r!==Be[Sb.fullscreenElement];)n+=r.offsetLeft,i+=r.offsetTop,r=r.offsetParent;return{left:n,top:i,width:e,height:t}}function tT(r,e){var t={x:0,y:0};if(da)for(var n=r;n&&n.nodeName.toLowerCase()!=="html";){var i=W0(n,"transform");if(/^matrix/.test(i)){var s=i.slice(7,-1).split(/,\s/).map(Number);t.x+=s[4],t.y+=s[5]}else if(/^matrix3d/.test(i)){var a=i.slice(9,-1).split(/,\s/).map(Number);t.x+=a[12],t.y+=a[13]}n=n.parentNode}var o={},l=q0(e.target),u=q0(r),c=u.width,h=u.height,f=e.offsetY-(u.top-l.top),g=e.offsetX-(u.left-l.left);return e.changedTouches&&(g=e.changedTouches[0].pageX-u.left,f=e.changedTouches[0].pageY+u.top,da&&(g-=t.x,f-=t.y)),o.y=1-Math.max(0,Math.min(1,f/h)),o.x=Math.max(0,Math.min(1,g/c)),o}function Kj(r){return Uc(r)&&r.nodeType===3}function HA(r){for(;r.firstChild;)r.removeChild(r.firstChild);return r}function Xj(r){return typeof r=="function"&&(r=r()),(Array.isArray(r)?r:[r]).map(function(e){if(typeof e=="function"&&(e=e()),$m(e)||Kj(e))return e;if(typeof e=="string"&&/\S/.test(e))return Be.createTextNode(e)}).filter(function(e){return e})}function VA(r,e){return Xj(e).forEach(function(t){return r.appendChild(t)}),r}function Yj(r,e){return VA(HA(r),e)}function G0(r){return r.button===void 0&&r.buttons===void 0||r.button===0&&r.buttons===void 0||r.type==="mouseup"&&r.button===0&&r.buttons===0?!0:!(r.button!==0||r.buttons!==1)}var Yd=zj("querySelector"),Qj=zj("querySelectorAll"),Jj=Object.freeze({__proto__:null,isReal:Um,isEl:$m,isInFrame:jj,createEl:fn,textContent:kf,prependTo:sE,hasClass:uf,addClass:Mc,removeClass:Dv,toggleClass:Hj,setAttributes:Vj,getAttributes:kc,getAttribute:Wj,setAttribute:mm,removeAttribute:eT,blockTextSelection:qj,unblockTextSelection:Gj,getBoundingClientRect:gm,findPosition:q0,getPointerPosition:tT,isTextNode:Kj,emptyEl:HA,normalizeContent:Xj,appendContent:VA,insertContent:Yj,isSingleLeftClick:G0,$:Yd,$$:Qj}),Zj=!1,aE,iye=function(){if(aE.options.autoSetup!==!1){var e=Array.prototype.slice.call(Be.getElementsByTagName("video")),t=Array.prototype.slice.call(Be.getElementsByTagName("audio")),n=Array.prototype.slice.call(Be.getElementsByTagName("video-js")),i=e.concat(t,n);if(i&&i.length>0)for(var s=0,a=i.length;s<a;s++){var o=i[s];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&aE(o)}}else{oE(1);break}}else Zj||oE(1)}};function oE(r,e){Um()&&(e&&(aE=e),X.setTimeout(iye,r))}function lE(){Zj=!0,X.removeEventListener("load",lE)}Um()&&(Be.readyState==="complete"?lE():X.addEventListener("load",lE));var e7=function(e){var t=Be.createElement("style");return t.className=e,t},t7=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t},sye=3,aye=sye;function Vc(){return aye++}var r7;X.WeakMap||(r7=(function(){function r(){this.vdata="vdata"+Math.floor(X.performance&&X.performance.now()||Date.now()),this.data={}}var e=r.prototype;return e.set=function(n,i){var s=n[this.vdata]||Vc();return n[this.vdata]||(n[this.vdata]=s),this.data[s]=i,this},e.get=function(n){var i=n[this.vdata];if(i)return this.data[i];Xr("We have no data for this element",n)},e.has=function(n){var i=n[this.vdata];return i in this.data},e.delete=function(n){var i=n[this.vdata];i&&(delete this.data[i],delete n[this.vdata])},r})());var oa=X.WeakMap?new WeakMap:new r7;function L3(r,e){if(oa.has(r)){var t=oa.get(r);t.handlers[e].length===0&&(delete t.handlers[e],r.removeEventListener?r.removeEventListener(e,t.dispatcher,!1):r.detachEvent&&r.detachEvent("on"+e,t.dispatcher)),Object.getOwnPropertyNames(t.handlers).length<=0&&(delete t.handlers,delete t.dispatcher,delete t.disabled),Object.getOwnPropertyNames(t).length===0&&oa.delete(r)}}function WA(r,e,t,n){t.forEach(function(i){r(e,i,n)})}function rT(r){if(r.fixed_)return r;function e(){return!0}function t(){return!1}if(!r||!r.isPropagationStopped||!r.isImmediatePropagationStopped){var n=r||X.event;r={};for(var i in n)i!=="layerX"&&i!=="layerY"&&i!=="keyLocation"&&i!=="webkitMovementX"&&i!=="webkitMovementY"&&i!=="path"&&(i==="returnValue"&&n.preventDefault||(r[i]=n[i]));if(r.target||(r.target=r.srcElement||Be),r.relatedTarget||(r.relatedTarget=r.fromElement===r.target?r.toElement:r.fromElement),r.preventDefault=function(){n.preventDefault&&n.preventDefault(),r.returnValue=!1,n.returnValue=!1,r.defaultPrevented=!0},r.defaultPrevented=!1,r.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),r.cancelBubble=!0,n.cancelBubble=!0,r.isPropagationStopped=e},r.isPropagationStopped=t,r.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),r.isImmediatePropagationStopped=e,r.stopPropagation()},r.isImmediatePropagationStopped=t,r.clientX!==null&&r.clientX!==void 0){var s=Be.documentElement,a=Be.body;r.pageX=r.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),r.pageY=r.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}r.which=r.charCode||r.keyCode,r.button!==null&&r.button!==void 0&&(r.button=r.button&1?0:r.button&4?1:r.button&2?2:0)}return r.fixed_=!0,r}var nx,oye=function(){if(typeof nx!="boolean"){nx=!1;try{var e=Object.defineProperty({},"passive",{get:function(){nx=!0}});X.addEventListener("test",null,e),X.removeEventListener("test",null,e)}catch{}}return nx},lye=["touchstart","touchmove"];function To(r,e,t){if(Array.isArray(e))return WA(To,r,e,t);oa.has(r)||oa.set(r,{});var n=oa.get(r);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),t.guid||(t.guid=Vc()),n.handlers[e].push(t),n.dispatcher||(n.disabled=!1,n.dispatcher=function(s,a){if(!n.disabled){s=rT(s);var o=n.handlers[s.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!s.isImmediatePropagationStopped();u++)try{l[u].call(r,s,a)}catch(h){Xr.error(h)}}}),n.handlers[e].length===1)if(r.addEventListener){var i=!1;oye()&&lye.indexOf(e)>-1&&(i={passive:!0}),r.addEventListener(e,n.dispatcher,i)}else r.attachEvent&&r.attachEvent("on"+e,n.dispatcher)}function zs(r,e,t){if(oa.has(r)){var n=oa.get(r);if(n.handlers){if(Array.isArray(e))return WA(zs,r,e,t);var i=function(u,c){n.handlers[c]=[],L3(u,c)};if(e===void 0){for(var s in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},s)&&i(r,s);return}var a=n.handlers[e];if(a){if(!t){i(r,e);return}if(t.guid)for(var o=0;o<a.length;o++)a[o].guid===t.guid&&a.splice(o--,1);L3(r,e)}}}}function jm(r,e,t){var n=oa.has(r)?oa.get(r):{},i=r.parentNode||r.ownerDocument;if(typeof e=="string"?e={type:e,target:r}:e.target||(e.target=r),e=rT(e),n.dispatcher&&n.dispatcher.call(r,e,t),i&&!e.isPropagationStopped()&&e.bubbles===!0)jm.call(null,i,e,t);else if(!i&&!e.defaultPrevented&&e.target&&e.target[e.type]){oa.has(e.target)||oa.set(e.target,{});var s=oa.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function nT(r,e,t){if(Array.isArray(e))return WA(nT,r,e,t);var n=function i(){zs(r,e,i),t.apply(this,arguments)};n.guid=t.guid=t.guid||Vc(),To(r,e,n)}function n7(r,e,t){var n=function i(){zs(r,e,i),t.apply(this,arguments)};n.guid=t.guid=t.guid||Vc(),To(r,e,n)}var uye=Object.freeze({__proto__:null,fixEvent:rT,on:To,off:zs,trigger:jm,one:nT,any:n7}),Ul=30,qn=function(e,t,n){t.guid||(t.guid=Vc());var i=t.bind(e);return i.guid=n?n+"_"+t.guid:t.guid,i},$c=function(e,t){var n=X.performance.now(),i=function(){var a=X.performance.now();a-n>=t&&(e.apply(void 0,arguments),n=a)};return i},cye=function(e,t,n,i){i===void 0&&(i=X);var s,a=function(){i.clearTimeout(s),s=null},o=function(){var u=this,c=arguments,h=function(){s=null,h=null,e.apply(u,c)};i.clearTimeout(s),s=i.setTimeout(h,t)};return o.cancel=a,o},ss=function(){};ss.prototype.allowedEvents_={};ss.prototype.on=function(r,e){var t=this.addEventListener;this.addEventListener=function(){},To(this,r,e),this.addEventListener=t};ss.prototype.addEventListener=ss.prototype.on;ss.prototype.off=function(r,e){zs(this,r,e)};ss.prototype.removeEventListener=ss.prototype.off;ss.prototype.one=function(r,e){var t=this.addEventListener;this.addEventListener=function(){},nT(this,r,e),this.addEventListener=t};ss.prototype.any=function(r,e){var t=this.addEventListener;this.addEventListener=function(){},n7(this,r,e),this.addEventListener=t};ss.prototype.trigger=function(r){var e=r.type||r;typeof r=="string"&&(r={type:e}),r=rT(r),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](r),jm(this,r)};ss.prototype.dispatchEvent=ss.prototype.trigger;var Ng;ss.prototype.queueTrigger=function(r){var e=this;Ng||(Ng=new Map);var t=r.type||r,n=Ng.get(this);n||(n=new Map,Ng.set(this,n));var i=n.get(t);n.delete(t),X.clearTimeout(i);var s=X.setTimeout(function(){n.delete(t),n.size===0&&(n=null,Ng.delete(e)),e.trigger(r)},0);n.set(t,s)};var iT=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},Fc=function(e){return e instanceof ss||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(t){return typeof e[t]=="function"})},dye=function(e,t){Fc(e)?t():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(t))},uE=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Tb=function(e,t,n){if(!e||!e.nodeName&&!Fc(e))throw new Error("Invalid target for "+iT(t)+"#"+n+"; must be a DOM node or evented object.")},i7=function(e,t,n){if(!uE(e))throw new Error("Invalid event type for "+iT(t)+"#"+n+"; must be a non-empty string or array.")},s7=function(e,t,n){if(typeof e!="function")throw new Error("Invalid listener for "+iT(t)+"#"+n+"; must be a function.")},rw=function(e,t,n){var i=t.length<3||t[0]===e||t[0]===e.eventBusEl_,s,a,o;return i?(s=e.eventBusEl_,t.length>=3&&t.shift(),a=t[0],o=t[1]):(s=t[0],a=t[1],o=t[2]),Tb(s,e,n),i7(a,e,n),s7(o,e,n),o=qn(e,o),{isTargetingSelf:i,target:s,type:a,listener:o}},Lh=function(e,t,n,i){Tb(e,e,t),e.nodeName?uye[t](e,n,i):e[t](n,i)},hye={on:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=rw(this,n,"on"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(Lh(o,"on",l,u),!a){var c=function(){return e.off(o,l,u)};c.guid=u.guid;var h=function(){return e.off("dispose",c)};h.guid=u.guid,Lh(this,"on","dispose",c),Lh(o,"on","dispose",h)}},one:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=rw(this,n,"one"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)Lh(o,"one",l,u);else{var c=function h(){e.off(o,l,h);for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];u.apply(null,g)};c.guid=u.guid,Lh(o,"one",l,c)}},any:function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var s=rw(this,n,"any"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)Lh(o,"any",l,u);else{var c=function h(){e.off(o,l,h);for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];u.apply(null,g)};c.guid=u.guid,Lh(o,"any",l,c)}},off:function(e,t,n){if(!e||uE(e))zs(this.eventBusEl_,e,t);else{var i=e,s=t;Tb(i,this,"off"),i7(s,this,"off"),s7(n,this,"off"),n=qn(this,n),this.off("dispose",n),i.nodeName?(zs(i,s,n),zs(i,"dispose",n)):Fc(i)&&(i.off(s,n),i.off("dispose",n))}},trigger:function(e,t){Tb(this.eventBusEl_,this,"trigger");var n=e&&typeof e!="string"?e.type:e;if(!uE(n)){var i="Invalid event type for "+iT(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||Xr).error(i);else throw new Error(i)}return jm(this.eventBusEl_,e,t)}};function qA(r,e){e===void 0&&(e={});var t=e,n=t.eventBusKey;if(n){if(!r[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');r.eventBusEl_=r[n]}else r.eventBusEl_=fn("span",{className:"vjs-event-bus"});return ci(r,hye),r.eventedCallbacks&&r.eventedCallbacks.forEach(function(i){i()}),r.on("dispose",function(){r.off(),[r,r.el_,r.eventBusEl_].forEach(function(i){i&&oa.has(i)&&oa.delete(i)}),X.setTimeout(function(){r.eventBusEl_=null},0)}),r}var fye={state:{},setState:function(e){var t=this;typeof e=="function"&&(e=e());var n;return Vp(e,function(i,s){t.state[s]!==i&&(n=n||{},n[s]={from:t.state[s],to:i}),t.state[s]=i}),n&&Fc(this)&&this.trigger({changes:n,type:"statechanged"}),n}};function a7(r,e){return ci(r,fye),r.state=ci({},r.state,e),typeof r.handleStateChanged=="function"&&Fc(r)&&r.on("statechanged",r.handleStateChanged),r}var g_=function(e){return typeof e!="string"?e:e.replace(/./,function(t){return t.toLowerCase()})},xi=function(e){return typeof e!="string"?e:e.replace(/./,function(t){return t.toUpperCase()})},pye=function(e,t){return xi(e)===xi(t)};function Wn(){for(var r={},e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach(function(i){i&&Vp(i,function(s,a){if(!V0(s)){r[a]=s;return}V0(r[a])||(r[a]={}),r[a]=Wn(r[a],s)})}),r}var mye=(function(){function r(){this.map_={}}var e=r.prototype;return e.has=function(n){return n in this.map_},e.delete=function(n){var i=this.has(n);return delete this.map_[n],i},e.set=function(n,i){return this.map_[n]=i,this},e.forEach=function(n,i){for(var s in this.map_)n.call(i,this.map_[s],s,this)},r})(),gye=X.Map?X.Map:mye,vye=(function(){function r(){this.set_={}}var e=r.prototype;return e.has=function(n){return n in this.set_},e.delete=function(n){var i=this.has(n);return delete this.set_[n],i},e.add=function(n){return this.set_[n]=1,this},e.forEach=function(n,i){for(var s in this.set_)n.call(i,s,s,this)},r})(),nw=X.Set?X.Set:vye,kt=(function(){function r(t,n,i){var s=this;if(!t&&this.play?this.player_=t=this:this.player_=t,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Wn({},this.options_),n=this.options_=Wn(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var a=t&&t.id&&t.id()||"no_player";this.id_=a+"_component_"+Vc()}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(function(o){return s.addClass(o)}),n.evented!==!1&&(qA(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),a7(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new nw,this.setIntervalIds_=new nw,this.rafIds_=new nw,this.namedRafs_=new gye,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=r.prototype;return e.dispose=function(n){if(n===void 0&&(n={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(n.restoreEl?this.el_.parentNode.replaceChild(n.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return!!this.isDisposed_},e.player=function(){return this.player_},e.options=function(n){return n?(this.options_=Wn(this.options_,n),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(n,i,s){return fn(n,i,s)},e.localize=function(n,i,s){s===void 0&&(s=n);var a=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[a],u=a&&a.split("-")[0],c=o&&o[u],h=s;return l&&l[n]?h=l[n]:c&&c[n]&&(h=c[n]),i&&(h=h.replace(/\{(\d+)\}/g,function(f,g){var v=i[g-1],y=v;return typeof v>"u"&&(y=f),y})),h},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(n){return this.childIndex_[n]},e.getChild=function(n){if(n)return this.childNameIndex_[n]},e.getDescendant=function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i=i.reduce(function(l,u){return l.concat(u)},[]);for(var a=this,o=0;o<i.length;o++)if(a=a.getChild(i[o]),!a||!a.getChild)return;return a},e.addChild=function(n,i,s){i===void 0&&(i={}),s===void 0&&(s=this.children_.length);var a,o;if(typeof n=="string"){o=xi(n);var l=i.componentClass||o;i.name=o;var u=r.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;a=new u(this.player_||this,i)}else a=n;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(s,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),o=o||a.name&&xi(a.name()),o&&(this.childNameIndex_[o]=a,this.childNameIndex_[g_(o)]=a),typeof a.el=="function"&&a.el()){var c=null;this.children_[s+1]&&(this.children_[s+1].el_?c=this.children_[s+1].el_:$m(this.children_[s+1])&&(c=this.children_[s+1])),this.contentEl().insertBefore(a.el(),c)}return a},e.removeChild=function(n){if(typeof n=="string"&&(n=this.getChild(n)),!(!n||!this.children_)){for(var i=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===n){i=!0,this.children_.splice(s,1);break}if(i){n.parentComponent_=null,this.childIndex_[n.id()]=null,this.childNameIndex_[xi(n.name())]=null,this.childNameIndex_[g_(n.name())]=null;var a=n.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(n.el())}}},e.initChildren=function(){var n=this,i=this.options_.children;if(i){var s=this.options_,a=function(c){var h=c.name,f=c.opts;if(s[h]!==void 0&&(f=s[h]),f!==!1){f===!0&&(f={}),f.playerOptions=n.options_.playerOptions;var g=n.addChild(h,f);g&&(n[h]=g)}},o,l=r.getComponent("Tech");Array.isArray(i)?o=i:o=Object.keys(i),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,h;return typeof u=="string"?(c=u,h=i[c]||n.options_[c]||{}):(c=u.name,h=u),{name:c,opts:h}}).filter(function(u){var c=r.getComponent(u.opts.componentClass||xi(u.name));return c&&!l.isTech(c)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(n,i){if(i===void 0&&(i=!1),!!n){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(n);return}i?n.call(this):this.setTimeout(n,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var n=this.readyQueue_;this.readyQueue_=[],n&&n.length>0&&n.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)},e.$=function(n,i){return Yd(n,i||this.contentEl())},e.$$=function(n,i){return Qj(n,i||this.contentEl())},e.hasClass=function(n){return uf(this.el_,n)},e.addClass=function(n){Mc(this.el_,n)},e.removeClass=function(n){Dv(this.el_,n)},e.toggleClass=function(n,i){Hj(this.el_,n,i)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(n){return Wj(this.el_,n)},e.setAttribute=function(n,i){mm(this.el_,n,i)},e.removeAttribute=function(n){eT(this.el_,n)},e.width=function(n,i){return this.dimension("width",n,i)},e.height=function(n,i){return this.dimension("height",n,i)},e.dimensions=function(n,i){this.width(n,!0),this.height(i)},e.dimension=function(n,i,s){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[n]=i:i==="auto"?this.el_.style[n]="":this.el_.style[n]=i+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[n],o=a.indexOf("px");return parseInt(o!==-1?a.slice(0,o):this.el_["offset"+xi(n)],10)},e.currentDimension=function(n){var i=0;if(n!=="width"&&n!=="height")throw new Error("currentDimension only accepts width or height value");if(i=W0(this.el_,n),i=parseFloat(i),i===0||isNaN(i)){var s="offset"+xi(n);i=this.el_[s]}return i},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(n){this.player_&&($r.isEventKey(n,"Tab")||n.stopPropagation(),this.player_.handleKeyDown(n))},e.handleKeyPress=function(n){this.handleKeyDown(n)},e.emitTapEvents=function(){var n=0,i=null,s=10,a=200,o;this.on("touchstart",function(u){u.touches.length===1&&(i={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},n=X.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(i){var c=u.touches[0].pageX-i.pageX,h=u.touches[0].pageY-i.pageY,f=Math.sqrt(c*c+h*h);f>s&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(i=null,o===!0){var c=X.performance.now()-n;c<a&&(u.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var n=qn(this.player(),this.player().reportUserActivity),i;this.on("touchstart",function(){n(),this.clearInterval(i),i=this.setInterval(n,250)});var s=function(o){n(),this.clearInterval(i)};this.on("touchmove",n),this.on("touchend",s),this.on("touchcancel",s)}},e.setTimeout=function(n,i){var s=this,a;return n=qn(this,n),this.clearTimersOnDispose_(),a=X.setTimeout(function(){s.setTimeoutIds_.has(a)&&s.setTimeoutIds_.delete(a),n()},i),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(n){return this.setTimeoutIds_.has(n)&&(this.setTimeoutIds_.delete(n),X.clearTimeout(n)),n},e.setInterval=function(n,i){n=qn(this,n),this.clearTimersOnDispose_();var s=X.setInterval(n,i);return this.setIntervalIds_.add(s),s},e.clearInterval=function(n){return this.setIntervalIds_.has(n)&&(this.setIntervalIds_.delete(n),X.clearInterval(n)),n},e.requestAnimationFrame=function(n){var i=this;if(!this.supportsRaf_)return this.setTimeout(n,1e3/60);this.clearTimersOnDispose_();var s;return n=qn(this,n),s=X.requestAnimationFrame(function(){i.rafIds_.has(s)&&i.rafIds_.delete(s),n()}),this.rafIds_.add(s),s},e.requestNamedAnimationFrame=function(n,i){var s=this;if(!this.namedRafs_.has(n)){this.clearTimersOnDispose_(),i=qn(this,i);var a=this.requestAnimationFrame(function(){i(),s.namedRafs_.has(n)&&s.namedRafs_.delete(n)});return this.namedRafs_.set(n,a),n}},e.cancelNamedAnimationFrame=function(n){this.namedRafs_.has(n)&&(this.cancelAnimationFrame(this.namedRafs_.get(n)),this.namedRafs_.delete(n))},e.cancelAnimationFrame=function(n){return this.supportsRaf_?(this.rafIds_.has(n)&&(this.rafIds_.delete(n),X.cancelAnimationFrame(n)),n):this.clearTimeout(n)},e.clearTimersOnDispose_=function(){var n=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(i){var s=i[0],a=i[1];n[s].forEach(function(o,l){return n[a](l)})}),n.clearingTimersOnDispose_=!1}))},r.registerComponent=function(n,i){if(typeof n!="string"||!n)throw new Error('Illegal component name, "'+n+'"; must be a non-empty string.');var s=r.getComponent("Tech"),a=s&&s.isTech(i),o=r===i||r.prototype.isPrototypeOf(i.prototype);if(a||!o){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+n+'"; '+l+".")}n=xi(n),r.components_||(r.components_={});var u=r.getComponent("Player");if(n==="Player"&&u&&u.players){var c=u.players,h=Object.keys(c);if(c&&h.length>0&&h.map(function(f){return c[f]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return r.components_[n]=i,r.components_[g_(n)]=i,i},r.getComponent=function(n){if(!(!n||!r.components_))return r.components_[n]},r})();kt.prototype.supportsRaf_=typeof X.requestAnimationFrame=="function"&&typeof X.cancelAnimationFrame=="function";kt.registerComponent("Component",kt);function yye(r,e,t){if(typeof e!="number"||e<0||e>t)throw new Error("Failed to execute '"+r+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+t+").")}function O3(r,e,t,n){return yye(r,n,t.length-1),t[n][e]}function iw(r){var e;return r===void 0||r.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:r.length,start:O3.bind(null,"start",0,r),end:O3.bind(null,"end",1,r)},X.Symbol&&X.Symbol.iterator&&(e[X.Symbol.iterator]=function(){return(r||[]).values()}),e}function cf(r,e){return Array.isArray(r)?iw(r):r===void 0||e===void 0?iw():iw([[r,e]])}function o7(r,e){var t=0,n,i;if(!e)return 0;(!r||!r.length)&&(r=cf(0,0));for(var s=0;s<r.length;s++)n=r.start(s),i=r.end(s),i>e&&(i=e),t+=i-n;return t/e}function la(r){if(r instanceof la)return r;typeof r=="number"?this.code=r:typeof r=="string"?this.message=r:Uc(r)&&(typeof r.code=="number"&&(this.code=r.code),ci(this,r)),this.message||(this.message=la.defaultMessages[this.code]||"")}la.prototype.code=0;la.prototype.message="";la.prototype.status=null;la.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];la.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var ap=0;ap<la.errorTypes.length;ap++)la[la.errorTypes[ap]]=ap,la.prototype[la.errorTypes[ap]]=ap;function v0(r){return r!=null&&typeof r.then=="function"}function Au(r){v0(r)&&r.then(null,function(e){})}var cE=function(e){var t=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(n,i,s){return e[i]&&(n[i]=e[i]),n},{cues:e.cues&&Array.prototype.map.call(e.cues,function(n){return{startTime:n.startTime,endTime:n.endTime,text:n.text,id:n.id}})});return t},xye=function(e){var t=e.$$("track"),n=Array.prototype.map.call(t,function(s){return s.track}),i=Array.prototype.map.call(t,function(s){var a=cE(s.track);return s.src&&(a.src=s.src),a});return i.concat(Array.prototype.filter.call(e.textTracks(),function(s){return n.indexOf(s)===-1}).map(cE))},_ye=function(e,t){return e.forEach(function(n){var i=t.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(function(s){return i.addCue(s)})}),t.textTracks()},M3={textTracksToJson:xye,jsonToTextTracks:_ye,trackToJson_:cE},sw="vjs-modal-dialog",zm=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.close_=function(a){return s.close(a)},s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=fn("div",{className:sw+"-content"},{role:"document"}),s.descEl_=fn("p",{className:sw+"-description vjs-control-text",id:s.el().getAttribute("aria-describedby")}),kf(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},t.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,r.prototype.dispose.call(this)},t.buildCSSClass=function(){return sw+" vjs-hidden "+r.prototype.buildCSSClass.call(this)},t.label=function(){return this.localize(this.options_.label||"Modal Window")},t.description=function(){var i=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(i+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),i},t.open=function(){if(!this.opened_){var i=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!i.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&i.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=i.controls(),i.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},t.opened=function(i){return typeof i=="boolean"&&this[i?"open":"close"](),this.opened_},t.close=function(){if(this.opened_){var i=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&i.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&i.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},t.closeable=function(i){if(typeof i=="boolean"){var s=this.closeable_=!!i,a=this.getChild("closeButton");if(s&&!a){var o=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(a,"close",this.close_)}!s&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},t.fill=function(){this.fillWith(this.content())},t.fillWith=function(i){var s=this.contentEl(),a=s.parentNode,o=s.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(s),this.empty(),Yj(s,i),this.trigger("modalfill"),o?a.insertBefore(s,o):a.appendChild(s);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},t.empty=function(){this.trigger("beforemodalempty"),HA(this.contentEl()),this.trigger("modalempty")},t.content=function(i){return typeof i<"u"&&(this.content_=i),this.content_},t.conditionalFocus_=function(){var i=Be.activeElement,s=this.player_.el_;this.previouslyActiveEl_=null,(s.contains(i)||s===i)&&(this.previouslyActiveEl_=i,this.focus())},t.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},t.handleKeyDown=function(i){if(i.stopPropagation(),$r.isEventKey(i,"Escape")&&this.closeable()){i.preventDefault(),this.close();return}if($r.isEventKey(i,"Tab")){for(var s=this.focusableEls_(),a=this.el_.querySelector(":focus"),o,l=0;l<s.length;l++)if(a===s[l]){o=l;break}Be.activeElement===this.el_&&(o=0),i.shiftKey&&o===0?(s[s.length-1].focus(),i.preventDefault()):!i.shiftKey&&o===s.length-1&&(s[0].focus(),i.preventDefault())}},t.focusableEls_=function(){var i=this.el_.querySelectorAll("*");return Array.prototype.filter.call(i,function(s){return(s instanceof X.HTMLAnchorElement||s instanceof X.HTMLAreaElement)&&s.hasAttribute("href")||(s instanceof X.HTMLInputElement||s instanceof X.HTMLSelectElement||s instanceof X.HTMLTextAreaElement||s instanceof X.HTMLButtonElement)&&!s.hasAttribute("disabled")||s instanceof X.HTMLIFrameElement||s instanceof X.HTMLObjectElement||s instanceof X.HTMLEmbedElement||s.hasAttribute("tabindex")&&s.getAttribute("tabindex")!==-1||s.hasAttribute("contenteditable")})},e})(kt);zm.prototype.options_={pauseOnOpen:!0,temporary:!0};kt.registerComponent("ModalDialog",zm);var vm=(function(r){Ht(e,r);function e(n){var i;n===void 0&&(n=[]),i=r.call(this)||this,i.tracks_=[],Object.defineProperty(We(i),"length",{get:function(){return this.tracks_.length}});for(var s=0;s<n.length;s++)i.addTrack(n[s]);return i}var t=e.prototype;return t.addTrack=function(i){var s=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(i)===-1&&(this.tracks_.push(i),this.trigger({track:i,type:"addtrack",target:this})),i.labelchange_=function(){s.trigger({track:i,type:"labelchange",target:s})},Fc(i)&&i.addEventListener("labelchange",i.labelchange_)},t.removeTrack=function(i){for(var s,a=0,o=this.length;a<o;a++)if(this[a]===i){s=this[a],s.off&&s.off(),this.tracks_.splice(a,1);break}s&&this.trigger({track:s,type:"removetrack",target:this})},t.getTrackById=function(i){for(var s=null,a=0,o=this.length;a<o;a++){var l=this[a];if(l.id===i){s=l;break}}return s},e})(ss);vm.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var bye in vm.prototype.allowedEvents_)vm.prototype["on"+bye]=null;var aw=function(e,t){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||t.id===e[n].id||(e[n].enabled=!1)},Sye=(function(r){Ht(e,r);function e(n){var i;n===void 0&&(n=[]);for(var s=n.length-1;s>=0;s--)if(n[s].enabled){aw(n,n[s]);break}return i=r.call(this,n)||this,i.changing_=!1,i}var t=e.prototype;return t.addTrack=function(i){var s=this;i.enabled&&aw(this,i),r.prototype.addTrack.call(this,i),i.addEventListener&&(i.enabledChange_=function(){s.changing_||(s.changing_=!0,aw(s,i),s.changing_=!1,s.trigger("change"))},i.addEventListener("enabledchange",i.enabledChange_))},t.removeTrack=function(i){r.prototype.removeTrack.call(this,i),i.removeEventListener&&i.enabledChange_&&(i.removeEventListener("enabledchange",i.enabledChange_),i.enabledChange_=null)},e})(vm),ow=function(e,t){for(var n=0;n<e.length;n++)!Object.keys(e[n]).length||t.id===e[n].id||(e[n].selected=!1)},Tye=(function(r){Ht(e,r);function e(n){var i;n===void 0&&(n=[]);for(var s=n.length-1;s>=0;s--)if(n[s].selected){ow(n,n[s]);break}return i=r.call(this,n)||this,i.changing_=!1,Object.defineProperty(We(i),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),i}var t=e.prototype;return t.addTrack=function(i){var s=this;i.selected&&ow(this,i),r.prototype.addTrack.call(this,i),i.addEventListener&&(i.selectedChange_=function(){s.changing_||(s.changing_=!0,ow(s,i),s.changing_=!1,s.trigger("change"))},i.addEventListener("selectedchange",i.selectedChange_))},t.removeTrack=function(i){r.prototype.removeTrack.call(this,i),i.removeEventListener&&i.selectedChange_&&(i.removeEventListener("selectedchange",i.selectedChange_),i.selectedChange_=null)},e})(vm),l7=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.addTrack=function(i){var s=this;r.prototype.addTrack.call(this,i),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),i.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(i.kind)===-1&&i.addEventListener("modechange",this.triggerSelectedlanguagechange_)},t.removeTrack=function(i){r.prototype.removeTrack.call(this,i),i.removeEventListener&&(this.queueChange_&&i.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&i.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e})(vm),Cye=(function(){function r(t){t===void 0&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var n=0,i=t.length;n<i;n++)this.addTrackElement_(t[n])}var e=r.prototype;return e.addTrackElement_=function(n){var i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get:function(){return this.trackElements_[i]}}),this.trackElements_.indexOf(n)===-1&&this.trackElements_.push(n)},e.getTrackElementByTrack_=function(n){for(var i,s=0,a=this.trackElements_.length;s<a;s++)if(n===this.trackElements_[s].track){i=this.trackElements_[s];break}return i},e.removeTrackElement_=function(n){for(var i=0,s=this.trackElements_.length;i<s;i++)if(n===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}},r})(),F3=(function(){function r(t){r.prototype.setCues_.call(this,t),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=r.prototype;return e.setCues_=function(n){var i=this.length||0,s=0,a=n.length;this.cues_=n,this.length_=n.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(i<a)for(s=i;s<a;s++)o.call(this,s)},e.getCueById=function(n){for(var i=null,s=0,a=this.length;s<a;s++){var o=this[s];if(o.id===n){i=o;break}}return i},r})(),wye={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Eye={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},kye={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},B3={disabled:"disabled",hidden:"hidden",showing:"showing"},GA=(function(r){Ht(e,r);function e(t){var n;t===void 0&&(t={}),n=r.call(this)||this;var i={id:t.id||"vjs_track_"+Vc(),kind:t.kind||"",language:t.language||""},s=t.label||"",a=function(u){Object.defineProperty(We(n),u,{get:function(){return i[u]},set:function(){}})};for(var o in i)a(o);return Object.defineProperty(We(n),"label",{get:function(){return s},set:function(u){u!==s&&(s=u,this.trigger("labelchange"))}}),n}return e})(ss),KA=function(e){var t=["protocol","hostname","port","pathname","search","hash","host"],n=Be.createElement("a");n.href=e;for(var i={},s=0;s<t.length;s++)i[t[s]]=n[t[s]];return i.protocol==="http:"&&(i.host=i.host.replace(/:80$/,"")),i.protocol==="https:"&&(i.host=i.host.replace(/:443$/,"")),i.protocol||(i.protocol=X.location.protocol),i.host||(i.host=X.location.host),i},u7=function(e){if(!e.match(/^https?:\/\//)){var t=Be.createElement("a");t.href=e,e=t.href}return e},XA=function(e){if(typeof e=="string"){var t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,n=t.exec(e);if(n)return n.pop().toLowerCase()}return""},sT=function(e,t){t===void 0&&(t=X.location);var n=KA(e),i=n.protocol===":"?t.protocol:n.protocol,s=i+n.host!==t.protocol+t.host;return s},Aye=Object.freeze({__proto__:null,parseUrl:KA,getAbsoluteURL:u7,getFileExtension:XA,isCrossOrigin:sT}),N3=function(e,t){var n=new X.WebVTT.Parser(X,X.vttjs,X.WebVTT.StringDecoder()),i=[];n.oncue=function(s){t.addCue(s)},n.onparsingerror=function(s){i.push(s)},n.onflush=function(){t.trigger({type:"loadeddata",target:t})},n.parse(e),i.length>0&&(X.console&&X.console.groupCollapsed&&X.console.groupCollapsed("Text Track parsing errors for "+t.src),i.forEach(function(s){return Xr.error(s)}),X.console&&X.console.groupEnd&&X.console.groupEnd()),n.flush()},U3=function(e,t){var n={uri:e},i=sT(e);i&&(n.cors=i);var s=t.tech_.crossOrigin()==="use-credentials";s&&(n.withCredentials=s),pj(n,qn(this,function(a,o,l){if(a)return Xr.error(a,o);t.loaded_=!0,typeof X.WebVTT!="function"?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){Xr.error("vttjs failed to load, stopping trying to process "+t.src);return}return N3(l,t)}):N3(l,t)}))},Iv=(function(r){Ht(e,r);function e(n){var i;if(n===void 0&&(n={}),!n.tech)throw new Error("A tech was not provided.");var s=Wn(n,{kind:kye[n.kind]||"subtitles",language:n.language||n.srclang||""}),a=B3[s.mode]||"disabled",o=s.default;(s.kind==="metadata"||s.kind==="chapters")&&(a="hidden"),i=r.call(this,s)||this,i.tech_=s.tech,i.cues_=[],i.activeCues_=[],i.preload_=i.tech_.preloadTextTracks!==!1;var l=new F3(i.cues_),u=new F3(i.activeCues_),c=!1;i.timeupdateHandler=qn(We(i),function(f){if(f===void 0&&(f={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){f.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),f.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var h=function(){i.stopTracking()};return i.tech_.one("dispose",h),a!=="disabled"&&i.startTracking(),Object.defineProperties(We(i),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return a},set:function(g){B3[g]&&a!==g&&(a=g,!this.preload_&&a!=="disabled"&&this.cues.length===0&&U3(this.src,this),this.stopTracking(),a!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var g=this.tech_.currentTime(),v=[],y=0,_=this.cues.length;y<_;y++){var C=this.cues[y];(C.startTime<=g&&C.endTime>=g||C.startTime===C.endTime&&C.startTime<=g&&C.startTime+.5>=g)&&v.push(C)}if(c=!1,v.length!==this.activeCues_.length)c=!0;else for(var k=0;k<v.length;k++)this.activeCues_.indexOf(v[k])===-1&&(c=!0);return this.activeCues_=v,u.setCues_(this.activeCues_),u},set:function(){}}}),s.src?(i.src=s.src,i.preload_||(i.loaded_=!0),(i.preload_||s.kind!=="subtitles"&&s.kind!=="captions")&&U3(i.src,We(i))):i.loaded_=!0,i}var t=e.prototype;return t.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},t.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},t.addCue=function(i){var s=i;if(s.constructor&&s.constructor.name!=="VTTCue"){s=new X.vttjs.VTTCue(i.startTime,i.endTime,i.text);for(var a in i)a in s||(s[a]=i[a]);s.id=i.id,s.originalCue_=i}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},t.removeCue=function(i){for(var s=this.cues_.length;s--;){var a=this.cues_[s];if(a===i||a.originalCue_&&a.originalCue_===i){this.cues_.splice(s,1),this.cues.setCues_(this.cues_);break}}},e})(GA);Iv.prototype.allowedEvents_={cuechange:"cuechange"};var c7=(function(r){Ht(e,r);function e(t){var n;t===void 0&&(t={});var i=Wn(t,{kind:Eye[t.kind]||""});n=r.call(this,i)||this;var s=!1;return Object.defineProperty(We(n),"enabled",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("enabledchange"))}}),i.enabled&&(n.enabled=i.enabled),n.loaded_=!0,n}return e})(GA),d7=(function(r){Ht(e,r);function e(t){var n;t===void 0&&(t={});var i=Wn(t,{kind:wye[t.kind]||""});n=r.call(this,i)||this;var s=!1;return Object.defineProperty(We(n),"selected",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("selectedchange"))}}),i.selected&&(n.selected=i.selected),n}return e})(GA),h7=0,Dye=1,f7=2,Iye=3,Hm=(function(r){Ht(e,r);function e(t){var n;t===void 0&&(t={}),n=r.call(this)||this;var i,s=new Iv(t);return n.kind=s.kind,n.src=s.src,n.srclang=s.language,n.label=s.label,n.default=s.default,Object.defineProperties(We(n),{readyState:{get:function(){return i}},track:{get:function(){return s}}}),i=h7,s.addEventListener("loadeddata",function(){i=f7,n.trigger({type:"load",target:We(n)})}),n}return e})(ss);Hm.prototype.allowedEvents_={load:"load"};Hm.NONE=h7;Hm.LOADING=Dye;Hm.LOADED=f7;Hm.ERROR=Iye;var tl={audio:{ListClass:Sye,TrackClass:c7,capitalName:"Audio"},video:{ListClass:Tye,TrackClass:d7,capitalName:"Video"},text:{ListClass:l7,TrackClass:Iv,capitalName:"Text"}};Object.keys(tl).forEach(function(r){tl[r].getterName=r+"Tracks",tl[r].privateName=r+"Tracks_"});var ym={remoteText:{ListClass:l7,TrackClass:Iv,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Cye,TrackClass:Hm,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},na=sr({},tl,ym);ym.names=Object.keys(ym);tl.names=Object.keys(tl);na.names=[].concat(ym.names).concat(tl.names);function Pye(r,e,t,n,i){i===void 0&&(i={});var s=r.textTracks();i.kind=e,t&&(i.label=t),n&&(i.language=n),i.tech=r;var a=new na.text.TrackClass(i);return s.addTrack(a),a}var $n=(function(r){Ht(e,r);function e(n,i){var s;return n===void 0&&(n={}),i===void 0&&(i=function(){}),n.reportTouchActivity=!1,s=r.call(this,null,n,i)||this,s.onDurationChange_=function(a){return s.onDurationChange(a)},s.trackProgress_=function(a){return s.trackProgress(a)},s.trackCurrentTime_=function(a){return s.trackCurrentTime(a)},s.stopTrackingCurrentTime_=function(a){return s.stopTrackingCurrentTime(a)},s.disposeSourceHandler_=function(a){return s.disposeSourceHandler(a)},s.queuedHanders_=new Set,s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),na.names.forEach(function(a){var o=na[a];n&&n[o.getterName]&&(s[o.privateName]=n[o.getterName])}),s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){n["native"+a+"Tracks"]===!1&&(s["featuresNative"+a+"Tracks"]=!1)}),n.nativeCaptions===!1||n.nativeTextTracks===!1?s.featuresNativeTextTracks=!1:(n.nativeCaptions===!0||n.nativeTextTracks===!0)&&(s.featuresNativeTextTracks=!0),s.featuresNativeTextTracks||s.emulateTextTracks(),s.preloadTextTracks=n.preloadTextTracks!==!1,s.autoRemoteTextTracks_=new na.text.ListClass,s.initTrackListeners(),n.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}var t=e.prototype;return t.triggerSourceset=function(i){var s=this;this.isReady_||this.one("ready",function(){return s.setTimeout(function(){return s.triggerSourceset(i)},1)}),this.trigger({src:i,type:"sourceset"})},t.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},t.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},t.trackProgress=function(i){this.stopTrackingProgress(),this.progressInterval=this.setInterval(qn(this,function(){var s=this.bufferedPercent();this.bufferedPercent_!==s&&this.trigger("progress"),this.bufferedPercent_=s,s===1&&this.stopTrackingProgress()}),500)},t.onDurationChange=function(i){this.duration_=this.duration()},t.buffered=function(){return cf(0,0)},t.bufferedPercent=function(){return o7(this.buffered(),this.duration_)},t.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},t.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},t.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},t.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},t.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.dispose=function(){this.clearTracks(tl.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),r.prototype.dispose.call(this)},t.clearTracks=function(i){var s=this;i=[].concat(i),i.forEach(function(a){for(var o=s[a+"Tracks"]()||[],l=o.length;l--;){var u=o[l];a==="text"&&s.removeRemoteTextTrack(u),o.removeTrack(u)}})},t.cleanupAutoTextTracks=function(){for(var i=this.autoRemoteTextTracks_||[],s=i.length;s--;){var a=i[s];this.removeRemoteTextTrack(a)}},t.reset=function(){},t.crossOrigin=function(){},t.setCrossOrigin=function(){},t.error=function(i){return i!==void 0&&(this.error_=new la(i),this.trigger("error")),this.error_},t.played=function(){return this.hasStarted_?cf(0,0):cf()},t.play=function(){},t.setScrubbing=function(){},t.scrubbing=function(){},t.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},t.initTrackListeners=function(){var i=this;tl.names.forEach(function(s){var a=tl[s],o=function(){i.trigger(s+"trackchange")},l=i[a.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),i.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},t.addWebVttScript_=function(){var i=this;if(!X.WebVTT)if(Be.body.contains(this.el())){if(!this.options_["vtt.js"]&&V0(W_)&&Object.keys(W_).length>0){this.trigger("vttjsloaded");return}var s=Be.createElement("script");s.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",s.onload=function(){i.trigger("vttjsloaded")},s.onerror=function(){i.trigger("vttjserror")},this.on("dispose",function(){s.onload=null,s.onerror=null}),X.WebVTT=!0,this.el().parentNode.appendChild(s)}else this.ready(this.addWebVttScript_)},t.emulateTextTracks=function(){var i=this,s=this.textTracks(),a=this.remoteTextTracks(),o=function(f){return s.addTrack(f.track)},l=function(f){return s.removeTrack(f.track)};a.on("addtrack",o),a.on("removetrack",l),this.addWebVttScript_();var u=function(){return i.trigger("texttrackchange")},c=function(){u();for(var f=0;f<s.length;f++){var g=s[f];g.removeEventListener("cuechange",u),g.mode==="showing"&&g.addEventListener("cuechange",u)}};c(),s.addEventListener("change",c),s.addEventListener("addtrack",c),s.addEventListener("removetrack",c),this.on("dispose",function(){a.off("addtrack",o),a.off("removetrack",l),s.removeEventListener("change",c),s.removeEventListener("addtrack",c),s.removeEventListener("removetrack",c);for(var h=0;h<s.length;h++){var f=s[h];f.removeEventListener("cuechange",u)}})},t.addTextTrack=function(i,s,a){if(!i)throw new Error("TextTrack kind is required but was not provided");return Pye(this,i,s,a)},t.createRemoteTextTrack=function(i){var s=Wn(i,{tech:this});return new ym.remoteTextEl.TrackClass(s)},t.addRemoteTextTrack=function(i,s){var a=this;i===void 0&&(i={});var o=this.createRemoteTextTrack(i);return s!==!0&&s!==!1&&(Xr.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),s=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),s!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(o.track)}),o},t.removeRemoteTextTrack=function(i){var s=this.remoteTextTrackEls().getTrackElementByTrack_(i);this.remoteTextTrackEls().removeTrackElement_(s),this.remoteTextTracks().removeTrack(i),this.autoRemoteTextTracks_.removeTrack(i)},t.getVideoPlaybackQuality=function(){return{}},t.requestPictureInPicture=function(){var i=this.options_.Promise||X.Promise;if(i)return i.reject()},t.disablePictureInPicture=function(){return!0},t.setDisablePictureInPicture=function(){},t.requestVideoFrameCallback=function(i){var s=this,a=Vc();return!this.isReady_||this.paused()?(this.queuedHanders_.add(a),this.one("playing",function(){s.queuedHanders_.has(a)&&(s.queuedHanders_.delete(a),i())})):this.requestNamedAnimationFrame(a,i),a},t.cancelVideoFrameCallback=function(i){this.queuedHanders_.has(i)?this.queuedHanders_.delete(i):this.cancelNamedAnimationFrame(i)},t.setPoster=function(){},t.playsinline=function(){},t.setPlaysinline=function(){},t.overrideNativeAudioTracks=function(){},t.overrideNativeVideoTracks=function(){},t.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(i,s){return e.canPlayType(i.type)},e.isTech=function(i){return i.prototype instanceof e||i instanceof e||i===e},e.registerTech=function(i,s){if(e.techs_||(e.techs_={}),!e.isTech(s))throw new Error("Tech "+i+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return i=xi(i),e.techs_[i]=s,e.techs_[g_(i)]=s,i!=="Tech"&&e.defaultTechOrder_.push(i),s},e.getTech=function(i){if(i){if(e.techs_&&e.techs_[i])return e.techs_[i];if(i=xi(i),X&&X.videojs&&X.videojs[i])return Xr.warn("The "+i+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),X.videojs[i]}},e})(kt);na.names.forEach(function(r){var e=na[r];$n.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});$n.prototype.featuresVolumeControl=!0;$n.prototype.featuresMuteControl=!0;$n.prototype.featuresFullscreenResize=!1;$n.prototype.featuresPlaybackRate=!1;$n.prototype.featuresProgressEvents=!1;$n.prototype.featuresSourceset=!1;$n.prototype.featuresTimeupdateEvents=!1;$n.prototype.featuresNativeTextTracks=!1;$n.prototype.featuresVideoFrameCallback=!1;$n.withSourceHandlers=function(r){r.registerSourceHandler=function(t,n){var i=r.sourceHandlers;i||(i=r.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,t)},r.canPlayType=function(t){for(var n=r.sourceHandlers||[],i,s=0;s<n.length;s++)if(i=n[s].canPlayType(t),i)return i;return""},r.selectSourceHandler=function(t,n){for(var i=r.sourceHandlers||[],s,a=0;a<i.length;a++)if(s=i[a].canHandleSource(t,n),s)return i[a];return null},r.canPlaySource=function(t,n){var i=r.selectSourceHandler(t,n);return i?i.canHandleSource(t,n):""};var e=["seekable","seeking","duration"];e.forEach(function(t){var n=this[t];typeof n=="function"&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},r.prototype),r.prototype.setSource=function(t){var n=r.selectSourceHandler(t,this.options_);n||(r.nativeSourceHandler?n=r.nativeSourceHandler:Xr.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==r.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=n.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},r.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};kt.registerComponent("Tech",$n);$n.registerTech("Tech",$n);$n.defaultTechOrder_=[];var df={},dE={},Cb={};function Rye(r,e){df[r]=df[r]||[],df[r].push(e)}function Lye(r,e,t){r.setTimeout(function(){return Nh(e,df[e.type],t,r)},1)}function Oye(r,e){r.forEach(function(t){return t.setTech&&t.setTech(e)})}function Mye(r,e,t){return r.reduceRight(YA(t),e[t]())}function Fye(r,e,t,n){return e[t](r.reduce(YA(t),n))}function $3(r,e,t,n){n===void 0&&(n=null);var i="call"+xi(t),s=r.reduce(YA(i),n),a=s===Cb,o=a?null:e[t](s);return Uye(r,t,o,a),o}var Bye={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},Nye={setCurrentTime:1,setMuted:1,setVolume:1},j3={play:1,pause:1};function YA(r){return function(e,t){return e===Cb?Cb:t[r]?t[r](e):e}}function Uye(r,e,t,n){for(var i=r.length-1;i>=0;i--){var s=r[i];s[e]&&s[e](n,t)}}function $ye(r){dE[r.id()]=null}function jye(r,e){var t=dE[r.id()],n=null;if(t==null)return n=e(r),dE[r.id()]=[[e,n]],n;for(var i=0;i<t.length;i++){var s=t[i],a=s[0],o=s[1];a===e&&(n=o)}return n===null&&(n=e(r),t.push([e,n])),n}function Nh(r,e,t,n,i,s){r===void 0&&(r={}),e===void 0&&(e=[]),i===void 0&&(i=[]),s===void 0&&(s=!1);var a=e,o=a[0],l=a.slice(1);if(typeof o=="string")Nh(r,df[o],t,n,i,s);else if(o){var u=jye(n,o);if(!u.setSource)return i.push(u),Nh(r,l,t,n,i,s);u.setSource(ci({},r),function(c,h){if(c)return Nh(r,l,t,n,i,s);i.push(u),Nh(h,r.type===h.type?l:df[h.type],t,n,i,s)})}else l.length?Nh(r,l,t,n,i,s):s?t(r,i):Nh(r,df["*"],t,n,i,!0)}var zye={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},wb=function(e){e===void 0&&(e="");var t=XA(e),n=zye[t.toLowerCase()];return n||""},Hye=function(e,t){if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;var n=e.cache_.sources.filter(function(o){return o.src===t});if(n.length)return n[0].type;for(var i=e.$$("source"),s=0;s<i.length;s++){var a=i[s];if(a.type&&a.src&&a.src===t)return a.type}return wb(t)},Vye=function r(e){if(Array.isArray(e)){var t=[];e.forEach(function(n){n=r(n),Array.isArray(n)?t=t.concat(n):Uc(n)&&t.push(n)}),e=t}else typeof e=="string"&&e.trim()?e=[z3({src:e})]:Uc(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[z3(e)]:e=[];return e};function z3(r){if(!r.type){var e=wb(r.src);e&&(r.type=e)}return r}var Wye=(function(r){Ht(e,r);function e(t,n,i){var s,a=Wn({createEl:!1},n);if(s=r.call(this,t,a,i)||this,!n.playerOptions.sources||n.playerOptions.sources.length===0)for(var o=0,l=n.playerOptions.techOrder;o<l.length;o++){var u=xi(l[o]),c=$n.getTech(u);if(u||(c=kt.getComponent(u)),c&&c.isSupported()){t.loadTech_(u);break}}else t.src(n.playerOptions.sources);return s}return e})(kt);kt.registerComponent("MediaLoader",Wye);var aT=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.options_.controlText&&s.controlText(s.options_.controlText),s.handleMouseOver_=function(a){return s.handleMouseOver(a)},s.handleMouseOut_=function(a){return s.handleMouseOut(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.emitTapEvents(),s.enable(),s}var t=e.prototype;return t.createEl=function(i,s,a){i===void 0&&(i="div"),s===void 0&&(s={}),a===void 0&&(a={}),s=ci({className:this.buildCSSClass(),tabIndex:0},s),i==="button"&&Xr.error("Creating a ClickableComponent with an HTML element of "+i+" is not supported; use a Button instead."),a=ci({role:"button"},a),this.tabIndex_=s.tabIndex;var o=fn(i,s,a);return o.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},t.dispose=function(){this.controlTextEl_=null,r.prototype.dispose.call(this)},t.createControlTextEl=function(i){return this.controlTextEl_=fn("span",{className:"vjs-control-text"},{"aria-live":"polite"}),i&&i.appendChild(this.controlTextEl_),this.controlText(this.controlText_,i),this.controlTextEl_},t.controlText=function(i,s){if(s===void 0&&(s=this.el()),i===void 0)return this.controlText_||"Need Text";var a=this.localize(i);this.controlText_=i,kf(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&s.setAttribute("title",a)},t.buildCSSClass=function(){return"vjs-control vjs-button "+r.prototype.buildCSSClass.call(this)},t.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},t.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},t.handleLanguagechange=function(){this.controlText(this.controlText_)},t.handleClick=function(i){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},t.handleKeyDown=function(i){$r.isEventKey(i,"Space")||$r.isEventKey(i,"Enter")?(i.preventDefault(),i.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,i)},e})(kt);kt.registerComponent("ClickableComponent",aT);var qye=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.update(),s.update_=function(a){return s.update(a)},n.on("posterchange",s.update_),s}var t=e.prototype;return t.dispose=function(){this.player().off("posterchange",this.update_),r.prototype.dispose.call(this)},t.createEl=function(){var i=fn("div",{className:"vjs-poster",tabIndex:-1});return i},t.update=function(i){var s=this.player().poster();this.setSrc(s),s?this.show():this.hide()},t.setSrc=function(i){var s="";i&&(s='url("'+i+'")'),this.el_.style.backgroundImage=s},t.handleClick=function(i){if(this.player_.controls()){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((Av||kv)&&s)&&this.player_.tech(!0).focus(),this.player_.paused()?Au(this.player_.play()):this.player_.pause()}},e})(aT);kt.registerComponent("PosterImage",qye);var Vo="#222",H3="#ccc",Gye={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function lw(r,e){var t;if(r.length===4)t=r[1]+r[1]+r[2]+r[2]+r[3]+r[3];else if(r.length===7)t=r.slice(1);else throw new Error("Invalid color code provided, "+r+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(t.slice(0,2),16)+","+parseInt(t.slice(2,4),16)+","+parseInt(t.slice(4,6),16)+","+e+")"}function uw(r,e,t){try{r.style[e]=t}catch{return}}var Kye=(function(r){Ht(e,r);function e(n,i,s){var a;a=r.call(this,n,i,s)||this;var o=function(u){return a.updateDisplay(u)};return n.on("loadstart",function(l){return a.toggleDisplay(l)}),n.on("texttrackchange",o),n.on("loadedmetadata",function(l){return a.preselectTrack(l)}),n.ready(qn(We(a),function(){if(n.tech_&&n.tech_.featuresNativeTextTracks){this.hide();return}n.on("fullscreenchange",o),n.on("playerresize",o),X.addEventListener("orientationchange",o),n.on("dispose",function(){return X.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),a}var t=e.prototype;return t.preselectTrack=function(){for(var i={captions:1,subtitles:1},s=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<s.length;c++){var h=s[c];a&&a.enabled&&a.language&&a.language===h.language&&h.kind in i?h.kind===a.kind?u=h:u||(u=h):a&&!a.enabled?(u=null,o=null,l=null):h.default&&(h.kind==="descriptions"&&!o?o=h:h.kind in i&&!l&&(l=h))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},t.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},t.clearDisplay=function(){typeof X.WebVTT=="function"&&X.WebVTT.processCues(X,[],this.el_)},t.updateDisplay=function(){var i=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),s){for(var a=[],o=0;o<i.length;++o){var l=i[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var u=null,c=null,h=i.length;h--;){var f=i[h];f.mode==="showing"&&(f.kind==="descriptions"?u=f:c=f)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},t.updateDisplayState=function(i){for(var s=this.player_.textTrackSettings.getValues(),a=i.activeCues,o=a.length;o--;){var l=a[o];if(l){var u=l.displayState;if(s.color&&(u.firstChild.style.color=s.color),s.textOpacity&&uw(u.firstChild,"color",lw(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(u.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&uw(u.firstChild,"backgroundColor",lw(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?uw(u,"backgroundColor",lw(s.windowColor,s.windowOpacity)):u.style.backgroundColor=s.windowColor),s.edgeStyle&&(s.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+Vo+", 2px 2px 4px "+Vo+", 2px 2px 5px "+Vo:s.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+Vo+", 2px 2px "+Vo+", 3px 3px "+Vo:s.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+H3+", 0 1px "+H3+", -1px -1px "+Vo+", 0 -1px "+Vo:s.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+Vo+", 0 0 4px "+Vo+", 0 0 4px "+Vo+", 0 0 4px "+Vo)),s.fontPercent&&s.fontPercent!==1){var c=X.parseFloat(u.style.fontSize);u.style.fontSize=c*s.fontPercent+"px",u.style.height="auto",u.style.top="auto"}s.fontFamily&&s.fontFamily!=="default"&&(s.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=Gye[s.fontFamily])}}},t.updateForTrack=function(i){if(Array.isArray(i)||(i=[i]),!(typeof X.WebVTT!="function"||i.every(function(g){return!g.activeCues}))){for(var s=[],a=0;a<i.length;++a)for(var o=i[a],l=0;l<o.activeCues.length;++l)s.push(o.activeCues[l]);X.WebVTT.processCues(X,s,this.el_);for(var u=0;u<i.length;++u){for(var c=i[u],h=0;h<c.activeCues.length;++h){var f=c.activeCues[h].displayState;Mc(f,"vjs-text-track-cue"),Mc(f,"vjs-text-track-cue-"+(c.language?c.language:u)),c.language&&mm(f,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e})(kt);kt.registerComponent("TextTrackDisplay",Kye);var Xye=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.createEl=function(){var i=this.player_.isAudio(),s=this.localize(i?"Audio Player":"Video Player"),a=fn("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),o=r.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(a),o},e})(kt);kt.registerComponent("LoadingSpinner",Xye);var Bl=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.createEl=function(i,s,a){s===void 0&&(s={}),a===void 0&&(a={}),i="button",s=ci({className:this.buildCSSClass()},s),a=ci({type:"button"},a);var o=fn(i,s,a);return o.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},t.addChild=function(i,s){s===void 0&&(s={});var a=this.constructor.name;return Xr.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),kt.prototype.addChild.call(this,i,s)},t.enable=function(){r.prototype.enable.call(this),this.el_.removeAttribute("disabled")},t.disable=function(){r.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},t.handleKeyDown=function(i){if($r.isEventKey(i,"Space")||$r.isEventKey(i,"Enter")){i.stopPropagation();return}r.prototype.handleKeyDown.call(this,i)},e})(aT);kt.registerComponent("Button",Bl);var p7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.mouseused_=!1,s.on("mousedown",function(a){return s.handleMouseDown(a)}),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-big-play-button"},t.handleClick=function(i){var s=this.player_.play();if(this.mouseused_&&i.clientX&&i.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;Au(s),this.player_.tech(!0)&&!((Av||kv)&&a)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};v0(s)?s.then(u,function(){}):this.setTimeout(u,1)},t.handleKeyDown=function(i){this.mouseused_=!1,r.prototype.handleKeyDown.call(this,i)},t.handleMouseDown=function(i){this.mouseused_=!0},e})(Bl);p7.prototype.controlText_="Play Video";kt.registerComponent("BigPlayButton",p7);var Yye=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.controlText(i&&i.controlText||s.localize("Close")),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-close-button "+r.prototype.buildCSSClass.call(this)},t.handleClick=function(i){this.trigger({type:"close",bubbles:!1})},t.handleKeyDown=function(i){$r.isEventKey(i,"Esc")?(i.preventDefault(),i.stopPropagation(),this.trigger("click")):r.prototype.handleKeyDown.call(this,i)},e})(Bl);kt.registerComponent("CloseButton",Yye);var m7=(function(r){Ht(e,r);function e(n,i){var s;return i===void 0&&(i={}),s=r.call(this,n,i)||this,i.replay=i.replay===void 0||i.replay,s.on(n,"play",function(a){return s.handlePlay(a)}),s.on(n,"pause",function(a){return s.handlePause(a)}),i.replay&&s.on(n,"ended",function(a){return s.handleEnded(a)}),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-play-control "+r.prototype.buildCSSClass.call(this)},t.handleClick=function(i){this.player_.paused()?Au(this.player_.play()):this.player_.pause()},t.handleSeeked=function(i){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(i):this.handlePlay(i)},t.handlePlay=function(i){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},t.handlePause=function(i){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},t.handleEnded=function(i){var s=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return s.handleSeeked(a)})},e})(Bl);m7.prototype.controlText_="Play";kt.registerComponent("PlayToggle",m7);var g7=function(e,t){e=e<0?0:e;var n=Math.floor(e%60),i=Math.floor(e/60%60),s=Math.floor(e/3600),a=Math.floor(t/60%60),o=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(s=i=n="-"),s=s>0||o>0?s+":":"",i=((s||a>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,s+i+n},QA=g7;function Qye(r){QA=r}function Jye(){QA=g7}function xm(r,e){return e===void 0&&(e=r),QA(r,e)}var Vm=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.on(n,["timeupdate","ended"],function(a){return s.updateContent(a)}),s.updateTextNode_(),s}var t=e.prototype;return t.createEl=function(){var i=this.buildCSSClass(),s=r.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control"}),a=fn("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+""},{role:"presentation"});return s.appendChild(a),this.contentEl_=fn("span",{className:i+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},t.dispose=function(){this.contentEl_=null,this.textNode_=null,r.prototype.dispose.call(this)},t.updateTextNode_=function(i){var s=this;i===void 0&&(i=0),i=xm(i),this.formattedTime_!==i&&(this.formattedTime_=i,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(s.contentEl_){var a=s.textNode_;a&&s.contentEl_.firstChild!==a&&(a=null,Xr.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),s.textNode_=Be.createTextNode(s.formattedTime_),s.textNode_&&(a?s.contentEl_.replaceChild(s.textNode_,a):s.contentEl_.appendChild(s.textNode_))}}))},t.updateContent=function(i){},e})(kt);Vm.prototype.labelText_="Time";Vm.prototype.controlText_="Time";kt.registerComponent("TimeDisplay",Vm);var JA=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-current-time"},t.updateContent=function(i){var s;this.player_.ended()?s=this.player_.duration():s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(s)},e})(Vm);JA.prototype.labelText_="Current Time";JA.prototype.controlText_="Current Time";kt.registerComponent("CurrentTimeDisplay",JA);var ZA=(function(r){Ht(e,r);function e(n,i){var s;s=r.call(this,n,i)||this;var a=function(l){return s.updateContent(l)};return s.on(n,"durationchange",a),s.on(n,"loadstart",a),s.on(n,"loadedmetadata",a),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-duration"},t.updateContent=function(i){var s=this.player_.duration();this.updateTextNode_(s)},e})(Vm);ZA.prototype.labelText_="Duration";ZA.prototype.controlText_="Duration";kt.registerComponent("DurationDisplay",ZA);var Zye=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.createEl=function(){var i=r.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=r.prototype.createEl.call(this,"div"),a=r.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(a),i.appendChild(s),i},e})(kt);kt.registerComponent("TimeDivider",Zye);var eD=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.on(n,"durationchange",function(a){return s.updateContent(a)}),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-remaining-time"},t.createEl=function(){var i=r.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&i.insertBefore(fn("span",{},{"aria-hidden":!0},"-"),this.contentEl_),i},t.updateContent=function(i){if(typeof this.player_.duration()=="number"){var s;this.player_.ended()?s=0:this.player_.remainingTimeDisplay?s=this.player_.remainingTimeDisplay():s=this.player_.remainingTime(),this.updateTextNode_(s)}},e})(Vm);eD.prototype.labelText_="Remaining Time";eD.prototype.controlText_="Remaining Time";kt.registerComponent("RemainingTimeDisplay",eD);var exe=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.updateShowing(),s.on(s.player(),"durationchange",function(a){return s.updateShowing(a)}),s}var t=e.prototype;return t.createEl=function(){var i=r.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=fn("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(fn("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+""})),this.contentEl_.appendChild(Be.createTextNode(this.localize("LIVE"))),i.appendChild(this.contentEl_),i},t.dispose=function(){this.contentEl_=null,r.prototype.dispose.call(this)},t.updateShowing=function(i){this.player().duration()===1/0?this.show():this.hide()},e})(kt);kt.registerComponent("LiveDisplay",exe);var v7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.updateLiveEdgeStatus(),s.player_.liveTracker&&(s.updateLiveEdgeStatusHandler_=function(a){return s.updateLiveEdgeStatus(a)},s.on(s.player_.liveTracker,"liveedgechange",s.updateLiveEdgeStatusHandler_)),s}var t=e.prototype;return t.createEl=function(){var i=r.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=fn("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),i.appendChild(this.textEl_),i},t.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},t.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},t.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,r.prototype.dispose.call(this)},e})(Bl);v7.prototype.controlText_="Seek to live, currently playing live";kt.registerComponent("SeekToLive",v7);var oT=function(e,t,n){return e=Number(e),Math.min(n,Math.max(t,isNaN(e)?t:e))},tD=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.handleMouseDown_=function(a){return s.handleMouseDown(a)},s.handleMouseUp_=function(a){return s.handleMouseUp(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleMouseMove_=function(a){return s.handleMouseMove(a)},s.update_=function(a){return s.update(a)},s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.enable(),s}var t=e.prototype;return t.enabled=function(){return this.enabled_},t.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},t.disable=function(){if(this.enabled()){var i=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},t.createEl=function(i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s.className=s.className+" vjs-slider",s=ci({tabIndex:0},s),a=ci({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),r.prototype.createEl.call(this,i,s,a)},t.handleMouseDown=function(i){var s=this.bar.el_.ownerDocument;i.type==="mousedown"&&i.preventDefault(),i.type==="touchstart"&&!Hc&&i.preventDefault(),qj(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(s,"mousemove",this.handleMouseMove_),this.on(s,"mouseup",this.handleMouseUp_),this.on(s,"touchmove",this.handleMouseMove_),this.on(s,"touchend",this.handleMouseUp_),this.handleMouseMove(i,!0)},t.handleMouseMove=function(i){},t.handleMouseUp=function(){var i=this.bar.el_.ownerDocument;Gj(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()},t.update=function(){var i=this;if(!(!this.el_||!this.bar)){var s=this.getProgress();return s===this.progress_||(this.progress_=s,this.requestNamedAnimationFrame("Slider#update",function(){var a=i.vertical()?"height":"width";i.bar.el().style[a]=(s*100).toFixed(2)+"%"})),s}},t.getProgress=function(){return Number(oT(this.getPercent(),0,1).toFixed(4))},t.calculateDistance=function(i){var s=tT(this.el_,i);return this.vertical()?s.y:s.x},t.handleKeyDown=function(i){$r.isEventKey(i,"Left")||$r.isEventKey(i,"Down")?(i.preventDefault(),i.stopPropagation(),this.stepBack()):$r.isEventKey(i,"Right")||$r.isEventKey(i,"Up")?(i.preventDefault(),i.stopPropagation(),this.stepForward()):r.prototype.handleKeyDown.call(this,i)},t.handleClick=function(i){i.stopPropagation(),i.preventDefault()},t.vertical=function(i){if(i===void 0)return this.vertical_||!1;this.vertical_=!!i,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e})(kt);kt.registerComponent("Slider",tD);var cw=function(e,t){return oT(e/t*100,0,100).toFixed(2)+"%"},txe=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.partEls_=[],s.on(n,"progress",function(a){return s.update(a)}),s}var t=e.prototype;return t.createEl=function(){var i=r.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=fn("span",{className:"vjs-control-text"}),a=fn("span",{textContent:this.localize("Loaded")}),o=Be.createTextNode(": ");return this.percentageEl_=fn("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),i.appendChild(s),s.appendChild(a),s.appendChild(o),s.appendChild(this.percentageEl_),i},t.dispose=function(){this.partEls_=null,this.percentageEl_=null,r.prototype.dispose.call(this)},t.update=function(i){var s=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=s.player_.liveTracker,o=s.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():s.player_.duration(),u=s.player_.bufferedEnd(),c=s.partEls_,h=cw(u,l);s.percent_!==h&&(s.el_.style.width=h,kf(s.percentageEl_,h),s.percent_=h);for(var f=0;f<o.length;f++){var g=o.start(f),v=o.end(f),y=c[f];y||(y=s.el_.appendChild(fn()),c[f]=y),!(y.dataset.start===g&&y.dataset.end===v)&&(y.dataset.start=g,y.dataset.end=v,y.style.left=cw(g,u),y.style.width=cw(v-g,u))}for(var _=c.length;_>o.length;_--)s.el_.removeChild(c[_-1]);c.length=o.length})},e})(kt);kt.registerComponent("LoadProgressBar",txe);var rxe=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.update=$c(qn(We(s),s.update),Ul),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},t.update=function(i,s,a){var o=q0(this.el_),l=gm(this.player_.el()),u=i.width*s;if(!(!l||!o)){var c=i.left-l.left+u,h=i.width-u+(l.right-i.right),f=o.width/2;c<f?f+=f-c:h<f&&(f=h),f<0?f=0:f>o.width&&(f=o.width),f=Math.round(f),this.el_.style.right="-"+f+"px",this.write(a)}},t.write=function(i){kf(this.el_,i)},t.updateTime=function(i,s,a,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var h=l.player_.liveTracker.liveWindow(),f=h-s*h;u=(f<1?"":"-")+xm(f,h)}else u=xm(a,c);l.update(i,s,u),o&&o()})},e})(kt);kt.registerComponent("TimeTooltip",rxe);var rD=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.update=$c(qn(We(s),s.update),Ul),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},t.update=function(i,s){var a=this.getChild("timeTooltip");if(a){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(i,s,o)}},e})(kt);rD.prototype.options_={children:[]};!da&&!zc&&rD.prototype.options_.children.push("timeTooltip");kt.registerComponent("PlayProgressBar",rD);var y7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.update=$c(qn(We(s),s.update),Ul),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(i,s){var a=this,o=s*this.player_.duration();this.getChild("timeTooltip").updateTime(i,s,o,function(){a.el_.style.left=i.width*s+"px"})},e})(kt);y7.prototype.options_={children:["timeTooltip"]};kt.registerComponent("MouseTimeDisplay",y7);var ix=5,V3=12,nD=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.setEventHandlers_(),s}var t=e.prototype;return t.setEventHandlers_=function(){var i=this;this.update_=qn(this,this.update),this.update=$c(this.update_,Ul),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(s){return i.enableInterval_(s)},this.disableIntervalHandler_=function(s){return i.disableInterval_(s)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.on(Be,"visibilitychange",this.toggleVisibility_)},t.toggleVisibility_=function(i){Be.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(i)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},t.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Ul))},t.disableInterval_=function(i){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&i&&i.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},t.update=function(i){var s=this;if(Be.visibilityState!=="hidden"){var a=r.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),l=s.player_.liveTracker,u=s.player_.duration();l&&l.isLive()&&(u=s.player_.liveTracker.liveCurrentTime()),s.percent_!==a&&(s.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),s.percent_=a),(s.currentTime_!==o||s.duration_!==u)&&(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[xm(o,u),xm(u,u)],"{1} of {2}")),s.currentTime_=o,s.duration_=u),s.bar&&s.bar.update(gm(s.el()),s.getProgress())}),a}},t.userSeek_=function(i){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(i)},t.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},t.getPercent=function(){var i=this.getCurrentTime_(),s,a=this.player_.liveTracker;return a&&a.isLive()?(s=(i-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(s=1)):s=i/this.player_.duration(),s},t.handleMouseDown=function(i){G0(i)&&(i.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),r.prototype.handleMouseDown.call(this,i))},t.handleMouseMove=function(i,s){if(s===void 0&&(s=!1),!!G0(i)){!s&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var a,o=this.calculateDistance(i),l=this.player_.liveTracker;if(!l||!l.isLive())a=o*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),c=l.liveCurrentTime();if(a=u+o*l.liveWindow(),a>=c&&(a=c),a<=u&&(a=u+.1),a===1/0)return}this.userSeek_(a)}},t.enable=function(){r.prototype.enable.call(this);var i=this.getChild("mouseTimeDisplay");i&&i.show()},t.disable=function(){r.prototype.disable.call(this);var i=this.getChild("mouseTimeDisplay");i&&i.hide()},t.handleMouseUp=function(i){r.prototype.handleMouseUp.call(this,i),i&&i.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Au(this.player_.play()):this.update_()},t.stepForward=function(){this.userSeek_(this.player_.currentTime()+ix)},t.stepBack=function(){this.userSeek_(this.player_.currentTime()-ix)},t.handleAction=function(i){this.player_.paused()?this.player_.play():this.player_.pause()},t.handleKeyDown=function(i){var s=this.player_.liveTracker;if($r.isEventKey(i,"Space")||$r.isEventKey(i,"Enter"))i.preventDefault(),i.stopPropagation(),this.handleAction(i);else if($r.isEventKey(i,"Home"))i.preventDefault(),i.stopPropagation(),this.userSeek_(0);else if($r.isEventKey(i,"End"))i.preventDefault(),i.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test($r(i))){i.preventDefault(),i.stopPropagation();var a=($r.codes[$r(i)]-$r.codes[0])*10/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else $r.isEventKey(i,"PgDn")?(i.preventDefault(),i.stopPropagation(),this.userSeek_(this.player_.currentTime()-ix*V3)):$r.isEventKey(i,"PgUp")?(i.preventDefault(),i.stopPropagation(),this.userSeek_(this.player_.currentTime()+ix*V3)):r.prototype.handleKeyDown.call(this,i)},t.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Be&&"visibilityState"in Be&&this.off(Be,"visibilitychange",this.toggleVisibility_),r.prototype.dispose.call(this)},e})(tD);nD.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!da&&!zc&&nD.prototype.options_.children.splice(1,0,"mouseTimeDisplay");kt.registerComponent("SeekBar",nD);var x7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.handleMouseMove=$c(qn(We(s),s.handleMouseMove),Ul),s.throttledHandleMouseSeek=$c(qn(We(s),s.handleMouseSeek),Ul),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.handleMouseDownHandler_=function(a){return s.handleMouseDown(a)},s.enable(),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},t.handleMouseMove=function(i){var s=this.getChild("seekBar");if(s){var a=s.getChild("playProgressBar"),o=s.getChild("mouseTimeDisplay");if(!(!a&&!o)){var l=s.el(),u=q0(l),c=tT(l,i).x;c=oT(c,0,1),o&&o.update(u,c),a&&a.update(u,s.getProgress())}}},t.handleMouseSeek=function(i){var s=this.getChild("seekBar");s&&s.handleMouseMove(i)},t.enabled=function(){return this.enabled_},t.disable=function(){if(this.children().forEach(function(s){return s.disable&&s.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var i=this.getChild("seekBar");this.player_.scrubbing(!1),i.videoWasPlaying&&Au(this.player_.play())}},t.enable=function(){this.children().forEach(function(i){return i.enable&&i.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},t.removeListenersAddedOnMousedownAndTouchstart=function(){var i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseSeek),this.off(i,"touchmove",this.throttledHandleMouseSeek),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)},t.handleMouseDown=function(i){var s=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(i),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},t.handleMouseUp=function(i){var s=this.getChild("seekBar");s&&s.handleMouseUp(i),this.removeListenersAddedOnMousedownAndTouchstart()},e})(kt);x7.prototype.options_={children:["seekBar"]};kt.registerComponent("ProgressControl",x7);var _7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.on(n,["enterpictureinpicture","leavepictureinpicture"],function(a){return s.handlePictureInPictureChange(a)}),s.on(n,["disablepictureinpicturechanged","loadedmetadata"],function(a){return s.handlePictureInPictureEnabledChange(a)}),s.on(n,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var a=n.currentType().substring(0,5)==="audio";a||n.audioPosterMode()||n.audioOnlyMode()?(n.isInPictureInPicture()&&n.exitPictureInPicture(),s.hide()):s.show()}),s.disable(),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-picture-in-picture-control "+r.prototype.buildCSSClass.call(this)},t.handlePictureInPictureEnabledChange=function(){Be.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},t.handlePictureInPictureChange=function(i){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},t.handleClick=function(i){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e})(Bl);_7.prototype.controlText_="Picture-in-Picture";kt.registerComponent("PictureInPictureToggle",_7);var b7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.on(n,"fullscreenchange",function(a){return s.handleFullscreenChange(a)}),Be[n.fsApi_.fullscreenEnabled]===!1&&s.disable(),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-fullscreen-control "+r.prototype.buildCSSClass.call(this)},t.handleFullscreenChange=function(i){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},t.handleClick=function(i){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e})(Bl);b7.prototype.controlText_="Fullscreen";kt.registerComponent("FullscreenToggle",b7);var nxe=function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},ixe=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.createEl=function(){var i=r.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return i.appendChild(r.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),i},e})(kt);kt.registerComponent("VolumeLevel",ixe);var sxe=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.update=$c(qn(We(s),s.update),Ul),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},t.update=function(i,s,a,o){if(!a){var l=gm(this.el_),u=gm(this.player_.el()),c=i.width*s;if(!u||!l)return;var h=i.left-u.left+c,f=i.width-c+(u.right-i.right),g=l.width/2;h<g?g+=g-h:f<g&&(g=f),g<0?g=0:g>l.width&&(g=l.width),this.el_.style.right="-"+g+"px"}this.write(o+"%")},t.write=function(i){kf(this.el_,i)},t.updateVolume=function(i,s,a,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(i,s,a,o.toFixed(0)),l&&l()})},e})(kt);kt.registerComponent("VolumeLevelTooltip",sxe);var S7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.update=$c(qn(We(s),s.update),Ul),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},t.update=function(i,s,a){var o=this,l=100*s;this.getChild("volumeLevelTooltip").updateVolume(i,s,a,l,function(){a?o.el_.style.bottom=i.height*s+"px":o.el_.style.left=i.width*s+"px"})},e})(kt);S7.prototype.options_={children:["volumeLevelTooltip"]};kt.registerComponent("MouseVolumeLevelDisplay",S7);var lT=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.on("slideractive",function(a){return s.updateLastVolume_(a)}),s.on(n,"volumechange",function(a){return s.updateARIAAttributes(a)}),n.ready(function(){return s.updateARIAAttributes()}),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},t.handleMouseDown=function(i){G0(i)&&r.prototype.handleMouseDown.call(this,i)},t.handleMouseMove=function(i){var s=this.getChild("mouseVolumeLevelDisplay");if(s){var a=this.el(),o=gm(a),l=this.vertical(),u=tT(a,i);u=l?u.y:u.x,u=oT(u,0,1),s.update(o,u,l)}G0(i)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(i)))},t.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},t.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},t.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},t.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},t.updateARIAAttributes=function(i){var s=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",s),this.el_.setAttribute("aria-valuetext",s+"%")},t.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},t.updateLastVolume_=function(){var i=this,s=this.player_.volume();this.one("sliderinactive",function(){i.player_.volume()===0&&i.player_.lastVolume_(s)})},e})(tD);lT.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!da&&!zc&&lT.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");lT.prototype.playerEvent="volumechange";kt.registerComponent("VolumeBar",lT);var T7=(function(r){Ht(e,r);function e(n,i){var s;return i===void 0&&(i={}),i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||V0(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),s=r.call(this,n,i)||this,nxe(We(s),n),s.throttledHandleMouseMove=$c(qn(We(s),s.handleMouseMove),Ul),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.on("mousedown",function(a){return s.handleMouseDown(a)}),s.on("touchstart",function(a){return s.handleMouseDown(a)}),s.on("mousemove",function(a){return s.handleMouseMove(a)}),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}var t=e.prototype;return t.createEl=function(){var i="vjs-volume-horizontal";return this.options_.vertical&&(i="vjs-volume-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+i})},t.handleMouseDown=function(i){var s=this.el_.ownerDocument;this.on(s,"mousemove",this.throttledHandleMouseMove),this.on(s,"touchmove",this.throttledHandleMouseMove),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},t.handleMouseUp=function(i){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseMove),this.off(s,"touchmove",this.throttledHandleMouseMove),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},t.handleMouseMove=function(i){this.volumeBar.handleMouseMove(i)},e})(kt);T7.prototype.options_={children:["volumeBar"]};kt.registerComponent("VolumeControl",T7);var axe=function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},C7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,axe(We(s),n),s.on(n,["loadstart","volumechange"],function(a){return s.update(a)}),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-mute-control "+r.prototype.buildCSSClass.call(this)},t.handleClick=function(i){var s=this.player_.volume(),a=this.player_.lastVolume_();if(s===0){var o=a<.1?.1:a;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},t.update=function(i){this.updateIcon_(),this.updateControlText_()},t.updateIcon_=function(){var i=this.player_.volume(),s=3;da&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),i===0||this.player_.muted()?s=0:i<.33?s=1:i<.67&&(s=2);for(var a=0;a<4;a++)Dv(this.el_,"vjs-vol-"+a);Mc(this.el_,"vjs-vol-"+s)},t.updateControlText_=function(){var i=this.player_.muted()||this.player_.volume()===0,s=i?"Unmute":"Mute";this.controlText()!==s&&this.controlText(s)},e})(Bl);C7.prototype.controlText_="Mute";kt.registerComponent("MuteToggle",C7);var w7=(function(r){Ht(e,r);function e(n,i){var s;return i===void 0&&(i={}),typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||V0(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),s=r.call(this,n,i)||this,s.handleKeyPressHandler_=function(a){return s.handleKeyPress(a)},s.on(n,["loadstart"],function(a){return s.volumePanelState_(a)}),s.on(s.muteToggle,"keyup",function(a){return s.handleKeyPress(a)}),s.on(s.volumeControl,"keyup",function(a){return s.handleVolumeControlKeyUp(a)}),s.on("keydown",function(a){return s.handleKeyPress(a)}),s.on("mouseover",function(a){return s.handleMouseOver(a)}),s.on("mouseout",function(a){return s.handleMouseOut(a)}),s.on(s.volumeControl,["slideractive"],s.sliderActive_),s.on(s.volumeControl,["sliderinactive"],s.sliderInactive_),s}var t=e.prototype;return t.sliderActive_=function(){this.addClass("vjs-slider-active")},t.sliderInactive_=function(){this.removeClass("vjs-slider-active")},t.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},t.createEl=function(){var i="vjs-volume-panel-horizontal";return this.options_.inline||(i="vjs-volume-panel-vertical"),r.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+i})},t.dispose=function(){this.handleMouseOut(),r.prototype.dispose.call(this)},t.handleVolumeControlKeyUp=function(i){$r.isEventKey(i,"Esc")&&this.muteToggle.focus()},t.handleMouseOver=function(i){this.addClass("vjs-hover"),To(Be,"keyup",this.handleKeyPressHandler_)},t.handleMouseOut=function(i){this.removeClass("vjs-hover"),zs(Be,"keyup",this.handleKeyPressHandler_)},t.handleKeyPress=function(i){$r.isEventKey(i,"Esc")&&this.handleMouseOut()},e})(kt);w7.prototype.options_={children:["muteToggle","volumeControl"]};kt.registerComponent("VolumePanel",w7);var E7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,i&&(s.menuButton_=i.menuButton),s.focusedChild_=-1,s.on("keydown",function(a){return s.handleKeyDown(a)}),s.boundHandleBlur_=function(a){return s.handleBlur(a)},s.boundHandleTapClick_=function(a){return s.handleTapClick(a)},s}var t=e.prototype;return t.addEventListenerForItem=function(i){i instanceof kt&&(this.on(i,"blur",this.boundHandleBlur_),this.on(i,["tap","click"],this.boundHandleTapClick_))},t.removeEventListenerForItem=function(i){i instanceof kt&&(this.off(i,"blur",this.boundHandleBlur_),this.off(i,["tap","click"],this.boundHandleTapClick_))},t.removeChild=function(i){typeof i=="string"&&(i=this.getChild(i)),this.removeEventListenerForItem(i),r.prototype.removeChild.call(this,i)},t.addItem=function(i){var s=this.addChild(i);s&&this.addEventListenerForItem(s)},t.createEl=function(){var i=this.options_.contentElType||"ul";this.contentEl_=fn(i,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=r.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),To(s,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),s},t.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,r.prototype.dispose.call(this)},t.handleBlur=function(i){var s=i.relatedTarget||Be.activeElement;if(!this.children().some(function(o){return o.el()===s})){var a=this.menuButton_;a&&a.buttonPressed_&&s!==a.el().firstChild&&a.unpressButton()}},t.handleTapClick=function(i){if(this.menuButton_){this.menuButton_.unpressButton();var s=this.children();if(!Array.isArray(s))return;var a=s.filter(function(o){return o.el()===i.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},t.handleKeyDown=function(i){$r.isEventKey(i,"Left")||$r.isEventKey(i,"Down")?(i.preventDefault(),i.stopPropagation(),this.stepForward()):($r.isEventKey(i,"Right")||$r.isEventKey(i,"Up"))&&(i.preventDefault(),i.stopPropagation(),this.stepBack())},t.stepForward=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_+1),this.focus(i)},t.stepBack=function(){var i=0;this.focusedChild_!==void 0&&(i=this.focusedChild_-1),this.focus(i)},t.focus=function(i){i===void 0&&(i=0);var s=this.children().slice(),a=s.length&&s[0].hasClass("vjs-menu-title");a&&s.shift(),s.length>0&&(i<0?i=0:i>=s.length&&(i=s.length-1),this.focusedChild_=i,s[i].el_.focus())},e})(kt);kt.registerComponent("Menu",E7);var iD=(function(r){Ht(e,r);function e(n,i){var s;i===void 0&&(i={}),s=r.call(this,n,i)||this,s.menuButton_=new Bl(n,i),s.menuButton_.controlText(s.controlText_),s.menuButton_.el_.setAttribute("aria-haspopup","true");var a=Bl.prototype.buildCSSClass();s.menuButton_.el_.className=s.buildCSSClass()+" "+a,s.menuButton_.removeClass("vjs-control"),s.addChild(s.menuButton_),s.update(),s.enabled_=!0;var o=function(u){return s.handleClick(u)};return s.handleMenuKeyUp_=function(l){return s.handleMenuKeyUp(l)},s.on(s.menuButton_,"tap",o),s.on(s.menuButton_,"click",o),s.on(s.menuButton_,"keydown",function(l){return s.handleKeyDown(l)}),s.on(s.menuButton_,"mouseenter",function(){s.addClass("vjs-hover"),s.menu.show(),To(Be,"keyup",s.handleMenuKeyUp_)}),s.on("mouseleave",function(l){return s.handleMouseLeave(l)}),s.on("keydown",function(l){return s.handleSubmenuKeyDown(l)}),s}var t=e.prototype;return t.update=function(){var i=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=i,this.addChild(i),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},t.createMenu=function(){var i=new E7(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var s=fn("li",{className:"vjs-menu-title",textContent:xi(this.options_.title),tabIndex:-1}),a=new kt(this.player_,{el:s});i.addItem(a)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)i.addItem(this.items[o]);return i},t.createItems=function(){},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},t.buildWrapperCSSClass=function(){var i="vjs-menu-button";this.options_.inline===!0?i+="-inline":i+="-popup";var s=Bl.prototype.buildCSSClass();return"vjs-menu-button "+i+" "+s+" "+r.prototype.buildCSSClass.call(this)},t.buildCSSClass=function(){var i="vjs-menu-button";return this.options_.inline===!0?i+="-inline":i+="-popup","vjs-menu-button "+i+" "+r.prototype.buildCSSClass.call(this)},t.controlText=function(i,s){return s===void 0&&(s=this.menuButton_.el()),this.menuButton_.controlText(i,s)},t.dispose=function(){this.handleMouseLeave(),r.prototype.dispose.call(this)},t.handleClick=function(i){this.buttonPressed_?this.unpressButton():this.pressButton()},t.handleMouseLeave=function(i){this.removeClass("vjs-hover"),zs(Be,"keyup",this.handleMenuKeyUp_)},t.focus=function(){this.menuButton_.focus()},t.blur=function(){this.menuButton_.blur()},t.handleKeyDown=function(i){$r.isEventKey(i,"Esc")||$r.isEventKey(i,"Tab")?(this.buttonPressed_&&this.unpressButton(),$r.isEventKey(i,"Tab")||(i.preventDefault(),this.menuButton_.focus())):($r.isEventKey(i,"Up")||$r.isEventKey(i,"Down"))&&(this.buttonPressed_||(i.preventDefault(),this.pressButton()))},t.handleMenuKeyUp=function(i){($r.isEventKey(i,"Esc")||$r.isEventKey(i,"Tab"))&&this.removeClass("vjs-hover")},t.handleSubmenuKeyPress=function(i){this.handleSubmenuKeyDown(i)},t.handleSubmenuKeyDown=function(i){($r.isEventKey(i,"Esc")||$r.isEventKey(i,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),$r.isEventKey(i,"Tab")||(i.preventDefault(),this.menuButton_.focus()))},t.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),da&&jj())return;this.menu.focus()}},t.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},t.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},t.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e})(kt);kt.registerComponent("MenuButton",iD);var sD=(function(r){Ht(e,r);function e(t,n){var i,s=n.tracks;if(i=r.call(this,t,n)||this,i.items.length<=1&&i.hide(),!s)return We(i);var a=qn(We(i),i.update);return s.addEventListener("removetrack",a),s.addEventListener("addtrack",a),s.addEventListener("labelchange",a),i.player_.on("ready",a),i.player_.on("dispose",function(){s.removeEventListener("removetrack",a),s.removeEventListener("addtrack",a),s.removeEventListener("labelchange",a)}),i}return e})(iD);kt.registerComponent("TrackButton",sD);var oxe=["Tab","Esc","Up","Down","Right","Left"],Pv=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.selectable=i.selectable,s.isSelected_=i.selected||!1,s.multiSelectable=i.multiSelectable,s.selected(s.isSelected_),s.selectable?s.multiSelectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitemradio"):s.el_.setAttribute("role","menuitem"),s}var t=e.prototype;return t.createEl=function(i,s,a){this.nonIconControl=!0;var o=r.prototype.createEl.call(this,"li",ci({className:"vjs-menu-item",tabIndex:-1},s),a);return o.replaceChild(fn("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},t.handleKeyDown=function(i){oxe.some(function(s){return $r.isEventKey(i,s)})||r.prototype.handleKeyDown.call(this,i)},t.handleClick=function(i){this.selected(!0)},t.selected=function(i){this.selectable&&(i?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e})(aT);kt.registerComponent("MenuItem",Pv);var Rv=(function(r){Ht(e,r);function e(n,i){var s,a=i.track,o=n.textTracks();i.label=a.label||a.language||"Unknown",i.selected=a.mode==="showing",s=r.call(this,n,i)||this,s.track=a,s.kinds=(i.kinds||[i.kind||s.track.kind]).filter(Boolean);var l=function(){for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];s.handleTracksChange.apply(We(s),g)},u=function(){for(var f=arguments.length,g=new Array(f),v=0;v<f;v++)g[v]=arguments[v];s.handleSelectedLanguageChange.apply(We(s),g)};if(n.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),s.on("dispose",function(){n.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;s.on(["tap","click"],function(){if(typeof X.Event!="object")try{c=new X.Event("change")}catch{}c||(c=Be.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return s.handleTracksChange(),s}var t=e.prototype;return t.handleClick=function(i){var s=this.track,a=this.player_.textTracks();if(r.prototype.handleClick.call(this,i),!!a)for(var o=0;o<a.length;o++){var l=a[o];this.kinds.indexOf(l.kind)!==-1&&(l===s?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},t.handleTracksChange=function(i){var s=this.track.mode==="showing";s!==this.isSelected_&&this.selected(s)},t.handleSelectedLanguageChange=function(i){if(this.track.mode==="showing"){var s=this.player_.cache_.selectedLanguage;if(s&&s.enabled&&s.language===this.track.language&&s.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},t.dispose=function(){this.track=null,r.prototype.dispose.call(this)},e})(Pv);kt.registerComponent("TextTrackMenuItem",Rv);var k7=(function(r){Ht(e,r);function e(n,i){return i.track={player:n,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,r.call(this,n,i)||this}var t=e.prototype;return t.handleTracksChange=function(i){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},t.handleSelectedLanguageChange=function(i){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e})(Rv);kt.registerComponent("OffTextTrackMenuItem",k7);var Wm=(function(r){Ht(e,r);function e(n,i){return i===void 0&&(i={}),i.tracks=n.textTracks(),r.call(this,n,i)||this}var t=e.prototype;return t.createItems=function(i,s){i===void 0&&(i=[]),s===void 0&&(s=Rv);var a;this.label_&&(a=this.label_+" off"),i.push(new k7(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new s(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),i.push(c)}}return i},e})(sD);kt.registerComponent("TextTrackButton",Wm);var A7=(function(r){Ht(e,r);function e(n,i){var s,a=i.track,o=i.cue,l=n.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=o.text,i.selected=o.startTime<=l&&l<o.endTime,s=r.call(this,n,i)||this,s.track=a,s.cue=o,s}var t=e.prototype;return t.handleClick=function(i){r.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e})(Pv);kt.registerComponent("ChaptersTrackMenuItem",A7);var aD=(function(r){Ht(e,r);function e(n,i,s){var a;return a=r.call(this,n,i,s)||this,a.selectCurrentItem_=function(){a.items.forEach(function(o){o.selected(a.track_.activeCues[0]===o.cue)})},a}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-chapters-button "+r.prototype.buildWrapperCSSClass.call(this)},t.update=function(i){if(!(i&&i.track&&i.track.kind!=="chapters")){var s=this.findChaptersTrack();s!==this.track_?(this.setTrack(s),r.prototype.update.call(this)):(!this.items||s&&s.cues&&s.cues.length!==this.items.length)&&r.prototype.update.call(this)}},t.setTrack=function(i){if(this.track_!==i){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=i,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},t.findChaptersTrack=function(){for(var i=this.player_.textTracks()||[],s=i.length-1;s>=0;s--){var a=i[s];if(a.kind===this.kind_)return a}},t.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(xi(this.kind_))},t.createMenu=function(){return this.options_.title=this.getMenuCaption(),r.prototype.createMenu.call(this)},t.createItems=function(){var i=[];if(!this.track_)return i;var s=this.track_.cues;if(!s)return i;for(var a=0,o=s.length;a<o;a++){var l=s[a],u=new A7(this.player_,{track:this.track_,cue:l});i.push(u)}return i},e})(Wm);aD.prototype.kind_="chapters";aD.prototype.controlText_="Chapters";kt.registerComponent("ChaptersButton",aD);var oD=(function(r){Ht(e,r);function e(n,i,s){var a;a=r.call(this,n,i,s)||this;var o=n.textTracks(),l=qn(We(a),a.handleTracksChange);return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var t=e.prototype;return t.handleTracksChange=function(i){for(var s=this.player().textTracks(),a=!1,o=0,l=s.length;o<l;o++){var u=s[o];if(u.kind!==this.kind_&&u.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},t.buildCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+r.prototype.buildWrapperCSSClass.call(this)},e})(Wm);oD.prototype.kind_="descriptions";oD.prototype.controlText_="Descriptions";kt.registerComponent("DescriptionsButton",oD);var lD=(function(r){Ht(e,r);function e(n,i,s){return r.call(this,n,i,s)||this}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+r.prototype.buildWrapperCSSClass.call(this)},e})(Wm);lD.prototype.kind_="subtitles";lD.prototype.controlText_="Subtitles";kt.registerComponent("SubtitlesButton",lD);var uD=(function(r){Ht(e,r);function e(n,i){var s;return i.track={player:n,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",s=r.call(this,n,i)||this,s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+i.kind+" settings dialog"),s}var t=e.prototype;return t.handleClick=function(i){this.player().getChild("textTrackSettings").open()},e})(Rv);kt.registerComponent("CaptionSettingsMenuItem",uD);var cD=(function(r){Ht(e,r);function e(n,i,s){return r.call(this,n,i,s)||this}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-captions-button "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-captions-button "+r.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new uD(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),r.prototype.createItems.call(this,i)},e})(Wm);cD.prototype.kind_="captions";cD.prototype.controlText_="Captions";kt.registerComponent("CaptionsButton",cD);var D7=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.createEl=function(i,s,a){var o=r.prototype.createEl.call(this,i,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(fn("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e})(Rv);kt.registerComponent("SubsCapsMenuItem",D7);var dD=(function(r){Ht(e,r);function e(n,i){var s;return i===void 0&&(i={}),s=r.call(this,n,i)||this,s.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(s.player_.language_)>-1&&(s.label_="captions"),s.menuButton_.controlText(xi(s.label_)),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+r.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){var i=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(i.push(new uD(this.player_,{kind:this.label_})),this.hideThreshold_+=1),i=r.prototype.createItems.call(this,i,D7),i},e})(Wm);dD.prototype.kinds_=["captions","subtitles"];dD.prototype.controlText_="Subtitles";kt.registerComponent("SubsCapsButton",dD);var I7=(function(r){Ht(e,r);function e(n,i){var s,a=i.track,o=n.audioTracks();i.label=a.label||a.language||"Unknown",i.selected=a.enabled,s=r.call(this,n,i)||this,s.track=a,s.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var c=arguments.length,h=new Array(c),f=0;f<c;f++)h[f]=arguments[f];s.handleTracksChange.apply(We(s),h)};return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var t=e.prototype;return t.createEl=function(i,s,a){var o=r.prototype.createEl.call(this,i,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(fn("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(fn("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},t.handleClick=function(i){if(r.prototype.handleClick.call(this,i),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];o!==this.track&&(o.enabled=o===this.track)}},t.handleTracksChange=function(i){this.selected(this.track.enabled)},e})(Pv);kt.registerComponent("AudioTrackMenuItem",I7);var P7=(function(r){Ht(e,r);function e(n,i){return i===void 0&&(i={}),i.tracks=n.audioTracks(),r.call(this,n,i)||this}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-audio-button "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-audio-button "+r.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(i){i===void 0&&(i=[]),this.hideThreshold_=1;for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];i.push(new I7(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return i},e})(sD);P7.prototype.controlText_="Audio Track";kt.registerComponent("AudioTrackButton",P7);var hD=(function(r){Ht(e,r);function e(n,i){var s,a=i.rate,o=parseFloat(a,10);return i.label=a,i.selected=o===n.playbackRate(),i.selectable=!0,i.multiSelectable=!1,s=r.call(this,n,i)||this,s.label=a,s.rate=o,s.on(n,"ratechange",function(l){return s.update(l)}),s}var t=e.prototype;return t.handleClick=function(i){r.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},t.update=function(i){this.selected(this.player().playbackRate()===this.rate)},e})(Pv);hD.prototype.contentElType="button";kt.registerComponent("PlaybackRateMenuItem",hD);var R7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.menuButton_.el_.setAttribute("aria-describedby",s.labelElId_),s.updateVisibility(),s.updateLabel(),s.on(n,"loadstart",function(a){return s.updateVisibility(a)}),s.on(n,"ratechange",function(a){return s.updateLabel(a)}),s.on(n,"playbackrateschange",function(a){return s.handlePlaybackRateschange(a)}),s}var t=e.prototype;return t.createEl=function(){var i=r.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=fn("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),i.appendChild(this.labelEl_),i},t.dispose=function(){this.labelEl_=null,r.prototype.dispose.call(this)},t.buildCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildCSSClass.call(this)},t.buildWrapperCSSClass=function(){return"vjs-playback-rate "+r.prototype.buildWrapperCSSClass.call(this)},t.createItems=function(){for(var i=this.playbackRates(),s=[],a=i.length-1;a>=0;a--)s.push(new hD(this.player(),{rate:i[a]+"x"}));return s},t.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},t.handleClick=function(i){var s=this.player().playbackRate(),a=this.playbackRates(),o=a.indexOf(s),l=(o+1)%a.length;this.player().playbackRate(a[l])},t.handlePlaybackRateschange=function(i){this.update()},t.playbackRates=function(){var i=this.player();return i.playbackRates&&i.playbackRates()||[]},t.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},t.updateVisibility=function(i){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},t.updateLabel=function(i){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e})(iD);R7.prototype.controlText_="Playback Rate";kt.registerComponent("PlaybackRateMenuButton",R7);var L7=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-spacer "+r.prototype.buildCSSClass.call(this)},t.createEl=function(i,s,a){return i===void 0&&(i="div"),s===void 0&&(s={}),a===void 0&&(a={}),s.className||(s.className=this.buildCSSClass()),r.prototype.createEl.call(this,i,s,a)},e})(kt);kt.registerComponent("Spacer",L7);var lxe=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-custom-control-spacer "+r.prototype.buildCSSClass.call(this)},t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:""})},e})(L7);kt.registerComponent("CustomControlSpacer",lxe);var Eb=(function(r){Ht(e,r);function e(){return r.apply(this,arguments)||this}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e})(kt);Eb.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in Be&&Eb.prototype.options_.children.splice(Eb.prototype.options_.children.length-1,0,"pictureInPictureToggle");kt.registerComponent("ControlBar",Eb);var O7=(function(r){Ht(e,r);function e(n,i){var s;return s=r.call(this,n,i)||this,s.on(n,"error",function(a){return s.open(a)}),s}var t=e.prototype;return t.buildCSSClass=function(){return"vjs-error-display "+r.prototype.buildCSSClass.call(this)},t.content=function(){var i=this.player().error();return i?this.localize(i.message):""},e})(zm);O7.prototype.options_=sr({},zm.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});kt.registerComponent("ErrorDisplay",O7);var dw="vjs-text-track-settings",W3=["#000","Black"],q3=["#00F","Blue"],G3=["#0FF","Cyan"],K3=["#0F0","Green"],X3=["#F0F","Magenta"],Y3=["#F00","Red"],Q3=["#FFF","White"],J3=["#FF0","Yellow"],hw=["1","Opaque"],fw=["0.5","Semi-Transparent"],Z3=["0","Transparent"],Vh={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[W3,Q3,Y3,K3,q3,J3,X3,G3]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[hw,fw,Z3]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Q3,W3,Y3,K3,q3,J3,X3,G3]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[hw,fw]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Z3,fw,hw]}};Vh.windowColor.options=Vh.backgroundColor.options;function M7(r,e){if(e&&(r=e(r)),r&&r!=="none")return r}function uxe(r,e){var t=r.options[r.options.selectedIndex].value;return M7(t,e)}function cxe(r,e,t){if(e){for(var n=0;n<r.options.length;n++)if(M7(r.options[n].value,t)===e){r.selectedIndex=n;break}}}var dxe=(function(r){Ht(e,r);function e(n,i){var s;return i.temporary=!1,s=r.call(this,n,i)||this,s.updateDisplay=s.updateDisplay.bind(We(s)),s.fill(),s.hasBeenOpened_=s.hasBeenFilled_=!0,s.endDialog=fn("p",{className:"vjs-control-text",textContent:s.localize("End of dialog window.")}),s.el().appendChild(s.endDialog),s.setDefaults(),i.persistTextTrackSettings===void 0&&(s.options_.persistTextTrackSettings=s.options_.playerOptions.persistTextTrackSettings),s.on(s.$(".vjs-done-button"),"click",function(){s.saveSettings(),s.close()}),s.on(s.$(".vjs-default-button"),"click",function(){s.setDefaults(),s.updateDisplay()}),Vp(Vh,function(a){s.on(s.$(a.selector),"change",s.updateDisplay)}),s.options_.persistTextTrackSettings&&s.restoreSettings(),s}var t=e.prototype;return t.dispose=function(){this.endDialog=null,r.prototype.dispose.call(this)},t.createElSelect_=function(i,s,a){var o=this;s===void 0&&(s=""),a===void 0&&(a="label");var l=Vh[i],u=l.id.replace("%s",this.id_),c=[s,u].join(" ").trim();return["<"+a+' id="'+u+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(h){var f=u+"-"+h[1].replace(/\W+/g,"");return['<option id="'+f+'" value="'+h[0]+'" ','aria-labelledby="'+c+" "+f+'">',o.localize(h[1]),"</option>"].join("")})).concat("</select>").join("")},t.createElFgColor_=function(){var i="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",i),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",i),"</span>","</fieldset>"].join("")},t.createElBgColor_=function(){var i="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",i),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",i),"</span>","</fieldset>"].join("")},t.createElWinColor_=function(){var i="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+i+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",i),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",i),"</span>","</fieldset>"].join("")},t.createElColors_=function(){return fn("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},t.createElFont_=function(){return fn("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},t.createElControls_=function(){var i=this.localize("restore all settings to the default values");return fn("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+i+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+i+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},t.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},t.label=function(){return this.localize("Caption Settings Dialog")},t.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},t.buildCSSClass=function(){return r.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},t.getValues=function(){var i=this;return Zve(Vh,function(s,a,o){var l=uxe(i.$(a.selector),a.parser);return l!==void 0&&(s[o]=l),s},{})},t.setValues=function(i){var s=this;Vp(Vh,function(a,o){cxe(s.$(a.selector),i[o],a.parser)})},t.setDefaults=function(){var i=this;Vp(Vh,function(s){var a=s.hasOwnProperty("default")?s.default:0;i.$(s.selector).selectedIndex=a})},t.restoreSettings=function(){var i;try{i=JSON.parse(X.localStorage.getItem(dw))}catch(s){Xr.warn(s)}i&&this.setValues(i)},t.saveSettings=function(){if(this.options_.persistTextTrackSettings){var i=this.getValues();try{Object.keys(i).length?X.localStorage.setItem(dw,JSON.stringify(i)):X.localStorage.removeItem(dw)}catch(s){Xr.warn(s)}}},t.updateDisplay=function(){var i=this.player_.getChild("textTrackDisplay");i&&i.updateDisplay()},t.conditionalBlur_=function(){this.previouslyActiveEl_=null;var i=this.player_.controlBar,s=i&&i.subsCapsButton,a=i&&i.captionsButton;s?s.focus():a&&a.focus()},e})(zm);kt.registerComponent("TextTrackSettings",dxe);var hxe=(function(r){Ht(e,r);function e(n,i){var s,a=i.ResizeObserver||X.ResizeObserver;i.ResizeObserver===null&&(a=!1);var o=Wn({createEl:!a,reportTouchActivity:!1},i);return s=r.call(this,n,o)||this,s.ResizeObserver=i.ResizeObserver||X.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=cye(function(){s.resizeHandler()},100,!1,We(s)),a?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(n.el())):(s.loadListener_=function(){if(!(!s.el_||!s.el_.contentWindow)){var l=s.debouncedHandler_,u=s.unloadListener_=function(){zs(this,"resize",l),zs(this,"unload",u),u=null};To(s.el_.contentWindow,"unload",u),To(s.el_.contentWindow,"resize",l)}},s.one("load",s.loadListener_)),s}var t=e.prototype;return t.createEl=function(){return r.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},t.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},t.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,r.prototype.dispose.call(this)},e})(kt);kt.registerComponent("ResizeManager",hxe);var fxe={trackingThreshold:20,liveTolerance:15},pxe=(function(r){Ht(e,r);function e(n,i){var s,a=Wn(fxe,i,{createEl:!1});return s=r.call(this,n,a)||this,s.handleVisibilityChange_=function(o){return s.handleVisibilityChange(o)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(o){return s.handlePlay(o)},s.handleFirstTimeupdate_=function(o){return s.handleFirstTimeupdate(o)},s.handleSeeked_=function(o){return s.handleSeeked(o)},s.seekToLiveEdge_=function(o){return s.seekToLiveEdge(o)},s.reset_(),s.on(s.player_,"durationchange",function(o){return s.handleDurationchange(o)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),Av&&"hidden"in Be&&"visibilityState"in Be&&s.on(Be,"visibilitychange",s.handleVisibilityChange_),s}var t=e.prototype;return t.handleVisibilityChange=function(){this.player_.duration()===1/0&&(Be.hidden?this.stopTracking():this.startTracking())},t.trackLive_=function(){var i=this.player_.seekable();if(!(!i||!i.length)){var s=Number(X.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(s-this.lastTime_)/1e3;this.lastTime_=s,this.pastSeekEnd_=this.pastSeekEnd()+a;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},t.handleDurationchange=function(){this.toggleTracking()},t.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},t.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Ul),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},t.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},t.handleSeeked=function(){var i=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&i>2,this.nextSeekedFromUser_=!1,this.trackLive_()},t.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},t.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},t.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},t.stopTracking=function(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))},t.seekableEnd=function(){for(var i=this.player_.seekable(),s=[],a=i?i.length:0;a--;)s.push(i.end(a));return s.length?s.sort()[s.length-1]:1/0},t.seekableStart=function(){for(var i=this.player_.seekable(),s=[],a=i?i.length:0;a--;)s.push(i.start(a));return s.length?s.sort()[0]:0},t.liveWindow=function(){var i=this.liveCurrentTime();return i===1/0?0:i-this.seekableStart()},t.isLive=function(){return this.isTracking()},t.atLiveEdge=function(){return!this.behindLiveEdge()},t.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},t.pastSeekEnd=function(){var i=this.seekableEnd();return this.lastSeekEnd_!==-1&&i!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=i,this.pastSeekEnd_},t.behindLiveEdge=function(){return this.behindLiveEdge_},t.isTracking=function(){return typeof this.trackingInterval_=="number"},t.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},t.dispose=function(){this.off(Be,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),r.prototype.dispose.call(this)},e})(kt);kt.registerComponent("LiveTracker",pxe);var hE=function(e){var t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;var n=e.$$("source"),i=[],s="";if(!n.length)return!1;for(var a=0;a<n.length;a++){var o=n[a].src;o&&i.indexOf(o)===-1&&i.push(o)}return i.length?(i.length===1&&(s=i[0]),e.triggerSourceset(s),!0):!1},mxe=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var t=Be.createElement(this.nodeName.toLowerCase());t.innerHTML=e;for(var n=Be.createDocumentFragment();t.childNodes.length;)n.appendChild(t.childNodes[0]);return this.innerText="",X.Element.prototype.appendChild.call(this,n),this.innerHTML}}),F7=function(e,t){for(var n={},i=0;i<e.length&&(n=Object.getOwnPropertyDescriptor(e[i],t),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},gxe=function(e){return F7([e.el(),X.HTMLMediaElement.prototype,X.Element.prototype,mxe],"innerHTML")},eF=function(e){var t=e.el();if(!t.resetSourceWatch_){var n={},i=gxe(e),s=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var h=o.apply(t,u);return hE(e),h}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){t[a]&&(n[a]=t[a],t[a]=s(n[a]))}),Object.defineProperty(t,"innerHTML",Wn(i,{set:s(i.set)})),t.resetSourceWatch_=function(){t.resetSourceWatch_=null,Object.keys(n).forEach(function(a){t[a]=n[a]}),Object.defineProperty(t,"innerHTML",i)},e.one("sourceset",t.resetSourceWatch_)}},vxe=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?u7(X.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return X.Element.prototype.setAttribute.call(this,"src",e),e}}),yxe=function(e){return F7([e.el(),X.HTMLMediaElement.prototype,vxe],"src")},xxe=function(e){if(e.featuresSourceset){var t=e.el();if(!t.resetSourceset_){var n=yxe(e),i=t.setAttribute,s=t.load;Object.defineProperty(t,"src",Wn(n,{set:function(o){var l=n.set.call(t,o);return e.triggerSourceset(t.src),l}})),t.setAttribute=function(a,o){var l=i.call(t,a,o);return/src/i.test(a)&&e.triggerSourceset(t.src),l},t.load=function(){var a=s.call(t);return hE(e)||(e.triggerSourceset(""),eF(e)),a},t.currentSrc?e.triggerSourceset(t.currentSrc):hE(e)||eF(e),t.resetSourceset_=function(){t.resetSourceset_=null,t.load=s,t.setAttribute=i,Object.defineProperty(t,"src",n),t.resetSourceWatch_&&t.resetSourceWatch_()}}}},fD=function(e,t,n,i){i===void 0&&(i=!0);var s=function(l){return Object.defineProperty(e,t,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=n();return s(l),l}};return i&&(a.set=s),Object.defineProperty(e,t,a)},Gt=(function(r){Ht(e,r);function e(n,i){var s;s=r.call(this,n,i)||this;var a=n.source,o=!1;if(s.featuresVideoFrameCallback=s.featuresVideoFrameCallback&&s.el_.tagName==="VIDEO",a&&(s.el_.currentSrc!==a.src||n.tag&&n.tag.initNetworkState_===3)?s.setSource(a):s.handleLateInit_(s.el_),n.enableSourceset&&s.setupSourcesetHandling_(),s.isScrubbing_=!1,s.el_.hasChildNodes()){for(var l=s.el_.childNodes,u=l.length,c=[];u--;){var h=l[u],f=h.nodeName.toLowerCase();f==="track"&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(h),s.remoteTextTracks().addTrack(h.track),s.textTracks().addTrack(h.track),!o&&!s.el_.hasAttribute("crossorigin")&&sT(h.src)&&(o=!0)):c.push(h))}for(var g=0;g<c.length;g++)s.el_.removeChild(c[g])}return s.proxyNativeTracks_(),s.featuresNativeTextTracks&&o&&Xr.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),s.restoreMetadataTracksInIOSNativePlayer_(),(pm||zA||Fj)&&n.nativeControlsForTouch===!0&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}var t=e.prototype;return t.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,r.prototype.dispose.call(this)},t.setupSourcesetHandling_=function(){xxe(this)},t.restoreMetadataTracksInIOSNativePlayer_=function(){var i=this.textTracks(),s,a=function(){s=[];for(var u=0;u<i.length;u++){var c=i[u];c.kind==="metadata"&&s.push({track:c,storedMode:c.mode})}};a(),i.addEventListener("change",a),this.on("dispose",function(){return i.removeEventListener("change",a)});var o=function l(){for(var u=0;u<s.length;u++){var c=s[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}i.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){i.removeEventListener("change",a),i.removeEventListener("change",o),i.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){i.removeEventListener("change",a),i.addEventListener("change",a),i.removeEventListener("change",o)})},t.overrideNative_=function(i,s){var a=this;if(s===this["featuresNative"+i+"Tracks"]){var o=i.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=a.el()[o+"Tracks"];u.removeEventListener(l,a[o+"TracksListeners_"][l])}),this["featuresNative"+i+"Tracks"]=!s,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},t.overrideNativeAudioTracks=function(i){this.overrideNative_("Audio",i)},t.overrideNativeVideoTracks=function(i){this.overrideNative_("Video",i)},t.proxyNativeTracksForType_=function(i){var s=this,a=tl[i],o=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(f){var g={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(g),i==="text"&&s[ym.remoteText.getterName]().trigger(g)},addtrack:function(f){l.addTrack(f.track)},removetrack:function(f){l.removeTrack(f.track)}},c=function(){for(var f=[],g=0;g<l.length;g++){for(var v=!1,y=0;y<o.length;y++)if(o[y]===l[g]){v=!0;break}v||f.push(l[g])}for(;f.length;)l.removeTrack(f.shift())};this[a.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(h){var f=u[h];o.addEventListener(h,f),s.on("dispose",function(g){return o.removeEventListener(h,f)})}),this.on("loadstart",c),this.on("dispose",function(h){return s.off("loadstart",c)})}},t.proxyNativeTracks_=function(){var i=this;tl.names.forEach(function(s){i.proxyNativeTracksForType_(s)})},t.createEl=function(){var i=this.options_.tag;if(!i||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(i){var s=i.cloneNode(!0);i.parentNode&&i.parentNode.insertBefore(s,i),e.disposeMediaElement(i),i=s}else{i=Be.createElement("video");var a=this.options_.tag&&kc(this.options_.tag),o=Wn({},a);(!pm||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,Vj(i,ci(o,{id:this.options_.techId,class:"vjs-tech"}))}i.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&mm(i,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(i.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],h=this.options_[c];typeof h<"u"&&(h?mm(i,c,c):eT(i,c),i[c]=h)}return i},t.handleLateInit_=function(i){if(!(i.networkState===0||i.networkState===3)){if(i.readyState===0){var s=!1,a=function(){s=!0};this.on("loadstart",a);var o=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",o),s||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),i.readyState>=2&&l.push("loadeddata"),i.readyState>=3&&l.push("canplay"),i.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},t.setScrubbing=function(i){this.isScrubbing_=i},t.scrubbing=function(){return this.isScrubbing_},t.setCurrentTime=function(i){try{this.isScrubbing_&&this.el_.fastSeek&&ZS?this.el_.fastSeek(i):this.el_.currentTime=i}catch(s){Xr(s,"Video is not ready. (Video.js)")}},t.duration=function(){var i=this;if(this.el_.duration===1/0&&zc&&Hc&&this.el_.currentTime===0){var s=function a(){i.el_.currentTime>0&&(i.el_.duration===1/0&&i.trigger("durationchange"),i.off("timeupdate",a))};return this.on("timeupdate",s),NaN}return this.el_.duration||NaN},t.width=function(){return this.el_.offsetWidth},t.height=function(){return this.el_.offsetHeight},t.proxyWebkitFullscreen_=function(){var i=this;if("webkitDisplayingFullscreen"in this.el_){var s=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",s),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){i.off("webkitbeginfullscreen",a),i.off("webkitendfullscreen",s)})}},t.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var i=X.navigator&&X.navigator.userAgent||"";if(/Android/.test(i)||!/Chrome|Mac OS X 10.5/.test(i))return!0}return!1},t.enterFullScreen=function(){var i=this.el_;if(i.paused&&i.networkState<=i.HAVE_METADATA)Au(this.el_.play()),this.setTimeout(function(){i.pause();try{i.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},0);else try{i.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},t.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},t.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},t.requestVideoFrameCallback=function(i){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(i):r.prototype.requestVideoFrameCallback.call(this,i)},t.cancelVideoFrameCallback=function(i){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(i):r.prototype.cancelVideoFrameCallback.call(this,i)},t.src=function(i){if(i===void 0)return this.el_.src;this.setSrc(i)},t.reset=function(){e.resetMediaElement(this.el_)},t.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},t.setControls=function(i){this.el_.controls=!!i},t.addTextTrack=function(i,s,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(i,s,a):r.prototype.addTextTrack.call(this,i,s,a)},t.createRemoteTextTrack=function(i){if(!this.featuresNativeTextTracks)return r.prototype.createRemoteTextTrack.call(this,i);var s=Be.createElement("track");return i.kind&&(s.kind=i.kind),i.label&&(s.label=i.label),(i.language||i.srclang)&&(s.srclang=i.language||i.srclang),i.default&&(s.default=i.default),i.id&&(s.id=i.id),i.src&&(s.src=i.src),s},t.addRemoteTextTrack=function(i,s){var a=r.prototype.addRemoteTextTrack.call(this,i,s);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},t.removeRemoteTextTrack=function(i){if(r.prototype.removeRemoteTextTrack.call(this,i),this.featuresNativeTextTracks)for(var s=this.$$("track"),a=s.length;a--;)(i===s[a]||i===s[a].track)&&this.el().removeChild(s[a])},t.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var i={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(i.droppedVideoFrames=this.el().webkitDroppedFrameCount,i.totalVideoFrames=this.el().webkitDecodedFrameCount),X.performance&&typeof X.performance.now=="function"?i.creationTime=X.performance.now():X.performance&&X.performance.timing&&typeof X.performance.timing.navigationStart=="number"&&(i.creationTime=X.Date.now()-X.performance.timing.navigationStart),i},e})($n);fD(Gt,"TEST_VID",function(){if(Um()){var r=Be.createElement("video"),e=Be.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",r.appendChild(e),r}});Gt.isSupported=function(){try{Gt.TEST_VID.volume=.5}catch{return!1}return!!(Gt.TEST_VID&&Gt.TEST_VID.canPlayType)};Gt.canPlayType=function(r){return Gt.TEST_VID.canPlayType(r)};Gt.canPlaySource=function(r,e){return Gt.canPlayType(r.type)};Gt.canControlVolume=function(){try{var r=Gt.TEST_VID.volume;Gt.TEST_VID.volume=r/2+.1;var e=r!==Gt.TEST_VID.volume;return e&&da?(X.setTimeout(function(){Gt&&Gt.prototype&&(Gt.prototype.featuresVolumeControl=r!==Gt.TEST_VID.volume)}),!1):e}catch{return!1}};Gt.canMuteVolume=function(){try{var r=Gt.TEST_VID.muted;return Gt.TEST_VID.muted=!r,Gt.TEST_VID.muted?mm(Gt.TEST_VID,"muted","muted"):eT(Gt.TEST_VID,"muted","muted"),r!==Gt.TEST_VID.muted}catch{return!1}};Gt.canControlPlaybackRate=function(){if(zc&&Hc&&Nj<58)return!1;try{var r=Gt.TEST_VID.playbackRate;return Gt.TEST_VID.playbackRate=r/2+.1,r!==Gt.TEST_VID.playbackRate}catch{return!1}};Gt.canOverrideAttributes=function(){try{var r=function(){};Object.defineProperty(Be.createElement("video"),"src",{get:r,set:r}),Object.defineProperty(Be.createElement("audio"),"src",{get:r,set:r}),Object.defineProperty(Be.createElement("video"),"innerHTML",{get:r,set:r}),Object.defineProperty(Be.createElement("audio"),"innerHTML",{get:r,set:r})}catch{return!1}return!0};Gt.supportsNativeTextTracks=function(){return ZS||da&&Hc};Gt.supportsNativeVideoTracks=function(){return!!(Gt.TEST_VID&&Gt.TEST_VID.videoTracks)};Gt.supportsNativeAudioTracks=function(){return!!(Gt.TEST_VID&&Gt.TEST_VID.audioTracks)};Gt.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(r){var e=r[0],t=r[1];fD(Gt.prototype,e,function(){return Gt[t]()},!0)});Gt.prototype.featuresVolumeControl=Gt.canControlVolume();Gt.prototype.movingMediaElementInDOM=!da;Gt.prototype.featuresFullscreenResize=!0;Gt.prototype.featuresProgressEvents=!0;Gt.prototype.featuresTimeupdateEvents=!0;Gt.prototype.featuresVideoFrameCallback=!!(Gt.TEST_VID&&Gt.TEST_VID.requestVideoFrameCallback);var kb;Gt.patchCanPlayType=function(){UA>=4&&!Bj&&!Hc&&(kb=Gt.TEST_VID&&Gt.TEST_VID.constructor.prototype.canPlayType,Gt.TEST_VID.constructor.prototype.canPlayType=function(r){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return r&&e.test(r)?"maybe":kb.call(this,r)})};Gt.unpatchCanPlayType=function(){var r=Gt.TEST_VID.constructor.prototype.canPlayType;return kb&&(Gt.TEST_VID.constructor.prototype.canPlayType=kb),r};Gt.patchCanPlayType();Gt.disposeMediaElement=function(r){if(r){for(r.parentNode&&r.parentNode.removeChild(r);r.hasChildNodes();)r.removeChild(r.firstChild);r.removeAttribute("src"),typeof r.load=="function"&&(function(){try{r.load()}catch{}})()}};Gt.resetMediaElement=function(r){if(r){for(var e=r.querySelectorAll("source"),t=e.length;t--;)r.removeChild(e[t]);r.removeAttribute("src"),typeof r.load=="function"&&(function(){try{r.load()}catch{}})()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(r){Gt.prototype[r]=function(){return this.el_[r]||this.el_.hasAttribute(r)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(r){Gt.prototype["set"+xi(r)]=function(e){this.el_[r]=e,e?this.el_.setAttribute(r,r):this.el_.removeAttribute(r)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(r){Gt.prototype[r]=function(){return this.el_[r]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(r){Gt.prototype["set"+xi(r)]=function(e){this.el_[r]=e}});["pause","load","play"].forEach(function(r){Gt.prototype[r]=function(){return this.el_[r]()}});$n.withSourceHandlers(Gt);Gt.nativeSourceHandler={};Gt.nativeSourceHandler.canPlayType=function(r){try{return Gt.TEST_VID.canPlayType(r)}catch{return""}};Gt.nativeSourceHandler.canHandleSource=function(r,e){if(r.type)return Gt.nativeSourceHandler.canPlayType(r.type);if(r.src){var t=XA(r.src);return Gt.nativeSourceHandler.canPlayType("video/"+t)}return""};Gt.nativeSourceHandler.handleSource=function(r,e,t){e.setSrc(r.src)};Gt.nativeSourceHandler.dispose=function(){};Gt.registerSourceHandler(Gt.nativeSourceHandler);$n.registerTech("Html5",Gt);var B7=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],pw={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},fE=["tiny","xsmall","small","medium","large","xlarge","huge"],v_={};fE.forEach(function(r){var e=r.charAt(0)==="x"?"x-"+r.substring(1):r;v_[r]="vjs-layout-"+e});var _xe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ii=(function(r){Ht(e,r);function e(n,i,s){var a;if(n.id=n.id||i.id||"vjs_video_"+Vc(),i=ci(e.getTagSettings(n),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language)if(typeof n.closest=="function"){var o=n.closest("[lang]");o&&o.getAttribute&&(i.language=o.getAttribute("lang"))}else for(var l=n;l&&l.nodeType===1;){if(kc(l).hasOwnProperty("lang")){i.language=l.getAttribute("lang");break}l=l.parentNode}if(a=r.call(this,null,i,s)||this,a.boundDocumentFullscreenChange_=function(f){return a.documentFullscreenChange_(f)},a.boundFullWindowOnEscKey_=function(f){return a.fullWindowOnEscKey(f)},a.boundUpdateStyleEl_=function(f){return a.updateStyleEl_(f)},a.boundApplyInitTime_=function(f){return a.applyInitTime_(f)},a.boundUpdateCurrentBreakpoint_=function(f){return a.updateCurrentBreakpoint_(f)},a.boundHandleTechClick_=function(f){return a.handleTechClick_(f)},a.boundHandleTechDoubleClick_=function(f){return a.handleTechDoubleClick_(f)},a.boundHandleTechTouchStart_=function(f){return a.handleTechTouchStart_(f)},a.boundHandleTechTouchMove_=function(f){return a.handleTechTouchMove_(f)},a.boundHandleTechTouchEnd_=function(f){return a.handleTechTouchEnd_(f)},a.boundHandleTechTap_=function(f){return a.handleTechTap_(f)},a.isFullscreen_=!1,a.log=Lj(a.id_),a.fsApi_=Sb,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=n,a.tagAttributes=n&&kc(n),a.language(a.options_.language),i.languages){var u={};Object.getOwnPropertyNames(i.languages).forEach(function(f){u[f.toLowerCase()]=i.languages[f]}),a.languages_=u}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=i.poster||"",a.controls_=!!i.controls,n.controls=!1,n.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],n.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(function(f){if(typeof a[f]!="function")throw new Error('plugin "'+f+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),qA(We(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(To(Be,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var c=Wn(a.options_);i.plugins&&Object.keys(i.plugins).forEach(function(f){a[f](i.plugins[f])}),i.debug&&a.debug(!0),a.options_.playerOptions=c,a.middleware_=[],a.playbackRates(i.playbackRates),a.initChildren(),a.isAudio(n.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),pm&&a.addClass("vjs-touch-enabled"),da||a.addClass("vjs-workinghover"),e.players[a.id_]=We(a);var h=Ij.split(".")[0];return a.addClass("vjs-v"+h),a.userActive(!0),a.reportUserActivity(),a.one("play",function(f){return a.listenForUserActivity_(f)}),a.on("stageclick",function(f){return a.handleStageClick_(f)}),a.on("keydown",function(f){return a.handleKeyDown(f)}),a.on("languagechange",function(f){return a.handleLanguagechange(f)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)}),a}var t=e.prototype;return t.dispose=function(){var i=this;this.trigger("dispose"),this.off("dispose"),zs(Be,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),zs(Be,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),$ye(this),na.names.forEach(function(s){var a=na[s],o=i[a.getterName]();o&&o.off&&o.off()}),r.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},t.createEl=function(){var i=this.tag,s,a=this.playerElIngest_=i.parentNode&&i.parentNode.hasAttribute&&i.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";a?s=this.el_=i.parentNode:o||(s=this.el_=r.prototype.createEl.call(this,"div"));var l=kc(i);if(o){for(s=this.el_=i,i=this.tag=Be.createElement("video");s.children.length;)i.appendChild(s.firstChild);uf(s,"video-js")||Mc(s,"video-js"),s.appendChild(i),a=this.playerElIngest_=s,Object.keys(s).forEach(function(v){try{i[v]=s[v]}catch{}})}if(i.setAttribute("tabindex","-1"),l.tabindex="-1",(Av||Hc&&Uj)&&(i.setAttribute("role","application"),l.role="application"),i.removeAttribute("width"),i.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(v){o&&v==="class"||s.setAttribute(v,l[v]),o&&i.setAttribute(v,l[v])}),i.playerId=i.id,i.id+="_html5_api",i.className="vjs-tech",i.player=s.player=this,this.addClass("vjs-paused"),X.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=e7("vjs-styles-dimensions");var u=Yd(".vjs-styles-defaults"),c=Yd("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var h=i.getElementsByTagName("a"),f=0;f<h.length;f++){var g=h.item(f);Mc(g,"vjs-hidden"),g.setAttribute("hidden","hidden")}return i.initNetworkState_=i.networkState,i.parentNode&&!a&&i.parentNode.insertBefore(s,i),sE(i,s),this.children_.unshift(i),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=s,s},t.crossOrigin=function(i){if(!i)return this.techGet_("crossOrigin");if(i!=="anonymous"&&i!=="use-credentials"){Xr.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+i+'"');return}this.techCall_("setCrossOrigin",i)},t.width=function(i){return this.dimension("width",i)},t.height=function(i){return this.dimension("height",i)},t.dimension=function(i,s){var a=i+"_";if(s===void 0)return this[a]||0;if(s===""||s==="auto"){this[a]=void 0,this.updateStyleEl_();return}var o=parseFloat(s);if(isNaN(o)){Xr.error('Improper value "'+s+'" supplied for for '+i);return}this[a]=o,this.updateStyleEl_()},t.fluid=function(i){var s=this;if(i===void 0)return!!this.fluid_;this.fluid_=!!i,Fc(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),i?(this.addClass("vjs-fluid"),this.fill(!1),dye(this,function(){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},t.fill=function(i){if(i===void 0)return!!this.fill_;this.fill_=!!i,i?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},t.aspectRatio=function(i){if(i===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(i))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=i,this.fluid(!0),this.updateStyleEl_()},t.updateStyleEl_=function(){if(X.VIDEOJS_NO_DYNAMIC_STYLE===!0){var i=typeof this.width_=="number"?this.width_:this.options_.width,s=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(i>=0&&(a.width=i),s>=0&&(a.height=s));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var h=u.split(":"),f=h[1]/h[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/f:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*f,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),t7(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+c+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+f*100+`%;
      }
    `)},t.loadTech_=function(i,s){var a=this;this.tech_&&this.unloadTech_();var o=xi(i),l=i.charAt(0).toLowerCase()+i.slice(1);o!=="Html5"&&this.tag&&($n.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var c={source:s,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};na.names.forEach(function(f){var g=na[f];c[g.getterName]=a[g.privateName]}),ci(c,this.options_[o]),ci(c,this.options_[l]),ci(c,this.options_[i.toLowerCase()]),this.tag&&(c.tag=this.tag),s&&s.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var h=$n.getTech(i);if(!h)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new h(c),this.tech_.ready(qn(this,this.handleTechReady_),!0),M3.jsonToTextTracks(this.textTracksJson_||[],this.tech_),B7.forEach(function(f){a.on(a.tech_,f,function(g){return a["handleTech"+xi(f)+"_"](g)})}),Object.keys(pw).forEach(function(f){a.on(a.tech_,f,function(g){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+pw[f]+"_"].bind(a),event:g});return}a["handleTech"+pw[f]+"_"](g)})}),this.on(this.tech_,"loadstart",function(f){return a.handleTechLoadStart_(f)}),this.on(this.tech_,"sourceset",function(f){return a.handleTechSourceset_(f)}),this.on(this.tech_,"waiting",function(f){return a.handleTechWaiting_(f)}),this.on(this.tech_,"ended",function(f){return a.handleTechEnded_(f)}),this.on(this.tech_,"seeking",function(f){return a.handleTechSeeking_(f)}),this.on(this.tech_,"play",function(f){return a.handleTechPlay_(f)}),this.on(this.tech_,"firstplay",function(f){return a.handleTechFirstPlay_(f)}),this.on(this.tech_,"pause",function(f){return a.handleTechPause_(f)}),this.on(this.tech_,"durationchange",function(f){return a.handleTechDurationChange_(f)}),this.on(this.tech_,"fullscreenchange",function(f,g){return a.handleTechFullscreenChange_(f,g)}),this.on(this.tech_,"fullscreenerror",function(f,g){return a.handleTechFullscreenError_(f,g)}),this.on(this.tech_,"enterpictureinpicture",function(f){return a.handleTechEnterPictureInPicture_(f)}),this.on(this.tech_,"leavepictureinpicture",function(f){return a.handleTechLeavePictureInPicture_(f)}),this.on(this.tech_,"error",function(f){return a.handleTechError_(f)}),this.on(this.tech_,"posterchange",function(f){return a.handleTechPosterChange_(f)}),this.on(this.tech_,"textdata",function(f){return a.handleTechTextData_(f)}),this.on(this.tech_,"ratechange",function(f){return a.handleTechRateChange_(f)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&sE(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},t.unloadTech_=function(){var i=this;na.names.forEach(function(s){var a=na[s];i[a.privateName]=i[a.getterName]()}),this.textTracksJson_=M3.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},t.tech=function(i){return i===void 0&&Xr.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},t.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},t.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},t.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},t.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},t.manualAutoplay_=function(i){var s=this;if(!(!this.tech_||typeof i!="string")){var a=function(){var u=s.muted();s.muted(!0);var c=function(){s.muted(u)};s.playTerminatedQueue_.push(c);var h=s.play();if(v0(h))return h.catch(function(f){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(f||""))})},o;if(i==="any"&&!this.muted()?(o=this.play(),v0(o)&&(o=o.catch(a))):i==="muted"&&!this.muted()?o=a():o=this.play(),!!v0(o))return o.then(function(){s.trigger({type:"autoplay-success",autoplay:i})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:i})})}},t.updateSourceCaches_=function(i){i===void 0&&(i="");var s=i,a="";typeof s!="string"&&(s=i.src,a=i.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],s&&!a&&(a=Hye(this,s)),this.cache_.source=Wn({},i,{src:s,type:a});for(var o=this.cache_.sources.filter(function(g){return g.src&&g.src===s}),l=[],u=this.$$("source"),c=[],h=0;h<u.length;h++){var f=kc(u[h]);l.push(f),f.src&&f.src===s&&c.push(f.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=s},t.handleTechSourceset_=function(i){var s=this;if(!this.changingSrc_){var a=function(c){return s.updateSourceCaches_(c)},o=this.currentSource().src,l=i.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(a=function(){}),a(l),i.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=s.techGet("currentSrc");s.lastSource_.tech=c,s.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:i.src},this.trigger({src:i.src,type:"sourceset"})},t.hasStarted=function(i){if(i===void 0)return this.hasStarted_;i!==this.hasStarted_&&(this.hasStarted_=i,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},t.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},t.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(i){return i.callback(i.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},t.handleTechWaiting_=function(){var i=this;this.addClass("vjs-waiting"),this.trigger("waiting");var s=this.currentTime(),a=function o(){s!==i.currentTime()&&(i.removeClass("vjs-waiting"),i.off("timeupdate",o))};this.on("timeupdate",a)},t.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},t.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},t.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},t.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},t.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},t.handleTechFirstPlay_=function(){this.options_.starttime&&(Xr.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},t.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},t.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},t.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},t.handleTechClick_=function(i){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,i):this.paused()?Au(this.play()):this.pause())},t.handleTechDoubleClick_=function(i){if(this.controls_){var s=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(i.target)});s||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,i):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},t.handleTechTap_=function(){this.userActive(!this.userActive())},t.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},t.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},t.handleTechTouchEnd_=function(i){i.cancelable&&i.preventDefault()},t.handleStageClick_=function(){this.reportUserActivity()},t.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},t.documentFullscreenChange_=function(i){var s=i.target.player;if(!(s&&s!==this)){var a=this.el(),o=Be[this.fsApi_.fullscreenElement]===a;!o&&a.matches?o=a.matches(":"+this.fsApi_.fullscreen):!o&&a.msMatchesSelector&&(o=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},t.handleTechFullscreenChange_=function(i,s){var a=this;s&&(s.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){a.removeClass("vjs-ios-native-fs")})),this.isFullscreen(s.isFullscreen))},t.handleTechFullscreenError_=function(i,s){this.trigger("fullscreenerror",s)},t.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},t.handleTechEnterPictureInPicture_=function(i){this.isInPictureInPicture(!0)},t.handleTechLeavePictureInPicture_=function(i){this.isInPictureInPicture(!1)},t.handleTechError_=function(){var i=this.tech_.error();this.error(i)},t.handleTechTextData_=function(){var i=null;arguments.length>1&&(i=arguments[1]),this.trigger("textdata",i)},t.getCache=function(){return this.cache_},t.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},t.techCall_=function(i,s){this.ready(function(){if(i in Nye)return Fye(this.middleware_,this.tech_,i,s);if(i in j3)return $3(this.middleware_,this.tech_,i,s);try{this.tech_&&this.tech_[i](s)}catch(a){throw Xr(a),a}},!0)},t.techGet_=function(i){if(!(!this.tech_||!this.tech_.isReady_)){if(i in Bye)return Mye(this.middleware_,this.tech_,i);if(i in j3)return $3(this.middleware_,this.tech_,i);try{return this.tech_[i]()}catch(s){throw this.tech_[i]===void 0?(Xr("Video.js: "+i+" method not defined for "+this.techName_+" playback technology.",s),s):s.name==="TypeError"?(Xr("Video.js: "+i+" unavailable on "+this.techName_+" playback technology element.",s),this.tech_.isReady_=!1,s):(Xr(s),s)}}},t.play=function(){var i=this,s=this.options_.Promise||X.Promise;return s?new s(function(a){i.play_(a)}):this.play_()},t.play_=function(i){var s=this;i===void 0&&(i=Au),this.playCallbacks_.push(i);var a=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),o=!!(ZS||da);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(c){s.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&o&&this.load();return}var l=this.techGet_("play"),u=o&&this.hasClass("vjs-ended");u&&this.resetProgressBar_(),l===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(l)},t.runPlayTerminatedQueue_=function(){var i=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],i.forEach(function(s){s()})},t.runPlayCallbacks_=function(i){var s=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],s.forEach(function(a){a(i)})},t.pause=function(){this.techCall_("pause")},t.paused=function(){return this.techGet_("paused")!==!1},t.played=function(){return this.techGet_("played")||cf(0,0)},t.scrubbing=function(i){if(typeof i>"u")return this.scrubbing_;this.scrubbing_=!!i,this.techCall_("setScrubbing",this.scrubbing_),i?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},t.currentTime=function(i){if(typeof i<"u"){if(i<0&&(i=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=i,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",i),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},t.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},t.duration=function(i){if(i===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;i=parseFloat(i),i<0&&(i=1/0),i!==this.cache_.duration&&(this.cache_.duration=i,i===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(i)||this.trigger("durationchange"))},t.remainingTime=function(){return this.duration()-this.currentTime()},t.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},t.buffered=function(){var i=this.techGet_("buffered");return(!i||!i.length)&&(i=cf(0,0)),i},t.bufferedPercent=function(){return o7(this.buffered(),this.duration())},t.bufferedEnd=function(){var i=this.buffered(),s=this.duration(),a=i.end(i.length-1);return a>s&&(a=s),a},t.volume=function(i){var s;if(i!==void 0){s=Math.max(0,Math.min(1,parseFloat(i))),this.cache_.volume=s,this.techCall_("setVolume",s),s>0&&this.lastVolume_(s);return}return s=parseFloat(this.techGet_("volume")),isNaN(s)?1:s},t.muted=function(i){if(i!==void 0){this.techCall_("setMuted",i);return}return this.techGet_("muted")||!1},t.defaultMuted=function(i){return i!==void 0?this.techCall_("setDefaultMuted",i):this.techGet_("defaultMuted")||!1},t.lastVolume_=function(i){if(i!==void 0&&i!==0){this.cache_.lastVolume=i;return}return this.cache_.lastVolume},t.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},t.isFullscreen=function(i){if(i!==void 0){var s=this.isFullscreen_;this.isFullscreen_=!!i,this.isFullscreen_!==s&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},t.requestFullscreen=function(i){var s=this.options_.Promise||X.Promise;if(s){var a=this;return new s(function(o,l){function u(){a.off("fullscreenerror",h),a.off("fullscreenchange",c)}function c(){u(),o()}function h(g,v){u(),l(v)}a.one("fullscreenchange",c),a.one("fullscreenerror",h);var f=a.requestFullscreenHelper_(i);f&&(f.then(u,u),f.then(o,l))})}return this.requestFullscreenHelper_()},t.requestFullscreenHelper_=function(i){var s=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},i!==void 0&&(a=i)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](a);return o&&o.then(function(){return s.isFullscreen(!0)},function(){return s.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},t.exitFullscreen=function(){var i=this.options_.Promise||X.Promise;if(i){var s=this;return new i(function(a,o){function l(){s.off("fullscreenerror",c),s.off("fullscreenchange",u)}function u(){l(),a()}function c(f,g){l(),o(g)}s.one("fullscreenchange",u),s.one("fullscreenerror",c);var h=s.exitFullscreenHelper_();h&&(h.then(l,l),h.then(a,o))})}return this.exitFullscreenHelper_()},t.exitFullscreenHelper_=function(){var i=this;if(this.fsApi_.requestFullscreen){var s=Be[this.fsApi_.exitFullscreen]();return s&&Au(s.then(function(){return i.isFullscreen(!1)})),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},t.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Be.documentElement.style.overflow,To(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow="hidden",Mc(Be.body,"vjs-full-window"),this.trigger("enterFullWindow")},t.fullWindowOnEscKey=function(i){$r.isEventKey(i,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},t.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,zs(Be,"keydown",this.boundFullWindowOnEscKey_),Be.documentElement.style.overflow=this.docOrigOverflow,Dv(Be.body,"vjs-full-window"),this.trigger("exitFullWindow")},t.disablePictureInPicture=function(i){if(i===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",i),this.options_.disablePictureInPicture=i,this.trigger("disablepictureinpicturechanged")},t.isInPictureInPicture=function(i){if(i!==void 0){this.isInPictureInPicture_=!!i,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},t.requestPictureInPicture=function(){if("pictureInPictureEnabled"in Be&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},t.exitPictureInPicture=function(){if("pictureInPictureEnabled"in Be)return Be.exitPictureInPicture()},t.handleKeyDown=function(i){var s=this.options_.userActions;if(!(!s||!s.hotkeys)){var a=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var h=["textarea"];return h.indexOf(u)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof s.hotkeys=="function"?s.hotkeys.call(this,i):this.handleHotkeys(i))}},t.handleHotkeys=function(i){var s=this.options_.userActions?this.options_.userActions.hotkeys:{},a=s.fullscreenKey,o=a===void 0?function(y){return $r.isEventKey(y,"f")}:a,l=s.muteKey,u=l===void 0?function(y){return $r.isEventKey(y,"m")}:l,c=s.playPauseKey,h=c===void 0?function(y){return $r.isEventKey(y,"k")||$r.isEventKey(y,"Space")}:c;if(o.call(this,i)){i.preventDefault(),i.stopPropagation();var f=kt.getComponent("FullscreenToggle");Be[this.fsApi_.fullscreenEnabled]!==!1&&f.prototype.handleClick.call(this,i)}else if(u.call(this,i)){i.preventDefault(),i.stopPropagation();var g=kt.getComponent("MuteToggle");g.prototype.handleClick.call(this,i)}else if(h.call(this,i)){i.preventDefault(),i.stopPropagation();var v=kt.getComponent("PlayToggle");v.prototype.handleClick.call(this,i)}},t.canPlayType=function(i){for(var s,a=0,o=this.options_.techOrder;a<o.length;a++){var l=o[a],u=$n.getTech(l);if(u||(u=kt.getComponent(l)),!u){Xr.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(s=u.canPlayType(i),s))return s}return""},t.selectSource=function(i){var s=this,a=this.options_.techOrder.map(function(h){return[h,$n.getTech(h)]}).filter(function(h){var f=h[0],g=h[1];return g?g.isSupported():(Xr.error('The "'+f+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(f,g,v){var y;return f.some(function(_){return g.some(function(C){if(y=v(_,C),y)return!0})}),y},l,u=function(f){return function(g,v){return f(v,g)}},c=function(f,g){var v=f[0],y=f[1];if(y.canPlaySource(g,s.options_[v.toLowerCase()]))return{source:g,tech:v}};return this.options_.sourceOrder?l=o(i,a,u(c)):l=o(a,i,c),l||!1},t.handleSrc_=function(i,s){var a=this;if(typeof i>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=Vye(i);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,s||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),Lye(this,o[0],function(c,h){a.middleware_=h,s||(a.cache_.sources=o),a.updateSourceCaches_(c);var f=a.src_(c);if(f){if(o.length>1)return a.handleSrc_(o.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),a.triggerReady();return}Oye(h,a.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){a.error(null),a.handleSrc_(o.slice(1),!0)},u=function(){a.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",u)}}},t.src=function(i){return this.handleSrc_(i,!1)},t.src_=function(i){var s=this,a=this.selectSource([i]);return a?pye(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",i):this.techCall_("src",i.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){s.changingSrc_=!1}),!1):!0},t.load=function(){this.techCall_("load")},t.reset=function(){var i=this,s=this.options_.Promise||X.Promise;if(this.paused()||!s)this.doReset_();else{var a=this.play();Au(a.then(function(){return i.doReset_()}))}},t.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),Fc(this)&&this.trigger("playerreset")},t.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},t.resetProgressBar_=function(){this.currentTime(0);var i=this.controlBar||{},s=i.durationDisplay,a=i.remainingTimeDisplay;s&&s.updateContent(),a&&a.updateContent()},t.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},t.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},t.currentSources=function(){var i=this.currentSource(),s=[];return Object.keys(i).length!==0&&s.push(i),this.cache_.sources||s},t.currentSource=function(){return this.cache_.source||{}},t.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},t.currentType=function(){return this.currentSource()&&this.currentSource().type||""},t.preload=function(i){if(i!==void 0){this.techCall_("setPreload",i),this.options_.preload=i;return}return this.techGet_("preload")},t.autoplay=function(i){if(i===void 0)return this.options_.autoplay||!1;var s;typeof i=="string"&&/(any|play|muted)/.test(i)||i===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=i,this.manualAutoplay_(typeof i=="string"?i:"play"),s=!1):i?this.options_.autoplay=!0:this.options_.autoplay=!1,s=typeof s>"u"?this.options_.autoplay:s,this.tech_&&this.techCall_("setAutoplay",s)},t.playsinline=function(i){return i!==void 0?(this.techCall_("setPlaysinline",i),this.options_.playsinline=i,this):this.techGet_("playsinline")},t.loop=function(i){if(i!==void 0){this.techCall_("setLoop",i),this.options_.loop=i;return}return this.techGet_("loop")},t.poster=function(i){if(i===void 0)return this.poster_;i||(i=""),i!==this.poster_&&(this.poster_=i,this.techCall_("setPoster",i),this.isPosterFromTech_=!1,this.trigger("posterchange"))},t.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var i=this.tech_.poster()||"";i!==this.poster_&&(this.poster_=i,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},t.controls=function(i){if(i===void 0)return!!this.controls_;i=!!i,this.controls_!==i&&(this.controls_=i,this.usingNativeControls()&&this.techCall_("setControls",i),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},t.usingNativeControls=function(i){if(i===void 0)return!!this.usingNativeControls_;i=!!i,this.usingNativeControls_!==i&&(this.usingNativeControls_=i,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},t.error=function(i){var s=this;if(i===void 0)return this.error_||null;if(Xd("beforeerror").forEach(function(o){var l=o(s,i);if(!(Uc(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){s.log.error("please return a value that MediaError expects in beforeerror hooks");return}i=l}),this.options_.suppressNotSupportedError&&i&&i.code===4){var a=function(){this.error(i)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(i===null){this.error_=i,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new la(i),this.addClass("vjs-error"),Xr.error("(CODE:"+this.error_.code+" "+la.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),Xd("error").forEach(function(o){return o(s,s.error_)})},t.reportUserActivity=function(i){this.userActivity_=!0},t.userActive=function(i){if(i===void 0)return this.userActive_;if(i=!!i,i!==this.userActive_){if(this.userActive_=i,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(s){s.stopPropagation(),s.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},t.listenForUserActivity_=function(){var i,s,a,o=qn(this,this.reportUserActivity),l=function(v){(v.screenX!==s||v.screenY!==a)&&(s=v.screenX,a=v.screenY,o())},u=function(){o(),this.clearInterval(i),i=this.setInterval(o,250)},c=function(v){o(),this.clearInterval(i)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c),this.on("mouseleave",c);var h=this.getChild("controlBar");h&&!da&&!zc&&(h.on("mouseenter",function(g){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),h.on("mouseleave",function(g){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var f;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(f);var g=this.options_.inactivityTimeout;g<=0||(f=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},g))}},250)},t.playbackRate=function(i){if(i!==void 0){this.techCall_("setPlaybackRate",i);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},t.defaultPlaybackRate=function(i){return i!==void 0?this.techCall_("setDefaultPlaybackRate",i):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},t.isAudio=function(i){if(i!==void 0){this.isAudio_=!!i;return}return!!this.isAudio_},t.enableAudioOnlyUI_=function(){var i=this;this.addClass("vjs-audio-only-mode");var s=this.children(),a=this.getChild("ControlBar"),o=a&&a.currentHeight();s.forEach(function(l){l!==a&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),i.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},t.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(i){return i.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},t.audioOnlyMode=function(i){var s=this;if(typeof i!="boolean"||i===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=i;var a=this.options_.Promise||X.Promise;if(a){if(i){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),a.all(o).then(function(){return s.enableAudioOnlyUI_()})}return a.resolve().then(function(){return s.disableAudioOnlyUI_()})}i?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},t.enablePosterModeUI_=function(){var i=this.tech_&&this.tech_;i.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},t.disablePosterModeUI_=function(){var i=this.tech_&&this.tech_;i.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},t.audioPosterMode=function(i){var s=this;if(typeof i!="boolean"||i===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=i;var a=this.options_.Promise||X.Promise;if(a){if(i){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.disablePosterModeUI_()})}if(i){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},t.addTextTrack=function(i,s,a){if(this.tech_)return this.tech_.addTextTrack(i,s,a)},t.addRemoteTextTrack=function(i,s){if(this.tech_)return this.tech_.addRemoteTextTrack(i,s)},t.removeRemoteTextTrack=function(i){i===void 0&&(i={});var s=i,a=s.track;if(a||(a=i),this.tech_)return this.tech_.removeRemoteTextTrack(a)},t.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},t.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},t.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},t.language=function(i){if(i===void 0)return this.language_;this.language_!==String(i).toLowerCase()&&(this.language_=String(i).toLowerCase(),Fc(this)&&this.trigger("languagechange"))},t.languages=function(){return Wn(e.prototype.options_.languages,this.languages_)},t.toJSON=function(){var i=Wn(this.options_),s=i.tracks;i.tracks=[];for(var a=0;a<s.length;a++){var o=s[a];o=Wn(o),o.player=void 0,i.tracks[a]=o}return i},t.createModal=function(i,s){var a=this;s=s||{},s.content=i||"";var o=new zm(this,s);return this.addChild(o),o.on("dispose",function(){a.removeChild(o)}),o.open(),o},t.updateCurrentBreakpoint_=function(){if(this.responsive())for(var i=this.currentBreakpoint(),s=this.currentWidth(),a=0;a<fE.length;a++){var o=fE[a],l=this.breakpoints_[o];if(s<=l){if(i===o)return;i&&this.removeClass(v_[i]),this.addClass(v_[o]),this.breakpoint_=o;break}}},t.removeCurrentBreakpoint_=function(){var i=this.currentBreakpointClass();this.breakpoint_="",i&&this.removeClass(i)},t.breakpoints=function(i){return i===void 0?ci(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=ci({},_xe,i),this.updateCurrentBreakpoint_(),ci(this.breakpoints_))},t.responsive=function(i){if(i===void 0)return this.responsive_;i=!!i;var s=this.responsive_;if(i!==s)return this.responsive_=i,i?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),i},t.currentBreakpoint=function(){return this.breakpoint_},t.currentBreakpointClass=function(){return v_[this.breakpoint_]||""},t.loadMedia=function(i,s){var a=this;if(!(!i||typeof i!="object")){this.reset(),this.cache_.media=Wn(i);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,h=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:wb(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(h)&&h.forEach(function(f){return a.addRemoteTextTrack(f,!1)}),this.ready(s)}},t.getMedia=function(){if(!this.cache_.media){var i=this.poster(),s=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:s,textTracks:a};return i&&(o.poster=i,o.artwork=[{src:o.poster,type:wb(o.poster)}]),o}return Wn(this.cache_.media)},e.getTagSettings=function(i){var s={sources:[],tracks:[]},a=kc(i),o=a["data-setup"];if(uf(i,"vjs-fill")&&(a.fill=!0),uf(i,"vjs-fluid")&&(a.fluid=!0),o!==null){var l=d0e(o||"{}"),u=l[0],c=l[1];u&&Xr.error(u),ci(a,c)}if(ci(s,a),i.hasChildNodes())for(var h=i.childNodes,f=0,g=h.length;f<g;f++){var v=h[f],y=v.nodeName.toLowerCase();y==="source"?s.sources.push(kc(v)):y==="track"&&s.tracks.push(kc(v))}return s},t.flexNotSupported_=function(){var i=Be.createElement("i");return!("flexBasis"in i.style||"webkitFlexBasis"in i.style||"mozFlexBasis"in i.style||"msFlexBasis"in i.style||"msFlexOrder"in i.style)},t.debug=function(i){if(i===void 0)return this.debugEnabled_;i?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},t.playbackRates=function(i){if(i===void 0)return this.cache_.playbackRates;Array.isArray(i)&&i.every(function(s){return typeof s=="number"})&&(this.cache_.playbackRates=i,this.trigger("playbackrateschange"))},e})(kt);na.names.forEach(function(r){var e=na[r];Ii.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Ii.prototype.crossorigin=Ii.prototype.crossOrigin;Ii.players={};var Ug=X.navigator;Ii.prototype.options_={techOrder:$n.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Ug&&(Ug.languages&&Ug.languages[0]||Ug.userLanguage||Ug.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(r){Ii.prototype[r]=function(){return this.techGet_(r)}});B7.forEach(function(r){Ii.prototype["handleTech"+xi(r)+"_"]=function(){return this.trigger(r)}});kt.registerComponent("Player",Ii);var Ab="plugin",Wp="activePlugins_",Sp={},Db=function(e){return Sp.hasOwnProperty(e)},y_=function(e){return Db(e)?Sp[e]:void 0},N7=function(e,t){e[Wp]=e[Wp]||{},e[Wp][t]=!0},Ib=function(e,t,n){var i=(n?"before":"")+"pluginsetup";e.trigger(i,t),e.trigger(i+":"+t.name,t)},bxe=function(e,t){var n=function(){Ib(this,{name:e,plugin:t,instance:null},!0);var s=t.apply(this,arguments);return N7(this,e),Ib(this,{name:e,plugin:t,instance:s}),s};return Object.keys(t).forEach(function(i){n[i]=t[i]}),n},tF=function(e,t){return t.prototype.name=e,function(){Ib(this,{name:e,plugin:t,instance:null},!0);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=gj(t,[this].concat(i));return this[e]=function(){return a},Ib(this,a.getEventHash()),a}},Gu=(function(){function r(t){if(this.constructor===r)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=t,this.log||(this.log=this.player.log.createLogger(this.name)),qA(this),delete this.trigger,a7(this,this.constructor.defaultState),N7(t,this.name),this.dispose=this.dispose.bind(this),t.on("dispose",this.dispose)}var e=r.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(n){return n===void 0&&(n={}),n.name=this.name,n.plugin=this.constructor,n.instance=this,n},e.trigger=function(n,i){return i===void 0&&(i={}),jm(this.eventBusEl_,n,this.getEventHash(i))},e.handleStateChanged=function(n){},e.dispose=function(){var n=this.name,i=this.player;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[Wp][n]=!1,this.player=this.state=null,i[n]=tF(n,Sp[n])},r.isBasic=function(n){var i=typeof n=="string"?y_(n):n;return typeof i=="function"&&!r.prototype.isPrototypeOf(i.prototype)},r.registerPlugin=function(n,i){if(typeof n!="string")throw new Error('Illegal plugin name, "'+n+'", must be a string, was '+typeof n+".");if(Db(n))Xr.warn('A plugin named "'+n+'" already exists. You may want to avoid re-registering plugins!');else if(Ii.prototype.hasOwnProperty(n))throw new Error('Illegal plugin name, "'+n+'", cannot share a name with an existing player method!');if(typeof i!="function")throw new Error('Illegal plugin for "'+n+'", must be a function, was '+typeof i+".");return Sp[n]=i,n!==Ab&&(r.isBasic(i)?Ii.prototype[n]=bxe(n,i):Ii.prototype[n]=tF(n,i)),i},r.deregisterPlugin=function(n){if(n===Ab)throw new Error("Cannot de-register base plugin.");Db(n)&&(delete Sp[n],delete Ii.prototype[n])},r.getPlugins=function(n){n===void 0&&(n=Object.keys(Sp));var i;return n.forEach(function(s){var a=y_(s);a&&(i=i||{},i[s]=a)}),i},r.getPluginVersion=function(n){var i=y_(n);return i&&i.VERSION||""},r})();Gu.getPlugin=y_;Gu.BASE_PLUGIN_NAME=Ab;Gu.registerPlugin(Ab,Gu);Ii.prototype.usingPlugin=function(r){return!!this[Wp]&&this[Wp][r]===!0};Ii.prototype.hasPlugin=function(r){return!!Db(r)};var rF=!1,Sxe=function(e,t){t===void 0&&(t={}),rF||(Xr.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),rF=!0);var n=function(){e.apply(this,arguments)},i={};typeof t=="object"?(t.constructor!==Object.prototype.constructor&&(n=t.constructor),i=t):typeof t=="function"&&(n=t),Wa(n,e),e&&(n.super_=e);for(var s in i)i.hasOwnProperty(s)&&(n.prototype[s]=i[s]);return n},U7=function(e){return e.indexOf("#")===0?e.slice(1):e};function Oe(r,e,t){var n=Oe.getPlayer(r);if(n)return e&&Xr.warn('Player "'+r+'" is already initialised. Options will not be applied.'),t&&n.ready(t),n;var i=typeof r=="string"?Yd("#"+U7(r)):r;if(!$m(i))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!i.ownerDocument.defaultView||!i.ownerDocument.body.contains(i))&&Xr.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(i.parentNode&&i.parentNode.hasAttribute("data-vjs-player")?i.parentNode:i).cloneNode(!0)),Xd("beforesetup").forEach(function(a){var o=a(i,Wn(e));if(!Uc(o)||Array.isArray(o)){Xr.error("please return an object in beforesetup hooks");return}e=Wn(e,o)});var s=kt.getComponent("Player");return n=new s(i,e,t),Xd("setup").forEach(function(a){return a(n)}),n}Oe.hooks_=Pc;Oe.hooks=Xd;Oe.hook=Xve;Oe.hookOnce=Yve;Oe.removeHook=Pj;if(X.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Um()){var sx=Yd(".vjs-styles-defaults");if(!sx){sx=e7("vjs-styles-defaults");var mw=Yd("head");mw&&mw.insertBefore(sx,mw.firstChild),t7(sx,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}oE(1,Oe);Oe.VERSION=Ij;Oe.options=Ii.prototype.options_;Oe.getPlayers=function(){return Ii.players};Oe.getPlayer=function(r){var e=Ii.players,t;if(typeof r=="string"){var n=U7(r),i=e[n];if(i)return i;t=Yd("#"+n)}else t=r;if($m(t)){var s=t,a=s.player,o=s.playerId;if(a||e[o])return a||e[o]}};Oe.getAllPlayers=function(){return Object.keys(Ii.players).map(function(r){return Ii.players[r]}).filter(Boolean)};Oe.players=Ii.players;Oe.getComponent=kt.getComponent;Oe.registerComponent=function(r,e){$n.isTech(e)&&Xr.warn("The "+r+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),kt.registerComponent.call(kt,r,e)};Oe.getTech=$n.getTech;Oe.registerTech=$n.registerTech;Oe.use=Rye;Object.defineProperty(Oe,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(Oe.middleware,"TERMINATOR",{value:Cb,writeable:!1,enumerable:!0});Oe.browser=rye;Oe.TOUCH_ENABLED=pm;Oe.extend=Sxe;Oe.mergeOptions=Wn;Oe.bind=qn;Oe.registerPlugin=Gu.registerPlugin;Oe.deregisterPlugin=Gu.deregisterPlugin;Oe.plugin=function(r,e){return Xr.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Gu.registerPlugin(r,e)};Oe.getPlugins=Gu.getPlugins;Oe.getPlugin=Gu.getPlugin;Oe.getPluginVersion=Gu.getPluginVersion;Oe.addLanguage=function(r,e){var t;return r=(""+r).toLowerCase(),Oe.options.languages=Wn(Oe.options.languages,(t={},t[r]=e,t)),Oe.options.languages[r]};Oe.log=Xr;Oe.createLogger=Lj;Oe.createTimeRange=Oe.createTimeRanges=cf;Oe.formatTime=xm;Oe.setFormatTime=Qye;Oe.resetFormatTime=Jye;Oe.parseUrl=KA;Oe.isCrossOrigin=sT;Oe.EventTarget=ss;Oe.on=To;Oe.one=nT;Oe.off=zs;Oe.trigger=jm;Oe.xhr=pj;Oe.TextTrack=Iv;Oe.AudioTrack=c7;Oe.VideoTrack=d7;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(r){Oe[r]=function(){return Xr.warn("videojs."+r+"() is deprecated; use videojs.dom."+r+"() instead"),Jj[r].apply(null,arguments)}});Oe.computedStyle=W0;Oe.dom=Jj;Oe.url=Aye;Oe.defineLazyProperty=fD;Oe.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.3 @license Apache-2.0 */var Pl=XS,Pb=function(e,t,n){return e&&n&&n.responseURL&&t!==n.responseURL?n.responseURL:t},Wl=function(e){return Oe.log.debug?Oe.log.debug.bind(Oe,"VHS:",e+" >"):function(){}},Qd=1/30,Du=Qd*3,$7=function(e,t){var n=[],i;if(e&&e.length)for(i=0;i<e.length;i++)t(e.start(i),e.end(i))&&n.push([e.start(i),e.end(i)]);return Oe.createTimeRanges(n)},Tp=function(e,t){return $7(e,function(n,i){return n-Du<=t&&i+Du>=t})},ax=function(e,t){return $7(e,function(n){return n-Qd>=t})},Txe=function(e){if(e.length<2)return Oe.createTimeRanges();for(var t=[],n=1;n<e.length;n++){var i=e.end(n-1),s=e.start(n);t.push([i,s])}return Oe.createTimeRanges(t)},Cxe=function(e,t){var n=null,i=null,s=0,a=[],o=[];if(!e||!e.length||!t||!t.length)return Oe.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=t.length;l--;)a.push({time:t.start(l),type:"start"}),a.push({time:t.end(l),type:"end"});for(a.sort(function(u,c){return u.time-c.time}),l=0;l<a.length;l++)a[l].type==="start"?(s++,s===2&&(n=a[l].time)):a[l].type==="end"&&(s--,s===1&&(i=a[l].time)),n!==null&&i!==null&&(o.push([n,i]),n=null,i=null);return Oe.createTimeRanges(o)},j7=function(e){var t=[];if(!e||!e.length)return"";for(var n=0;n<e.length;n++)t.push(e.start(n)+" => "+e.end(n));return t.join(", ")},wxe=function(e,t,n){n===void 0&&(n=1);var i=e.length?e.end(e.length-1):0;return(i-t)/n},Yh=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t},Exe=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e||e.length!==t.length)return!0;for(var n=0;n<e.length;n++)if(e.start(n)!==t.start(n)||e.end(n)!==t.end(n))return!0;return!1},nF=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},pD=function(e,t){var n=0;if(!e||!e.length)return n;for(var i=0;i<e.length;i++){var s=e.start(i),a=e.end(i);if(!(t>a)){if(t>s&&t<=a){n+=a-t;continue}n+=a-s}}return n},iF=Oe.createTimeRange,mD=function(e,t){if(!t.preload)return t.duration;var n=0;return(t.parts||[]).forEach(function(i){n+=i.duration}),(t.preloadHints||[]).forEach(function(i){i.type==="PART"&&(n+=e.partTargetDuration)}),n},pE=function(e){return(e.segments||[]).reduce(function(t,n,i){return n.parts?n.parts.forEach(function(s,a){t.push({duration:s.duration,segmentIndex:i,partIndex:a,part:s,segment:n})}):t.push({duration:n.duration,segmentIndex:i,partIndex:null,segment:n,part:null}),t},[])},z7=function(e){var t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},H7=function(e){var t=e.preloadSegment;if(t){var n=t.parts,i=t.preloadHints,s=(i||[]).reduce(function(a,o){return a+(o.type==="PART"?1:0)},0);return s+=n&&n.length?n.length:0,s}},V7=function(e,t){if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var n=z7(t).length>0;return n&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:n&&t.partTargetDuration?t.partTargetDuration*3:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?t.targetDuration*3:0},kxe=function(e,t){var n=0,i=t-e.mediaSequence,s=e.segments[i];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;i--;){if(s=e.segments[i],typeof s.end<"u")return{result:n+s.end,precise:!0};if(n+=mD(e,s),typeof s.start<"u")return{result:n+s.start,precise:!0}}return{result:n,precise:!1}},Axe=function(e,t){for(var n=0,i,s=t-e.mediaSequence;s<e.segments.length;s++){if(i=e.segments[s],typeof i.start<"u")return{result:i.start-n,precise:!0};if(n+=mD(e,i),typeof i.end<"u")return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},W7=function(e,t,n){if(typeof t>"u"&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;var i=kxe(e,t);if(i.precise)return i.result;var s=Axe(e,t);return s.precise?s.result:i.result+n},q7=function(e,t,n){if(!e)return 0;if(typeof n!="number"&&(n=0),typeof t>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return X.Infinity}return W7(e,t,n)},y0=function(e){var t=e.defaultDuration,n=e.durationList,i=e.startIndex,s=e.endIndex,a=0;if(i>s){var o=[s,i];i=o[0],s=o[1]}if(i<0){for(var l=i;l<Math.min(0,s);l++)a+=t;i=0}for(var u=i;u<s;u++)a+=n[u].duration;return a},G7=function(e,t,n,i){if(!e||!e.segments)return null;if(e.endList)return q7(e);if(t===null)return null;t=t||0;var s=W7(e,e.mediaSequence+e.segments.length,t);return n&&(i=typeof i=="number"?i:V7(null,e),s-=i),Math.max(0,s)},Dxe=function(e,t,n){var i=!0,s=t||0,a=G7(e,t,i,n);return a===null?iF():iF(s,a)},Ixe=function(e){for(var t=e.playlist,n=e.currentTime,i=e.startingSegmentIndex,s=e.startingPartIndex,a=e.startTime,o=e.experimentalExactManifestTimings,l=n-a,u=pE(t),c=0,h=0;h<u.length;h++){var f=u[h];if(i===f.segmentIndex&&!(typeof s=="number"&&typeof f.partIndex=="number"&&s!==f.partIndex)){c=h;break}}if(l<0){if(c>0)for(var g=c-1;g>=0;g--){var v=u[g];if(l+=v.duration,o){if(l<0)continue}else if(l+Qd<=0)continue;return{partIndex:v.partIndex,segmentIndex:v.segmentIndex,startTime:a-y0({defaultDuration:t.targetDuration,durationList:u,startIndex:c,endIndex:g})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n}}if(c<0){for(var y=c;y<0;y++)if(l-=t.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:n};c=0}for(var _=c;_<u.length;_++){var C=u[_];if(l-=C.duration,o){if(l>0)continue}else if(l-Qd>=0)continue;return{partIndex:C.partIndex,segmentIndex:C.segmentIndex,startTime:a+y0({defaultDuration:t.targetDuration,durationList:u,startIndex:c,endIndex:_})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:n}},K7=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},gD=function(e){return e.excludeUntil&&e.excludeUntil===1/0},uT=function(e){var t=K7(e);return!e.disabled&&!t},Pxe=function(e){return e.disabled},Rxe=function(e){for(var t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},X7=function(e,t){return t.attributes&&t.attributes[e]},Lxe=function(e,t,n,i){if(i===void 0&&(i=0),!X7("BANDWIDTH",n))return NaN;var s=e*n.attributes.BANDWIDTH;return(s-i*8)/t},mE=function(e,t){if(e.playlists.length===1)return!0;var n=t.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(i){return uT(i)?(i.attributes.BANDWIDTH||0)<n:!1}).length===0},vD=function(e,t){return!e&&!t||!e&&t||e&&!t?!1:!!(e===t||e.id&&t.id&&e.id===t.id||e.resolvedUri&&t.resolvedUri&&e.resolvedUri===t.resolvedUri||e.uri&&t.uri&&e.uri===t.uri)},sF=function(e,t){var n=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},i=!1;for(var s in n){for(var a in n[s])if(i=t(n[s][a]),i)break;if(i)break}return!!i},Lv=function(e){if(!e||!e.playlists||!e.playlists.length){var t=sF(e,function(a){return a.playlists&&a.playlists.length||a.uri});return t}for(var n=function(o){var l=e.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(h){return xj(h)}))return"continue";var c=sF(e,function(h){return vD(l,h)});return c?"continue":{v:!1}},i=0;i<e.playlists.length;i++){var s=n(i);if(s!=="continue"&&typeof s=="object")return s.v}return!0},Na={liveEdgeDelay:V7,duration:q7,seekable:Dxe,getMediaInfoForTime:Ixe,isEnabled:uT,isDisabled:Pxe,isBlacklisted:K7,isIncompatible:gD,playlistEnd:G7,isAes:Rxe,hasAttribute:X7,estimateSegmentRequestTime:Lxe,isLowestEnabledRendition:mE,isAudioOnly:Lv,playlistMatch:vD,segmentDurationWithParts:mD},Y7=Oe.log,yD=function(e,t){return e+"-"+t},Oxe=function(e,t,n){return"placeholder-uri-"+e+"-"+t+"-"+n},Mxe=function(e){var t=e.onwarn,n=e.oninfo,i=e.manifestString,s=e.customTagParsers,a=s===void 0?[]:s,o=e.customTagMappers,l=o===void 0?[]:o,u=e.experimentalLLHLS,c=new T0e;t&&c.on("warn",t),n&&c.on("info",n),a.forEach(function(y){return c.addParser(y)}),l.forEach(function(y){return c.addTagMapper(y)}),c.push(i),c.end();var h=c.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(y){h.hasOwnProperty(y)&&delete h[y]}),h.segments&&h.segments.forEach(function(y){["parts","preloadHints"].forEach(function(_){y.hasOwnProperty(_)&&delete y[_]})})),!h.targetDuration){var f=10;h.segments&&h.segments.length&&(f=h.segments.reduce(function(y,_){return Math.max(y,_.duration)},0)),t&&t("manifest has no targetDuration defaulting to "+f),h.targetDuration=f}var g=z7(h);if(g.length&&!h.partTargetDuration){var v=g.reduce(function(y,_){return Math.max(y,_.duration)},0);t&&(t("manifest has no partTargetDuration defaulting to "+v),Y7.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),h.partTargetDuration=v}return h},qm=function(e,t){e.mediaGroups&&["AUDIO","SUBTITLES"].forEach(function(n){if(e.mediaGroups[n])for(var i in e.mediaGroups[n])for(var s in e.mediaGroups[n][i]){var a=e.mediaGroups[n][i][s];t(a,n,i,s)}})},Q7=function(e){var t=e.playlist,n=e.uri,i=e.id;t.id=i,t.playlistErrors_=0,n&&(t.uri=n),t.attributes=t.attributes||{}},Fxe=function(e){for(var t=e.playlists.length;t--;){var n=e.playlists[t];Q7({playlist:n,id:yD(t,n.uri)}),n.resolvedUri=Pl(e.uri,n.uri),e.playlists[n.id]=n,e.playlists[n.uri]=n,n.attributes.BANDWIDTH||Y7.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},Bxe=function(e){qm(e,function(t){t.uri&&(t.resolvedUri=Pl(e.uri,t.uri))})},Nxe=function(e,t){var n=yD(0,t),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:X.location.href,resolvedUri:X.location.href,playlists:[{uri:t,id:n,resolvedUri:t,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[t]=i.playlists[0],i},J7=function(e,t,n){n===void 0&&(n=Oxe),e.uri=t;for(var i=0;i<e.playlists.length;i++)if(!e.playlists[i].uri){var s="placeholder-uri-"+i;e.playlists[i].uri=s}var a=Lv(e);qm(e,function(o,l,u,c){if(!o.playlists||!o.playlists.length){if(a&&l==="AUDIO"&&!o.uri)for(var h=0;h<e.playlists.length;h++){var f=e.playlists[h];if(f.attributes&&f.attributes.AUDIO&&f.attributes.AUDIO===u)return}o.playlists=[sr({},o)]}o.playlists.forEach(function(g,v){var y=n(l,u,c,g),_=yD(v,y);g.uri?g.resolvedUri=g.resolvedUri||Pl(e.uri,g.uri):(g.uri=v===0?y:_,g.resolvedUri=g.uri),g.id=g.id||_,g.attributes=g.attributes||{},e.playlists[g.id]=g,e.playlists[g.uri]=g})}),Fxe(e),Bxe(e)},Rb=Oe.mergeOptions,Uxe=Oe.EventTarget,$xe=function(e,t){if(t.endList||!t.serverControl)return e;var n={};if(t.serverControl.canBlockReload){var i=t.preloadSegment,s=t.mediaSequence+t.segments.length;if(i){var a=i.parts||[],o=H7(t)-1;o>-1&&o!==a.length-1&&(n._HLS_part=o),(o>-1||a.length)&&s--}n._HLS_msn=s}if(t.serverControl&&t.serverControl.canSkipUntil&&(n._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){var l=new X.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){n.hasOwnProperty(u)&&l.searchParams.set(u,n[u])}),e=l.toString()}return e},jxe=function(e,t){if(!e)return t;var n=Rb(e,t);if(e.preloadHints&&!t.preloadHints&&delete n.preloadHints,e.parts&&!t.parts)delete n.parts;else if(e.parts&&t.parts)for(var i=0;i<t.parts.length;i++)e.parts&&e.parts[i]&&(n.parts[i]=Rb(e.parts[i],t.parts[i]));return!e.skipped&&t.skipped&&(n.skipped=!1),e.preload&&!t.preload&&(n.preload=!1),n},zxe=function(e,t,n){var i=e.slice(),s=t.slice();n=n||0;for(var a=[],o,l=0;l<s.length;l++){var u=i[l+n],c=s[l];u?(o=u.map||o,a.push(jxe(u,c))):(o&&!c.map&&(c.map=o),a.push(c))}return a},Z7=function(e,t){!e.resolvedUri&&e.uri&&(e.resolvedUri=Pl(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=Pl(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=Pl(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=Pl(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(n){n.resolvedUri||(n.resolvedUri=Pl(t,n.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(n){n.resolvedUri||(n.resolvedUri=Pl(t,n.uri))})},e9=function(e){var t=e.segments||[],n=e.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(var i=0;i<n.preloadHints.length;i++)if(n.preloadHints[i].type==="MAP")return t}n.duration=e.targetDuration,n.preload=!0,t.push(n)}return t},t9=function(e,t){return e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment},gE=function(e,t,n){n===void 0&&(n=t9);var i=Rb(e,{}),s=i.playlists[t.id];if(!s||n(s,t))return null;t.segments=e9(t);var a=Rb(s,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,s.segments){if(t.skip){t.segments=t.segments||[];for(var o=0;o<t.skip.skippedSegments;o++)t.segments.unshift({skipped:!0})}a.segments=zxe(s.segments,t.segments,t.mediaSequence-s.mediaSequence)}a.segments.forEach(function(u){Z7(u,a.resolvedUri)});for(var l=0;l<i.playlists.length;l++)i.playlists[l].id===t.id&&(i.playlists[l]=a);return i.playlists[t.id]=a,i.playlists[t.uri]=a,qm(e,function(u,c,h,f){if(u.playlists)for(var g=0;g<u.playlists.length;g++)t.id===u.playlists[g].id&&(u.playlists[g]=a)}),i},vE=function(e,t){var n=e.segments||[],i=n[n.length-1],s=i&&i.parts&&i.parts[i.parts.length-1],a=s&&s.duration||i&&i.duration;return t&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Cp=(function(r){Ht(e,r);function e(n,i,s){var a;if(s===void 0&&(s={}),a=r.call(this)||this,!n)throw new Error("A non-empty playlist URL or object is required");a.logger_=Wl("PlaylistLoader");var o=s,l=o.withCredentials,u=l===void 0?!1:l,c=o.handleManifestRedirects,h=c===void 0?!1:c;a.src=n,a.vhs_=i,a.withCredentials=u,a.handleManifestRedirects=h;var f=i.options_;return a.customTagParsers=f&&f.customTagParsers||[],a.customTagMappers=f&&f.customTagMappers||[],a.experimentalLLHLS=f&&f.experimentalLLHLS||!1,Oe.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(We(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var t=e.prototype;return t.handleMediaupdatetimeout_=function(){var i=this;if(this.state==="HAVE_METADATA"){var s=this.media(),a=Pl(this.master.uri,s.uri);this.experimentalLLHLS&&(a=$xe(a,s)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(o,l){if(i.request){if(o)return i.playlistRequestError(i.request,i.media(),"HAVE_METADATA");i.haveMetadata({playlistString:i.request.responseText,url:i.media().uri,id:i.media().id})}})}},t.playlistRequestError=function(i,s,a){var o=s.uri,l=s.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[l],status:i.status,message:"HLS playlist request error at URL: "+o+".",responseText:i.responseText,code:i.status>=500?4:2},this.trigger("error")},t.parseManifest_=function(i){var s=this,a=i.url,o=i.manifestString;return Mxe({onwarn:function(u){var c=u.message;return s.logger_("m3u8-parser warn for "+a+": "+c)},oninfo:function(u){var c=u.message;return s.logger_("m3u8-parser info for "+a+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},t.haveMetadata=function(i){var s=i.playlistString,a=i.playlistObject,o=i.url,l=i.id;this.request=null,this.state="HAVE_METADATA";var u=a||this.parseManifest_({url:o,manifestString:s});u.lastRequest=Date.now(),Q7({playlist:u,uri:o,id:l});var c=gE(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(vE(this.media(),!!c)),this.trigger("loadedplaylist")},t.dispose=function(){this.trigger("dispose"),this.stopRequest(),X.clearTimeout(this.mediaUpdateTimeout),X.clearTimeout(this.finalRenditionTimeout),this.off()},t.stopRequest=function(){if(this.request){var i=this.request;this.request=null,i.onreadystatechange=null,i.abort()}},t.media=function(i,s){var a=this;if(!i)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof i=="string"){if(!this.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.master.playlists[i]}if(X.clearTimeout(this.finalRenditionTimeout),s){var o=(i.partTargetDuration||i.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=X.setTimeout(this.media.bind(this,i,!1),o);return}var l=this.state,u=!this.media_||i.id!==this.media_.id,c=this.master.playlists[i.id];if(c&&c.endList||i.endList&&i.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=i,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(vE(i,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(i.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=i,this.request=this.vhs_.xhr({uri:i.resolvedUri,withCredentials:this.withCredentials},function(h,f){if(a.request){if(i.lastRequest=Date.now(),i.resolvedUri=Pb(a.handleManifestRedirects,i.resolvedUri,f),h)return a.playlistRequestError(a.request,i,l);a.haveMetadata({playlistString:f.responseText,url:i.uri,id:i.id}),l==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},t.pause=function(){this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},t.load=function(i){var s=this;this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(i){var o=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=X.setTimeout(function(){s.mediaUpdateTimeout=null,s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},t.updateMediaUpdateTimeout_=function(i){var s=this;this.mediaUpdateTimeout&&(X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=X.setTimeout(function(){s.mediaUpdateTimeout=null,s.trigger("mediaupdatetimeout"),s.updateMediaUpdateTimeout_(i)},i))},t.start=function(){var i=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=X.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){i.setupInitialPlaylist(i.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(s,a){if(i.request){if(i.request=null,s)return i.error={status:a.status,message:"HLS playlist request error at URL: "+i.src+".",responseText:a.responseText,code:2},i.state==="HAVE_NOTHING"&&(i.started=!1),i.trigger("error");i.src=Pb(i.handleManifestRedirects,i.src,a);var o=i.parseManifest_({manifestString:a.responseText,url:i.src});i.setupInitialPlaylist(o)}})},t.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},t.setupInitialPlaylist=function(i){if(this.state="HAVE_MASTER",i.playlists){this.master=i,J7(this.master,this.srcUri()),i.playlists.forEach(function(a){a.segments=e9(a),a.segments.forEach(function(o){Z7(o,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var s=this.srcUri()||X.location.href;this.master=Nxe(i,s),this.haveMetadata({playlistObject:i,url:s,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e})(Uxe),Hxe=Oe.xhr,Vxe=Oe.mergeOptions,yE=function(e,t,n,i){var s=e.responseType==="arraybuffer"?e.response:e.responseText;!t&&s&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=s.byteLength||s.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),n.headers&&(e.responseHeaders=n.headers),t&&t.code==="ETIMEDOUT"&&(e.timedout=!0),!t&&!e.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(t=new Error("XHR Failed with a response of: "+(e&&(s||e.responseText)))),i(t,e)},r9=function(){var e=function t(n,i){n=Vxe({timeout:45e3},n);var s=t.beforeRequest||Oe.Vhs.xhr.beforeRequest;if(s&&typeof s=="function"){var a=s(n);a&&(n=a)}var o=Oe.Vhs.xhr.original===!0?Hxe:Oe.Vhs.xhr,l=o(n,function(c,h){return yE(l,c,h,i)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=n.uri,l.requestTime=Date.now(),l};return e.original=!0,e},Wxe=function(e){var t,n=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?t=X.BigInt(e.offset)+X.BigInt(e.length)-X.BigInt(1):t=e.offset+e.length-1,"bytes="+n+"-"+t},xE=function(e){var t={};return e.byterange&&(t.Range=Wxe(e.byterange)),t},qxe=function(e,t){return e.start(t)+"-"+e.end(t)},Gxe=function(e,t){var n=e.toString(16);return"00".substring(0,2-n.length)+n+(t%2?" ":"")},Kxe=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},n9=function(e){var t={};return Object.keys(e).forEach(function(n){var i=e[n];bj(i)?t[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:t[n]=i}),t},Lb=function(e){var t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},i9=function(e){return e.resolvedUri},s9=function(e){for(var t=Array.prototype.slice.call(e),n=16,i="",s,a,o=0;o<t.length/n;o++)s=t.slice(o*n,o*n+n).map(Gxe).join(""),a=t.slice(o*n,o*n+n).map(Kxe).join(""),i+=s+" "+a+`
`;return i},Xxe=function(e){var t=e.bytes;return s9(t)},Yxe=function(e){var t="",n;for(n=0;n<e.length;n++)t+=qxe(e,n)+" ";return t},Qxe=Object.freeze({__proto__:null,createTransferableMessage:n9,initSegmentId:Lb,segmentKeyId:i9,hexDump:s9,tagDump:Xxe,textRanges:Yxe}),a9=.25,Jxe=function(e,t){if(!t.dateTimeObject)return null;var n=t.videoTimingInfo.transmuxerPrependedSeconds,i=t.videoTimingInfo.transmuxedPresentationStart,s=i+n,a=e-s;return new Date(t.dateTimeObject.getTime()+a*1e3)},Zxe=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},e_e=function(e,t){var n;try{n=new Date(e)}catch{return null}if(!t||!t.segments||t.segments.length===0)return null;var i=t.segments[0];if(n<i.dateTimeObject)return null;for(var s=0;s<t.segments.length-1;s++){i=t.segments[s];var a=t.segments[s+1].dateTimeObject;if(n<a)break}var o=t.segments[t.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?Zxe(o.videoTimingInfo):o.duration+o.duration*a9,c=new Date(l.getTime()+u*1e3);return n>c?null:(n>l&&(i=o),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Na.duration(t,t.mediaSequence+t.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},t_e=function(e,t){if(!t||!t.segments||t.segments.length===0)return null;for(var n=0,i,s=0;s<t.segments.length&&(i=t.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(e<=n));s++);var a=t.segments[t.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+a.duration*a9)return null;i=a}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},r_e=function(e,t){var n,i;try{n=new Date(e),i=new Date(t)}catch{}var s=n.getTime(),a=i.getTime();return(a-s)/1e3},n_e=function(e){if(!e.segments||e.segments.length===0)return!1;for(var t=0;t<e.segments.length;t++){var n=e.segments[t];if(!n.dateTimeObject)return!1}return!0},i_e=function(e){var t=e.playlist,n=e.time,i=n===void 0?void 0:n,s=e.callback;if(!s)throw new Error("getProgramTime: callback must be provided");if(!t||i===void 0)return s({message:"getProgramTime: playlist and time must be provided"});var a=t_e(i,t);if(!a)return s({message:"valid programTime was not found"});if(a.type==="estimate")return s({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:i},l=Jxe(i,a.segment);return l&&(o.programDateTime=l.toISOString()),s(null,o)},s_e=function r(e){var t=e.programTime,n=e.playlist,i=e.retryCount,s=i===void 0?2:i,a=e.seekTo,o=e.pauseAfterSeek,l=o===void 0?!0:o,u=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!n||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!n_e(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var h=e_e(t,n);if(!h)return c({message:t+" was not found in the stream"});var f=h.segment,g=r_e(f.dateTimeObject,t);if(h.type==="estimate"){if(s===0)return c({message:t+" is not buffered yet. Try again"});a(h.estimatedStart+g),u.one("seeked",function(){r({programTime:t,playlist:n,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})});return}var v=f.start+g,y=function(){return c(null,u.currentTime())};u.one("seeked",y),l&&u.pause(),a(v)},gw=function(e,t){if(e.readyState===4)return t()},a_e=function(e,t,n){var i=[],s,a=!1,o=function(f,g,v,y){return g.abort(),a=!0,n(f,g,v,y)},l=function(f,g){if(!a){if(f)return o(f,g,"",i);var v=g.responseText.substring(i&&i.byteLength||0,g.responseText.length);if(i=M0e(i,Sj(v,!0)),s=s||Qg(i),i.length<10||s&&i.length<s+2)return gw(g,function(){return o(f,g,"",i)});var y=NA(i);return y==="ts"&&i.length<188?gw(g,function(){return o(f,g,"",i)}):!y&&i.length<376?gw(g,function(){return o(f,g,"",i)}):o(null,g,y,i)}},u={uri:e,beforeSend:function(f){f.overrideMimeType("text/plain; charset=x-user-defined"),f.addEventListener("progress",function(g){return g.total,g.loaded,yE(f,null,{statusCode:f.status},l)})}},c=t(u,function(h,f){return yE(c,h,f,l)});return c},o_e=Oe.EventTarget,o9=Oe.mergeOptions,aF=function(e,t){if(!t9(e,t)||e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx||e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(var n=0;n<e.segments.length;n++){var i=e.segments[n],s=t.segments[n];if(i.uri!==s.uri)return!1;if(!(!i.byterange&&!s.byterange)){var a=i.byterange,o=s.byterange;if(a&&!o||!a&&o||a.offset!==o.offset||a.length!==o.length)return!1}}return!0},l_e=function(e,t,n,i){var s=i.attributes.NAME||n;return"placeholder-uri-"+e+"-"+t+"-"+s},u_e=function(e){var t=e.masterXml,n=e.srcUrl,i=e.clientOffset,s=e.sidxMapping,a=e.previousManifest,o=Eve(t,{manifestUri:n,clientOffset:i,sidxMapping:s,previousManifest:a});return J7(o,n,l_e),o},c_e=function(e,t){qm(e,function(n,i,s,a){a in t.mediaGroups[i][s]||delete e.mediaGroups[i][s][a]})},d_e=function(e,t,n){for(var i=!0,s=o9(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts}),a=0;a<t.playlists.length;a++){var o=t.playlists[a];if(o.sidx){var l=QS(o.sidx);n&&n[l]&&n[l].sidx&&OA(o,n[l].sidx,o.sidx.resolvedUri)}var u=gE(s,o,aF);u&&(s=u,i=!1)}return qm(t,function(c,h,f,g){if(c.playlists&&c.playlists.length){var v=c.playlists[0].id,y=gE(s,c.playlists[0],aF);y&&(s=y,g in s.mediaGroups[h][f]||(s.mediaGroups[h][f][g]=c),s.mediaGroups[h][f][g].playlists[0]=s.playlists[v],i=!1)}}),c_e(s,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(i=!1),i?null:s},h_e=function(e,t){var n=!e.map&&!t.map,i=n||!!(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length);return i&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length},oF=function(e,t){var n={};for(var i in e){var s=e[i],a=s.sidx;if(a){var o=QS(a);if(!t[o])break;var l=t[o].sidxInfo;h_e(l,a)&&(n[o]=t[o])}}return n},f_e=function(e,t){var n=oF(e.playlists,t),i=n;return qm(e,function(s,a,o,l){if(s.playlists&&s.playlists.length){var u=s.playlists;i=o9(i,oF(u,t))}}),i},_E=(function(r){Ht(e,r);function e(n,i,s,a){var o;s===void 0&&(s={}),o=r.call(this)||this,o.masterPlaylistLoader_=a||We(o),a||(o.isMaster_=!0);var l=s,u=l.withCredentials,c=u===void 0?!1:u,h=l.handleManifestRedirects,f=h===void 0?!1:h;if(o.vhs_=i,o.withCredentials=c,o.handleManifestRedirects=f,!n)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=Wl("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=n,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=n,o}var t=e.prototype;return t.requestErrored_=function(i,s,a){if(!this.request)return!0;if(this.request=null,i)return this.error=typeof i=="object"&&!(i instanceof Error)?i:{status:s.status,message:"DASH request error at URL: "+s.uri,response:s.response,code:2},a&&(this.state=a),this.trigger("error"),!0},t.addSidxSegments_=function(i,s,a){var o=this,l=i.sidx&&QS(i.sidx);if(!i.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=X.setTimeout(function(){return a(!1)},0);return}var u=Pb(this.handleManifestRedirects,i.sidx.resolvedUri),c=function(f,g){if(!o.requestErrored_(f,g,s)){var v=o.masterPlaylistLoader_.sidxMapping_,y;try{y=Pve(wr(g.response).subarray(8))}catch(_){o.requestErrored_(_,g,s);return}return v[l]={sidxInfo:i.sidx,sidx:y},OA(i,y,i.sidx.resolvedUri),a(!0)}};this.request=a_e(u,this.vhs_.xhr,function(h,f,g,v){if(h)return c(h,f);if(!g||g!=="mp4")return c({status:f.status,message:"Unsupported "+(g||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:i,internal:!0,blacklistDuration:1/0,code:2},f);var y=i.sidx.byterange,_=y.offset,C=y.length;if(v.length>=C+_)return c(h,{response:v.subarray(_,_+C),status:f.status,uri:f.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:xE({byterange:i.sidx.byterange})},c)})},t.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},X.clearTimeout(this.minimumUpdatePeriodTimeout_),X.clearTimeout(this.mediaRequest_),X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},t.hasPendingRequest=function(){return this.request||this.mediaRequest_},t.stopRequest=function(){if(this.request){var i=this.request;this.request=null,i.onreadystatechange=null,i.abort()}},t.media=function(i){var s=this;if(!i)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof i=="string"){if(!this.masterPlaylistLoader_.master.playlists[i])throw new Error("Unknown playlist URI: "+i);i=this.masterPlaylistLoader_.master.playlists[i]}var o=!this.media_||i.id!==this.media_.id;if(o&&this.loadedPlaylists_[i.id]&&this.loadedPlaylists_[i.id].endList){this.state="HAVE_METADATA",this.media_=i,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}o&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(i,a,function(l){s.haveMetadata({startingState:a,playlist:i})}))},t.haveMetadata=function(i){var s=i.startingState,a=i.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),s==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},t.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(X.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},t.load=function(i){var s=this;X.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(i){var o=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=X.setTimeout(function(){return s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},t.start=function(){var i=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=X.setTimeout(function(){return i.haveMaster_()},0);return}this.requestMaster_(function(s,a){i.haveMaster_(),!i.hasPendingRequest()&&!i.media_&&i.media(i.masterPlaylistLoader_.master.playlists[0])})},t.requestMaster_=function(i){var s=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,o){if(s.requestErrored_(a,o)){s.state==="HAVE_NOTHING"&&(s.started=!1);return}var l=o.responseText!==s.masterPlaylistLoader_.masterXml_;if(s.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?s.masterLoaded_=Date.parse(o.responseHeaders.date):s.masterLoaded_=Date.now(),s.masterPlaylistLoader_.srcUrl=Pb(s.handleManifestRedirects,s.masterPlaylistLoader_.srcUrl,o),l){s.handleMaster_(),s.syncClientServerClock_(function(){return i(o,l)});return}return i(o,l)})},t.syncClientServerClock_=function(i){var s=this,a=kve(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),i();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),i();this.request=this.vhs_.xhr({uri:Pl(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(o,l){if(s.request){if(o)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),i();var u;a.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=s.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),s.masterPlaylistLoader_.clientOffset_=u-Date.now(),i()}})},t.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},t.handleMaster_=function(){this.mediaRequest_=null;var i=this.masterPlaylistLoader_.master,s=u_e({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:i});i&&(s=d_e(i,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||i;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!i||s&&s.minimumUpdatePeriod!==i.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),!!s},t.updateMinimumUpdatePeriodTimeout_=function(){var i=this.masterPlaylistLoader_;i.createMupOnMedia_&&(i.off("loadedmetadata",i.createMupOnMedia_),i.createMupOnMedia_=null),i.minimumUpdatePeriodTimeout_&&(X.clearTimeout(i.minimumUpdatePeriodTimeout_),i.minimumUpdatePeriodTimeout_=null);var s=i.master&&i.master.minimumUpdatePeriod;if(s===0&&(i.media()?s=i.media().targetDuration*1e3:(i.createMupOnMedia_=i.updateMinimumUpdatePeriodTimeout_,i.one("loadedmetadata",i.createMupOnMedia_))),typeof s!="number"||s<=0){s<0&&this.logger_("found invalid minimumUpdatePeriod of "+s+", not setting a timeout");return}this.createMUPTimeout_(s)},t.createMUPTimeout_=function(i){var s=this.masterPlaylistLoader_;s.minimumUpdatePeriodTimeout_=X.setTimeout(function(){s.minimumUpdatePeriodTimeout_=null,s.trigger("minimumUpdatePeriod"),s.createMUPTimeout_(i)},i)},t.refreshXml_=function(){var i=this;this.requestMaster_(function(s,a){a&&(i.media_&&(i.media_=i.masterPlaylistLoader_.master.playlists[i.media_.id]),i.masterPlaylistLoader_.sidxMapping_=f_e(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.sidxMapping_),i.addSidxSegments_(i.media(),i.state,function(o){i.refreshMedia_(i.media().id)}))})},t.refreshMedia_=function(i){var s=this;if(!i)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==a[i];if(o?this.media_=a[i]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){s.media().endList||(s.mediaUpdateTimeout=X.setTimeout(function(){s.trigger("mediaupdatetimeout"),u()},vE(s.media(),!!o)))};l()}this.trigger("loadedplaylist")},e})(o_e),ts={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},p_e=function(e){for(var t=new Uint8Array(new ArrayBuffer(e.length)),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t.buffer},l9=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},m_e=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var t=new BlobBuilder;return t.append(e),URL.createObjectURL(t.getBlob())}},u9=function(e){return function(){var t=m_e(e),n=l9(new Worker(t));n.objURL=t;var i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(t),i.call(this)},n}},c9=function(e){return"var browserWorkerPolyFill = "+l9.toString()+`;
browserWorkerPolyFill(self);
`+e},d9=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},g_e=c9(d9(function(){var r=function(){this.init=function(){var B={};this.on=function(V,z){B[V]||(B[V]=[]),B[V]=B[V].concat(z)},this.off=function(V,z){var q;return B[V]?(q=B[V].indexOf(z),B[V]=B[V].slice(),B[V].splice(q,1),q>-1):!1},this.trigger=function(V){var z,q,Z,re;if(z=B[V],!!z)if(arguments.length===2)for(Z=z.length,q=0;q<Z;++q)z[q].call(this,arguments[1]);else{for(re=[],q=arguments.length,q=1;q<arguments.length;++q)re.push(arguments[q]);for(Z=z.length,q=0;q<Z;++q)z[q].apply(this,re)}},this.dispose=function(){B={}}}};r.prototype.pipe=function(ue){return this.on("data",function(B){ue.push(B)}),this.on("done",function(B){ue.flush(B)}),this.on("partialdone",function(B){ue.partialFlush(B)}),this.on("endedtimeline",function(B){ue.endTimeline(B)}),this.on("reset",function(B){ue.reset(B)}),ue},r.prototype.push=function(ue){this.trigger("data",ue)},r.prototype.flush=function(ue){this.trigger("done",ue)},r.prototype.partialFlush=function(ue){this.trigger("partialdone",ue)},r.prototype.endTimeline=function(ue){this.trigger("endedtimeline",ue)},r.prototype.reset=function(ue){this.trigger("reset",ue)};var e=r,t=Math.pow(2,32),n=function(B){var V=new DataView(B.buffer,B.byteOffset,B.byteLength),z;return V.getBigUint64?(z=V.getBigUint64(0),z<Number.MAX_SAFE_INTEGER?Number(z):z):V.getUint32(0)*t+V.getUint32(4)},i={getUint64:n,MAX_UINT32:t},s=i.MAX_UINT32,a,o,l,u,c,h,f,g,v,y,_,C,k,D,I,A,R,N,U,F,w,$,H,W,Q,te,oe,de,le,ae,ie,ee,pe,ve,_e,Le;(function(){var ue;if(H={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(ue in H)H.hasOwnProperty(ue)&&(H[ue]=[ue.charCodeAt(0),ue.charCodeAt(1),ue.charCodeAt(2),ue.charCodeAt(3)]);W=new Uint8Array([105,115,111,109]),te=new Uint8Array([97,118,99,49]),Q=new Uint8Array([0,0,0,1]),oe=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),de=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),le={video:oe,audio:de},ee=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),ie=new Uint8Array([0,0,0,0,0,0,0,0]),pe=new Uint8Array([0,0,0,0,0,0,0,0]),ve=pe,_e=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Le=pe,ae=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(B){var V=[],z=0,q,Z,re;for(q=1;q<arguments.length;q++)V.push(arguments[q]);for(q=V.length;q--;)z+=V[q].byteLength;for(Z=new Uint8Array(z+8),re=new DataView(Z.buffer,Z.byteOffset,Z.byteLength),re.setUint32(0,Z.byteLength),Z.set(B,4),q=0,z=8;q<V.length;q++)Z.set(V[q],z),z+=V[q].byteLength;return Z},o=function(){return a(H.dinf,a(H.dref,ee))},l=function(B){return a(H.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,B.audioobjecttype<<3|B.samplingfrequencyindex>>>1,B.samplingfrequencyindex<<7|B.channelcount<<3,6,1,2]))},u=function(){return a(H.ftyp,W,Q,W,te)},A=function(B){return a(H.hdlr,le[B])},c=function(B){return a(H.mdat,B)},I=function(B){var V=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,B.duration>>>24&255,B.duration>>>16&255,B.duration>>>8&255,B.duration&255,85,196,0,0]);return B.samplerate&&(V[12]=B.samplerate>>>24&255,V[13]=B.samplerate>>>16&255,V[14]=B.samplerate>>>8&255,V[15]=B.samplerate&255),a(H.mdhd,V)},D=function(B){return a(H.mdia,I(B),A(B.type),f(B))},h=function(B){return a(H.mfhd,new Uint8Array([0,0,0,0,(B&4278190080)>>24,(B&16711680)>>16,(B&65280)>>8,B&255]))},f=function(B){return a(H.minf,B.type==="video"?a(H.vmhd,ae):a(H.smhd,ie),o(),N(B))},g=function(B,V){for(var z=[],q=V.length;q--;)z[q]=F(V[q]);return a.apply(null,[H.moof,h(B)].concat(z))},v=function(B){for(var V=B.length,z=[];V--;)z[V]=C(B[V]);return a.apply(null,[H.moov,_(4294967295)].concat(z).concat(y(B)))},y=function(B){for(var V=B.length,z=[];V--;)z[V]=w(B[V]);return a.apply(null,[H.mvex].concat(z))},_=function(B){var V=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(B&4278190080)>>24,(B&16711680)>>16,(B&65280)>>8,B&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(H.mvhd,V)},R=function(B){var V=B.samples||[],z=new Uint8Array(4+V.length),q,Z;for(Z=0;Z<V.length;Z++)q=V[Z].flags,z[Z+4]=q.dependsOn<<4|q.isDependedOn<<2|q.hasRedundancy;return a(H.sdtp,z)},N=function(B){return a(H.stbl,U(B),a(H.stts,Le),a(H.stsc,ve),a(H.stsz,_e),a(H.stco,pe))},(function(){var ue,B;U=function(z){return a(H.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),z.type==="video"?ue(z):B(z))},ue=function(z){var q=z.sps||[],Z=z.pps||[],re=[],me=[],xe,De;for(xe=0;xe<q.length;xe++)re.push((q[xe].byteLength&65280)>>>8),re.push(q[xe].byteLength&255),re=re.concat(Array.prototype.slice.call(q[xe]));for(xe=0;xe<Z.length;xe++)me.push((Z[xe].byteLength&65280)>>>8),me.push(Z[xe].byteLength&255),me=me.concat(Array.prototype.slice.call(Z[xe]));if(De=[H.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(z.width&65280)>>8,z.width&255,(z.height&65280)>>8,z.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(H.avcC,new Uint8Array([1,z.profileIdc,z.profileCompatibility,z.levelIdc,255].concat([q.length],re,[Z.length],me))),a(H.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],z.sarRatio){var we=z.sarRatio[0],Pe=z.sarRatio[1];De.push(a(H.pasp,new Uint8Array([(we&4278190080)>>24,(we&16711680)>>16,(we&65280)>>8,we&255,(Pe&4278190080)>>24,(Pe&16711680)>>16,(Pe&65280)>>8,Pe&255])))}return a.apply(null,De)},B=function(z){return a(H.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(z.channelcount&65280)>>8,z.channelcount&255,(z.samplesize&65280)>>8,z.samplesize&255,0,0,0,0,(z.samplerate&65280)>>8,z.samplerate&255,0,0]),l(z))}})(),k=function(B){var V=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,0,(B.duration&4278190080)>>24,(B.duration&16711680)>>16,(B.duration&65280)>>8,B.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(B.width&65280)>>8,B.width&255,0,0,(B.height&65280)>>8,B.height&255,0,0]);return a(H.tkhd,V)},F=function(B){var V,z,q,Z,re,me,xe;return V=a(H.tfhd,new Uint8Array([0,0,0,58,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),me=Math.floor(B.baseMediaDecodeTime/s),xe=Math.floor(B.baseMediaDecodeTime%s),z=a(H.tfdt,new Uint8Array([1,0,0,0,me>>>24&255,me>>>16&255,me>>>8&255,me&255,xe>>>24&255,xe>>>16&255,xe>>>8&255,xe&255])),re=92,B.type==="audio"?(q=$(B,re),a(H.traf,V,z,q)):(Z=R(B),q=$(B,Z.length+re),a(H.traf,V,z,q,Z))},C=function(B){return B.duration=B.duration||4294967295,a(H.trak,k(B),D(B))},w=function(B){var V=new Uint8Array([0,0,0,0,(B.id&4278190080)>>24,(B.id&16711680)>>16,(B.id&65280)>>8,B.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return B.type!=="video"&&(V[V.length-1]=0),a(H.trex,V)},(function(){var ue,B,V;V=function(q,Z){var re=0,me=0,xe=0,De=0;return q.length&&(q[0].duration!==void 0&&(re=1),q[0].size!==void 0&&(me=2),q[0].flags!==void 0&&(xe=4),q[0].compositionTimeOffset!==void 0&&(De=8)),[0,0,re|me|xe|De,1,(q.length&4278190080)>>>24,(q.length&16711680)>>>16,(q.length&65280)>>>8,q.length&255,(Z&4278190080)>>>24,(Z&16711680)>>>16,(Z&65280)>>>8,Z&255]},B=function(q,Z){var re,me,xe,De,we,Pe;for(De=q.samples||[],Z+=20+16*De.length,xe=V(De,Z),me=new Uint8Array(xe.length+De.length*16),me.set(xe),re=xe.length,Pe=0;Pe<De.length;Pe++)we=De[Pe],me[re++]=(we.duration&4278190080)>>>24,me[re++]=(we.duration&16711680)>>>16,me[re++]=(we.duration&65280)>>>8,me[re++]=we.duration&255,me[re++]=(we.size&4278190080)>>>24,me[re++]=(we.size&16711680)>>>16,me[re++]=(we.size&65280)>>>8,me[re++]=we.size&255,me[re++]=we.flags.isLeading<<2|we.flags.dependsOn,me[re++]=we.flags.isDependedOn<<6|we.flags.hasRedundancy<<4|we.flags.paddingValue<<1|we.flags.isNonSyncSample,me[re++]=we.flags.degradationPriority&61440,me[re++]=we.flags.degradationPriority&15,me[re++]=(we.compositionTimeOffset&4278190080)>>>24,me[re++]=(we.compositionTimeOffset&16711680)>>>16,me[re++]=(we.compositionTimeOffset&65280)>>>8,me[re++]=we.compositionTimeOffset&255;return a(H.trun,me)},ue=function(q,Z){var re,me,xe,De,we,Pe;for(De=q.samples||[],Z+=20+8*De.length,xe=V(De,Z),re=new Uint8Array(xe.length+De.length*8),re.set(xe),me=xe.length,Pe=0;Pe<De.length;Pe++)we=De[Pe],re[me++]=(we.duration&4278190080)>>>24,re[me++]=(we.duration&16711680)>>>16,re[me++]=(we.duration&65280)>>>8,re[me++]=we.duration&255,re[me++]=(we.size&4278190080)>>>24,re[me++]=(we.size&16711680)>>>16,re[me++]=(we.size&65280)>>>8,re[me++]=we.size&255;return a(H.trun,re)},$=function(q,Z){return q.type==="audio"?ue(q,Z):B(q,Z)}})();var Re={ftyp:u,mdat:c,moof:g,moov:v,initSegment:function(B){var V=u(),z=v(B),q;return q=new Uint8Array(V.byteLength+z.byteLength),q.set(V),q.set(z,V.byteLength),q}},ot=function(B){var V,z,q=[],Z=[];for(Z.byteLength=0,Z.nalCount=0,Z.duration=0,q.byteLength=0,V=0;V<B.length;V++)z=B[V],z.nalUnitType==="access_unit_delimiter_rbsp"?(q.length&&(q.duration=z.dts-q.dts,Z.byteLength+=q.byteLength,Z.nalCount+=q.length,Z.duration+=q.duration,Z.push(q)),q=[z],q.byteLength=z.data.byteLength,q.pts=z.pts,q.dts=z.dts):(z.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(q.keyFrame=!0),q.duration=z.dts-q.dts,q.byteLength+=z.data.byteLength,q.push(z));return Z.length&&(!q.duration||q.duration<=0)&&(q.duration=Z[Z.length-1].duration),Z.byteLength+=q.byteLength,Z.nalCount+=q.length,Z.duration+=q.duration,Z.push(q),Z},ze=function(B){var V,z,q=[],Z=[];for(q.byteLength=0,q.nalCount=0,q.duration=0,q.pts=B[0].pts,q.dts=B[0].dts,Z.byteLength=0,Z.nalCount=0,Z.duration=0,Z.pts=B[0].pts,Z.dts=B[0].dts,V=0;V<B.length;V++)z=B[V],z.keyFrame?(q.length&&(Z.push(q),Z.byteLength+=q.byteLength,Z.nalCount+=q.nalCount,Z.duration+=q.duration),q=[z],q.nalCount=z.length,q.byteLength=z.byteLength,q.pts=z.pts,q.dts=z.dts,q.duration=z.duration):(q.duration+=z.duration,q.nalCount+=z.length,q.byteLength+=z.byteLength,q.push(z));return Z.length&&q.duration<=0&&(q.duration=Z[Z.length-1].duration),Z.byteLength+=q.byteLength,Z.nalCount+=q.nalCount,Z.duration+=q.duration,Z.push(q),Z},mt=function(B){var V;return!B[0][0].keyFrame&&B.length>1&&(V=B.shift(),B.byteLength-=V.byteLength,B.nalCount-=V.nalCount,B[0][0].dts=V.dts,B[0][0].pts=V.pts,B[0][0].duration+=V.duration),B},Je=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Pt=function(B,V){var z=Je();return z.dataOffset=V,z.compositionTimeOffset=B.pts-B.dts,z.duration=B.duration,z.size=4*B.length,z.size+=B.byteLength,B.keyFrame&&(z.flags.dependsOn=2,z.flags.isNonSyncSample=0),z},Rt=function(B,V){var z,q,Z,re,me,xe=V||0,De=[];for(z=0;z<B.length;z++)for(re=B[z],q=0;q<re.length;q++)me=re[q],Z=Pt(me,xe),xe+=Z.size,De.push(Z);return De},Ve=function(B){var V,z,q,Z,re,me,xe=0,De=B.byteLength,we=B.nalCount,Pe=De+4*we,lt=new Uint8Array(Pe),Mt=new DataView(lt.buffer);for(V=0;V<B.length;V++)for(Z=B[V],z=0;z<Z.length;z++)for(re=Z[z],q=0;q<re.length;q++)me=re[q],Mt.setUint32(xe,me.data.byteLength),xe+=4,lt.set(me.data,xe),xe+=me.data.byteLength;return lt},Ne=function(B,V){var z,q=V||0,Z=[];return z=Pt(B,q),Z.push(z),Z},et=function(B){var V,z,q=0,Z=B.byteLength,re=B.length,me=Z+4*re,xe=new Uint8Array(me),De=new DataView(xe.buffer);for(V=0;V<B.length;V++)z=B[V],De.setUint32(q,z.data.byteLength),q+=4,xe.set(z.data,q),q+=z.data.byteLength;return xe},at={groupNalsIntoFrames:ot,groupFramesIntoGops:ze,extendFirstKeyFrame:mt,generateSampleTable:Rt,concatenateNalData:Ve,generateSampleTableForFrame:Ne,concatenateNalDataForFrame:et},Me=[33,16,5,32,164,27],$e=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],qe=function(B){for(var V=[];B--;)V.push(0);return V},Ye=function(B){return Object.keys(B).reduce(function(V,z){return V[z]=new Uint8Array(B[z].reduce(function(q,Z){return q.concat(Z)},[])),V},{})},vt,ut=function(){if(!vt){var B={96e3:[Me,[227,64],qe(154),[56]],88200:[Me,[231],qe(170),[56]],64e3:[Me,[248,192],qe(240),[56]],48e3:[Me,[255,192],qe(268),[55,148,128],qe(54),[112]],44100:[Me,[255,192],qe(268),[55,163,128],qe(84),[112]],32e3:[Me,[255,192],qe(268),[55,234],qe(226),[112]],24e3:[Me,[255,192],qe(268),[55,255,128],qe(268),[111,112],qe(126),[224]],16e3:[Me,[255,192],qe(268),[55,255,128],qe(268),[111,255],qe(269),[223,108],qe(195),[1,192]],12e3:[$e,qe(268),[3,127,248],qe(268),[6,255,240],qe(268),[13,255,224],qe(268),[27,253,128],qe(259),[56]],11025:[$e,qe(268),[3,127,248],qe(268),[6,255,240],qe(268),[13,255,224],qe(268),[27,255,192],qe(268),[55,175,128],qe(108),[112]],8e3:[$e,qe(268),[3,121,16],qe(47),[7]]};vt=Ye(B)}return vt},gr=9e4,hr,Rr,nr,qt,fr,xr,Lr;hr=function(B){return B*gr},Rr=function(B,V){return B*V},nr=function(B){return B/gr},qt=function(B,V){return B/V},fr=function(B,V){return hr(qt(B,V))},xr=function(B,V){return Rr(nr(B),V)},Lr=function(B,V,z){return nr(z?B:B-V)};var xt={ONE_SECOND_IN_TS:gr,secondsToVideoTs:hr,secondsToAudioTs:Rr,videoTsToSeconds:nr,audioTsToSeconds:qt,audioTsToVideoTs:fr,videoTsToAudioTs:xr,metadataTsToSeconds:Lr},Ut=function(B){var V,z,q=0;for(V=0;V<B.length;V++)z=B[V],q+=z.data.byteLength;return q},rn=function(B,V,z,q){var Z,re=0,me=0,xe=0,De=0,we,Pe,lt;if(V.length&&(Z=xt.audioTsToVideoTs(B.baseMediaDecodeTime,B.samplerate),re=Math.ceil(xt.ONE_SECOND_IN_TS/(B.samplerate/1024)),z&&q&&(me=Z-Math.max(z,q),xe=Math.floor(me/re),De=xe*re),!(xe<1||De>xt.ONE_SECOND_IN_TS/2))){for(we=ut()[B.samplerate],we||(we=V[0].data),Pe=0;Pe<xe;Pe++)lt=V[0],V.splice(0,0,{data:we,dts:lt.dts-re,pts:lt.pts-re});return B.baseMediaDecodeTime-=Math.floor(xt.videoTsToAudioTs(De,B.samplerate)),De}},jt=function(B,V,z){return V.minSegmentDts>=z?B:(V.minSegmentDts=1/0,B.filter(function(q){return q.dts>=z?(V.minSegmentDts=Math.min(V.minSegmentDts,q.dts),V.minSegmentPts=V.minSegmentDts,!0):!1}))},Tr=function(B){var V,z,q=[];for(V=0;V<B.length;V++)z=B[V],q.push({size:z.data.byteLength,duration:1024});return q},Or=function(B){var V,z,q=0,Z=new Uint8Array(Ut(B));for(V=0;V<B.length;V++)z=B[V],Z.set(z.data,q),q+=z.data.byteLength;return Z},Hr={prefixWithSilence:rn,trimAdtsFramesByEarliestDts:jt,generateSampleTable:Tr,concatenateFrameData:Or},ln=xt.ONE_SECOND_IN_TS,Cn=function(B,V){typeof V.pts=="number"&&(B.timelineStartInfo.pts===void 0&&(B.timelineStartInfo.pts=V.pts),B.minSegmentPts===void 0?B.minSegmentPts=V.pts:B.minSegmentPts=Math.min(B.minSegmentPts,V.pts),B.maxSegmentPts===void 0?B.maxSegmentPts=V.pts:B.maxSegmentPts=Math.max(B.maxSegmentPts,V.pts)),typeof V.dts=="number"&&(B.timelineStartInfo.dts===void 0&&(B.timelineStartInfo.dts=V.dts),B.minSegmentDts===void 0?B.minSegmentDts=V.dts:B.minSegmentDts=Math.min(B.minSegmentDts,V.dts),B.maxSegmentDts===void 0?B.maxSegmentDts=V.dts:B.maxSegmentDts=Math.max(B.maxSegmentDts,V.dts))},wn=function(B){delete B.minSegmentDts,delete B.maxSegmentDts,delete B.minSegmentPts,delete B.maxSegmentPts},Fr=function(B,V){var z,q,Z=B.minSegmentDts;return V||(Z-=B.timelineStartInfo.dts),z=B.timelineStartInfo.baseMediaDecodeTime,z+=Z,z=Math.max(0,z),B.type==="audio"&&(q=B.samplerate/ln,z*=q,z=Math.floor(z)),z},se={clearDtsInfo:wn,calculateTrackBaseMediaDecodeTime:Fr,collectDtsInfo:Cn},fe=4,Te=128,je=function(B){for(var V=0,z={payloadType:-1,payloadSize:0},q=0,Z=0;V<B.byteLength&&B[V]!==Te;){for(;B[V]===255;)q+=255,V++;for(q+=B[V++];B[V]===255;)Z+=255,V++;if(Z+=B[V++],!z.payload&&q===fe){var re=String.fromCharCode(B[V+3],B[V+4],B[V+5],B[V+6]);if(re==="GA94"){z.payloadType=q,z.payloadSize=Z,z.payload=B.subarray(V,V+Z);break}else z.payload=void 0}V+=Z,q=0,Z=0}return z},gt=function(B){return B.payload[0]!==181||(B.payload[1]<<8|B.payload[2])!==49||String.fromCharCode(B.payload[3],B.payload[4],B.payload[5],B.payload[6])!=="GA94"||B.payload[7]!==3?null:B.payload.subarray(8,B.payload.length-1)},Tt=function(B,V){var z=[],q,Z,re,me;if(!(V[0]&64))return z;for(Z=V[0]&31,q=0;q<Z;q++)re=q*3,me={type:V[re+2]&3,pts:B},V[re+2]&4&&(me.ccData=V[re+3]<<8|V[re+4],z.push(me));return z},be=function(B){for(var V=B.byteLength,z=[],q=1,Z,re;q<V-2;)B[q]===0&&B[q+1]===0&&B[q+2]===3?(z.push(q+2),q+=2):q++;if(z.length===0)return B;Z=V-z.length,re=new Uint8Array(Z);var me=0;for(q=0;q<Z;me++,q++)me===z[0]&&(me++,z.shift()),re[q]=B[me];return re},ye={parseSei:je,parseUserData:gt,parseCaptionPackets:Tt,discardEmulationPreventionBytes:be,USER_DATA_REGISTERED_ITU_T_T35:fe},Ae=function ue(B){B=B||{},ue.prototype.init.call(this),this.parse708captions_=typeof B.parse708captions=="boolean"?B.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new _r(0,0),new _r(0,1),new _r(1,0),new _r(1,1)],this.parse708captions_&&(this.cc708Stream_=new _t({captionServices:B.captionServices})),this.reset(),this.ccStreams_.forEach(function(V){V.on("data",this.trigger.bind(this,"data")),V.on("partialdone",this.trigger.bind(this,"partialdone")),V.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Ae.prototype=new e,Ae.prototype.push=function(ue){var B,V,z;if(ue.nalUnitType==="sei_rbsp"&&(B=ye.parseSei(ue.escapedRBSP),!!B.payload&&B.payloadType===ye.USER_DATA_REGISTERED_ITU_T_T35&&(V=ye.parseUserData(B),!!V))){if(ue.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(ue.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}z=ye.parseCaptionPackets(ue.pts,V),this.captionPackets_=this.captionPackets_.concat(z),this.latestDts_!==ue.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=ue.dts}},Ae.prototype.flushCCStreams=function(ue){this.ccStreams_.forEach(function(B){return ue==="flush"?B.flush():B.partialFlush()},this)},Ae.prototype.flushStream=function(ue){if(!this.captionPackets_.length){this.flushCCStreams(ue);return}this.captionPackets_.forEach(function(B,V){B.presortIndex=V}),this.captionPackets_.sort(function(B,V){return B.pts===V.pts?B.presortIndex-V.presortIndex:B.pts-V.pts}),this.captionPackets_.forEach(function(B){B.type<2?this.dispatchCea608Packet(B):this.dispatchCea708Packet(B)},this),this.captionPackets_.length=0,this.flushCCStreams(ue)},Ae.prototype.flush=function(){return this.flushStream("flush")},Ae.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Ae.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(ue){ue.reset()})},Ae.prototype.dispatchCea608Packet=function(ue){this.setsTextOrXDSActive(ue)?this.activeCea608Channel_[ue.type]=null:this.setsChannel1Active(ue)?this.activeCea608Channel_[ue.type]=0:this.setsChannel2Active(ue)&&(this.activeCea608Channel_[ue.type]=1),this.activeCea608Channel_[ue.type]!==null&&this.ccStreams_[(ue.type<<1)+this.activeCea608Channel_[ue.type]].push(ue)},Ae.prototype.setsChannel1Active=function(ue){return(ue.ccData&30720)===4096},Ae.prototype.setsChannel2Active=function(ue){return(ue.ccData&30720)===6144},Ae.prototype.setsTextOrXDSActive=function(ue){return(ue.ccData&28928)===256||(ue.ccData&30974)===4138||(ue.ccData&30974)===6186},Ae.prototype.dispatchCea708Packet=function(ue){this.parse708captions_&&this.cc708Stream_.push(ue)};var Xe={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},Qe=function(B){var V=Xe[B]||B;return B&4096&&B===V?"":String.fromCharCode(V)},St=function(B){return 32<=B&&B<=127||160<=B&&B<=255},Lt=function(B){this.windowNum=B,this.reset()};Lt.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Lt.prototype.getText=function(){return this.rows.join(`
`)},Lt.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Lt.prototype.newLine=function(ue){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(ue),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Lt.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Lt.prototype.addText=function(ue){this.rows[this.rowIdx]+=ue},Lt.prototype.backspace=function(){if(!this.isEmpty()){var ue=this.rows[this.rowIdx];this.rows[this.rowIdx]=ue.substr(0,ue.length-1)}};var dt=function(B,V,z){this.serviceNum=B,this.text="",this.currentWindow=new Lt(-1),this.windows=[],this.stream=z,typeof V=="string"&&this.createTextDecoder(V)};dt.prototype.init=function(ue,B){this.startPts=ue;for(var V=0;V<8;V++)this.windows[V]=new Lt(V),typeof B=="function"&&(this.windows[V].beforeRowOverflow=B)},dt.prototype.setCurrentWindow=function(ue){this.currentWindow=this.windows[ue]},dt.prototype.createTextDecoder=function(ue){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(ue)}catch(B){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+ue+" encoding. "+B})}};var _t=function ue(B){B=B||{},ue.prototype.init.call(this);var V=this,z=B.captionServices||{},q={},Z;Object.keys(z).forEach(function(re){Z=z[re],/^SERVICE/.test(re)&&(q[re]=Z.encoding)}),this.serviceEncodings=q,this.current708Packet=null,this.services={},this.push=function(re){re.type===3?(V.new708Packet(),V.add708Bytes(re)):(V.current708Packet===null&&V.new708Packet(),V.add708Bytes(re))}};_t.prototype=new e,_t.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},_t.prototype.add708Bytes=function(ue){var B=ue.ccData,V=B>>>8,z=B&255;this.current708Packet.ptsVals.push(ue.pts),this.current708Packet.data.push(V),this.current708Packet.data.push(z)},_t.prototype.push708Packet=function(){var ue=this.current708Packet,B=ue.data,V=null,z=null,q=0,Z=B[q++];for(ue.seq=Z>>6,ue.sizeCode=Z&63;q<B.length;q++)Z=B[q++],V=Z>>5,z=Z&31,V===7&&z>0&&(Z=B[q++],V=Z),this.pushServiceBlock(V,q,z),z>0&&(q+=z-1)},_t.prototype.pushServiceBlock=function(ue,B,V){var z,q=B,Z=this.current708Packet.data,re=this.services[ue];for(re||(re=this.initService(ue,q));q<B+V&&q<Z.length;q++)z=Z[q],St(z)?q=this.handleText(q,re):z===24?q=this.multiByteCharacter(q,re):z===16?q=this.extendedCommands(q,re):128<=z&&z<=135?q=this.setCurrentWindow(q,re):152<=z&&z<=159?q=this.defineWindow(q,re):z===136?q=this.clearWindows(q,re):z===140?q=this.deleteWindows(q,re):z===137?q=this.displayWindows(q,re):z===138?q=this.hideWindows(q,re):z===139?q=this.toggleWindows(q,re):z===151?q=this.setWindowAttributes(q,re):z===144?q=this.setPenAttributes(q,re):z===145?q=this.setPenColor(q,re):z===146?q=this.setPenLocation(q,re):z===143?re=this.reset(q,re):z===8?re.currentWindow.backspace():z===12?re.currentWindow.clearText():z===13?re.currentWindow.pendingNewLine=!0:z===14?re.currentWindow.clearText():z===141&&q++},_t.prototype.extendedCommands=function(ue,B){var V=this.current708Packet.data,z=V[++ue];return St(z)&&(ue=this.handleText(ue,B,{isExtended:!0})),ue},_t.prototype.getPts=function(ue){return this.current708Packet.ptsVals[Math.floor(ue/2)]},_t.prototype.initService=function(ue,B){var z="SERVICE"+ue,V=this,z,q;return z in this.serviceEncodings&&(q=this.serviceEncodings[z]),this.services[ue]=new dt(ue,q,V),this.services[ue].init(this.getPts(B),function(Z){V.flushDisplayed(Z,V.services[ue])}),this.services[ue]},_t.prototype.handleText=function(ue,B,V){var z=V&&V.isExtended,q=V&&V.isMultiByte,Z=this.current708Packet.data,re=z?4096:0,me=Z[ue],xe=Z[ue+1],De=B.currentWindow,we,Pe;return B.textDecoder_&&!z?(q?(Pe=[me,xe],ue++):Pe=[me],we=B.textDecoder_.decode(new Uint8Array(Pe))):we=Qe(re|me),De.pendingNewLine&&!De.isEmpty()&&De.newLine(this.getPts(ue)),De.pendingNewLine=!1,De.addText(we),ue},_t.prototype.multiByteCharacter=function(ue,B){var V=this.current708Packet.data,z=V[ue+1],q=V[ue+2];return St(z)&&St(q)&&(ue=this.handleText(++ue,B,{isMultiByte:!0})),ue},_t.prototype.setCurrentWindow=function(ue,B){var V=this.current708Packet.data,z=V[ue],q=z&7;return B.setCurrentWindow(q),ue},_t.prototype.defineWindow=function(ue,B){var V=this.current708Packet.data,z=V[ue],q=z&7;B.setCurrentWindow(q);var Z=B.currentWindow;return z=V[++ue],Z.visible=(z&32)>>5,Z.rowLock=(z&16)>>4,Z.columnLock=(z&8)>>3,Z.priority=z&7,z=V[++ue],Z.relativePositioning=(z&128)>>7,Z.anchorVertical=z&127,z=V[++ue],Z.anchorHorizontal=z,z=V[++ue],Z.anchorPoint=(z&240)>>4,Z.rowCount=z&15,z=V[++ue],Z.columnCount=z&63,z=V[++ue],Z.windowStyle=(z&56)>>3,Z.penStyle=z&7,Z.virtualRowCount=Z.rowCount+1,ue},_t.prototype.setWindowAttributes=function(ue,B){var V=this.current708Packet.data,z=V[ue],q=B.currentWindow.winAttr;return z=V[++ue],q.fillOpacity=(z&192)>>6,q.fillRed=(z&48)>>4,q.fillGreen=(z&12)>>2,q.fillBlue=z&3,z=V[++ue],q.borderType=(z&192)>>6,q.borderRed=(z&48)>>4,q.borderGreen=(z&12)>>2,q.borderBlue=z&3,z=V[++ue],q.borderType+=(z&128)>>5,q.wordWrap=(z&64)>>6,q.printDirection=(z&48)>>4,q.scrollDirection=(z&12)>>2,q.justify=z&3,z=V[++ue],q.effectSpeed=(z&240)>>4,q.effectDirection=(z&12)>>2,q.displayEffect=z&3,ue},_t.prototype.flushDisplayed=function(ue,B){for(var V=[],z=0;z<8;z++)B.windows[z].visible&&!B.windows[z].isEmpty()&&V.push(B.windows[z].getText());B.endPts=ue,B.text=V.join(`

`),this.pushCaption(B),B.startPts=ue},_t.prototype.pushCaption=function(ue){ue.text!==""&&(this.trigger("data",{startPts:ue.startPts,endPts:ue.endPts,text:ue.text,stream:"cc708_"+ue.serviceNum}),ue.text="",ue.startPts=ue.endPts)},_t.prototype.displayWindows=function(ue,B){var V=this.current708Packet.data,z=V[++ue],q=this.getPts(ue);this.flushDisplayed(q,B);for(var Z=0;Z<8;Z++)z&1<<Z&&(B.windows[Z].visible=1);return ue},_t.prototype.hideWindows=function(ue,B){var V=this.current708Packet.data,z=V[++ue],q=this.getPts(ue);this.flushDisplayed(q,B);for(var Z=0;Z<8;Z++)z&1<<Z&&(B.windows[Z].visible=0);return ue},_t.prototype.toggleWindows=function(ue,B){var V=this.current708Packet.data,z=V[++ue],q=this.getPts(ue);this.flushDisplayed(q,B);for(var Z=0;Z<8;Z++)z&1<<Z&&(B.windows[Z].visible^=1);return ue},_t.prototype.clearWindows=function(ue,B){var V=this.current708Packet.data,z=V[++ue],q=this.getPts(ue);this.flushDisplayed(q,B);for(var Z=0;Z<8;Z++)z&1<<Z&&B.windows[Z].clearText();return ue},_t.prototype.deleteWindows=function(ue,B){var V=this.current708Packet.data,z=V[++ue],q=this.getPts(ue);this.flushDisplayed(q,B);for(var Z=0;Z<8;Z++)z&1<<Z&&B.windows[Z].reset();return ue},_t.prototype.setPenAttributes=function(ue,B){var V=this.current708Packet.data,z=V[ue],q=B.currentWindow.penAttr;return z=V[++ue],q.textTag=(z&240)>>4,q.offset=(z&12)>>2,q.penSize=z&3,z=V[++ue],q.italics=(z&128)>>7,q.underline=(z&64)>>6,q.edgeType=(z&56)>>3,q.fontStyle=z&7,ue},_t.prototype.setPenColor=function(ue,B){var V=this.current708Packet.data,z=V[ue],q=B.currentWindow.penColor;return z=V[++ue],q.fgOpacity=(z&192)>>6,q.fgRed=(z&48)>>4,q.fgGreen=(z&12)>>2,q.fgBlue=z&3,z=V[++ue],q.bgOpacity=(z&192)>>6,q.bgRed=(z&48)>>4,q.bgGreen=(z&12)>>2,q.bgBlue=z&3,z=V[++ue],q.edgeRed=(z&48)>>4,q.edgeGreen=(z&12)>>2,q.edgeBlue=z&3,ue},_t.prototype.setPenLocation=function(ue,B){var V=this.current708Packet.data,z=V[ue],q=B.currentWindow.penLoc;return B.currentWindow.pendingNewLine=!0,z=V[++ue],q.row=z&15,z=V[++ue],q.column=z&63,ue},_t.prototype.reset=function(ue,B){var V=this.getPts(ue);return this.flushDisplayed(V,B),this.initService(B.serviceNum,ue)};var Vt={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Kt=function(B){return B===null?"":(B=Vt[B]||B,String.fromCharCode(B))},Nt=14,vr=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Ct=function(){for(var B=[],V=Nt+1;V--;)B.push("");return B},_r=function ue(B,V){ue.prototype.init.call(this),this.field_=B||0,this.dataChannel_=V||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(z){var q,Z,re,me,xe;if(q=z.ccData&32639,q===this.lastControlCode_){this.lastControlCode_=null;return}if((q&61440)===4096?this.lastControlCode_=q:q!==this.PADDING_&&(this.lastControlCode_=null),re=q>>>8,me=q&255,q!==this.PADDING_)if(q===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(q===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(z.pts),this.flushDisplayed(z.pts),Z=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=Z,this.startPts_=z.pts;else if(q===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(z.pts);else if(q===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(z.pts);else if(q===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(z.pts);else if(q===this.CARRIAGE_RETURN_)this.clearFormatting(z.pts),this.flushDisplayed(z.pts),this.shiftRowsUp_(),this.startPts_=z.pts;else if(q===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(q===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(z.pts),this.displayed_=Ct();else if(q===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Ct();else if(q===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(z.pts),this.displayed_=Ct()),this.mode_="paintOn",this.startPts_=z.pts;else if(this.isSpecialCharacter(re,me))re=(re&3)<<8,xe=Kt(re|me),this[this.mode_](z.pts,xe),this.column_++;else if(this.isExtCharacter(re,me))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),re=(re&3)<<8,xe=Kt(re|me),this[this.mode_](z.pts,xe),this.column_++;else if(this.isMidRowCode(re,me))this.clearFormatting(z.pts),this[this.mode_](z.pts," "),this.column_++,(me&14)===14&&this.addFormatting(z.pts,["i"]),(me&1)===1&&this.addFormatting(z.pts,["u"]);else if(this.isOffsetControlCode(re,me))this.column_+=me&3;else if(this.isPAC(re,me)){var De=vr.indexOf(q&7968);this.mode_==="rollUp"&&(De-this.rollUpRows_+1<0&&(De=this.rollUpRows_-1),this.setRollUp(z.pts,De)),De!==this.row_&&(this.clearFormatting(z.pts),this.row_=De),me&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(z.pts,["u"]),(q&16)===16&&(this.column_=((q&14)>>1)*4),this.isColorPAC(me)&&(me&14)===14&&this.addFormatting(z.pts,["i"])}else this.isNormalChar(re)&&(me===0&&(me=null),xe=Kt(re),xe+=Kt(me),this[this.mode_](z.pts,xe),this.column_+=xe.length)}};_r.prototype=new e,_r.prototype.flushDisplayed=function(ue){var B=this.displayed_.map(function(V,z){try{return V.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+z+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");B.length&&this.trigger("data",{startPts:this.startPts_,endPts:ue,text:B,stream:this.name_})},_r.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Ct(),this.nonDisplayed_=Ct(),this.lastControlCode_=null,this.column_=0,this.row_=Nt,this.rollUpRows_=2,this.formatting_=[]},_r.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},_r.prototype.isSpecialCharacter=function(ue,B){return ue===this.EXT_&&B>=48&&B<=63},_r.prototype.isExtCharacter=function(ue,B){return(ue===this.EXT_+1||ue===this.EXT_+2)&&B>=32&&B<=63},_r.prototype.isMidRowCode=function(ue,B){return ue===this.EXT_&&B>=32&&B<=47},_r.prototype.isOffsetControlCode=function(ue,B){return ue===this.OFFSET_&&B>=33&&B<=35},_r.prototype.isPAC=function(ue,B){return ue>=this.BASE_&&ue<this.BASE_+8&&B>=64&&B<=127},_r.prototype.isColorPAC=function(ue){return ue>=64&&ue<=79||ue>=96&&ue<=127},_r.prototype.isNormalChar=function(ue){return ue>=32&&ue<=127},_r.prototype.setRollUp=function(ue,B){if(this.mode_!=="rollUp"&&(this.row_=Nt,this.mode_="rollUp",this.flushDisplayed(ue),this.nonDisplayed_=Ct(),this.displayed_=Ct()),B!==void 0&&B!==this.row_)for(var V=0;V<this.rollUpRows_;V++)this.displayed_[B-V]=this.displayed_[this.row_-V],this.displayed_[this.row_-V]="";B===void 0&&(B=this.row_),this.topRow_=B-this.rollUpRows_+1},_r.prototype.addFormatting=function(ue,B){this.formatting_=this.formatting_.concat(B);var V=B.reduce(function(z,q){return z+"<"+q+">"},"");this[this.mode_](ue,V)},_r.prototype.clearFormatting=function(ue){if(this.formatting_.length){var B=this.formatting_.reverse().reduce(function(V,z){return V+"</"+z+">"},"");this.formatting_=[],this[this.mode_](ue,B)}},_r.prototype.popOn=function(ue,B){var V=this.nonDisplayed_[this.row_];V+=B,this.nonDisplayed_[this.row_]=V},_r.prototype.rollUp=function(ue,B){var V=this.displayed_[this.row_];V+=B,this.displayed_[this.row_]=V},_r.prototype.shiftRowsUp_=function(){var ue;for(ue=0;ue<this.topRow_;ue++)this.displayed_[ue]="";for(ue=this.row_+1;ue<Nt+1;ue++)this.displayed_[ue]="";for(ue=this.topRow_;ue<this.row_;ue++)this.displayed_[ue]=this.displayed_[ue+1];this.displayed_[this.row_]=""},_r.prototype.paintOn=function(ue,B){var V=this.displayed_[this.row_];V+=B,this.displayed_[this.row_]=V};var Zr={CaptionStream:Ae,Cea608Stream:_r,Cea708Stream:_t},Br={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},jr=8589934592,Pn=4294967296,ir="shared",Ci=function(B,V){var z=1;for(B>V&&(z=-1);Math.abs(V-B)>Pn;)B+=z*jr;return B},yn=function ue(B){var V,z;ue.prototype.init.call(this),this.type_=B||ir,this.push=function(q){this.type_!==ir&&q.type!==this.type_||(z===void 0&&(z=q.dts),q.dts=Ci(q.dts,z),q.pts=Ci(q.pts,z),V=q.dts,this.trigger("data",q))},this.flush=function(){z=V,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){z=void 0,V=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};yn.prototype=new e;var Cs={TimestampRolloverStream:yn,handleRollover:Ci},nn=function(B,V,z){var q,Z="";for(q=V;q<z;q++)Z+="%"+("00"+B[q].toString(16)).slice(-2);return Z},ws=function(B,V,z){return decodeURIComponent(nn(B,V,z))},hi=function(B,V,z){return unescape(nn(B,V,z))},si=function(B){return B[0]<<21|B[1]<<14|B[2]<<7|B[3]},Mr={TXXX:function(B){var V;if(B.data[0]===3){for(V=1;V<B.data.length;V++)if(B.data[V]===0){B.description=ws(B.data,1,V),B.value=ws(B.data,V+1,B.data.length).replace(/\0*$/,"");break}B.data=B.value}},WXXX:function(B){var V;if(B.data[0]===3){for(V=1;V<B.data.length;V++)if(B.data[V]===0){B.description=ws(B.data,1,V),B.url=ws(B.data,V+1,B.data.length);break}}},PRIV:function(B){var V;for(V=0;V<B.data.length;V++)if(B.data[V]===0){B.owner=hi(B.data,0,V);break}B.privateData=B.data.subarray(V+1),B.data=B.privateData}},ke;ke=function(B){var V={descriptor:B&&B.descriptor},z=0,q=[],Z=0,re;if(ke.prototype.init.call(this),this.dispatchType=Br.METADATA_STREAM_TYPE.toString(16),V.descriptor)for(re=0;re<V.descriptor.length;re++)this.dispatchType+=("00"+V.descriptor[re].toString(16)).slice(-2);this.push=function(me){var xe,De,we,Pe,lt,Mt;if(me.type==="timed-metadata"){if(me.dataAlignmentIndicator&&(Z=0,q.length=0),q.length===0&&(me.data.length<10||me.data[0]!==73||me.data[1]!==68||me.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(q.push(me),Z+=me.data.byteLength,q.length===1&&(z=si(me.data.subarray(6,10)),z+=10),!(Z<z)){for(xe={data:new Uint8Array(z),frames:[],pts:q[0].pts,dts:q[0].dts},lt=0;lt<z;)xe.data.set(q[0].data.subarray(0,z-lt),lt),lt+=q[0].data.byteLength,Z-=q[0].data.byteLength,q.shift();De=10,xe.data[5]&64&&(De+=4,De+=si(xe.data.subarray(10,14)),z-=si(xe.data.subarray(16,20)));do{if(we=si(xe.data.subarray(De+4,De+8)),we<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(Mt=String.fromCharCode(xe.data[De],xe.data[De+1],xe.data[De+2],xe.data[De+3]),Pe={id:Mt,data:xe.data.subarray(De+10,De+we+10)},Pe.key=Pe.id,Mr[Pe.id]&&(Mr[Pe.id](Pe),Pe.owner==="com.apple.streaming.transportStreamTimestamp")){var zt=Pe.data,st=(zt[3]&1)<<30|zt[4]<<22|zt[5]<<14|zt[6]<<6|zt[7]>>>2;st*=4,st+=zt[7]&3,Pe.timeStamp=st,xe.pts===void 0&&xe.dts===void 0&&(xe.pts=Pe.timeStamp,xe.dts=Pe.timeStamp),this.trigger("timestamp",Pe)}xe.frames.push(Pe),De+=10,De+=we}while(De<z);this.trigger("data",xe)}}}},ke.prototype=new e;var Ue=ke,tt=Cs.TimestampRolloverStream,nt,bt,At,Bt=188,Er=71;nt=function(){var B=new Uint8Array(Bt),V=0;nt.prototype.init.call(this),this.push=function(z){var q=0,Z=Bt,re;for(V?(re=new Uint8Array(z.byteLength+V),re.set(B.subarray(0,V)),re.set(z,V),V=0):re=z;Z<re.byteLength;){if(re[q]===Er&&re[Z]===Er){this.trigger("data",re.subarray(q,Z)),q+=Bt,Z+=Bt;continue}q++,Z++}q<re.byteLength&&(B.set(re.subarray(q),0),V=re.byteLength-q)},this.flush=function(){V===Bt&&B[0]===Er&&(this.trigger("data",B),V=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){V=0,this.trigger("reset")}},nt.prototype=new e,bt=function(){var B,V,z,q;bt.prototype.init.call(this),q=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,B=function(re,me){var xe=0;me.payloadUnitStartIndicator&&(xe+=re[xe]+1),me.type==="pat"?V(re.subarray(xe),me):z(re.subarray(xe),me)},V=function(re,me){me.section_number=re[7],me.last_section_number=re[8],q.pmtPid=(re[10]&31)<<8|re[11],me.pmtPid=q.pmtPid},z=function(re,me){var xe,De,we,Pe;if(re[5]&1){for(q.programMapTable={video:null,audio:null,"timed-metadata":{}},xe=(re[1]&15)<<8|re[2],De=3+xe-4,we=(re[10]&15)<<8|re[11],Pe=12+we;Pe<De;){var lt=re[Pe],Mt=(re[Pe+1]&31)<<8|re[Pe+2];lt===Br.H264_STREAM_TYPE&&q.programMapTable.video===null?q.programMapTable.video=Mt:lt===Br.ADTS_STREAM_TYPE&&q.programMapTable.audio===null?q.programMapTable.audio=Mt:lt===Br.METADATA_STREAM_TYPE&&(q.programMapTable["timed-metadata"][Mt]=lt),Pe+=((re[Pe+3]&15)<<8|re[Pe+4])+5}me.programMapTable=q.programMapTable}},this.push=function(Z){var re={},me=4;if(re.payloadUnitStartIndicator=!!(Z[1]&64),re.pid=Z[1]&31,re.pid<<=8,re.pid|=Z[2],(Z[3]&48)>>>4>1&&(me+=Z[me]+1),re.pid===0)re.type="pat",B(Z.subarray(me),re),this.trigger("data",re);else if(re.pid===this.pmtPid)for(re.type="pmt",B(Z.subarray(me),re),this.trigger("data",re);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([Z,me,re]):this.processPes_(Z,me,re)},this.processPes_=function(Z,re,me){me.pid===this.programMapTable.video?me.streamType=Br.H264_STREAM_TYPE:me.pid===this.programMapTable.audio?me.streamType=Br.ADTS_STREAM_TYPE:me.streamType=this.programMapTable["timed-metadata"][me.pid],me.type="pes",me.data=Z.subarray(re),this.trigger("data",me)}},bt.prototype=new e,bt.STREAM_TYPES={h264:27,adts:15},At=function(){var B=this,V=!1,z={data:[],size:0},q={data:[],size:0},Z={data:[],size:0},re,me=function(we,Pe){var lt,Mt=we[0]<<16|we[1]<<8|we[2];Pe.data=new Uint8Array,Mt===1&&(Pe.packetLength=6+(we[4]<<8|we[5]),Pe.dataAlignmentIndicator=(we[6]&4)!==0,lt=we[7],lt&192&&(Pe.pts=(we[9]&14)<<27|(we[10]&255)<<20|(we[11]&254)<<12|(we[12]&255)<<5|(we[13]&254)>>>3,Pe.pts*=4,Pe.pts+=(we[13]&6)>>>1,Pe.dts=Pe.pts,lt&64&&(Pe.dts=(we[14]&14)<<27|(we[15]&255)<<20|(we[16]&254)<<12|(we[17]&255)<<5|(we[18]&254)>>>3,Pe.dts*=4,Pe.dts+=(we[18]&6)>>>1)),Pe.data=we.subarray(9+we[8]))},xe=function(we,Pe,lt){var Mt=new Uint8Array(we.size),zt={type:Pe},st=0,ar=0,In=!1,pi;if(!(!we.data.length||we.size<9)){for(zt.trackId=we.data[0].pid,st=0;st<we.data.length;st++)pi=we.data[st],Mt.set(pi.data,ar),ar+=pi.data.byteLength;me(Mt,zt),In=Pe==="video"||zt.packetLength<=we.size,(lt||In)&&(we.size=0,we.data.length=0),In&&B.trigger("data",zt)}};At.prototype.init.call(this),this.push=function(De){({pat:function(){},pes:function(){var Pe,lt;switch(De.streamType){case Br.H264_STREAM_TYPE:Pe=z,lt="video";break;case Br.ADTS_STREAM_TYPE:Pe=q,lt="audio";break;case Br.METADATA_STREAM_TYPE:Pe=Z,lt="timed-metadata";break;default:return}De.payloadUnitStartIndicator&&xe(Pe,lt,!0),Pe.data.push(De),Pe.size+=De.data.byteLength},pmt:function(){var Pe={type:"metadata",tracks:[]};re=De.programMapTable,re.video!==null&&Pe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+re.video,codec:"avc",type:"video"}),re.audio!==null&&Pe.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+re.audio,codec:"adts",type:"audio"}),V=!0,B.trigger("data",Pe)}})[De.type]()},this.reset=function(){z.size=0,z.data.length=0,q.size=0,q.data.length=0,this.trigger("reset")},this.flushStreams_=function(){xe(z,"video"),xe(q,"audio"),xe(Z,"timed-metadata")},this.flush=function(){if(!V&&re){var De={type:"metadata",tracks:[]};re.video!==null&&De.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+re.video,codec:"avc",type:"video"}),re.audio!==null&&De.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+re.audio,codec:"adts",type:"audio"}),B.trigger("data",De)}V=!1,this.flushStreams_(),this.trigger("done")}},At.prototype=new e;var Wr={PAT_PID:0,MP2T_PACKET_LENGTH:Bt,TransportPacketStream:nt,TransportParseStream:bt,ElementaryStream:At,TimestampRolloverStream:tt,CaptionStream:Zr.CaptionStream,Cea608Stream:Zr.Cea608Stream,Cea708Stream:Zr.Cea708Stream,MetadataStream:Ue};for(var xn in Br)Br.hasOwnProperty(xn)&&(Wr[xn]=Br[xn]);var Dr=Wr,fi=xt.ONE_SECOND_IN_TS,zr,Mn=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];zr=function(B){var V,z=0;zr.prototype.init.call(this),this.skipWarn_=function(q,Z){this.trigger("log",{level:"warn",message:"adts skiping bytes "+q+" to "+Z+" in frame "+z+" outside syncword"})},this.push=function(q){var Z=0,re,me,xe,De,we;if(B||(z=0),q.type==="audio"){V&&V.length?(xe=V,V=new Uint8Array(xe.byteLength+q.data.byteLength),V.set(xe),V.set(q.data,xe.byteLength)):V=q.data;for(var Pe;Z+7<V.length;){if(V[Z]!==255||(V[Z+1]&246)!==240){typeof Pe!="number"&&(Pe=Z),Z++;continue}if(typeof Pe=="number"&&(this.skipWarn_(Pe,Z),Pe=null),me=(~V[Z+1]&1)*2,re=(V[Z+3]&3)<<11|V[Z+4]<<3|(V[Z+5]&224)>>5,De=((V[Z+6]&3)+1)*1024,we=De*fi/Mn[(V[Z+2]&60)>>>2],V.byteLength-Z<re)break;this.trigger("data",{pts:q.pts+z*we,dts:q.dts+z*we,sampleCount:De,audioobjecttype:(V[Z+2]>>>6&3)+1,channelcount:(V[Z+2]&1)<<2|(V[Z+3]&192)>>>6,samplerate:Mn[(V[Z+2]&60)>>>2],samplingfrequencyindex:(V[Z+2]&60)>>>2,samplesize:16,data:V.subarray(Z+7+me,Z+re)}),z++,Z+=re}typeof Pe=="number"&&(this.skipWarn_(Pe,Z),Pe=null),V=V.subarray(Z)}},this.flush=function(){z=0,this.trigger("done")},this.reset=function(){V=void 0,this.trigger("reset")},this.endTimeline=function(){V=void 0,this.trigger("endedtimeline")}},zr.prototype=new e;var jn=zr,Es;Es=function(B){var V=B.byteLength,z=0,q=0;this.length=function(){return 8*V},this.bitsAvailable=function(){return 8*V+q},this.loadWord=function(){var Z=B.byteLength-V,re=new Uint8Array(4),me=Math.min(4,V);if(me===0)throw new Error("no bytes available");re.set(B.subarray(Z,Z+me)),z=new DataView(re.buffer).getUint32(0),q=me*8,V-=me},this.skipBits=function(Z){var re;q>Z?(z<<=Z,q-=Z):(Z-=q,re=Math.floor(Z/8),Z-=re*8,V-=re,this.loadWord(),z<<=Z,q-=Z)},this.readBits=function(Z){var re=Math.min(q,Z),me=z>>>32-re;return q-=re,q>0?z<<=re:V>0&&this.loadWord(),re=Z-re,re>0?me<<re|this.readBits(re):me},this.skipLeadingZeros=function(){var Z;for(Z=0;Z<q;++Z)if((z&2147483648>>>Z)!==0)return z<<=Z,q-=Z,Z;return this.loadWord(),Z+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var Z=this.skipLeadingZeros();return this.readBits(Z+1)-1},this.readExpGolomb=function(){var Z=this.readUnsignedExpGolomb();return 1&Z?1+Z>>>1:-1*(Z>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var Wc=Es,ks,Hi,Rn;Hi=function(){var B=0,V,z;Hi.prototype.init.call(this),this.push=function(q){var Z;z?(Z=new Uint8Array(z.byteLength+q.data.byteLength),Z.set(z),Z.set(q.data,z.byteLength),z=Z):z=q.data;for(var re=z.byteLength;B<re-3;B++)if(z[B+2]===1){V=B+5;break}for(;V<re;)switch(z[V]){case 0:if(z[V-1]!==0){V+=2;break}else if(z[V-2]!==0){V++;break}B+3!==V-2&&this.trigger("data",z.subarray(B+3,V-2));do V++;while(z[V]!==1&&V<re);B=V-2,V+=3;break;case 1:if(z[V-1]!==0||z[V-2]!==0){V+=3;break}this.trigger("data",z.subarray(B+3,V-2)),B=V-2,V+=3;break;default:V+=3;break}z=z.subarray(B),V-=B,B=0},this.reset=function(){z=null,B=0,this.trigger("reset")},this.flush=function(){z&&z.byteLength>3&&this.trigger("data",z.subarray(B+3)),z=null,B=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Hi.prototype=new e,Rn={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ks=function(){var B=new Hi,V,z,q,Z,re,me,xe;ks.prototype.init.call(this),V=this,this.push=function(De){De.type==="video"&&(z=De.trackId,q=De.pts,Z=De.dts,B.push(De))},B.on("data",function(De){var we={trackId:z,pts:q,dts:Z,data:De,nalUnitTypeCode:De[0]&31};switch(we.nalUnitTypeCode){case 5:we.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:we.nalUnitType="sei_rbsp",we.escapedRBSP=re(De.subarray(1));break;case 7:we.nalUnitType="seq_parameter_set_rbsp",we.escapedRBSP=re(De.subarray(1)),we.config=me(we.escapedRBSP);break;case 8:we.nalUnitType="pic_parameter_set_rbsp";break;case 9:we.nalUnitType="access_unit_delimiter_rbsp";break}V.trigger("data",we)}),B.on("done",function(){V.trigger("done")}),B.on("partialdone",function(){V.trigger("partialdone")}),B.on("reset",function(){V.trigger("reset")}),B.on("endedtimeline",function(){V.trigger("endedtimeline")}),this.flush=function(){B.flush()},this.partialFlush=function(){B.partialFlush()},this.reset=function(){B.reset()},this.endTimeline=function(){B.endTimeline()},xe=function(we,Pe){var lt=8,Mt=8,zt,st;for(zt=0;zt<we;zt++)Mt!==0&&(st=Pe.readExpGolomb(),Mt=(lt+st+256)%256),lt=Mt===0?lt:Mt},re=function(we){for(var Pe=we.byteLength,lt=[],Mt=1,zt,st;Mt<Pe-2;)we[Mt]===0&&we[Mt+1]===0&&we[Mt+2]===3?(lt.push(Mt+2),Mt+=2):Mt++;if(lt.length===0)return we;zt=Pe-lt.length,st=new Uint8Array(zt);var ar=0;for(Mt=0;Mt<zt;ar++,Mt++)ar===lt[0]&&(ar++,lt.shift()),st[Mt]=we[ar];return st},me=function(we){var Pe=0,lt=0,Mt=0,zt=0,st,ar,In,pi,Gi,Sl,Po,Ro,Tl,Sa,Gs,_n=[1,1],to,Ki;if(st=new Wc(we),ar=st.readUnsignedByte(),pi=st.readUnsignedByte(),In=st.readUnsignedByte(),st.skipUnsignedExpGolomb(),Rn[ar]&&(Gi=st.readUnsignedExpGolomb(),Gi===3&&st.skipBits(1),st.skipUnsignedExpGolomb(),st.skipUnsignedExpGolomb(),st.skipBits(1),st.readBoolean()))for(Gs=Gi!==3?8:12,Ki=0;Ki<Gs;Ki++)st.readBoolean()&&(Ki<6?xe(16,st):xe(64,st));if(st.skipUnsignedExpGolomb(),Sl=st.readUnsignedExpGolomb(),Sl===0)st.readUnsignedExpGolomb();else if(Sl===1)for(st.skipBits(1),st.skipExpGolomb(),st.skipExpGolomb(),Po=st.readUnsignedExpGolomb(),Ki=0;Ki<Po;Ki++)st.skipExpGolomb();if(st.skipUnsignedExpGolomb(),st.skipBits(1),Ro=st.readUnsignedExpGolomb(),Tl=st.readUnsignedExpGolomb(),Sa=st.readBits(1),Sa===0&&st.skipBits(1),st.skipBits(1),st.readBoolean()&&(Pe=st.readUnsignedExpGolomb(),lt=st.readUnsignedExpGolomb(),Mt=st.readUnsignedExpGolomb(),zt=st.readUnsignedExpGolomb()),st.readBoolean()&&st.readBoolean()){switch(to=st.readUnsignedByte(),to){case 1:_n=[1,1];break;case 2:_n=[12,11];break;case 3:_n=[10,11];break;case 4:_n=[16,11];break;case 5:_n=[40,33];break;case 6:_n=[24,11];break;case 7:_n=[20,11];break;case 8:_n=[32,11];break;case 9:_n=[80,33];break;case 10:_n=[18,11];break;case 11:_n=[15,11];break;case 12:_n=[64,33];break;case 13:_n=[160,99];break;case 14:_n=[4,3];break;case 15:_n=[3,2];break;case 16:_n=[2,1];break;case 255:{_n=[st.readUnsignedByte()<<8|st.readUnsignedByte(),st.readUnsignedByte()<<8|st.readUnsignedByte()];break}}_n&&_n[0]/_n[1]}return{profileIdc:ar,levelIdc:In,profileCompatibility:pi,width:(Ro+1)*16-Pe*2-lt*2,height:(2-Sa)*(Tl+1)*16-Mt*2-zt*2,sarRatio:_n}}},ks.prototype=new e;var Ju={H264Stream:ks},qr=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],ls=function(B,V){var z=B[V+6]<<21|B[V+7]<<14|B[V+8]<<7|B[V+9],q=B[V+5],Z=(q&16)>>4;return z=z>=0?z:0,Z?z+20:z+10},ma=function ue(B,V){return B.length-V<10||B[V]!==73||B[V+1]!==68||B[V+2]!==51?V:(V+=ls(B,V),ue(B,V))},Pi=function(B){var V=ma(B,0);return B.length>=V+2&&(B[V]&255)===255&&(B[V+1]&240)===240&&(B[V+1]&22)===16},qa=function(B){return B[0]<<21|B[1]<<14|B[2]<<7|B[3]},ql=function(B,V,z){var q,Z="";for(q=V;q<z;q++)Z+="%"+("00"+B[q].toString(16)).slice(-2);return Z},wo=function(B,V,z){return unescape(ql(B,V,z))},Zu=function(B,V){var z=(B[V+5]&224)>>5,q=B[V+4]<<3,Z=B[V+3]&6144;return Z|q|z},Gl=function(B,V){return B[V]===73&&B[V+1]===68&&B[V+2]===51?"timed-metadata":B[V]&!0&&(B[V+1]&240)===240?"audio":null},ga=function(B){for(var V=0;V+5<B.length;){if(B[V]!==255||(B[V+1]&246)!==240){V++;continue}return qr[(B[V+2]&60)>>>2]}return null},wi=function(B){var V,z,q,Z;V=10,B[5]&64&&(V+=4,V+=qa(B.subarray(10,14)));do{if(z=qa(B.subarray(V+4,V+8)),z<1)return null;if(Z=String.fromCharCode(B[V],B[V+1],B[V+2],B[V+3]),Z==="PRIV"){q=B.subarray(V+10,V+z+10);for(var re=0;re<q.byteLength;re++)if(q[re]===0){var me=wo(q,0,re);if(me==="com.apple.streaming.transportStreamTimestamp"){var xe=q.subarray(re+1),De=(xe[3]&1)<<30|xe[4]<<22|xe[5]<<14|xe[6]<<6|xe[7]>>>2;return De*=4,De+=xe[7]&3,De}break}}V+=10,V+=z}while(V<B.byteLength);return null},Ri={isLikelyAacData:Pi,parseId3TagSize:ls,parseAdtsSize:Zu,parseType:Gl,parseSampleRate:ga,parseAacTimestamp:wi},va;va=function(){var B=new Uint8Array,V=0;va.prototype.init.call(this),this.setTimestamp=function(z){V=z},this.push=function(z){var q=0,Z=0,re,me,xe,De;for(B.length?(De=B.length,B=new Uint8Array(z.byteLength+De),B.set(B.subarray(0,De)),B.set(z,De)):B=z;B.length-Z>=3;){if(B[Z]===73&&B[Z+1]===68&&B[Z+2]===51){if(B.length-Z<10||(q=Ri.parseId3TagSize(B,Z),Z+q>B.length))break;me={type:"timed-metadata",data:B.subarray(Z,Z+q)},this.trigger("data",me),Z+=q;continue}else if((B[Z]&255)===255&&(B[Z+1]&240)===240){if(B.length-Z<7||(q=Ri.parseAdtsSize(B,Z),Z+q>B.length))break;xe={type:"audio",data:B.subarray(Z,Z+q),pts:V,dts:V},this.trigger("data",xe),Z+=q;continue}Z++}re=B.length-Z,re>0?B=B.subarray(Z):B=new Uint8Array},this.reset=function(){B=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){B=new Uint8Array,this.trigger("endedtimeline")}},va.prototype=new e;var Ga=va,ya=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Kl=ya,qc=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Vi=qc,Ka=Ju.H264Stream,Xl=Ri.isLikelyAacData,Yl=xt.ONE_SECOND_IN_TS,pl,Xa,As,us,xa=function(B,V){V.stream=B,this.trigger("log",V)},ml=function(B,V){for(var z=Object.keys(V),q=0;q<z.length;q++){var Z=z[q];Z==="headOfPipeline"||!V[Z].on||V[Z].on("log",xa.bind(B,Z))}},Gc=function(B,V){var z;if(B.length!==V.length)return!1;for(z=0;z<B.length;z++)if(B[z]!==V[z])return!1;return!0},Kc=function(B,V,z,q,Z,re){var me=z-V,xe=q-V,De=Z-z;return{start:{dts:B,pts:B+me},end:{dts:B+xe,pts:B+De},prependedContentDuration:re,baseMediaDecodeTime:B}};Xa=function(B,V){var z=[],q,Z=0,re=0,me=1/0;V=V||{},q=V.firstSequenceNumber||0,Xa.prototype.init.call(this),this.push=function(xe){se.collectDtsInfo(B,xe),B&&Kl.forEach(function(De){B[De]=xe[De]}),z.push(xe)},this.setEarliestDts=function(xe){Z=xe},this.setVideoBaseMediaDecodeTime=function(xe){me=xe},this.setAudioAppendStart=function(xe){re=xe},this.flush=function(){var xe,De,we,Pe,lt,Mt,zt;if(z.length===0){this.trigger("done","AudioSegmentStream");return}xe=Hr.trimAdtsFramesByEarliestDts(z,B,Z),B.baseMediaDecodeTime=se.calculateTrackBaseMediaDecodeTime(B,V.keepOriginalTimestamps),zt=Hr.prefixWithSilence(B,xe,re,me),B.samples=Hr.generateSampleTable(xe),we=Re.mdat(Hr.concatenateFrameData(xe)),z=[],De=Re.moof(q,[B]),Pe=new Uint8Array(De.byteLength+we.byteLength),q++,Pe.set(De),Pe.set(we,De.byteLength),se.clearDtsInfo(B),lt=Math.ceil(Yl*1024/B.samplerate),xe.length&&(Mt=xe.length*lt,this.trigger("segmentTimingInfo",Kc(xt.audioTsToVideoTs(B.baseMediaDecodeTime,B.samplerate),xe[0].dts,xe[0].pts,xe[0].dts+Mt,xe[0].pts+Mt,zt||0)),this.trigger("timingInfo",{start:xe[0].pts,end:xe[0].pts+Mt})),this.trigger("data",{track:B,boxes:Pe}),this.trigger("done","AudioSegmentStream")},this.reset=function(){se.clearDtsInfo(B),z=[],this.trigger("reset")}},Xa.prototype=new e,pl=function(B,V){var z,q=[],Z=[],re,me;V=V||{},z=V.firstSequenceNumber||0,pl.prototype.init.call(this),delete B.minPTS,this.gopCache_=[],this.push=function(xe){se.collectDtsInfo(B,xe),xe.nalUnitType==="seq_parameter_set_rbsp"&&!re&&(re=xe.config,B.sps=[xe.data],Vi.forEach(function(De){B[De]=re[De]},this)),xe.nalUnitType==="pic_parameter_set_rbsp"&&!me&&(me=xe.data,B.pps=[xe.data]),q.push(xe)},this.flush=function(){for(var xe,De,we,Pe,lt,Mt,zt=0,st,ar;q.length&&q[0].nalUnitType!=="access_unit_delimiter_rbsp";)q.shift();if(q.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(xe=at.groupNalsIntoFrames(q),we=at.groupFramesIntoGops(xe),we[0][0].keyFrame||(De=this.getGopForFusion_(q[0],B),De?(zt=De.duration,we.unshift(De),we.byteLength+=De.byteLength,we.nalCount+=De.nalCount,we.pts=De.pts,we.dts=De.dts,we.duration+=De.duration):we=at.extendFirstKeyFrame(we)),Z.length){var In;if(V.alignGopsAtEnd?In=this.alignGopsAtEnd_(we):In=this.alignGopsAtStart_(we),!In){this.gopCache_.unshift({gop:we.pop(),pps:B.pps,sps:B.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),q=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}se.clearDtsInfo(B),we=In}se.collectDtsInfo(B,we),B.samples=at.generateSampleTable(we),lt=Re.mdat(at.concatenateNalData(we)),B.baseMediaDecodeTime=se.calculateTrackBaseMediaDecodeTime(B,V.keepOriginalTimestamps),this.trigger("processedGopsInfo",we.map(function(pi){return{pts:pi.pts,dts:pi.dts,byteLength:pi.byteLength}})),st=we[0],ar=we[we.length-1],this.trigger("segmentTimingInfo",Kc(B.baseMediaDecodeTime,st.dts,st.pts,ar.dts+ar.duration,ar.pts+ar.duration,zt)),this.trigger("timingInfo",{start:we[0].pts,end:we[we.length-1].pts+we[we.length-1].duration}),this.gopCache_.unshift({gop:we.pop(),pps:B.pps,sps:B.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),q=[],this.trigger("baseMediaDecodeTime",B.baseMediaDecodeTime),this.trigger("timelineStartInfo",B.timelineStartInfo),Pe=Re.moof(z,[B]),Mt=new Uint8Array(Pe.byteLength+lt.byteLength),z++,Mt.set(Pe),Mt.set(lt,Pe.byteLength),this.trigger("data",{track:B,boxes:Mt}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),q=[],this.gopCache_.length=0,Z.length=0,this.trigger("reset")},this.resetStream_=function(){se.clearDtsInfo(B),re=void 0,me=void 0},this.getGopForFusion_=function(xe){var De=45e3,we=1/0,Pe,lt,Mt,zt,st;for(st=0;st<this.gopCache_.length;st++)zt=this.gopCache_[st],Mt=zt.gop,!(!(B.pps&&Gc(B.pps[0],zt.pps[0]))||!(B.sps&&Gc(B.sps[0],zt.sps[0])))&&(Mt.dts<B.timelineStartInfo.dts||(Pe=xe.dts-Mt.dts-Mt.duration,Pe>=-1e4&&Pe<=De&&(!lt||we>Pe)&&(lt=zt,we=Pe)));return lt?lt.gop:null},this.alignGopsAtStart_=function(xe){var De,we,Pe,lt,Mt,zt,st,ar;for(Mt=xe.byteLength,zt=xe.nalCount,st=xe.duration,De=we=0;De<Z.length&&we<xe.length&&(Pe=Z[De],lt=xe[we],Pe.pts!==lt.pts);){if(lt.pts>Pe.pts){De++;continue}we++,Mt-=lt.byteLength,zt-=lt.nalCount,st-=lt.duration}return we===0?xe:we===xe.length?null:(ar=xe.slice(we),ar.byteLength=Mt,ar.duration=st,ar.nalCount=zt,ar.pts=ar[0].pts,ar.dts=ar[0].dts,ar)},this.alignGopsAtEnd_=function(xe){var De,we,Pe,lt,Mt,zt;for(De=Z.length-1,we=xe.length-1,Mt=null,zt=!1;De>=0&&we>=0;){if(Pe=Z[De],lt=xe[we],Pe.pts===lt.pts){zt=!0;break}if(Pe.pts>lt.pts){De--;continue}De===Z.length-1&&(Mt=we),we--}if(!zt&&Mt===null)return null;var st;if(zt?st=we:st=Mt,st===0)return xe;var ar=xe.slice(st),In=ar.reduce(function(pi,Gi){return pi.byteLength+=Gi.byteLength,pi.duration+=Gi.duration,pi.nalCount+=Gi.nalCount,pi},{byteLength:0,duration:0,nalCount:0});return ar.byteLength=In.byteLength,ar.duration=In.duration,ar.nalCount=In.nalCount,ar.pts=ar[0].pts,ar.dts=ar[0].dts,ar},this.alignGopsWith=function(xe){Z=xe}},pl.prototype=new e,us=function(B,V){this.numberOfTracks=0,this.metadataStream=V,B=B||{},typeof B.remux<"u"?this.remuxTracks=!!B.remux:this.remuxTracks=!0,typeof B.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=B.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,us.prototype.init.call(this),this.push=function(z){if(z.text)return this.pendingCaptions.push(z);if(z.frames)return this.pendingMetadata.push(z);this.pendingTracks.push(z.track),this.pendingBytes+=z.boxes.byteLength,z.track.type==="video"&&(this.videoTrack=z.track,this.pendingBoxes.push(z.boxes)),z.track.type==="audio"&&(this.audioTrack=z.track,this.pendingBoxes.unshift(z.boxes))}},us.prototype=new e,us.prototype.flush=function(ue){var B=0,V={captions:[],captionStreams:{},metadata:[],info:{}},z,q,Z,re=0,me;if(this.pendingTracks.length<this.numberOfTracks){if(ue!=="VideoSegmentStream"&&ue!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(re=this.videoTrack.timelineStartInfo.pts,Vi.forEach(function(xe){V.info[xe]=this.videoTrack[xe]},this)):this.audioTrack&&(re=this.audioTrack.timelineStartInfo.pts,Kl.forEach(function(xe){V.info[xe]=this.audioTrack[xe]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?V.type=this.pendingTracks[0].type:V.type="combined",this.emittedTracks+=this.pendingTracks.length,Z=Re.initSegment(this.pendingTracks),V.initSegment=new Uint8Array(Z.byteLength),V.initSegment.set(Z),V.data=new Uint8Array(this.pendingBytes),me=0;me<this.pendingBoxes.length;me++)V.data.set(this.pendingBoxes[me],B),B+=this.pendingBoxes[me].byteLength;for(me=0;me<this.pendingCaptions.length;me++)z=this.pendingCaptions[me],z.startTime=xt.metadataTsToSeconds(z.startPts,re,this.keepOriginalTimestamps),z.endTime=xt.metadataTsToSeconds(z.endPts,re,this.keepOriginalTimestamps),V.captionStreams[z.stream]=!0,V.captions.push(z);for(me=0;me<this.pendingMetadata.length;me++)q=this.pendingMetadata[me],q.cueTime=xt.metadataTsToSeconds(q.pts,re,this.keepOriginalTimestamps),V.metadata.push(q);for(V.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",V),me=0;me<V.captions.length;me++)z=V.captions[me],this.trigger("caption",z);for(me=0;me<V.metadata.length;me++)q=V.metadata[me],this.trigger("id3Frame",q)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},us.prototype.setRemux=function(ue){this.remuxTracks=ue},As=function(B){var V=this,z=!0,q,Z;As.prototype.init.call(this),B=B||{},this.baseMediaDecodeTime=B.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var re={};this.transmuxPipeline_=re,re.type="aac",re.metadataStream=new Dr.MetadataStream,re.aacStream=new Ga,re.audioTimestampRolloverStream=new Dr.TimestampRolloverStream("audio"),re.timedMetadataTimestampRolloverStream=new Dr.TimestampRolloverStream("timed-metadata"),re.adtsStream=new jn,re.coalesceStream=new us(B,re.metadataStream),re.headOfPipeline=re.aacStream,re.aacStream.pipe(re.audioTimestampRolloverStream).pipe(re.adtsStream),re.aacStream.pipe(re.timedMetadataTimestampRolloverStream).pipe(re.metadataStream).pipe(re.coalesceStream),re.metadataStream.on("timestamp",function(me){re.aacStream.setTimestamp(me.timeStamp)}),re.aacStream.on("data",function(me){me.type!=="timed-metadata"&&me.type!=="audio"||re.audioSegmentStream||(Z=Z||{timelineStartInfo:{baseMediaDecodeTime:V.baseMediaDecodeTime},codec:"adts",type:"audio"},re.coalesceStream.numberOfTracks++,re.audioSegmentStream=new Xa(Z,B),re.audioSegmentStream.on("log",V.getLogTrigger_("audioSegmentStream")),re.audioSegmentStream.on("timingInfo",V.trigger.bind(V,"audioTimingInfo")),re.adtsStream.pipe(re.audioSegmentStream).pipe(re.coalesceStream),V.trigger("trackinfo",{hasAudio:!!Z,hasVideo:!!q}))}),re.coalesceStream.on("data",this.trigger.bind(this,"data")),re.coalesceStream.on("done",this.trigger.bind(this,"done")),ml(this,re)},this.setupTsPipeline=function(){var re={};this.transmuxPipeline_=re,re.type="ts",re.metadataStream=new Dr.MetadataStream,re.packetStream=new Dr.TransportPacketStream,re.parseStream=new Dr.TransportParseStream,re.elementaryStream=new Dr.ElementaryStream,re.timestampRolloverStream=new Dr.TimestampRolloverStream,re.adtsStream=new jn,re.h264Stream=new Ka,re.captionStream=new Dr.CaptionStream(B),re.coalesceStream=new us(B,re.metadataStream),re.headOfPipeline=re.packetStream,re.packetStream.pipe(re.parseStream).pipe(re.elementaryStream).pipe(re.timestampRolloverStream),re.timestampRolloverStream.pipe(re.h264Stream),re.timestampRolloverStream.pipe(re.adtsStream),re.timestampRolloverStream.pipe(re.metadataStream).pipe(re.coalesceStream),re.h264Stream.pipe(re.captionStream).pipe(re.coalesceStream),re.elementaryStream.on("data",function(me){var xe;if(me.type==="metadata"){for(xe=me.tracks.length;xe--;)!q&&me.tracks[xe].type==="video"?(q=me.tracks[xe],q.timelineStartInfo.baseMediaDecodeTime=V.baseMediaDecodeTime):!Z&&me.tracks[xe].type==="audio"&&(Z=me.tracks[xe],Z.timelineStartInfo.baseMediaDecodeTime=V.baseMediaDecodeTime);q&&!re.videoSegmentStream&&(re.coalesceStream.numberOfTracks++,re.videoSegmentStream=new pl(q,B),re.videoSegmentStream.on("log",V.getLogTrigger_("videoSegmentStream")),re.videoSegmentStream.on("timelineStartInfo",function(De){Z&&!B.keepOriginalTimestamps&&(Z.timelineStartInfo=De,re.audioSegmentStream.setEarliestDts(De.dts-V.baseMediaDecodeTime))}),re.videoSegmentStream.on("processedGopsInfo",V.trigger.bind(V,"gopInfo")),re.videoSegmentStream.on("segmentTimingInfo",V.trigger.bind(V,"videoSegmentTimingInfo")),re.videoSegmentStream.on("baseMediaDecodeTime",function(De){Z&&re.audioSegmentStream.setVideoBaseMediaDecodeTime(De)}),re.videoSegmentStream.on("timingInfo",V.trigger.bind(V,"videoTimingInfo")),re.h264Stream.pipe(re.videoSegmentStream).pipe(re.coalesceStream)),Z&&!re.audioSegmentStream&&(re.coalesceStream.numberOfTracks++,re.audioSegmentStream=new Xa(Z,B),re.audioSegmentStream.on("log",V.getLogTrigger_("audioSegmentStream")),re.audioSegmentStream.on("timingInfo",V.trigger.bind(V,"audioTimingInfo")),re.audioSegmentStream.on("segmentTimingInfo",V.trigger.bind(V,"audioSegmentTimingInfo")),re.adtsStream.pipe(re.audioSegmentStream).pipe(re.coalesceStream)),V.trigger("trackinfo",{hasAudio:!!Z,hasVideo:!!q})}}),re.coalesceStream.on("data",this.trigger.bind(this,"data")),re.coalesceStream.on("id3Frame",function(me){me.dispatchType=re.metadataStream.dispatchType,V.trigger("id3Frame",me)}),re.coalesceStream.on("caption",this.trigger.bind(this,"caption")),re.coalesceStream.on("done",this.trigger.bind(this,"done")),ml(this,re)},this.setBaseMediaDecodeTime=function(re){var me=this.transmuxPipeline_;B.keepOriginalTimestamps||(this.baseMediaDecodeTime=re),Z&&(Z.timelineStartInfo.dts=void 0,Z.timelineStartInfo.pts=void 0,se.clearDtsInfo(Z),me.audioTimestampRolloverStream&&me.audioTimestampRolloverStream.discontinuity()),q&&(me.videoSegmentStream&&(me.videoSegmentStream.gopCache_=[]),q.timelineStartInfo.dts=void 0,q.timelineStartInfo.pts=void 0,se.clearDtsInfo(q),me.captionStream.reset()),me.timestampRolloverStream&&me.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(re){Z&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(re)},this.setRemux=function(re){var me=this.transmuxPipeline_;B.remux=re,me&&me.coalesceStream&&me.coalesceStream.setRemux(re)},this.alignGopsWith=function(re){q&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(re)},this.getLogTrigger_=function(re){var me=this;return function(xe){xe.stream=re,me.trigger("log",xe)}},this.push=function(re){if(z){var me=Xl(re);me&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!me&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),z=!1}this.transmuxPipeline_.headOfPipeline.push(re)},this.flush=function(){z=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},As.prototype=new e;var ec={Transmuxer:As},Ql=function(B){return B>>>0},tc=function(B){return("00"+B.toString(16)).slice(-2)},Vs={toUnsigned:Ql,toHexString:tc},_a=function(B){var V="";return V+=String.fromCharCode(B[0]),V+=String.fromCharCode(B[1]),V+=String.fromCharCode(B[2]),V+=String.fromCharCode(B[3]),V},cs=_a,Ds=Vs.toUnsigned,Xc=function ue(B,V){var z=[],q,Z,re,me,xe;if(!V.length)return null;for(q=0;q<B.byteLength;)Z=Ds(B[q]<<24|B[q+1]<<16|B[q+2]<<8|B[q+3]),re=cs(B.subarray(q+4,q+8)),me=Z>1?q+Z:B.byteLength,re===V[0]&&(V.length===1?z.push(B.subarray(q+8,me)):(xe=ue(B.subarray(q+8,me),V.slice(1)),xe.length&&(z=z.concat(xe)))),q=me;return z},un=Xc,Jl=Vs.toUnsigned,Yc=i.getUint64,Li=function(B){var V={version:B[0],flags:new Uint8Array(B.subarray(1,4))};return V.version===1?V.baseMediaDecodeTime=Yc(B.subarray(4)):V.baseMediaDecodeTime=Jl(B[4]<<24|B[5]<<16|B[6]<<8|B[7]),V},Oi=Li,ds=function(B){return{isLeading:(B[0]&12)>>>2,dependsOn:B[0]&3,isDependedOn:(B[1]&192)>>>6,hasRedundancy:(B[1]&48)>>>4,paddingValue:(B[1]&14)>>>1,isNonSyncSample:B[1]&1,degradationPriority:B[2]<<8|B[3]}},Ei=ds,Ya=function(B){var V={version:B[0],flags:new Uint8Array(B.subarray(1,4)),samples:[]},z=new DataView(B.buffer,B.byteOffset,B.byteLength),q=V.flags[2]&1,Z=V.flags[2]&4,re=V.flags[1]&1,me=V.flags[1]&2,xe=V.flags[1]&4,De=V.flags[1]&8,we=z.getUint32(4),Pe=8,lt;for(q&&(V.dataOffset=z.getInt32(Pe),Pe+=4),Z&&we&&(lt={flags:Ei(B.subarray(Pe,Pe+4))},Pe+=4,re&&(lt.duration=z.getUint32(Pe),Pe+=4),me&&(lt.size=z.getUint32(Pe),Pe+=4),De&&(V.version===1?lt.compositionTimeOffset=z.getInt32(Pe):lt.compositionTimeOffset=z.getUint32(Pe),Pe+=4),V.samples.push(lt),we--);we--;)lt={},re&&(lt.duration=z.getUint32(Pe),Pe+=4),me&&(lt.size=z.getUint32(Pe),Pe+=4),xe&&(lt.flags=Ei(B.subarray(Pe,Pe+4)),Pe+=4),De&&(V.version===1?lt.compositionTimeOffset=z.getInt32(Pe):lt.compositionTimeOffset=z.getUint32(Pe),Pe+=4),V.samples.push(lt);return V},En=Ya,Hn=function(B){var V=new DataView(B.buffer,B.byteOffset,B.byteLength),z={version:B[0],flags:new Uint8Array(B.subarray(1,4)),trackId:V.getUint32(4)},q=z.flags[2]&1,Z=z.flags[2]&2,re=z.flags[2]&8,me=z.flags[2]&16,xe=z.flags[2]&32,De=z.flags[0]&65536,we=z.flags[0]&131072,Pe;return Pe=8,q&&(Pe+=4,z.baseDataOffset=V.getUint32(12),Pe+=4),Z&&(z.sampleDescriptionIndex=V.getUint32(Pe),Pe+=4),re&&(z.defaultSampleDuration=V.getUint32(Pe),Pe+=4),me&&(z.defaultSampleSize=V.getUint32(Pe),Pe+=4),xe&&(z.defaultSampleFlags=V.getUint32(Pe)),De&&(z.durationIsEmpty=!0),!q&&we&&(z.baseDataOffsetIsMoof=!0),z},Wi=Hn,Qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Eo;typeof window<"u"?Eo=window:typeof Qa<"u"?Eo=Qa:typeof self<"u"?Eo=self:Eo={};var gl=Eo,oh=ye.discardEmulationPreventionBytes,lh=Zr.CaptionStream,vl=function(B,V){for(var z=B,q=0;q<V.length;q++){var Z=V[q];if(z<Z.size)return Z;z-=Z.size}return null},rc=function(B,V,z){var q=new DataView(B.buffer,B.byteOffset,B.byteLength),Z={logs:[],seiNals:[]},re,me,xe,De;for(me=0;me+4<B.length;me+=xe)if(xe=q.getUint32(me),me+=4,!(xe<=0))switch(B[me]&31){case 6:var we=B.subarray(me+1,me+1+xe),Pe=vl(me,V);if(re={nalUnitType:"sei_rbsp",size:xe,data:we,escapedRBSP:oh(we),trackId:z},Pe)re.pts=Pe.pts,re.dts=Pe.dts,De=Pe;else if(De)re.pts=De.pts,re.dts=De.dts;else{Z.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+me+" for trackId "+z+". See mux.js#223."});break}Z.seiNals.push(re);break}return Z},Ja=function(B,V,z){var q=V,Z=z.defaultSampleDuration||0,re=z.defaultSampleSize||0,me=z.trackId,xe=[];return B.forEach(function(De){var we=En(De),Pe=we.samples;Pe.forEach(function(lt){lt.duration===void 0&&(lt.duration=Z),lt.size===void 0&&(lt.size=re),lt.trackId=me,lt.dts=q,lt.compositionTimeOffset===void 0&&(lt.compositionTimeOffset=0),typeof q=="bigint"?(lt.pts=q+gl.BigInt(lt.compositionTimeOffset),q+=gl.BigInt(lt.duration)):(lt.pts=q+lt.compositionTimeOffset,q+=lt.duration)}),xe=xe.concat(Pe)}),xe},Ws=function(B,V){var z=un(B,["moof","traf"]),q=un(B,["mdat"]),Z={},re=[];return q.forEach(function(me,xe){var De=z[xe];re.push({mdat:me,traf:De})}),re.forEach(function(me){var xe=me.mdat,De=me.traf,we=un(De,["tfhd"]),Pe=Wi(we[0]),lt=Pe.trackId,Mt=un(De,["tfdt"]),zt=Mt.length>0?Oi(Mt[0]).baseMediaDecodeTime:0,st=un(De,["trun"]),ar,In;V===lt&&st.length>0&&(ar=Ja(st,zt,Pe),In=rc(xe,ar,lt),Z[lt]||(Z[lt]={seiNals:[],logs:[]}),Z[lt].seiNals=Z[lt].seiNals.concat(In.seiNals),Z[lt].logs=Z[lt].logs.concat(In.logs))}),Z},Za=function(B,V,z){var q;if(V===null)return null;q=Ws(B,V);var Z=q[V]||{};return{seiNals:Z.seiNals,logs:Z.logs,timescale:z}},Mi=function(){var B=!1,V,z,q,Z,re,me;this.isInitialized=function(){return B},this.init=function(xe){V=new lh,B=!0,me=xe?xe.isPartial:!1,V.on("data",function(De){De.startTime=De.startPts/Z,De.endTime=De.endPts/Z,re.captions.push(De),re.captionStreams[De.stream]=!0}),V.on("log",function(De){re.logs.push(De)})},this.isNewInit=function(xe,De){return xe&&xe.length===0||De&&typeof De=="object"&&Object.keys(De).length===0?!1:q!==xe[0]||Z!==De[q]},this.parse=function(xe,De,we){var Pe;if(this.isInitialized()){if(!De||!we)return null;if(this.isNewInit(De,we))q=De[0],Z=we[q];else if(q===null||!Z)return z.push(xe),null}else return null;for(;z.length>0;){var lt=z.shift();this.parse(lt,De,we)}return Pe=Za(xe,q,Z),Pe&&Pe.logs&&(re.logs=re.logs.concat(Pe.logs)),Pe===null||!Pe.seiNals?re.logs.length?{logs:re.logs,captions:[],captionStreams:[]}:null:(this.pushNals(Pe.seiNals),this.flushStream(),re)},this.pushNals=function(xe){if(!this.isInitialized()||!xe||xe.length===0)return null;xe.forEach(function(De){V.push(De)})},this.flushStream=function(){if(!this.isInitialized())return null;me?V.partialFlush():V.flush()},this.clearParsedCaptions=function(){re.captions=[],re.captionStreams={},re.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;V.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){z=[],q=null,Z=null,re?this.clearParsedCaptions():re={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},Qc=Mi,ko=Vs.toUnsigned,eo=Vs.toHexString,nc=i.getUint64,Jc,Zl,Zc,ba,ed,Ao;Jc=function(B){var V={},z=un(B,["moov","trak"]);return z.reduce(function(q,Z){var re,me,xe,De,we;return re=un(Z,["tkhd"])[0],!re||(me=re[0],xe=me===0?12:20,De=ko(re[xe]<<24|re[xe+1]<<16|re[xe+2]<<8|re[xe+3]),we=un(Z,["mdia","mdhd"])[0],!we)?null:(me=we[0],xe=me===0?12:20,q[De]=ko(we[xe]<<24|we[xe+1]<<16|we[xe+2]<<8|we[xe+3]),q)},V)},Zl=function(B,V){var z;z=un(V,["moof","traf"]);var q=z.reduce(function(Z,re){var me=un(re,["tfhd"])[0],xe=ko(me[4]<<24|me[5]<<16|me[6]<<8|me[7]),De=B[xe]||9e4,we=un(re,["tfdt"])[0],Pe=new DataView(we.buffer,we.byteOffset,we.byteLength),lt;we[0]===1?lt=nc(we.subarray(4,12)):lt=Pe.getUint32(4);var Mt;return typeof lt=="bigint"?Mt=lt/gl.BigInt(De):typeof lt=="number"&&!isNaN(lt)&&(Mt=lt/De),Mt<Number.MAX_SAFE_INTEGER&&(Mt=Number(Mt)),Mt<Z&&(Z=Mt),Z},1/0);return typeof q=="bigint"||isFinite(q)?q:0},Zc=function(B,V){var z=un(V,["moof","traf"]),q=0,Z=0,re;if(z&&z.length){var me=un(z[0],["tfhd"])[0],xe=un(z[0],["trun"])[0],De=un(z[0],["tfdt"])[0];if(me){var we=Wi(me);re=we.trackId}if(De){var Pe=Oi(De);q=Pe.baseMediaDecodeTime}if(xe){var lt=En(xe);lt.samples&&lt.samples.length&&(Z=lt.samples[0].compositionTimeOffset||0)}}var Mt=B[re]||9e4;typeof q=="bigint"&&(Z=gl.BigInt(Z),Mt=gl.BigInt(Mt));var zt=(q+Z)/Mt;return typeof zt=="bigint"&&zt<Number.MAX_SAFE_INTEGER&&(zt=Number(zt)),zt},ba=function(B){var V=un(B,["moov","trak"]),z=[];return V.forEach(function(q){var Z=un(q,["mdia","hdlr"]),re=un(q,["tkhd"]);Z.forEach(function(me,xe){var De=cs(me.subarray(8,12)),we=re[xe],Pe,lt,Mt;De==="vide"&&(Pe=new DataView(we.buffer,we.byteOffset,we.byteLength),lt=Pe.getUint8(0),Mt=lt===0?Pe.getUint32(12):Pe.getUint32(20),z.push(Mt))})}),z},Ao=function(B){var V=B[0],z=V===0?12:20;return ko(B[z]<<24|B[z+1]<<16|B[z+2]<<8|B[z+3])},ed=function(B){var V=un(B,["moov","trak"]),z=[];return V.forEach(function(q){var Z={},re=un(q,["tkhd"])[0],me,xe;re&&(me=new DataView(re.buffer,re.byteOffset,re.byteLength),xe=me.getUint8(0),Z.id=xe===0?me.getUint32(12):me.getUint32(20));var De=un(q,["mdia","hdlr"])[0];if(De){var we=cs(De.subarray(8,12));we==="vide"?Z.type="video":we==="soun"?Z.type="audio":Z.type=we}var Pe=un(q,["mdia","minf","stbl","stsd"])[0];if(Pe){var lt=Pe.subarray(8);Z.codec=cs(lt.subarray(4,8));var Mt=un(lt,[Z.codec])[0],zt,st;Mt&&(/^[asm]vc[1-9]$/i.test(Z.codec)?(zt=Mt.subarray(78),st=cs(zt.subarray(4,8)),st==="avcC"&&zt.length>11?(Z.codec+=".",Z.codec+=eo(zt[9]),Z.codec+=eo(zt[10]),Z.codec+=eo(zt[11])):Z.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(Z.codec)?(zt=Mt.subarray(28),st=cs(zt.subarray(4,8)),st==="esds"&&zt.length>20&&zt[19]!==0?(Z.codec+="."+eo(zt[19]),Z.codec+="."+eo(zt[20]>>>2&63).replace(/^0/,"")):Z.codec="mp4a.40.2"):Z.codec=Z.codec.toLowerCase())}var ar=un(q,["mdia","mdhd"])[0];ar&&(Z.timescale=Ao(ar)),z.push(Z)}),z};var td={findBox:un,parseType:cs,timescale:Jc,startTime:Zl,compositionStartTime:Zc,videoTrackIds:ba,tracks:ed,getTimescaleFromMediaHeader:Ao},rd=function(B){var V=B[1]&31;return V<<=8,V|=B[2],V},Do=function(B){return!!(B[1]&64)},Io=function(B){var V=0;return(B[3]&48)>>>4>1&&(V+=B[4]+1),V},uh=function(B,V){var z=rd(B);return z===0?"pat":z===V?"pmt":V?"pes":null},ch=function(B){var V=Do(B),z=4+Io(B);return V&&(z+=B[z]+1),(B[z+10]&31)<<8|B[z+11]},dh=function(B){var V={},z=Do(B),q=4+Io(B);if(z&&(q+=B[q]+1),!!(B[q+5]&1)){var Z,re,me;Z=(B[q+1]&15)<<8|B[q+2],re=3+Z-4,me=(B[q+10]&15)<<8|B[q+11];for(var xe=12+me;xe<re;){var De=q+xe;V[(B[De+1]&31)<<8|B[De+2]]=B[De],xe+=((B[De+3]&15)<<8|B[De+4])+5}return V}},yl=function(B,V){var z=rd(B),q=V[z];switch(q){case Br.H264_STREAM_TYPE:return"video";case Br.ADTS_STREAM_TYPE:return"audio";case Br.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},xl=function(B){var V=Do(B);if(!V)return null;var z=4+Io(B);if(z>=B.byteLength)return null;var q=null,Z;return Z=B[z+7],Z&192&&(q={},q.pts=(B[z+9]&14)<<27|(B[z+10]&255)<<20|(B[z+11]&254)<<12|(B[z+12]&255)<<5|(B[z+13]&254)>>>3,q.pts*=4,q.pts+=(B[z+13]&6)>>>1,q.dts=q.pts,Z&64&&(q.dts=(B[z+14]&14)<<27|(B[z+15]&255)<<20|(B[z+16]&254)<<12|(B[z+17]&255)<<5|(B[z+18]&254)>>>3,q.dts*=4,q.dts+=(B[z+18]&6)>>>1)),q},ic=function(B){switch(B){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},eu=function(B){for(var V=4+Io(B),z=B.subarray(V),q=0,Z=0,re=!1,me;Z<z.byteLength-3;Z++)if(z[Z+2]===1){q=Z+5;break}for(;q<z.byteLength;)switch(z[q]){case 0:if(z[q-1]!==0){q+=2;break}else if(z[q-2]!==0){q++;break}Z+3!==q-2&&(me=ic(z[Z+3]&31),me==="slice_layer_without_partitioning_rbsp_idr"&&(re=!0));do q++;while(z[q]!==1&&q<z.length);Z=q-2,q+=3;break;case 1:if(z[q-1]!==0||z[q-2]!==0){q+=3;break}me=ic(z[Z+3]&31),me==="slice_layer_without_partitioning_rbsp_idr"&&(re=!0),Z=q-2,q+=3;break;default:q+=3;break}return z=z.subarray(Z),q-=Z,Z=0,z&&z.byteLength>3&&(me=ic(z[Z+3]&31),me==="slice_layer_without_partitioning_rbsp_idr"&&(re=!0)),re},nd={parseType:uh,parsePat:ch,parsePmt:dh,parsePayloadUnitStartIndicator:Do,parsePesType:yl,parsePesTime:xl,videoPacketContainsKeyFrame:eu},qs=Cs.handleRollover,sn={};sn.ts=nd,sn.aac=Ri;var Is=xt.ONE_SECOND_IN_TS,cn=188,qi=71,hh=function(B,V){for(var z=0,q=cn,Z,re;q<B.byteLength;){if(B[z]===qi&&B[q]===qi){switch(Z=B.subarray(z,q),re=sn.ts.parseType(Z,V.pid),re){case"pat":V.pid=sn.ts.parsePat(Z);break;case"pmt":var me=sn.ts.parsePmt(Z);V.table=V.table||{},Object.keys(me).forEach(function(xe){V.table[xe]=me[xe]});break}z+=cn,q+=cn;continue}z++,q++}},id=function(B,V,z){for(var q=0,Z=cn,re,me,xe,De,we,Pe=!1;Z<=B.byteLength;){if(B[q]===qi&&(B[Z]===qi||Z===B.byteLength)){switch(re=B.subarray(q,Z),me=sn.ts.parseType(re,V.pid),me){case"pes":xe=sn.ts.parsePesType(re,V.table),De=sn.ts.parsePayloadUnitStartIndicator(re),xe==="audio"&&De&&(we=sn.ts.parsePesTime(re),we&&(we.type="audio",z.audio.push(we),Pe=!0));break}if(Pe)break;q+=cn,Z+=cn;continue}q++,Z++}for(Z=B.byteLength,q=Z-cn,Pe=!1;q>=0;){if(B[q]===qi&&(B[Z]===qi||Z===B.byteLength)){switch(re=B.subarray(q,Z),me=sn.ts.parseType(re,V.pid),me){case"pes":xe=sn.ts.parsePesType(re,V.table),De=sn.ts.parsePayloadUnitStartIndicator(re),xe==="audio"&&De&&(we=sn.ts.parsePesTime(re),we&&(we.type="audio",z.audio.push(we),Pe=!0));break}if(Pe)break;q-=cn,Z-=cn;continue}q--,Z--}},Ps=function(B,V,z){for(var q=0,Z=cn,re,me,xe,De,we,Pe,lt,Mt,zt=!1,st={data:[],size:0};Z<B.byteLength;){if(B[q]===qi&&B[Z]===qi){switch(re=B.subarray(q,Z),me=sn.ts.parseType(re,V.pid),me){case"pes":if(xe=sn.ts.parsePesType(re,V.table),De=sn.ts.parsePayloadUnitStartIndicator(re),xe==="video"&&(De&&!zt&&(we=sn.ts.parsePesTime(re),we&&(we.type="video",z.video.push(we),zt=!0)),!z.firstKeyFrame)){if(De&&st.size!==0){for(Pe=new Uint8Array(st.size),lt=0;st.data.length;)Mt=st.data.shift(),Pe.set(Mt,lt),lt+=Mt.byteLength;if(sn.ts.videoPacketContainsKeyFrame(Pe)){var ar=sn.ts.parsePesTime(Pe);ar?(z.firstKeyFrame=ar,z.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}st.size=0}st.data.push(re),st.size+=re.byteLength}break}if(zt&&z.firstKeyFrame)break;q+=cn,Z+=cn;continue}q++,Z++}for(Z=B.byteLength,q=Z-cn,zt=!1;q>=0;){if(B[q]===qi&&B[Z]===qi){switch(re=B.subarray(q,Z),me=sn.ts.parseType(re,V.pid),me){case"pes":xe=sn.ts.parsePesType(re,V.table),De=sn.ts.parsePayloadUnitStartIndicator(re),xe==="video"&&De&&(we=sn.ts.parsePesTime(re),we&&(we.type="video",z.video.push(we),zt=!0));break}if(zt)break;q-=cn,Z-=cn;continue}q--,Z--}},sd=function(B,V){if(B.audio&&B.audio.length){var z=V;(typeof z>"u"||isNaN(z))&&(z=B.audio[0].dts),B.audio.forEach(function(re){re.dts=qs(re.dts,z),re.pts=qs(re.pts,z),re.dtsTime=re.dts/Is,re.ptsTime=re.pts/Is})}if(B.video&&B.video.length){var q=V;if((typeof q>"u"||isNaN(q))&&(q=B.video[0].dts),B.video.forEach(function(re){re.dts=qs(re.dts,q),re.pts=qs(re.pts,q),re.dtsTime=re.dts/Is,re.ptsTime=re.pts/Is}),B.firstKeyFrame){var Z=B.firstKeyFrame;Z.dts=qs(Z.dts,q),Z.pts=qs(Z.pts,q),Z.dtsTime=Z.dts/Is,Z.ptsTime=Z.pts/Is}}},_l=function(B){for(var V=!1,z=0,q=null,Z=null,re=0,me=0,xe;B.length-me>=3;){var De=sn.aac.parseType(B,me);switch(De){case"timed-metadata":if(B.length-me<10){V=!0;break}if(re=sn.aac.parseId3TagSize(B,me),re>B.length){V=!0;break}Z===null&&(xe=B.subarray(me,me+re),Z=sn.aac.parseAacTimestamp(xe)),me+=re;break;case"audio":if(B.length-me<7){V=!0;break}if(re=sn.aac.parseAdtsSize(B,me),re>B.length){V=!0;break}q===null&&(xe=B.subarray(me,me+re),q=sn.aac.parseSampleRate(xe)),z++,me+=re;break;default:me++;break}if(V)return null}if(q===null||Z===null)return null;var we=Is/q,Pe={audio:[{type:"audio",dts:Z,pts:Z},{type:"audio",dts:Z+z*1024*we,pts:Z+z*1024*we}]};return Pe},bl=function(B){var V={pid:null,table:null},z={};hh(B,V);for(var q in V.table)if(V.table.hasOwnProperty(q)){var Z=V.table[q];switch(Z){case Br.H264_STREAM_TYPE:z.video=[],Ps(B,V,z),z.video.length===0&&delete z.video;break;case Br.ADTS_STREAM_TYPE:z.audio=[],id(B,V,z),z.audio.length===0&&delete z.audio;break}}return z},sc=function(B,V){var z=sn.aac.isLikelyAacData(B),q;return z?q=_l(B):q=bl(B),!q||!q.audio&&!q.video?null:(sd(q,V),q)},tu={inspect:sc,parseAudioPes_:id},fh=function(B,V){V.on("data",function(z){var q=z.initSegment;z.initSegment={data:q.buffer,byteOffset:q.byteOffset,byteLength:q.byteLength};var Z=z.data;z.data=Z.buffer,B.postMessage({action:"data",segment:z,byteOffset:Z.byteOffset,byteLength:Z.byteLength},[z.data])}),V.on("done",function(z){B.postMessage({action:"done"})}),V.on("gopInfo",function(z){B.postMessage({action:"gopInfo",gopInfo:z})}),V.on("videoSegmentTimingInfo",function(z){var q={start:{decode:xt.videoTsToSeconds(z.start.dts),presentation:xt.videoTsToSeconds(z.start.pts)},end:{decode:xt.videoTsToSeconds(z.end.dts),presentation:xt.videoTsToSeconds(z.end.pts)},baseMediaDecodeTime:xt.videoTsToSeconds(z.baseMediaDecodeTime)};z.prependedContentDuration&&(q.prependedContentDuration=xt.videoTsToSeconds(z.prependedContentDuration)),B.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:q})}),V.on("audioSegmentTimingInfo",function(z){var q={start:{decode:xt.videoTsToSeconds(z.start.dts),presentation:xt.videoTsToSeconds(z.start.pts)},end:{decode:xt.videoTsToSeconds(z.end.dts),presentation:xt.videoTsToSeconds(z.end.pts)},baseMediaDecodeTime:xt.videoTsToSeconds(z.baseMediaDecodeTime)};z.prependedContentDuration&&(q.prependedContentDuration=xt.videoTsToSeconds(z.prependedContentDuration)),B.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:q})}),V.on("id3Frame",function(z){B.postMessage({action:"id3Frame",id3Frame:z})}),V.on("caption",function(z){B.postMessage({action:"caption",caption:z})}),V.on("trackinfo",function(z){B.postMessage({action:"trackinfo",trackInfo:z})}),V.on("audioTimingInfo",function(z){B.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:xt.videoTsToSeconds(z.start),end:xt.videoTsToSeconds(z.end)}})}),V.on("videoTimingInfo",function(z){B.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:xt.videoTsToSeconds(z.start),end:xt.videoTsToSeconds(z.end)}})}),V.on("log",function(z){B.postMessage({action:"log",log:z})})},ac=(function(){function ue(V,z){this.options=z||{},this.self=V,this.init()}var B=ue.prototype;return B.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new ec.Transmuxer(this.options),fh(this.self,this.transmuxer)},B.pushMp4Captions=function(z){this.captionParser||(this.captionParser=new Qc,this.captionParser.init());var q=new Uint8Array(z.data,z.byteOffset,z.byteLength),Z=this.captionParser.parse(q,z.trackIds,z.timescales);this.self.postMessage({action:"mp4Captions",captions:Z&&Z.captions||[],logs:Z&&Z.logs||[],data:q.buffer},[q.buffer])},B.probeMp4StartTime=function(z){var q=z.timescales,Z=z.data,re=td.startTime(q,Z);this.self.postMessage({action:"probeMp4StartTime",startTime:re,data:Z},[Z.buffer])},B.probeMp4Tracks=function(z){var q=z.data,Z=td.tracks(q);this.self.postMessage({action:"probeMp4Tracks",tracks:Z,data:q},[q.buffer])},B.probeTs=function(z){var q=z.data,Z=z.baseStartTime,re=typeof Z=="number"&&!isNaN(Z)?Z*xt.ONE_SECOND_IN_TS:void 0,me=tu.inspect(q,re),xe=null;me&&(xe={hasVideo:me.video&&me.video.length===2||!1,hasAudio:me.audio&&me.audio.length===2||!1},xe.hasVideo&&(xe.videoStart=me.video[0].ptsTime),xe.hasAudio&&(xe.audioStart=me.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:xe,data:q},[q.buffer])},B.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},B.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},B.push=function(z){var q=new Uint8Array(z.data,z.byteOffset,z.byteLength);this.transmuxer.push(q)},B.reset=function(){this.transmuxer.reset()},B.setTimestampOffset=function(z){var q=z.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(xt.secondsToVideoTs(q)))},B.setAudioAppendStart=function(z){this.transmuxer.setAudioAppendStart(Math.ceil(xt.secondsToVideoTs(z.appendStart)))},B.setRemux=function(z){this.transmuxer.setRemux(z.remux)},B.flush=function(z){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},B.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},B.alignGopsWith=function(z){this.transmuxer.alignGopsWith(z.gopsToAlignWith.slice())},ue})();self.onmessage=function(ue){if(ue.data.action==="init"&&ue.data.options){this.messageHandlers=new ac(self,ue.data.options);return}this.messageHandlers||(this.messageHandlers=new ac(self)),ue.data&&ue.data.action&&ue.data.action!=="init"&&this.messageHandlers[ue.data.action]&&this.messageHandlers[ue.data.action](ue.data)}})),v_e=u9(g_e),y_e=function(e,t,n){var i=e.data.segment,s=i.type,a=i.initSegment,o=i.captions,l=i.captionStreams,u=i.metadata,c=i.videoFrameDtsTime,h=i.videoFramePtsTime;t.buffer.push({captions:o,captionStreams:l,metadata:u});var f=e.data.segment.boxes||{data:e.data.segment.data},g={type:s,data:new Uint8Array(f.data,f.data.byteOffset,f.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof c<"u"&&(g.videoFrameDtsTime=c),typeof h<"u"&&(g.videoFramePtsTime=h),n(g)},x_e=function(e){var t=e.transmuxedData,n=e.callback;t.buffer=[],n(t)},__e=function(e,t){t.gopInfo=e.data.gopInfo},h9=function(e){var t=e.transmuxer,n=e.bytes,i=e.audioAppendStart,s=e.gopsToAlignWith,a=e.remux,o=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,c=e.onVideoTimingInfo,h=e.onVideoSegmentTimingInfo,f=e.onAudioSegmentTimingInfo,g=e.onId3,v=e.onCaptions,y=e.onDone,_=e.onEndedTimeline,C=e.onTransmuxerLog,k=e.isEndOfTimeline,D={buffer:[]},I=k,A=function(F){t.currentTransmux===e&&(F.data.action==="data"&&y_e(F,D,o),F.data.action==="trackinfo"&&l(F.data.trackInfo),F.data.action==="gopInfo"&&__e(F,D),F.data.action==="audioTimingInfo"&&u(F.data.audioTimingInfo),F.data.action==="videoTimingInfo"&&c(F.data.videoTimingInfo),F.data.action==="videoSegmentTimingInfo"&&h(F.data.videoSegmentTimingInfo),F.data.action==="audioSegmentTimingInfo"&&f(F.data.audioSegmentTimingInfo),F.data.action==="id3Frame"&&g([F.data.id3Frame],F.data.id3Frame.dispatchType),F.data.action==="caption"&&v(F.data.caption),F.data.action==="endedtimeline"&&(I=!1,_()),F.data.action==="log"&&C(F.data.log),F.data.type==="transmuxed"&&(I||(t.onmessage=null,x_e({transmuxedData:D,callback:y}),f9(t))))};if(t.onmessage=A,i&&t.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(s)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof a<"u"&&t.postMessage({action:"setRemux",remux:a}),n.byteLength){var R=n instanceof ArrayBuffer?n:n.buffer,N=n instanceof ArrayBuffer?0:n.byteOffset;t.postMessage({action:"push",data:R,byteOffset:N,byteLength:n.byteLength},[R])}k&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},f9=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():h9(e.currentTransmux))},lF=function(e,t){e.postMessage({action:t}),f9(e)},p9=function(e,t){if(!t.currentTransmux){t.currentTransmux=e,lF(t,e);return}t.transmuxQueue.push(lF.bind(null,t,e))},b_e=function(e){p9("reset",e)},S_e=function(e){p9("endTimeline",e)},m9=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,h9(e);return}e.transmuxer.transmuxQueue.push(e)},T_e=function(e){var t=new v_e;t.currentTransmux=null,t.transmuxQueue=[];var n=t.terminate;return t.terminate=function(){return t.currentTransmux=null,t.transmuxQueue.length=0,n.call(t)},t.postMessage({action:"init",options:e}),t},vw={reset:b_e,endTimeline:S_e,transmux:m9,createTransmuxer:T_e},Ob=function(e){var t=e.transmuxer,n=e.endAction||e.action,i=e.callback,s=sr({},e,{endAction:null,transmuxer:null,callback:null}),a=function u(c){c.data.action===n&&(t.removeEventListener("message",u),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),i(c.data))};if(t.addEventListener("message",a),e.data){var o=e.data instanceof ArrayBuffer;s.byteOffset=o?0:e.data.byteOffset,s.byteLength=e.data.byteLength;var l=[o?e.data:e.data.buffer];t.postMessage(s,l)}else t.postMessage(s)},Iu={FAILURE:2,TIMEOUT:-101,ABORTED:-102},bE=function(e){e.forEach(function(t){t.abort()})},C_e=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},w_e=function(e){var t=e.target,n=Date.now()-t.requestTime,i={bandwidth:1/0,bytesReceived:0,roundTripTime:n||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i},xD=function(e,t){return t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:Iu.TIMEOUT,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:Iu.ABORTED,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:Iu.FAILURE,xhr:t}:t.responseType==="arraybuffer"&&t.response.byteLength===0?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:Iu.FAILURE,xhr:t}:null},uF=function(e,t,n){return function(i,s){var a=s.response,o=xD(i,s);if(o)return n(o,e);if(a.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Iu.FAILURE,xhr:s},e);for(var l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),c=0;c<t.length;c++)t[c].bytes=u;return n(null,e)}},g9=function(e,t){var n=NA(e.map.bytes);if(n!=="mp4"){var i=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:"Found unsupported "+(n||"unknown")+" container for initialization segment at URL: "+i,code:Iu.FAILURE})}Ob({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var o=a.tracks,l=a.data;return e.map.bytes=l,o.forEach(function(u){e.map.tracks=e.map.tracks||{},!e.map.tracks[u.type]&&(e.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[u.id]=u.timescale))}),t(null)}})},E_e=function(e){var t=e.segment,n=e.finishProcessingFn;return function(i,s){var a=xD(i,s);if(a)return n(a,t);var o=new Uint8Array(s.response);if(t.map.key)return t.map.encryptedBytes=o,n(null,t);t.map.bytes=o,g9(t,function(l){if(l)return l.xhr=s,l.status=s.status,n(l,t);n(null,t)})}},k_e=function(e){var t=e.segment,n=e.finishProcessingFn,i=e.responseType;return function(s,a){var o=xD(s,a);if(o)return n(o,t);var l=i==="arraybuffer"||!a.responseText?a.response:p_e(a.responseText.substring(t.lastReachedChar||0));return t.stats=C_e(a),t.key?t.encryptedBytes=new Uint8Array(l):t.bytes=new Uint8Array(l),n(null,t)}},A_e=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,g=e.doneFn,v=e.onTransmuxerLog,y=t.map&&t.map.tracks||{},_=!!(y.audio&&y.video),C=s.bind(null,t,"audio","start"),k=s.bind(null,t,"audio","end"),D=s.bind(null,t,"video","start"),I=s.bind(null,t,"video","end"),A=function(){return m9({bytes:n,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:_,onData:function(U){U.type=U.type==="combined"?"video":U.type,f(t,U)},onTrackInfo:function(U){i&&(_&&(U.isMuxed=!0),i(t,U))},onAudioTimingInfo:function(U){C&&typeof U.start<"u"&&(C(U.start),C=null),k&&typeof U.end<"u"&&k(U.end)},onVideoTimingInfo:function(U){D&&typeof U.start<"u"&&(D(U.start),D=null),I&&typeof U.end<"u"&&I(U.end)},onVideoSegmentTimingInfo:function(U){a(U)},onAudioSegmentTimingInfo:function(U){o(U)},onId3:function(U,F){l(t,U,F)},onCaptions:function(U){u(t,[U])},isEndOfTimeline:c,onEndedTimeline:function(){h()},onTransmuxerLog:v,onDone:function(U){g&&(U.type=U.type==="combined"?"video":U.type,g(null,t,U))}})};Ob({action:"probeTs",transmuxer:t.transmuxer,data:n,baseStartTime:t.baseStartTime,callback:function(N){t.bytes=n=N.data;var U=N.result;U&&(i(t,{hasAudio:U.hasAudio,hasVideo:U.hasVideo,isMuxed:_}),i=null,U.hasAudio&&!_&&C(U.audioStart),U.hasVideo&&D(U.videoStart),C=null,D=null),A()}})},v9=function(e){var t=e.segment,n=e.bytes,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,g=e.doneFn,v=e.onTransmuxerLog,y=new Uint8Array(n);if(qve(y)){t.isFmp4=!0;var _=t.map.tracks,C={isFmp4:!0,hasVideo:!!_.video,hasAudio:!!_.audio};_.audio&&_.audio.codec&&_.audio.codec!=="enca"&&(C.audioCodec=_.audio.codec),_.video&&_.video.codec&&_.video.codec!=="encv"&&(C.videoCodec=_.video.codec),_.video&&_.audio&&(C.isMuxed=!0),i(t,C);var k=function(I){f(t,{data:y,type:C.hasAudio&&!C.isMuxed?"audio":"video"}),I&&I.length&&u(t,I),g(null,t,{})};Ob({action:"probeMp4StartTime",timescales:t.map.timescales,data:y,transmuxer:t.transmuxer,callback:function(I){var A=I.data,R=I.startTime;if(n=A.buffer,t.bytes=y=A,C.hasAudio&&!C.isMuxed&&s(t,"audio","start",R),C.hasVideo&&s(t,"video","start",R),!_.video||!A.byteLength||!t.transmuxer){k();return}Ob({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:y,timescales:t.map.timescales,trackIds:[_.video.id],callback:function(U){n=U.data.buffer,t.bytes=y=U.data,U.logs.forEach(function(F){v(Oe.mergeOptions(F,{stream:"mp4CaptionParser"}))}),k(U.captions)}})}});return}if(!t.transmuxer){g(null,t,{});return}if(typeof t.container>"u"&&(t.container=NA(y)),t.container!=="ts"&&t.container!=="aac"){i(t,{hasAudio:!1,hasVideo:!1}),g(null,t,{});return}A_e({segment:t,bytes:n,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:g,onTransmuxerLog:v})},y9=function(e,t){var n=e.id,i=e.key,s=e.encryptedBytes,a=e.decryptionWorker,o=function u(c){if(c.data.source===n){a.removeEventListener("message",u);var h=c.data.decrypted;t(new Uint8Array(h.bytes,h.byteOffset,h.byteLength))}};a.addEventListener("message",o);var l;i.bytes.slice?l=i.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(i.bytes)),a.postMessage(n9({source:n,encrypted:s,key:l,iv:i.iv}),[s.buffer,l.buffer])},D_e=function(e){var t=e.decryptionWorker,n=e.segment,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,g=e.doneFn,v=e.onTransmuxerLog;y9({id:n.requestId,key:n.key,encryptedBytes:n.encryptedBytes,decryptionWorker:t},function(y){n.bytes=y,v9({segment:n,bytes:n.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:g,onTransmuxerLog:v})})},I_e=function(e){var t=e.activeXhrs,n=e.decryptionWorker,i=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,h=e.endedTimelineFn,f=e.dataFn,g=e.doneFn,v=e.onTransmuxerLog,y=0,_=!1;return function(C,k){if(!_){if(C)return _=!0,bE(t),g(C,k);if(y+=1,y===t.length){var D=function(){if(k.encryptedBytes)return D_e({decryptionWorker:n,segment:k,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:g,onTransmuxerLog:v});v9({segment:k,bytes:k.bytes,trackInfoFn:i,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:h,dataFn:f,doneFn:g,onTransmuxerLog:v})};if(k.endOfAllRequests=Date.now(),k.map&&k.map.encryptedBytes&&!k.map.bytes)return y9({decryptionWorker:n,id:k.requestId+"-init",encryptedBytes:k.map.encryptedBytes,key:k.map.key},function(I){k.map.bytes=I,g9(k,function(A){if(A)return bE(t),g(A,k);D()})});D()}}}},P_e=function(e){var t=e.loadendState,n=e.abortFn;return function(i){var s=i.target;s.aborted&&n&&!t.calledAbortFn&&(n(),t.calledAbortFn=!0)}},R_e=function(e){var t=e.segment,n=e.progressFn;return function(i){var s=i.target;if(!s.aborted)return t.stats=Oe.mergeOptions(t.stats,w_e(i)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),n(i,t)}},L_e=function(e){var t=e.xhr,n=e.xhrOptions,i=e.decryptionWorker,s=e.segment,a=e.abortFn,o=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,h=e.audioSegmentTimingInfoFn,f=e.id3Fn,g=e.captionsFn,v=e.isEndOfTimeline,y=e.endedTimelineFn,_=e.dataFn,C=e.doneFn,k=e.onTransmuxerLog,D=[],I=I_e({activeXhrs:D,decryptionWorker:i,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:h,id3Fn:f,captionsFn:g,isEndOfTimeline:v,endedTimelineFn:y,dataFn:_,doneFn:C,onTransmuxerLog:k});if(s.key&&!s.key.bytes){var A=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&A.push(s.map.key);var R=Oe.mergeOptions(n,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),N=uF(s,A,I),U=t(R,N);D.push(U)}if(s.map&&!s.map.bytes){var F=s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri);if(F){var w=Oe.mergeOptions(n,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),$=uF(s,[s.map.key],I),H=t(w,$);D.push(H)}var W=Oe.mergeOptions(n,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:xE(s.map)}),Q=E_e({segment:s,finishProcessingFn:I}),te=t(W,Q);D.push(te)}var oe=Oe.mergeOptions(n,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:xE(s)}),de=k_e({segment:s,finishProcessingFn:I,responseType:oe.responseType}),le=t(oe,de);le.addEventListener("progress",R_e({segment:s,progressFn:o})),D.push(le);var ae={};return D.forEach(function(ie){ie.addEventListener("loadend",P_e({loadendState:ae,abortFn:a}))}),function(){return bE(D)}},O_e=Wl("CodecUtils"),M_e=function(e){var t=e.attributes||{};if(t.CODECS)return pu(t.CODECS)},x9=function(e,t){var n=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&n.AUDIO&&e.mediaGroups.AUDIO[n.AUDIO]},F_e=function(e,t){if(!x9(e,t))return!0;var n=t.attributes||{},i=e.mediaGroups.AUDIO[n.AUDIO];for(var s in i)if(!i[s].uri&&!i[s].playlists)return!0;return!1},Mb=function(e){var t={};return e.forEach(function(n){var i=n.mediaType,s=n.type,a=n.details;t[i]=t[i]||[],t[i].push(yj(""+s+a))}),Object.keys(t).forEach(function(n){if(t[n].length>1){O_e("multiple "+n+" codecs found as attributes: "+t[n].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),t[n]=null;return}t[n]=t[n][0]}),t},cF=function(e){var t=0;return e.audio&&t++,e.video&&t++,t},x0=function(e,t){var n=t.attributes||{},i=Mb(M_e(t)||[]);if(x9(e,t)&&!i.audio&&!F_e(e,t)){var s=Mb(w0e(e,n.AUDIO)||[]);s.audio&&(i.audio=s.audio)}return i},ox=Wl("PlaylistSelector"),dF=function(e){if(!(!e||!e.playlist)){var t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})}},Fb=function(e,t){if(!e)return"";var n=X.getComputedStyle(e);return n?n[t]:""},qp=function(e,t){var n=e.slice();e.sort(function(i,s){var a=t(i,s);return a===0?n.indexOf(i)-n.indexOf(s):a})},_D=function(e,t){var n,i;return e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||X.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||X.Number.MAX_VALUE,n-i},B_e=function(e,t){var n,i;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||X.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||X.Number.MAX_VALUE,n===i&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:n-i},_9=function(e,t,n,i,s,a){if(e){var o={bandwidth:t,width:n,height:i,limitRenditionByPlayerDimensions:s},l=e.playlists;Na.isAudioOnly(e)&&(l=a.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(w){var $,H=w.attributes&&w.attributes.RESOLUTION&&w.attributes.RESOLUTION.width,W=w.attributes&&w.attributes.RESOLUTION&&w.attributes.RESOLUTION.height;return $=w.attributes&&w.attributes.BANDWIDTH,$=$||X.Number.MAX_VALUE,{bandwidth:$,width:H,height:W,playlist:w}});qp(u,function(w,$){return w.bandwidth-$.bandwidth}),u=u.filter(function(w){return!Na.isIncompatible(w.playlist)});var c=u.filter(function(w){return Na.isEnabled(w.playlist)});c.length||(c=u.filter(function(w){return!Na.isDisabled(w.playlist)}));var h=c.filter(function(w){return w.bandwidth*ts.BANDWIDTH_VARIANCE<t}),f=h[h.length-1],g=h.filter(function(w){return w.bandwidth===f.bandwidth})[0];if(s===!1){var v=g||c[0]||u[0];if(v&&v.playlist){var y="sortedPlaylistReps";return g&&(y="bandwidthBestRep"),c[0]&&(y="enabledPlaylistReps"),ox("choosing "+dF(v)+" using "+y+" with options",o),v.playlist}return ox("could not choose a playlist with options",o),null}var _=h.filter(function(w){return w.width&&w.height});qp(_,function(w,$){return w.width-$.width});var C=_.filter(function(w){return w.width===n&&w.height===i});f=C[C.length-1];var k=C.filter(function(w){return w.bandwidth===f.bandwidth})[0],D,I,A;k||(D=_.filter(function(w){return w.width>n||w.height>i}),I=D.filter(function(w){return w.width===D[0].width&&w.height===D[0].height}),f=I[I.length-1],A=I.filter(function(w){return w.bandwidth===f.bandwidth})[0]);var R;if(a.experimentalLeastPixelDiffSelector){var N=_.map(function(w){return w.pixelDiff=Math.abs(w.width-n)+Math.abs(w.height-i),w});qp(N,function(w,$){return w.pixelDiff===$.pixelDiff?$.bandwidth-w.bandwidth:w.pixelDiff-$.pixelDiff}),R=N[0]}var U=R||A||k||g||c[0]||u[0];if(U&&U.playlist){var F="sortedPlaylistReps";return R?F="leastPixelDiffRep":A?F="resolutionPlusOneRep":k?F="resolutionBestRep":g?F="bandwidthBestRep":c[0]&&(F="enabledPlaylistReps"),ox("choosing "+dF(U)+" using "+F+" with options",o),U.playlist}return ox("could not choose a playlist with options",o),null}},hF=function(){var e=this.useDevicePixelRatio&&X.devicePixelRatio||1;return _9(this.playlists.master,this.systemBandwidth,parseInt(Fb(this.tech_.el(),"width"),10)*e,parseInt(Fb(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},N_e=function(e){var t=-1,n=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var i=this.useDevicePixelRatio&&X.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(t=e*this.systemBandwidth+(1-e)*t,n=this.systemBandwidth),_9(this.playlists.master,t,parseInt(Fb(this.tech_.el(),"width"),10)*i,parseInt(Fb(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},U_e=function(e){var t=e.master,n=e.currentTime,i=e.bandwidth,s=e.duration,a=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,c=t.playlists.filter(function(y){return!Na.isIncompatible(y)}),h=c.filter(Na.isEnabled);h.length||(h=c.filter(function(y){return!Na.isDisabled(y)}));var f=h.filter(Na.hasAttribute.bind(null,"BANDWIDTH")),g=f.map(function(y){var _=u.getSyncPoint(y,s,l,n),C=_?1:2,k=Na.estimateSegmentRequestTime(a,i,y),D=k*C-o;return{playlist:y,rebufferingImpact:D}}),v=g.filter(function(y){return y.rebufferingImpact<=0});return qp(v,function(y,_){return _D(_.playlist,y.playlist)}),v.length?v[0]:(qp(g,function(y,_){return y.rebufferingImpact-_.rebufferingImpact}),g[0]||null)},$_e=function(){var e=this,t=this.playlists.master.playlists.filter(Na.isEnabled);qp(t,function(i,s){return _D(i,s)});var n=t.filter(function(i){return!!x0(e.playlists.master,i).video});return n[0]||null},j_e=function(e){var t=0,n;return e.bytes&&(n=new Uint8Array(e.bytes),e.segments.forEach(function(i){n.set(i,t),t+=i.byteLength})),n},z_e=function(e,t,n){if(!e[n]){t.trigger({type:"usage",name:"vhs-608"}),t.trigger({type:"usage",name:"hls-608"});var i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);var s=t.textTracks().getTrackById(i);if(s)e[n]=s;else{var a=t.options_.vhs&&t.options_.vhs.captionServices||{},o=n,l=n,u=!1,c=a[i];c&&(o=c.label,l=c.language,u=c.default),e[n]=t.addRemoteTextTrack({kind:"captions",id:i,default:u,label:o,language:l},!1).track}}},H_e=function(e){var t=e.inbandTextTracks,n=e.captionArray,i=e.timestampOffset;if(n){var s=X.WebKitDataCue||X.VTTCue;n.forEach(function(a){var o=a.stream;t[o].addCue(new s(a.startTime+i,a.endTime+i,a.text))})}},V_e=function(e){Object.defineProperties(e.frame,{id:{get:function(){return Oe.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return Oe.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return Oe.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},W_e=function(e){var t=e.inbandTextTracks,n=e.metadataArray,i=e.timestampOffset,s=e.videoDuration;if(n){var a=X.WebKitDataCue||X.VTTCue,o=t.metadataTrack_;if(o&&(n.forEach(function(g){var v=g.cueTime+i;typeof v!="number"||X.isNaN(v)||v<0||!(v<1/0)||g.frames.forEach(function(y){var _=new a(v,v,y.value||y.url||y.data||"");_.frame=y,_.value=y,V_e(_),o.addCue(_)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var h=u.reduce(function(g,v){var y=g[v.startTime]||[];return y.push(v),g[v.startTime]=y,g},{}),f=Object.keys(h).sort(function(g,v){return Number(g)-Number(v)});f.forEach(function(g,v){var y=h[g],_=Number(f[v+1])||s;y.forEach(function(C){C.endTime=_})})}}},q_e=function(e,t,n){e.metadataTrack_||(e.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=t)},Zg=function(e,t,n){var i,s;if(n&&n.cues)for(i=n.cues.length;i--;)s=n.cues[i],s.startTime>=e&&s.endTime<=t&&n.removeCue(s)},G_e=function(e){var t=e.cues;if(t)for(var n=0;n<t.length;n++){for(var i=[],s=0,a=0;a<t.length;a++)t[n].startTime===t[a].startTime&&t[n].endTime===t[a].endTime&&t[n].text===t[a].text&&(s++,s>1&&i.push(t[a]));i.length&&i.forEach(function(o){return e.removeCue(o)})}},K_e=function(e,t,n){if(typeof t>"u"||t===null||!e.length)return[];var i=Math.ceil((t-n+3)*bb.ONE_SECOND_IN_TS),s;for(s=0;s<e.length&&!(e[s].pts>i);s++);return e.slice(s)},X_e=function(e,t,n){if(!t.length)return e;if(n)return t.slice();var i=t[0].pts,s=0;for(s;s<e.length&&!(e[s].pts>=i);s++);return e.slice(0,s).concat(t)},Y_e=function(e,t,n,i){for(var s=Math.ceil((t-i)*bb.ONE_SECOND_IN_TS),a=Math.ceil((n-i)*bb.ONE_SECOND_IN_TS),o=e.slice(),l=e.length;l--&&!(e[l].pts<=a););if(l===-1)return o;for(var u=l+1;u--&&!(e[u].pts<=s););return u=Math.max(u,0),o.splice(u,l-u+1),o},Q_e=function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;var n=Object.keys(e).sort(),i=Object.keys(t).sort();if(n.length!==i.length)return!1;for(var s=0;s<n.length;s++){var a=n[s];if(a!==i[s]||e[a]!==t[a])return!1}return!0},b9=22,J_e=function(e,t,n){t=t||[];for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a];if(e===o.timeline&&(i.push(a),s+=o.duration,s>n))return a}return i.length===0?0:i[i.length-1]},$g=1,Z_e=500,fF=function(e){return typeof e=="number"&&isFinite(e)},lx=1/60,ebe=function(e,t,n){return e!=="main"||!t||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":t.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},tbe=function(e,t,n){var i=t-ts.BACK_BUFFER_LENGTH;e.length&&(i=Math.max(i,e.start(0)));var s=t-n;return Math.min(s,i)},op=function(e){var t=e.startOfSegment,n=e.duration,i=e.segment,s=e.part,a=e.playlist,o=a.mediaSequence,l=a.id,u=a.segments,c=u===void 0?[]:u,h=e.mediaIndex,f=e.partIndex,g=e.timeline,v=c.length-1,y="mediaIndex/partIndex increment";e.getMediaInfoForTime?y="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(y="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(y+=" with independent "+e.independent);var _=typeof f=="number",C=e.segment.uri?"segment":"pre-segment",k=_?H7({preloadSegment:i})-1:0;return C+" ["+(o+h)+"/"+(o+v)+"]"+(_?" part ["+f+"/"+k+"]":"")+(" segment start/end ["+i.start+" => "+i.end+"]")+(_?" part start/end ["+s.start+" => "+s.end+"]":"")+(" startOfSegment ["+t+"]")+(" duration ["+n+"]")+(" timeline ["+g+"]")+(" selected by ["+y+"]")+(" playlist ["+l+"]")},pF=function(e){return e+"TimingInfo"},rbe=function(e){var t=e.segmentTimeline,n=e.currentTimeline,i=e.startOfSegment,s=e.buffered,a=e.overrideCheck;return!a&&t===n?null:t<n?i:s.length?s.end(s.length-1):i},mF=function(e){var t=e.timelineChangeController,n=e.currentTimeline,i=e.segmentTimeline,s=e.loaderType,a=e.audioDisabled;if(n===i)return!1;if(s==="audio"){var o=t.lastTimelineChange({type:"main"});return!o||o.to!==i}if(s==="main"&&a){var l=t.pendingTimelineChange({type:"audio"});return!(l&&l.to===i)}return!1},nbe=function(e){var t=0;return["video","audio"].forEach(function(n){var i=e[n+"TimingInfo"];if(i){var s=i.start,a=i.end,o;typeof s=="bigint"||typeof a=="bigint"?o=X.BigInt(a)-X.BigInt(s):typeof s=="number"&&typeof a=="number"&&(o=a-s),typeof o<"u"&&o>t&&(t=o)}}),typeof t=="bigint"&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t},gF=function(e){var t=e.segmentDuration,n=e.maxDuration;return t?Math.round(t)>n+Qd:!1},ibe=function(e,t){if(t!=="hls")return null;var n=nbe({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!n)return null;var i=e.playlist.targetDuration,s=gF({segmentDuration:n,maxDuration:i*2}),a=gF({segmentDuration:n,maxDuration:i}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+n+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+i+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||a?{severity:s?"warn":"info",message:o}:null},SE=(function(r){Ht(e,r);function e(n,i){var s;if(s=r.call(this)||this,!n)throw new TypeError("Initialization settings are required");if(typeof n.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!n.mediaSource)throw new TypeError("No MediaSource specified");return s.bandwidth=n.bandwidth,s.throughput={rate:0,count:0},s.roundTrip=NaN,s.resetStats_(),s.mediaIndex=null,s.partIndex=null,s.hasPlayed_=n.hasPlayed,s.currentTime_=n.currentTime,s.seekable_=n.seekable,s.seeking_=n.seeking,s.duration_=n.duration,s.mediaSource_=n.mediaSource,s.vhs_=n.vhs,s.loaderType_=n.loaderType,s.currentMediaInfo_=void 0,s.startingMediaInfo_=void 0,s.segmentMetadataTrack_=n.segmentMetadataTrack,s.goalBufferLength_=n.goalBufferLength,s.sourceType_=n.sourceType,s.sourceUpdater_=n.sourceUpdater,s.inbandTextTracks_=n.inbandTextTracks,s.state_="INIT",s.timelineChangeController_=n.timelineChangeController,s.shouldSaveSegmentTimingInfo_=!0,s.parse708captions_=n.parse708captions,s.useDtsForTimestampOffset_=n.useDtsForTimestampOffset,s.captionServices_=n.captionServices,s.experimentalExactManifestTimings=n.experimentalExactManifestTimings,s.checkBufferTimeout_=null,s.error_=void 0,s.currentTimeline_=-1,s.pendingSegment_=null,s.xhrOptions_=null,s.pendingSegments_=[],s.audioDisabled_=!1,s.isPendingTimestampOffset_=!1,s.gopBuffer_=[],s.timeMapping_=0,s.safeAppend_=Oe.browser.IE_VERSION>=11,s.appendInitSegment_={audio:!0,video:!0},s.playlistOfLastInitSegment_={audio:null,video:null},s.callQueue_=[],s.loadQueue_=[],s.metadataQueue_={id3:[],caption:[]},s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=null,s.activeInitSegmentId_=null,s.initSegments_={},s.cacheEncryptionKeys_=n.cacheEncryptionKeys,s.keyCache_={},s.decrypter_=n.decrypter,s.syncController_=n.syncController,s.syncPoint_={segmentIndex:0,time:0},s.transmuxer_=s.createTransmuxer_(),s.triggerSyncInfoUpdate_=function(){return s.trigger("syncinfoupdate")},s.syncController_.on("syncinfoupdate",s.triggerSyncInfoUpdate_),s.mediaSource_.addEventListener("sourceopen",function(){s.isEndOfStream_()||(s.ended_=!1)}),s.fetchAtBuffer_=!1,s.logger_=Wl("SegmentLoader["+s.loaderType_+"]"),Object.defineProperty(We(s),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),s.sourceUpdater_.on("ready",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="main"&&s.timelineChangeController_.on("pendingtimelinechange",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="audio"&&s.timelineChangeController_.on("timelinechange",function(){s.hasEnoughInfoToLoad_()&&s.processLoadQueue_(),s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s}var t=e.prototype;return t.createTransmuxer_=function(){return vw.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},t.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},t.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},t.setAudio=function(i){this.audioDisabled_=!i,i?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},t.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},t.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,X.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},t.checkForAbort_=function(i){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==i},t.error=function(i){return typeof i<"u"&&(this.logger_("error occurred:",i),this.error_=i),this.pendingSegment_=null,this.error_},t.endOfStream=function(){this.ended_=!0,this.transmuxer_&&vw.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},t.buffered_=function(){var i=this.getMediaInfo_();if(!this.sourceUpdater_||!i)return Oe.createTimeRanges();if(this.loaderType_==="main"){var s=i.hasAudio,a=i.hasVideo,o=i.isMuxed;if(a&&s&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},t.initSegmentForMap=function(i,s){if(s===void 0&&(s=!1),!i)return null;var a=Lb(i),o=this.initSegments_[a];return s&&!o&&i.bytes&&(this.initSegments_[a]=o={resolvedUri:i.resolvedUri,byterange:i.byterange,bytes:i.bytes,tracks:i.tracks,timescales:i.timescales}),o||i},t.segmentKey=function(i,s){if(s===void 0&&(s=!1),!i)return null;var a=i9(i),o=this.keyCache_[a];this.cacheEncryptionKeys_&&s&&!o&&i.bytes&&(this.keyCache_[a]=o={resolvedUri:i.resolvedUri,bytes:i.bytes});var l={resolvedUri:(o||i).resolvedUri};return o&&(l.bytes=o.bytes),l},t.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},t.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},t.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},t.playlist=function(i,s){if(s===void 0&&(s={}),!!i){var a=this.playlist_,o=this.pendingSegment_;this.playlist_=i,this.xhrOptions_=s,this.state==="INIT"&&(i.syncInfo={mediaSequence:i.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(i));var l=null;if(a&&(a.id?l=a.id:a.uri&&(l=a.uri)),this.logger_("playlist update ["+l+" => "+(i.id||i.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==i.uri){this.mediaIndex!==null&&(i.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=i.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var h=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=h}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=i.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,i)}},t.pause=function(){this.checkBufferTimeout_&&(X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},t.paused=function(){return this.checkBufferTimeout_===null},t.resetEverything=function(i){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,i),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},t.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},t.resyncLoader=function(){this.transmuxer_&&vw.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},t.remove=function(i,s,a,o){if(a===void 0&&(a=function(){}),o===void 0&&(o=!1),s===1/0&&(s=this.duration_()),s<=i){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&a()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(i,s,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=Y_e(this.gopBuffer_,i,s,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(i,s,u));for(var c in this.inbandTextTracks_)Zg(i,s,this.inbandTextTracks_[c]);Zg(i,s,this.segmentMetadataTrack_),u()},t.monitorBuffer_=function(){this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=X.setTimeout(this.monitorBufferTick_.bind(this),1)},t.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&X.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=X.setTimeout(this.monitorBufferTick_.bind(this),Z_e)},t.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var i=this.chooseNextRequest_();i&&(typeof i.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:i.timeline})),this.loadSegment_(i))}},t.isEndOfStream_=function(i,s,a){if(i===void 0&&(i=this.mediaIndex),s===void 0&&(s=this.playlist_),a===void 0&&(a=this.partIndex),!s||!this.mediaSource_)return!1;var o=typeof i=="number"&&s.segments[i],l=i+1===s.segments.length,u=!o||!o.parts||a+1===o.parts.length;return s.endList&&this.mediaSource_.readyState==="open"&&l&&u},t.chooseNextRequest_=function(){var i=this.buffered_(),s=nF(i)||0,a=pD(i,this.currentTime_()),o=!this.hasPlayed_()&&a>=1,l=a>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(c.isSyncRequest)c.mediaIndex=J_e(this.currentTimeline_,u,s);else if(this.mediaIndex!==null){var h=u[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=h.end?h.end:s,h.parts&&h.parts[f+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=f+1):c.mediaIndex=this.mediaIndex+1}else{var g=Na.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?s:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),v=g.segmentIndex,y=g.startTime,_=g.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+s:"currentTime "+this.currentTime_(),c.mediaIndex=v,c.startOfSegment=y,c.partIndex=_}var C=u[c.mediaIndex],k=C&&typeof c.partIndex=="number"&&C.parts&&C.parts[c.partIndex];if(!C||typeof c.partIndex=="number"&&!k)return null;if(typeof c.partIndex!="number"&&C.parts&&(c.partIndex=0,k=C.parts[0]),!a&&k&&!k.independent)if(c.partIndex===0){var D=u[c.mediaIndex-1],I=D.parts&&D.parts.length&&D.parts[D.parts.length-1];I&&I.independent&&(c.mediaIndex-=1,c.partIndex=D.parts.length-1,c.independent="previous segment")}else C.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var A=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=u.length-1&&A&&!this.seeking_()?null:this.generateSegmentInfo_(c)},t.generateSegmentInfo_=function(i){var s=i.independent,a=i.playlist,o=i.mediaIndex,l=i.startOfSegment,u=i.isSyncRequest,c=i.partIndex,h=i.forceTimestampOffset,f=i.getMediaInfoForTime,g=a.segments[o],v=typeof c=="number"&&g.parts[c],y={requestId:"segment-loader-"+Math.random(),uri:v&&v.resolvedUri||g.resolvedUri,mediaIndex:o,partIndex:v?c:null,isSyncRequest:u,startOfSegment:l,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:g.timeline,duration:v&&v.duration||g.duration,segment:g,part:v,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:f,independent:s},_=typeof h<"u"?h:this.isPendingTimestampOffset_;y.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:g.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:_});var C=nF(this.sourceUpdater_.audioBuffered());return typeof C=="number"&&(y.audioAppendStart=C-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(y.gopsToAlignWith=K_e(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),y},t.timestampOffsetForSegment_=function(i){return rbe(i)},t.earlyAbortWhenNeeded_=function(i){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(i.firstBytesReceivedAt||Date.now())<1e3)){var s=this.currentTime_(),a=i.bandwidth,o=this.pendingSegment_.duration,l=Na.estimateSegmentRequestTime(o,a,this.playlist_,i.bytesReceived),u=wxe(this.buffered_(),s,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var c=U_e({master:this.vhs_.playlists.master,currentTime:s,bandwidth:a,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(c){var h=l-u,f=h-c.rebufferingImpact,g=.5;u<=Qd&&(g=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||f<g)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*ts.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},t.handleAbort_=function(i){this.logger_("Aborting "+op(i)),this.mediaRequestsAborted+=1},t.handleProgress_=function(i,s){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&this.trigger("progress")},t.handleTrackInfo_=function(i,s){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&(this.checkForIllegalMediaSwitch(s)||(s=s||{},Q_e(this.currentMediaInfo_,s)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=s,this.currentMediaInfo_=s,this.logger_("trackinfo update",s),this.trigger("trackinfo")),!this.checkForAbort_(i.requestId)&&(this.pendingSegment_.trackInfo=s,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},t.handleTimingInfo_=function(i,s,a,o){if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){var l=this.pendingSegment_,u=pF(s);l[u]=l[u]||{},l[u][a]=o,this.logger_("timinginfo: "+s+" - "+a+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},t.handleCaptions_=function(i,s){var a=this;if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){if(s.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,i,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};s.forEach(function(c){u[c.stream]=u[c.stream]||{startTime:1/0,captions:[],endTime:0};var h=u[c.stream];h.startTime=Math.min(h.startTime,c.startTime+l),h.endTime=Math.max(h.endTime,c.endTime+l),h.captions.push(c)}),Object.keys(u).forEach(function(c){var h=u[c],f=h.startTime,g=h.endTime,v=h.captions,y=a.inbandTextTracks_;a.logger_("adding cues from "+f+" -> "+g+" for "+c),z_e(y,a.vhs_.tech_,c),Zg(f,g,y[c]),H_e({captionArray:v,inbandTextTracks:y,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},t.handleId3_=function(i,s,a){if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,i,s,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();q_e(this.inbandTextTracks_,a,this.vhs_.tech_),W_e({inbandTextTracks:this.inbandTextTracks_,metadataArray:s,timestampOffset:l,videoDuration:this.duration_()})}},t.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(i){return i()}),this.metadataQueue_.caption.forEach(function(i){return i()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},t.processCallQueue_=function(){var i=this.callQueue_;this.callQueue_=[],i.forEach(function(s){return s()})},t.processLoadQueue_=function(){var i=this.loadQueue_;this.loadQueue_=[],i.forEach(function(s){return s()})},t.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var i=this.pendingSegment_;return i?this.getCurrentMediaInfo_()?!mF({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:i.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},t.getCurrentMediaInfo_=function(i){return i===void 0&&(i=this.pendingSegment_),i&&i.trackInfo||this.currentMediaInfo_},t.getMediaInfo_=function(i){return i===void 0&&(i=this.pendingSegment_),this.getCurrentMediaInfo_(i)||this.startingMediaInfo_},t.getPendingSegmentPlaylist=function(){return this.pendingSegment_?this.pendingSegment_.playlist:null},t.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var i=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!i||!s)return!1;var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed;return!(o&&!i.videoTimingInfo||a&&!this.audioDisabled_&&!l&&!i.audioTimingInfo||mF({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:i.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},t.handleData_=function(i,s){if(this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,i,s));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(i.map&&(i.map=this.initSegmentForMap(i.map,!0),a.segment.map=i.map),i.key&&this.segmentKey(i.key,!0),a.isFmp4=i.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[pF(s.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,s.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==a.mediaIndex||c.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,s)}}},t.updateAppendInitSegmentStatus=function(i,s){this.loaderType_==="main"&&typeof i.timestampOffset=="number"&&!i.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[s]!==i.playlist&&(this.appendInitSegment_[s]=!0)},t.getInitSegmentAndUpdateState_=function(i){var s=i.type,a=i.initSegment,o=i.map,l=i.playlist;if(o){var u=Lb(o);if(this.activeInitSegmentId_===u)return null;a=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return a&&this.appendInitSegment_[s]?(this.playlistOfLastInitSegment_[s]=l,this.appendInitSegment_[s]=!1,this.activeInitSegmentId_=null,a):null},t.handleQuotaExceededError_=function(i,s){var a=this,o=i.segmentInfo,l=i.type,u=i.bytes,c=this.sourceUpdater_.audioBuffered(),h=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Yh(c).join(", ")),h.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Yh(h).join(", "));var f=c.length?c.start(0):0,g=c.length?c.end(c.length-1):0,v=h.length?h.start(0):0,y=h.length?h.end(h.length-1):0;if(g-f<=$g&&y-v<=$g){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+Yh(c).join(", ")+", ")+("video buffer: "+Yh(h).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var _=this.currentTime_(),C=_-$g;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+C),this.remove(0,C,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+$g+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=X.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},$g*1e3)},!0)},t.handleAppendError_=function(i,s){var a=i.segmentInfo,o=i.type,l=i.bytes;if(s){if(s.code===b9){this.handleQuotaExceededError_({segmentInfo:a,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(o+" append of "+l.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},t.appendToSourceBuffer_=function(i){var s=i.segmentInfo,a=i.type,o=i.initSegment,l=i.data,u=i.bytes;if(!u){var c=[l],h=l.byteLength;o&&(c.unshift(o),h+=o.byteLength),u=j_e({bytes:h,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:s,type:a,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:s,type:a,bytes:u}))},t.handleSegmentTimingInfo_=function(i,s,a){if(!(!this.pendingSegment_||s!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=i+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=a.prependedContentDuration||0,o[l].transmuxedPresentationStart=a.start.presentation,o[l].transmuxedDecodeStart=a.start.decode,o[l].transmuxedPresentationEnd=a.end.presentation,o[l].transmuxedDecodeEnd=a.end.decode,o[l].baseMediaDecodeTime=a.baseMediaDecodeTime}},t.appendData_=function(i,s){var a=s.type,o=s.data;if(!(!o||!o.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:a,initSegment:s.initSegment,playlist:i.playlist,map:i.isFmp4?i.segment.map:null});this.appendToSourceBuffer_({segmentInfo:i,type:a,initSegment:l,data:o})}},t.loadSegment_=function(i){var s=this;if(this.state="WAITING",this.pendingSegment_=i,this.trimBackBuffer_(i),typeof i.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=sr({},i,{forceTimestampOffset:!0});sr(i,s.generateSegmentInfo_(a)),s.isPendingTimestampOffset_=!1,s.updateTransmuxerAndRequestSegment_(i)});return}this.updateTransmuxerAndRequestSegment_(i)},t.updateTransmuxerAndRequestSegment_=function(i){var s=this;this.shouldUpdateTransmuxerTimestampOffset_(i.timestampOffset)&&(this.gopBuffer_.length=0,i.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:i.timestampOffset}));var a=this.createSimplifiedSegmentObj_(i),o=this.isEndOfStream_(i.mediaIndex,i.playlist,i.partIndex),l=this.mediaIndex!==null,u=i.timeline!==this.currentTimeline_&&i.timeline>0,c=o||l&&u;this.logger_("Requesting "+op(i)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),i.abortRequests=L_e({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,i),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",i.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",i.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){s.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(f){var g=f.message,v=f.level,y=f.stream;s.logger_(op(i)+" logged from transmuxer stream "+y+" as a "+v+": "+g)}})},t.trimBackBuffer_=function(i){var s=tbe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);s>0&&this.remove(0,s)},t.createSimplifiedSegmentObj_=function(i){var s=i.segment,a=i.part,o={resolvedUri:a?a.resolvedUri:s.resolvedUri,byterange:a?a.byterange:s.byterange,requestId:i.requestId,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,part:i.part},l=i.playlist.segments[i.mediaIndex-1];if(l&&l.timeline===s.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),s.key){var u=s.key.iv||new Uint32Array([0,0,0,i.mediaIndex+i.playlist.mediaSequence]);o.key=this.segmentKey(s.key),o.key.iv=u}return s.map&&(o.map=this.initSegmentForMap(s.map)),o},t.saveTransferStats_=function(i){this.mediaRequests+=1,i&&(this.mediaBytesTransferred+=i.bytesReceived,this.mediaTransferDuration+=i.roundTripTime)},t.saveBandwidthRelatedStats_=function(i,s){if(this.pendingSegment_.byteLength=s.bytesReceived,i<lx){this.logger_("Ignoring segment's bandwidth because its duration of "+i+(" is less than the min to record "+lx));return}this.bandwidth=s.bandwidth,this.roundTrip=s.roundTripTime},t.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},t.segmentRequestFinished_=function(i,s,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,i,s,a));return}if(this.saveTransferStats_(s.stats),!!this.pendingSegment_&&s.requestId===this.pendingSegment_.requestId){if(i){if(this.pendingSegment_=null,this.state="READY",i.code===Iu.ABORTED)return;if(this.pause(),i.code===Iu.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(i),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,s.stats),o.endOfAllRequests=s.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=X_e(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},t.setTimeMapping_=function(i){var s=this.syncController_.mappingForTimeline(i);s!==null&&(this.timeMapping_=s)},t.updateMediaSecondsLoaded_=function(i){typeof i.start=="number"&&typeof i.end=="number"?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration},t.shouldUpdateTransmuxerTimestampOffset_=function(i){return i===null?!1:this.loaderType_==="main"&&i!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&i!==this.sourceUpdater_.audioTimestampOffset()},t.trueSegmentStart_=function(i){var s=i.currentStart,a=i.playlist,o=i.mediaIndex,l=i.firstVideoFrameTimeForData,u=i.currentVideoTimestampOffset,c=i.useVideoTimingInfo,h=i.videoTimingInfo,f=i.audioTimingInfo;if(typeof s<"u")return s;if(!c)return f.start;var g=a.segments[o-1];return o===0||!g||typeof g.start>"u"||g.end!==l+u?l:h.start},t.waitForAppendsToComplete_=function(i){var s=this.getCurrentMediaInfo_(i);if(!s){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed,u=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&a&&!l;if(i.waitingOnAppends=0,!i.hasAppendedData_){!i.timingInfo&&typeof i.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),i.timingInfo={start:0},i.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(i),this.processMetadataQueue_()),this.checkAppendsDone_(i);return}u&&i.waitingOnAppends++,c&&i.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,i)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,i))},t.checkAppendsDone_=function(i){this.checkForAbort_(i.requestId)||(i.waitingOnAppends--,i.waitingOnAppends===0&&this.handleAppendsDone_())},t.checkForIllegalMediaSwitch=function(i){var s=ebe(this.loaderType_,this.getCurrentMediaInfo_(),i);return s?(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),!0):!1},t.updateSourceBufferTimestampOffset_=function(i){if(!(i.timestampOffset===null||typeof i.timingInfo.start!="number"||i.changedTimestampOffset||this.loaderType_!=="main")){var s=!1;i.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:i.segment.videoTimingInfo,audioTimingInfo:i.segment.audioTimingInfo,timingInfo:i.timingInfo}),i.changedTimestampOffset=!0,i.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(i.timestampOffset),s=!0),i.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(i.timestampOffset),s=!0),s&&this.trigger("timestampoffset")}},t.getSegmentStartTimeForTimestampOffsetCalculation_=function(i){var s=i.videoTimingInfo,a=i.audioTimingInfo,o=i.timingInfo;return this.useDtsForTimestampOffset_?s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:o.start:o.start},t.updateTimingInfoEnd_=function(i){i.timingInfo=i.timingInfo||{};var s=this.getMediaInfo_(),a=this.loaderType_==="main"&&s&&s.hasVideo,o=a&&i.videoTimingInfo?i.videoTimingInfo:i.audioTimingInfo;o&&(i.timingInfo.end=typeof o.end=="number"?o.end:o.start+i.duration)},t.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var i=this.pendingSegment_;this.updateTimingInfoEnd_(i),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});var s=ibe(i,this.sourceType_);if(s&&(s.severity==="warn"?Oe.log.warn(s.message):this.logger_(s.message)),this.recordThroughput_(i),this.pendingSegment_=null,this.state="READY",i.isSyncRequest&&(this.trigger("syncinfoupdate"),!i.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+op(i));return}this.logger_("Appended "+op(i)),this.addSegmentMetadataCue_(i),this.fetchAtBuffer_=!0,this.currentTimeline_!==i.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:i.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:i.timeline})),this.currentTimeline_=i.timeline,this.trigger("syncinfoupdate");var a=i.segment,o=i.part,l=a.end&&this.currentTime_()-a.end>i.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>i.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+op(i)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=i.mediaIndex,this.partIndex=i.partIndex,this.isEndOfStream_(i.mediaIndex,i.playlist,i.partIndex)&&this.endOfStream(),this.trigger("appended"),i.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},t.recordThroughput_=function(i){if(i.duration<lx){this.logger_("Ignoring segment's throughput because its duration of "+i.duration+(" is less than the min to record "+lx));return}var s=this.throughput.rate,a=Date.now()-i.endOfAllRequests+1,o=Math.floor(i.byteLength/a*8*1e3);this.throughput.rate+=(o-s)/++this.throughput.count},t.addSegmentMetadataCue_=function(i){if(this.segmentMetadataTrack_){var s=i.segment,a=s.start,o=s.end;if(!(!fF(a)||!fF(o))){Zg(a,o,this.segmentMetadataTrack_);var l=X.WebKitDataCue||X.VTTCue,u={custom:s.custom,dateTimeObject:s.dateTimeObject,dateTimeString:s.dateTimeString,bandwidth:i.playlist.attributes.BANDWIDTH,resolution:i.playlist.attributes.RESOLUTION,codecs:i.playlist.attributes.CODECS,byteLength:i.byteLength,uri:i.uri,timeline:i.timeline,playlist:i.playlist.id,start:a,end:o},c=JSON.stringify(u),h=new l(a,o,c);h.value=u,this.segmentMetadataTrack_.addCue(h)}}},e})(Oe.EventTarget);function Rc(){}var S9=function(e){return typeof e!="string"?e:e.replace(/./,function(t){return t.toUpperCase()})},sbe=["video","audio"],TE=function(e,t){var n=t[e+"Buffer"];return n&&n.updating||t.queuePending[e]},abe=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.type==="mediaSource")return null;if(i.type===e)return n}return null},bD=function r(e,t){if(t.queue.length!==0){var n=0,i=t.queue[n];if(i.type==="mediaSource"){!t.updating()&&t.mediaSource.readyState!=="closed"&&(t.queue.shift(),i.action(t),i.doneFn&&i.doneFn(),r("audio",t),r("video",t));return}if(e!=="mediaSource"&&!(!t.ready()||t.mediaSource.readyState==="closed"||TE(e,t))){if(i.type!==e){if(n=abe(e,t.queue),n===null)return;i=t.queue[n]}if(t.queue.splice(n,1),t.queuePending[e]=i,i.action(e,t),!i.doneFn){t.queuePending[e]=null,r(e,t);return}}}},T9=function(e,t){var n=t[e+"Buffer"],i=S9(e);n&&(n.removeEventListener("updateend",t["on"+i+"UpdateEnd_"]),n.removeEventListener("error",t["on"+i+"Error_"]),t.codecs[e]=null,t[e+"Buffer"]=null)},xu=function(e,t){return e&&t&&Array.prototype.indexOf.call(e.sourceBuffers,t)!==-1},uo={appendBuffer:function(e,t,n){return function(i,s){var a=s[i+"Buffer"];if(xu(s.mediaSource,a)){s.logger_("Appending segment "+t.mediaIndex+"'s "+e.length+" bytes to "+i+"Buffer");try{a.appendBuffer(e)}catch(o){s.logger_("Error with code "+o.code+" "+(o.code===b9?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+t.mediaIndex+" to "+i+"Buffer")),s.queuePending[i]=null,n(o)}}}},remove:function(e,t){return function(n,i){var s=i[n+"Buffer"];if(xu(i.mediaSource,s)){i.logger_("Removing "+e+" to "+t+" from "+n+"Buffer");try{s.remove(e,t)}catch{i.logger_("Remove "+e+" to "+t+" from "+n+"Buffer failed")}}}},timestampOffset:function(e){return function(t,n){var i=n[t+"Buffer"];xu(n.mediaSource,i)&&(n.logger_("Setting "+t+"timestampOffset to "+e),i.timestampOffset=e)}},callback:function(e){return function(t,n){e()}},endOfStream:function(e){return function(t){if(t.mediaSource.readyState==="open"){t.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{t.mediaSource.endOfStream(e)}catch(n){Oe.log.warn("Failed to call media source endOfStream",n)}}}},duration:function(e){return function(t){t.logger_("Setting mediaSource duration to "+e);try{t.mediaSource.duration=e}catch(n){Oe.log.warn("Failed to set media source duration",n)}}},abort:function(){return function(e,t){if(t.mediaSource.readyState==="open"){var n=t[e+"Buffer"];if(xu(t.mediaSource,n)){t.logger_("calling abort on "+e+"Buffer");try{n.abort()}catch(i){Oe.log.warn("Failed to abort on "+e+"Buffer",i)}}}}},addSourceBuffer:function(e,t){return function(n){var i=S9(e),s=z0(t);n.logger_("Adding "+e+"Buffer with codec "+t+" to mediaSource");var a=n.mediaSource.addSourceBuffer(s);a.addEventListener("updateend",n["on"+i+"UpdateEnd_"]),a.addEventListener("error",n["on"+i+"Error_"]),n.codecs[e]=t,n[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(t){var n=t[e+"Buffer"];if(T9(e,t),!!xu(t.mediaSource,n)){t.logger_("Removing "+e+"Buffer with codec "+t.codecs[e]+" from mediaSource");try{t.mediaSource.removeSourceBuffer(n)}catch(i){Oe.log.warn("Failed to removeSourceBuffer "+e+"Buffer",i)}}}},changeType:function(e){return function(t,n){var i=n[t+"Buffer"],s=z0(e);if(xu(n.mediaSource,i)&&n.codecs[t]!==e){n.logger_("changing "+t+"Buffer codec from "+n.codecs[t]+" to "+e);try{i.changeType(s),n.codecs[t]=e}catch(a){Oe.log.warn("Failed to changeType on "+t+"Buffer",a)}}}}},co=function(e){var t=e.type,n=e.sourceUpdater,i=e.action,s=e.doneFn,a=e.name;n.queue.push({type:t,action:i,doneFn:s,name:a}),bD(t,n)},vF=function(e,t){return function(n){if(t.queuePending[e]){var i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t[e+"Error_"])}bD(e,t)}},C9=(function(r){Ht(e,r);function e(n){var i;return i=r.call(this)||this,i.mediaSource=n,i.sourceopenListener_=function(){return bD("mediaSource",We(i))},i.mediaSource.addEventListener("sourceopen",i.sourceopenListener_),i.logger_=Wl("SourceUpdater"),i.audioTimestampOffset_=0,i.videoTimestampOffset_=0,i.queue=[],i.queuePending={audio:null,video:null},i.delayedAudioAppendQueue_=[],i.videoAppendQueued_=!1,i.codecs={},i.onVideoUpdateEnd_=vF("video",We(i)),i.onAudioUpdateEnd_=vF("audio",We(i)),i.onVideoError_=function(s){i.videoError_=s},i.onAudioError_=function(s){i.audioError_=s},i.createdSourceBuffers_=!1,i.initializedEme_=!1,i.triggeredReady_=!1,i}var t=e.prototype;return t.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},t.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},t.hasInitializedAnyEme=function(){return this.initializedEme_},t.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},t.createSourceBuffers=function(i){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(i),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},t.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},t.addSourceBuffer=function(i,s){co({type:"mediaSource",sourceUpdater:this,action:uo.addSourceBuffer(i,s),name:"addSourceBuffer"})},t.abort=function(i){co({type:i,sourceUpdater:this,action:uo.abort(i),name:"abort"})},t.removeSourceBuffer=function(i){if(!this.canRemoveSourceBuffer()){Oe.log.error("removeSourceBuffer is not supported!");return}co({type:"mediaSource",sourceUpdater:this,action:uo.removeSourceBuffer(i),name:"removeSourceBuffer"})},t.canRemoveSourceBuffer=function(){return!Oe.browser.IE_VERSION&&!Oe.browser.IS_FIREFOX&&X.MediaSource&&X.MediaSource.prototype&&typeof X.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return X.SourceBuffer&&X.SourceBuffer.prototype&&typeof X.SourceBuffer.prototype.changeType=="function"},t.canChangeType=function(){return this.constructor.canChangeType()},t.changeType=function(i,s){if(!this.canChangeType()){Oe.log.error("changeType is not supported!");return}co({type:i,sourceUpdater:this,action:uo.changeType(s),name:"changeType"})},t.addOrChangeSourceBuffers=function(i){var s=this;if(!i||typeof i!="object"||Object.keys(i).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(i).forEach(function(a){var o=i[a];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(a,o);s.canChangeType()&&s.changeType(a,o)})},t.appendBuffer=function(i,s){var a=this,o=i.segmentInfo,l=i.type,u=i.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([i,s]),this.logger_("delayed audio append of "+u.length+" until video append");return}var c=s;if(co({type:l,sourceUpdater:this,action:uo.appendBuffer(u,o||{mediaIndex:-1},c),doneFn:s,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var h=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+h.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,h.forEach(function(f){a.appendBuffer.apply(a,f)})}},t.audioBuffered=function(){return xu(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Oe.createTimeRange()},t.videoBuffered=function(){return xu(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Oe.createTimeRange()},t.buffered=function(){var i=xu(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,s=xu(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return s&&!i?this.audioBuffered():i&&!s?this.videoBuffered():Cxe(this.audioBuffered(),this.videoBuffered())},t.setDuration=function(i,s){s===void 0&&(s=Rc),co({type:"mediaSource",sourceUpdater:this,action:uo.duration(i),name:"duration",doneFn:s})},t.endOfStream=function(i,s){i===void 0&&(i=null),s===void 0&&(s=Rc),typeof i!="string"&&(i=void 0),co({type:"mediaSource",sourceUpdater:this,action:uo.endOfStream(i),name:"endOfStream",doneFn:s})},t.removeAudio=function(i,s,a){if(a===void 0&&(a=Rc),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}co({type:"audio",sourceUpdater:this,action:uo.remove(i,s),doneFn:a,name:"remove"})},t.removeVideo=function(i,s,a){if(a===void 0&&(a=Rc),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}co({type:"video",sourceUpdater:this,action:uo.remove(i,s),doneFn:a,name:"remove"})},t.updating=function(){return!!(TE("audio",this)||TE("video",this))},t.audioTimestampOffset=function(i){return typeof i<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==i&&(co({type:"audio",sourceUpdater:this,action:uo.timestampOffset(i),name:"timestampOffset"}),this.audioTimestampOffset_=i),this.audioTimestampOffset_},t.videoTimestampOffset=function(i){return typeof i<"u"&&this.videoBuffer&&this.videoTimestampOffset!==i&&(co({type:"video",sourceUpdater:this,action:uo.timestampOffset(i),name:"timestampOffset"}),this.videoTimestampOffset_=i),this.videoTimestampOffset_},t.audioQueueCallback=function(i){this.audioBuffer&&co({type:"audio",sourceUpdater:this,action:uo.callback(i),name:"callback"})},t.videoQueueCallback=function(i){this.videoBuffer&&co({type:"video",sourceUpdater:this,action:uo.callback(i),name:"callback"})},t.dispose=function(){var i=this;this.trigger("dispose"),sbe.forEach(function(s){i.abort(s),i.canRemoveSourceBuffer()?i.removeSourceBuffer(s):i[s+"QueueCallback"](function(){return T9(s,i)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e})(Oe.EventTarget),yF=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},xF=new Uint8Array(`

`.split("").map(function(r){return r.charCodeAt(0)})),obe=(function(r){Ht(e,r);function e(){return r.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e})(iE(Error)),lbe=(function(r){Ht(e,r);function e(n,i){var s;return i===void 0&&(i={}),s=r.call(this,n,i)||this,s.mediaSource_=null,s.subtitlesTrack_=null,s.loaderType_="subtitle",s.featuresNativeTextTracks_=n.featuresNativeTextTracks,s.loadVttJs=n.loadVttJs,s.shouldSaveSegmentTimingInfo_=!1,s}var t=e.prototype;return t.createTransmuxer_=function(){return null},t.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Oe.createTimeRanges();var i=this.subtitlesTrack_.cues,s=i[0].startTime,a=i[i.length-1].startTime;return Oe.createTimeRanges([[s,a]])},t.initSegmentForMap=function(i,s){if(s===void 0&&(s=!1),!i)return null;var a=Lb(i),o=this.initSegments_[a];if(s&&!o&&i.bytes){var l=xF.byteLength+i.bytes.byteLength,u=new Uint8Array(l);u.set(i.bytes),u.set(xF,i.bytes.byteLength),this.initSegments_[a]=o={resolvedUri:i.resolvedUri,byterange:i.byterange,bytes:u}}return o||i},t.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},t.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},t.track=function(i){return typeof i>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=i,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},t.remove=function(i,s){Zg(i,s,this.subtitlesTrack_)},t.fillBuffer_=function(){var i=this,s=this.chooseNextRequest_();if(s){if(this.syncController_.timestampOffsetForTimeline(s.timeline)===null){var a=function(){i.state="READY",i.paused()||i.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(s)}},t.timestampOffsetForSegment_=function(){return null},t.chooseNextRequest_=function(){return this.skipEmptySegments_(r.prototype.chooseNextRequest_.call(this))},t.skipEmptySegments_=function(i){for(;i&&i.segment.empty;){if(i.mediaIndex+1>=i.playlist.segments.length){i=null;break}i=this.generateSegmentInfo_({playlist:i.playlist,mediaIndex:i.mediaIndex+1,startOfSegment:i.startOfSegment+i.duration,isSyncRequest:i.isSyncRequest})}return i},t.stopForError=function(i){this.error(i),this.state="READY",this.pause(),this.trigger("error")},t.segmentRequestFinished_=function(i,s,a){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(s.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(i){i.code===Iu.TIMEOUT&&this.handleTimeout_(),i.code===Iu.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(i);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,s.stats),s.key&&this.segmentKey(s.key,!0),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=s.map.bytes),l.bytes=s.bytes,typeof X.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return o.segmentRequestFinished_(i,s,a)},function(){return o.stopForError({message:"Error loading vtt.js"})});return}u.requested=!0;try{this.parseVTTCues_(l)}catch(c){this.stopForError({message:c.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(c){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new X.VTTCue(c.startTime,c.endTime,c.text):c)}),G_e(this.subtitlesTrack_),this.handleAppendsDone_()},t.handleData_=function(){},t.updateTimingInfoEnd_=function(){},t.parseVTTCues_=function(i){var s,a=!1;if(typeof X.WebVTT!="function")throw new obe;typeof X.TextDecoder=="function"?s=new X.TextDecoder("utf8"):(s=X.WebVTT.StringDecoder(),a=!0);var o=new X.WebVTT.Parser(X,X.vttjs,s);if(i.cues=[],i.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=i.cues.push.bind(i.cues),o.ontimestampmap=function(c){i.timestampmap=c},o.onparsingerror=function(c){Oe.log.warn("Error encountered when parsing cues: "+c.message)},i.segment.map){var l=i.segment.map.bytes;a&&(l=yF(l)),o.parse(l)}var u=i.bytes;a&&(u=yF(u)),o.parse(u),o.flush()},t.updateTimeMapping_=function(i,s,a){var o=i.segment;if(s){if(!i.cues.length){o.empty=!0;return}var l=i.timestampmap,u=l.MPEGTS/bb.ONE_SECOND_IN_TS-l.LOCAL+s.mapping;if(i.cues.forEach(function(f){f.startTime+=u,f.endTime+=u}),!a.syncInfo){var c=i.cues[0].startTime,h=i.cues[i.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+i.mediaIndex,time:Math.min(c,h-o.duration)}}}},e})(SE),ube=function(e,t){for(var n=e.cues,i=0;i<n.length;i++){var s=n[i];if(t>=s.adStartTime&&t<=s.adEndTime)return s}return null},cbe=function(e,t,n){if(n===void 0&&(n=0),!!e.segments)for(var i=n,s,a=0;a<e.segments.length;a++){var o=e.segments[a];if(s||(s=ube(t,i+o.duration/2)),s){if("cueIn"in o){s.endTime=i,s.adEndTime=i,i+=o.duration,s=null;continue}if(i<s.endTime){i+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&(s=new X.VTTCue(i,i+o.duration,o.cueOut),s.adStartTime=i,s.adEndTime=i+parseFloat(o.cueOut),t.addCue(s)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];s=new X.VTTCue(i,i+o.duration,""),s.adStartTime=i-u,s.adEndTime=s.adStartTime+c,t.addCue(s)}i+=o.duration}},dbe=86400,_F=[{name:"VOD",run:function(e,t,n,i,s){if(n!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,t,n,i,s){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,o=null,l=pE(t);s=s||0;for(var u=0;u<l.length;u++){var c=t.endList||s===0?u:l.length-(u+1),h=l[c],f=h.segment,g=e.timelineToDatetimeMappings[f.timeline];if(!(!g||!f.dateTimeObject)){var v=f.dateTimeObject.getTime()/1e3,y=v+g;if(f.parts&&typeof h.partIndex=="number")for(var _=0;_<h.partIndex;_++)y+=f.parts[_].duration;var C=Math.abs(s-y);if(o!==null&&(C===0||o<C))break;o=C,a={time:y,segmentIndex:h.segmentIndex,partIndex:h.partIndex}}}return a}},{name:"Segment",run:function(e,t,n,i,s){var a=null,o=null;s=s||0;for(var l=pE(t),u=0;u<l.length;u++){var c=t.endList||s===0?u:l.length-(u+1),h=l[c],f=h.segment,g=h.part&&h.part.start||f&&f.start;if(f.timeline===i&&typeof g<"u"){var v=Math.abs(s-g);if(o!==null&&o<v)break;(!a||o===null||o>=v)&&(o=v,a={time:g,segmentIndex:h.segmentIndex,partIndex:h.partIndex})}}return a}},{name:"Discontinuity",run:function(e,t,n,i,s){var a=null;if(s=s||0,t.discontinuityStarts&&t.discontinuityStarts.length)for(var o=null,l=0;l<t.discontinuityStarts.length;l++){var u=t.discontinuityStarts[l],c=t.discontinuitySequence+l+1,h=e.discontinuities[c];if(h){var f=Math.abs(s-h.time);if(o!==null&&o<f)break;(!a||o===null||o>=f)&&(o=f,a={time:h.time,segmentIndex:u,partIndex:null})}}return a}},{name:"Playlist",run:function(e,t,n,i,s){if(t.syncInfo){var a={time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null};return a}return null}}],hbe=(function(r){Ht(e,r);function e(n){var i;return i=r.call(this)||this,i.timelines=[],i.discontinuities=[],i.timelineToDatetimeMappings={},i.logger_=Wl("SyncController"),i}var t=e.prototype;return t.getSyncPoint=function(i,s,a,o){var l=this.runStrategies_(i,s,a,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},t.getExpiredTime=function(i,s){if(!i||!i.segments)return null;var a=this.runStrategies_(i,s,i.discontinuitySequence,0);if(!a.length)return null;var o=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+y0({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:o.segmentIndex,endIndex:0}))},t.runStrategies_=function(i,s,a,o){for(var l=[],u=0;u<_F.length;u++){var c=_F[u],h=c.run(this,i,s,a,o);h&&(h.strategy=c.name,l.push({strategy:c.name,syncPoint:h}))}return l},t.selectSyncPoint_=function(i,s){for(var a=i[0].syncPoint,o=Math.abs(i[0].syncPoint[s.key]-s.value),l=i[0].strategy,u=1;u<i.length;u++){var c=Math.abs(i[u].syncPoint[s.key]-s.value);c<o&&(o=c,a=i[u].syncPoint,l=i[u].strategy)}return this.logger_("syncPoint for ["+s.key+": "+s.value+"] chosen with strategy"+(" ["+l+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},t.saveExpiredSegmentInfo=function(i,s){var a=s.mediaSequence-i.mediaSequence;if(a>dbe){Oe.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var o=a-1;o>=0;o--){var l=i.segments[o];if(l&&typeof l.start<"u"){s.syncInfo={mediaSequence:i.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+s.syncInfo.time+","+(" mediaSequence: "+s.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},t.setDateTimeMappingForStart=function(i){if(this.timelineToDatetimeMappings={},i.segments&&i.segments.length&&i.segments[0].dateTimeObject){var s=i.segments[0],a=s.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[s.timeline]=-a}},t.saveSegmentTimingInfo=function(i){var s=i.segmentInfo,a=i.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(s,s.timingInfo,a),l=s.segment;o&&(this.saveDiscontinuitySyncInfo_(s),s.playlist.syncInfo||(s.playlist.syncInfo={mediaSequence:s.playlist.mediaSequence+s.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&a&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},t.timestampOffsetForTimeline=function(i){return typeof this.timelines[i]>"u"?null:this.timelines[i].time},t.mappingForTimeline=function(i){return typeof this.timelines[i]>"u"?null:this.timelines[i].mapping},t.calculateSegmentTimeMapping_=function(i,s,a){var o=i.segment,l=i.part,u=this.timelines[i.timeline],c,h;if(typeof i.timestampOffset=="number")u={time:i.startOfSegment,mapping:i.startOfSegment-s.start},a&&(this.timelines[i.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+i.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),c=i.startOfSegment,h=s.end+u.mapping;else if(u)c=s.start+u.mapping,h=s.end+u.mapping;else return!1;return l&&(l.start=c,l.end=h),(!o.start||c<o.start)&&(o.start=c),o.end=h,!0},t.saveDiscontinuitySyncInfo_=function(i){var s=i.playlist,a=i.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(s.discontinuityStarts&&s.discontinuityStarts.length)for(var o=0;o<s.discontinuityStarts.length;o++){var l=s.discontinuityStarts[o],u=s.discontinuitySequence+o+1,c=l-i.mediaIndex,h=Math.abs(c);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>h){var f=void 0;c<0?f=a.start-y0({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:i.mediaIndex,endIndex:l}):f=a.end+y0({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:i.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:f,accuracy:h}}}},t.dispose=function(){this.trigger("dispose"),this.off()},e})(Oe.EventTarget),fbe=(function(r){Ht(e,r);function e(){var n;return n=r.call(this)||this,n.pendingTimelineChanges_={},n.lastTimelineChanges_={},n}var t=e.prototype;return t.clearPendingTimelineChange=function(i){this.pendingTimelineChanges_[i]=null,this.trigger("pendingtimelinechange")},t.pendingTimelineChange=function(i){var s=i.type,a=i.from,o=i.to;return typeof a=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[s]={type:s,from:a,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[s]},t.lastTimelineChange=function(i){var s=i.type,a=i.from,o=i.to;return typeof a=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[s]={type:s,from:a,to:o},delete this.pendingTimelineChanges_[s],this.trigger("timelinechange")),this.lastTimelineChanges_[s]},t.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e})(Oe.EventTarget),pbe=c9(d9(function(){var r=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(I,A,R){return R={path:A,exports:{},require:function(U,F){return t(U,F??R.path)}},I(R,R.exports),R.exports}function t(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var n=e(function(I){function A(N,U){for(var F=0;F<U.length;F++){var w=U[F];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(N,w.key,w)}}function R(N,U,F){return U&&A(N.prototype,U),F&&A(N,F),N}I.exports=R,I.exports.default=I.exports,I.exports.__esModule=!0}),i=e(function(I){function A(R,N){return I.exports=A=Object.setPrototypeOf||function(F,w){return F.__proto__=w,F},I.exports.default=I.exports,I.exports.__esModule=!0,A(R,N)}I.exports=A,I.exports.default=I.exports,I.exports.__esModule=!0}),s=e(function(I){function A(R,N){R.prototype=Object.create(N.prototype),R.prototype.constructor=R,i(R,N)}I.exports=A,I.exports.default=I.exports,I.exports.__esModule=!0}),a=(function(){function I(){this.listeners={}}var A=I.prototype;return A.on=function(N,U){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push(U)},A.off=function(N,U){if(!this.listeners[N])return!1;var F=this.listeners[N].indexOf(U);return this.listeners[N]=this.listeners[N].slice(0),this.listeners[N].splice(F,1),F>-1},A.trigger=function(N){var U=this.listeners[N];if(U)if(arguments.length===2)for(var F=U.length,w=0;w<F;++w)U[w].call(this,arguments[1]);else for(var $=Array.prototype.slice.call(arguments,1),H=U.length,W=0;W<H;++W)U[W].apply(this,$)},A.dispose=function(){this.listeners={}},A.pipe=function(N){this.on("data",function(U){N.push(U)})},I})();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(I){return I.subarray(0,I.byteLength-I[I.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var l=function(){var A=[[[],[],[],[],[]],[[],[],[],[],[]]],R=A[0],N=A[1],U=R[4],F=N[4],w,$,H,W=[],Q=[],te,oe,de,le,ae,ie;for(w=0;w<256;w++)Q[(W[w]=w<<1^(w>>7)*283)^w]=w;for($=H=0;!U[$];$^=te||1,H=Q[H]||1)for(le=H^H<<1^H<<2^H<<3^H<<4,le=le>>8^le&255^99,U[$]=le,F[le]=$,de=W[oe=W[te=W[$]]],ie=de*16843009^oe*65537^te*257^$*16843008,ae=W[le]*257^le*16843008,w=0;w<4;w++)R[w][$]=ae=ae<<24^ae>>>8,N[w][le]=ie=ie<<24^ie>>>8;for(w=0;w<5;w++)R[w]=R[w].slice(0),N[w]=N[w].slice(0);return A},u=null,c=(function(){function I(R){u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var N,U,F,w=this._tables[0][4],$=this._tables[1],H=R.length,W=1;if(H!==4&&H!==6&&H!==8)throw new Error("Invalid aes key size");var Q=R.slice(0),te=[];for(this._key=[Q,te],N=H;N<4*H+28;N++)F=Q[N-1],(N%H===0||H===8&&N%H===4)&&(F=w[F>>>24]<<24^w[F>>16&255]<<16^w[F>>8&255]<<8^w[F&255],N%H===0&&(F=F<<8^F>>>24^W<<24,W=W<<1^(W>>7)*283)),Q[N]=Q[N-H]^F;for(U=0;N;U++,N--)F=Q[U&3?N:N-4],N<=4||U<4?te[U]=F:te[U]=$[0][w[F>>>24]]^$[1][w[F>>16&255]]^$[2][w[F>>8&255]]^$[3][w[F&255]]}var A=I.prototype;return A.decrypt=function(N,U,F,w,$,H){var W=this._key[1],Q=N^W[0],te=w^W[1],oe=F^W[2],de=U^W[3],le,ae,ie,ee=W.length/4-2,pe,ve=4,_e=this._tables[1],Le=_e[0],Re=_e[1],ot=_e[2],ze=_e[3],mt=_e[4];for(pe=0;pe<ee;pe++)le=Le[Q>>>24]^Re[te>>16&255]^ot[oe>>8&255]^ze[de&255]^W[ve],ae=Le[te>>>24]^Re[oe>>16&255]^ot[de>>8&255]^ze[Q&255]^W[ve+1],ie=Le[oe>>>24]^Re[de>>16&255]^ot[Q>>8&255]^ze[te&255]^W[ve+2],de=Le[de>>>24]^Re[Q>>16&255]^ot[te>>8&255]^ze[oe&255]^W[ve+3],ve+=4,Q=le,te=ae,oe=ie;for(pe=0;pe<4;pe++)$[(3&-pe)+H]=mt[Q>>>24]<<24^mt[te>>16&255]<<16^mt[oe>>8&255]<<8^mt[de&255]^W[ve++],le=Q,Q=te,te=oe,oe=de,de=le},I})(),h=(function(I){s(A,I);function A(){var N;return N=I.call(this,a)||this,N.jobs=[],N.delay=1,N.timeout_=null,N}var R=A.prototype;return R.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},R.push=function(U){this.jobs.push(U),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},A})(a),f=function(A){return A<<24|(A&65280)<<8|(A&16711680)>>8|A>>>24},g=function(A,R,N){var U=new Int32Array(A.buffer,A.byteOffset,A.byteLength>>2),F=new c(Array.prototype.slice.call(R)),w=new Uint8Array(A.byteLength),$=new Int32Array(w.buffer),H,W,Q,te,oe,de,le,ae,ie;for(H=N[0],W=N[1],Q=N[2],te=N[3],ie=0;ie<U.length;ie+=4)oe=f(U[ie]),de=f(U[ie+1]),le=f(U[ie+2]),ae=f(U[ie+3]),F.decrypt(oe,de,le,ae,$,ie),$[ie]=f($[ie]^H),$[ie+1]=f($[ie+1]^W),$[ie+2]=f($[ie+2]^Q),$[ie+3]=f($[ie+3]^te),H=oe,W=de,Q=le,te=ae;return w},v=(function(){function I(R,N,U,F){var w=I.STEP,$=new Int32Array(R.buffer),H=new Uint8Array(R.byteLength),W=0;for(this.asyncStream_=new h,this.asyncStream_.push(this.decryptChunk_($.subarray(W,W+w),N,U,H)),W=w;W<$.length;W+=w)U=new Uint32Array([f($[W-4]),f($[W-3]),f($[W-2]),f($[W-1])]),this.asyncStream_.push(this.decryptChunk_($.subarray(W,W+w),N,U,H));this.asyncStream_.push(function(){F(null,o(H))})}var A=I.prototype;return A.decryptChunk_=function(N,U,F,w){return function(){var $=g(N,U,F);w.set($,N.byteOffset)}},n(I,null,[{key:"STEP",get:function(){return 32e3}}]),I})(),y;typeof window<"u"?y=window:typeof r<"u"?y=r:typeof self<"u"?y=self:y={};var _=y,C=function(A){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(A):A&&A.buffer instanceof ArrayBuffer},k=_.BigInt||Number;k("0x1"),k("0x100"),k("0x10000"),k("0x1000000"),k("0x100000000"),k("0x10000000000"),k("0x1000000000000"),k("0x100000000000000"),k("0x10000000000000000");var D=function(A){var R={};return Object.keys(A).forEach(function(N){var U=A[N];C(U)?R[N]={bytes:U.buffer,byteOffset:U.byteOffset,byteLength:U.byteLength}:R[N]=U}),R};self.onmessage=function(I){var A=I.data,R=new Uint8Array(A.encrypted.bytes,A.encrypted.byteOffset,A.encrypted.byteLength),N=new Uint32Array(A.key.bytes,A.key.byteOffset,A.key.byteLength/4),U=new Uint32Array(A.iv.bytes,A.iv.byteOffset,A.iv.byteLength/4);new v(R,N,U,function(F,w){self.postMessage(D({source:A.source,decrypted:w}),[w.buffer])})}})),mbe=u9(pbe),gbe=function(e){var t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},Bb=function(e,t){e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},CE=function(e,t){t.activePlaylistLoader=e,e.load()},vbe=function(e,t){return function(){var n=t.segmentLoaders,i=n[e],s=n.main,a=t.mediaTypes[e],o=a.activeTrack(),l=a.getActiveGroup(),u=a.activePlaylistLoader,c=a.lastGroup_;if(!(l&&c&&l.id===c.id)&&(a.lastGroup_=l,a.lastTrack_=o,Bb(i,a),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&s.resetEverything();return}i.resyncLoader(),CE(l.playlistLoader,a)}}},ybe=function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];i.lastGroup_=null,n.abort(),n.pause()}},xbe=function(e,t){return function(){var n=t.masterPlaylistLoader,i=t.segmentLoaders,s=i[e],a=i.main,o=t.mediaTypes[e],l=o.activeTrack(),u=o.getActiveGroup(),c=o.activePlaylistLoader,h=o.lastTrack_;if(!(h&&l&&h.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,Bb(s,o),!!u)){if(u.isMasterPlaylist){if(!l||!h||l.id===h.id)return;var f=t.vhs.masterPlaylistController_,g=f.selectPlaylist();if(f.media()===g)return;o.logger_("track change. Switching master audio from "+h.id+" to "+l.id),n.pause(),a.resetEverything(),f.fastQualityChange_(g);return}if(e==="AUDIO"){if(!u.playlistLoader){a.setAudio(!0),a.resetEverything();return}s.setAudio(!0),a.setAudio(!1)}if(c===u.playlistLoader){CE(u.playlistLoader,o);return}s.track&&s.track(l),s.resetEverything(),CE(u.playlistLoader,o)}}},Nb={AUDIO:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e],s=t.blacklistCurrentPlaylist;Bb(n,i);var a=i.activeTrack(),o=i.activeGroup(),l=(o.filter(function(h){return h.default})[0]||o[0]).id,u=i.tracks[l];if(a===u){s({message:"Problem encountered loading the default audio track."});return}Oe.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in i.tracks)i.tracks[c].enabled=i.tracks[c]===u;i.onTrackChanged()}},SUBTITLES:function(e,t){return function(){var n=t.segmentLoaders[e],i=t.mediaTypes[e];Oe.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Bb(n,i);var s=i.activeTrack();s&&(s.mode="disabled"),i.onTrackChanged()}}},bF={AUDIO:function(e,t,n){if(t){var i=n.tech,s=n.requestOptions,a=n.segmentLoaders[e];t.on("loadedmetadata",function(){var o=t.media();a.playlist(o,s),(!i.paused()||o.endList&&i.preload()!=="none")&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),s),i.paused()||a.load()}),t.on("error",Nb[e](e,n))}},SUBTITLES:function(e,t,n){var i=n.tech,s=n.requestOptions,a=n.segmentLoaders[e],o=n.mediaTypes[e];t.on("loadedmetadata",function(){var l=t.media();a.playlist(l,s),a.track(o.activeTrack()),(!i.paused()||l.endList&&i.preload()!=="none")&&a.load()}),t.on("loadedplaylist",function(){a.playlist(t.media(),s),i.paused()||a.load()}),t.on("error",Nb[e](e,n))}},_be={AUDIO:function(e,t){var n=t.vhs,i=t.sourceType,s=t.segmentLoaders[e],a=t.requestOptions,o=t.master.mediaGroups,l=t.mediaTypes[e],u=l.groups,c=l.tracks,h=l.logger_,f=t.masterPlaylistLoader,g=Lv(f.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},g&&(o[e].main.default.playlists=f.master.playlists));for(var v in o[e]){u[v]||(u[v]=[]);for(var y in o[e][v]){var _=o[e][v][y],C=void 0;if(g?(h("AUDIO group '"+v+"' label '"+y+"' is a master playlist"),_.isMasterPlaylist=!0,C=null):i==="vhs-json"&&_.playlists?C=new Cp(_.playlists[0],n,a):_.resolvedUri?C=new Cp(_.resolvedUri,n,a):_.playlists&&i==="dash"?C=new _E(_.playlists[0],n,a,f):C=null,_=Oe.mergeOptions({id:y,playlistLoader:C},_),bF[e](e,_.playlistLoader,t),u[v].push(_),typeof c[y]>"u"){var k=new Oe.AudioTrack({id:y,kind:gbe(_),enabled:!1,language:_.language,default:_.default,label:y});c[y]=k}}}s.on("error",Nb[e](e,t))},SUBTITLES:function(e,t){var n=t.tech,i=t.vhs,s=t.sourceType,a=t.segmentLoaders[e],o=t.requestOptions,l=t.master.mediaGroups,u=t.mediaTypes[e],c=u.groups,h=u.tracks,f=t.masterPlaylistLoader;for(var g in l[e]){c[g]||(c[g]=[]);for(var v in l[e][g])if(!l[e][g][v].forced){var y=l[e][g][v],_=void 0;if(s==="hls")_=new Cp(y.resolvedUri,i,o);else if(s==="dash"){var C=y.playlists.filter(function(D){return D.excludeUntil!==1/0});if(!C.length)return;_=new _E(y.playlists[0],i,o,f)}else s==="vhs-json"&&(_=new Cp(y.playlists?y.playlists[0]:y.resolvedUri,i,o));if(y=Oe.mergeOptions({id:v,playlistLoader:_},y),bF[e](e,y.playlistLoader,t),c[g].push(y),typeof h[v]>"u"){var k=n.addRemoteTextTrack({id:v,kind:"subtitles",default:y.default&&y.autoselect,language:y.language,label:v},!1).track;h[v]=k}}}a.on("error",Nb[e](e,t))},"CLOSED-CAPTIONS":function(e,t){var n=t.tech,i=t.master.mediaGroups,s=t.mediaTypes[e],a=s.groups,o=s.tracks;for(var l in i[e]){a[l]||(a[l]=[]);for(var u in i[e][l]){var c=i[e][l][u];if(/^(?:CC|SERVICE)/.test(c.instreamId)){var h=n.options_.vhs&&n.options_.vhs.captionServices||{},f={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(h[f.instreamId]&&(f=Oe.mergeOptions(f,h[f.instreamId])),f.default===void 0&&delete f.default,a[l].push(Oe.mergeOptions({id:u},c)),typeof o[u]>"u"){var g=n.addRemoteTextTrack({id:f.instreamId,kind:"captions",default:f.default,language:f.language,label:f.label},!1).track;o[u]=g}}}}}},bbe=function r(e,t){for(var n=0;n<e.length;n++)if(vD(t,e[n])||e[n].playlists&&r(e[n].playlists,t))return!0;return!1},Sbe=function(e,t){return function(n){var i=t.masterPlaylistLoader,s=t.mediaTypes[e].groups,a=i.media();if(!a)return null;var o=null;a.attributes[e]&&(o=s[a.attributes[e]]);var l=Object.keys(s);if(!o)if(e==="AUDIO"&&l.length>1&&Lv(t.master))for(var u=0;u<l.length;u++){var c=s[l[u]];if(bbe(c,a)){o=c;break}}else s.main?o=s.main:l.length===1&&(o=s[l[0]]);return typeof n>"u"?o:n===null||!o?null:o.filter(function(h){return h.id===n.id})[0]||null}},Tbe={AUDIO:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].enabled)return n[i];return null}},SUBTITLES:function(e,t){return function(){var n=t.mediaTypes[e].tracks;for(var i in n)if(n[i].mode==="showing"||n[i].mode==="hidden")return n[i];return null}}},Cbe=function(e,t){var n=t.mediaTypes;return function(){var i=n[e].activeTrack();return i?n[e].activeGroup(i):null}},wbe=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(v){_be[v](v,e)});var t=e.mediaTypes,n=e.masterPlaylistLoader,i=e.tech,s=e.vhs,a=e.segmentLoaders,o=a.AUDIO,l=a.main;["AUDIO","SUBTITLES"].forEach(function(v){t[v].activeGroup=Sbe(v,e),t[v].activeTrack=Tbe[v](v,e),t[v].onGroupChanged=vbe(v,e),t[v].onGroupChanging=ybe(v,e),t[v].onTrackChanged=xbe(v,e),t[v].getActiveGroup=Cbe(v,e)});var u=t.AUDIO.activeGroup();if(u){var c=(u.filter(function(v){return v.default})[0]||u[0]).id;t.AUDIO.tracks[c].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged();var h=t.AUDIO.getActiveGroup();h.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}n.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(v){return t[v].onGroupChanged()})}),n.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(v){return t[v].onGroupChanging()})});var f=function(){t.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"}),i.trigger({type:"usage",name:"hls-audio-change"})};i.audioTracks().addEventListener("change",f),i.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),s.on("dispose",function(){i.audioTracks().removeEventListener("change",f),i.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(var g in t.AUDIO.tracks)i.audioTracks().addTrack(t.AUDIO.tracks[g])},Ebe=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(t){e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Rc,activeTrack:Rc,getActiveGroup:Rc,onGroupChanged:Rc,onTrackChanged:Rc,lastTrack_:null,logger_:Wl("MediaGroups["+t+"]")}}),e},kbe=120,wc,Abe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],Dbe=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},Ibe=function(e){var t=e.currentPlaylist,n=e.buffered,i=e.currentTime,s=e.nextPlaylist,a=e.bufferLowWaterLine,o=e.bufferHighWaterLine,l=e.duration,u=e.experimentalBufferBasedABR,c=e.log;if(!s)return Oe.log.warn("We received no playlist to switch to. Please check your stream."),!1;var h="allowing switch "+(t&&t.id||"null")+" -> "+s.id;if(!t)return c(h+" as current playlist is not set"),!0;if(s.id===t.id)return!1;var f=!!Tp(n,i).length;if(!t.endList)return!f&&typeof t.partTargetDuration=="number"?(c("not "+h+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(h+" as current playlist is live"),!0);var g=pD(n,i),v=u?ts.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:ts.MAX_BUFFER_LOW_WATER_LINE;if(l<v)return c(h+" as duration < max low water line ("+l+" < "+v+")"),!0;var y=s.attributes.BANDWIDTH,_=t.attributes.BANDWIDTH;if(y<_&&(!u||g<o)){var C=h+" as next bandwidth < current bandwidth ("+y+" < "+_+")";return u&&(C+=" and forwardBuffer < bufferHighWaterLine ("+g+" < "+o+")"),c(C),!0}if((!u||y>_)&&g>=a){var k=h+" as forwardBuffer >= bufferLowWaterLine ("+g+" >= "+a+")";return u&&(k+=" and next bandwidth > current bandwidth ("+y+" > "+_+")"),c(k),!0}return c("not "+h+" as no switching criteria met"),!1},Pbe=(function(r){Ht(e,r);function e(n){var i;i=r.call(this)||this;var s=n.src,a=n.handleManifestRedirects,o=n.withCredentials,l=n.tech,u=n.bandwidth,c=n.externVhs,h=n.useCueTags,f=n.blacklistDuration,g=n.enableLowInitialPlaylist,v=n.sourceType,y=n.cacheEncryptionKeys,_=n.experimentalBufferBasedABR,C=n.experimentalLeastPixelDiffSelector,k=n.captionServices;if(!s)throw new Error("A non-empty playlist URL or JSON manifest string is required");var D=n.maxPlaylistRetries;(D===null||typeof D>"u")&&(D=1/0),wc=c,i.experimentalBufferBasedABR=!!_,i.experimentalLeastPixelDiffSelector=!!C,i.withCredentials=o,i.tech_=l,i.vhs_=l.vhs,i.sourceType_=v,i.useCueTags_=h,i.blacklistDuration=f,i.maxPlaylistRetries=D,i.enableLowInitialPlaylist=g,i.useCueTags_&&(i.cueTagsTrack_=i.tech_.addTextTrack("metadata","ad-cues"),i.cueTagsTrack_.inBandMetadataTrackDispatchType=""),i.requestOptions_={withCredentials:o,handleManifestRedirects:a,maxPlaylistRetries:D,timeout:null},i.on("error",i.pauseLoading),i.mediaTypes_=Ebe(),i.mediaSource=new X.MediaSource,i.handleDurationChange_=i.handleDurationChange_.bind(We(i)),i.handleSourceOpen_=i.handleSourceOpen_.bind(We(i)),i.handleSourceEnded_=i.handleSourceEnded_.bind(We(i)),i.mediaSource.addEventListener("durationchange",i.handleDurationChange_),i.mediaSource.addEventListener("sourceopen",i.handleSourceOpen_),i.mediaSource.addEventListener("sourceended",i.handleSourceEnded_),i.seekable_=Oe.createTimeRanges(),i.hasPlayed_=!1,i.syncController_=new hbe(n),i.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,i.decrypter_=new mbe,i.sourceUpdater_=new C9(i.mediaSource),i.inbandTextTracks_={},i.timelineChangeController_=new fbe;var I={vhs:i.vhs_,parse708captions:n.parse708captions,useDtsForTimestampOffset:n.useDtsForTimestampOffset,captionServices:k,mediaSource:i.mediaSource,currentTime:i.tech_.currentTime.bind(i.tech_),seekable:function(){return i.seekable()},seeking:function(){return i.tech_.seeking()},duration:function(){return i.duration()},hasPlayed:function(){return i.hasPlayed_},goalBufferLength:function(){return i.goalBufferLength()},bandwidth:u,syncController:i.syncController_,decrypter:i.decrypter_,sourceType:i.sourceType_,inbandTextTracks:i.inbandTextTracks_,cacheEncryptionKeys:y,sourceUpdater:i.sourceUpdater_,timelineChangeController:i.timelineChangeController_,experimentalExactManifestTimings:n.experimentalExactManifestTimings};i.masterPlaylistLoader_=i.sourceType_==="dash"?new _E(s,i.vhs_,i.requestOptions_):new Cp(s,i.vhs_,i.requestOptions_),i.setupMasterPlaylistLoaderListeners_(),i.mainSegmentLoader_=new SE(Oe.mergeOptions(I,{segmentMetadataTrack:i.segmentMetadataTrack_,loaderType:"main"}),n),i.audioSegmentLoader_=new SE(Oe.mergeOptions(I,{loaderType:"audio"}),n),i.subtitleSegmentLoader_=new lbe(Oe.mergeOptions(I,{loaderType:"vtt",featuresNativeTextTracks:i.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(N,U){function F(){l.off("vttjserror",w),N()}function w(){l.off("vttjsloaded",F),U()}l.one("vttjsloaded",F),l.one("vttjserror",w),l.addWebVttScript_()})}}),n),i.setupSegmentLoaderListeners_(),i.experimentalBufferBasedABR&&(i.masterPlaylistLoader_.one("loadedplaylist",function(){return i.startABRTimer_()}),i.tech_.on("pause",function(){return i.stopABRTimer_()}),i.tech_.on("play",function(){return i.startABRTimer_()})),Abe.forEach(function(R){i[R+"_"]=Dbe.bind(We(i),R)}),i.logger_=Wl("MPC"),i.triggeredFmp4Usage=!1,i.tech_.preload()==="none"?(i.loadOnPlay_=function(){i.loadOnPlay_=null,i.masterPlaylistLoader_.load()},i.tech_.one("play",i.loadOnPlay_)):i.masterPlaylistLoader_.load(),i.timeToLoadedData__=-1,i.mainAppendsToLoadedData__=-1,i.audioAppendsToLoadedData__=-1;var A=i.tech_.preload()==="none"?"play":"loadstart";return i.tech_.one(A,function(){var R=Date.now();i.tech_.one("loadeddata",function(){i.timeToLoadedData__=Date.now()-R,i.mainAppendsToLoadedData__=i.mainSegmentLoader_.mediaAppends,i.audioAppendsToLoadedData__=i.audioSegmentLoader_.mediaAppends})}),i}var t=e.prototype;return t.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},t.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},t.appendsToLoadedData_=function(){var i=this.mainAppendsToLoadedData_(),s=this.audioAppendsToLoadedData_();return i===-1||s===-1?-1:i+s},t.timeToLoadedData_=function(){return this.timeToLoadedData__},t.checkABR_=function(i){i===void 0&&(i="abr");var s=this.selectPlaylist();s&&this.shouldSwitchToMedia_(s)&&this.switchMedia_(s,i)},t.switchMedia_=function(i,s,a){var o=this.media(),l=o&&(o.id||o.uri),u=i.id||i.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+s),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+s})),this.masterPlaylistLoader_.media(i,a)},t.startABRTimer_=function(){var i=this;this.stopABRTimer_(),this.abrTimer_=X.setInterval(function(){return i.checkABR_()},250)},t.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(X.clearInterval(this.abrTimer_),this.abrTimer_=null)},t.getAudioTrackPlaylists_=function(){var i=this.master(),s=i&&i.playlists||[];if(!i||!i.mediaGroups||!i.mediaGroups.AUDIO)return s;var a=i.mediaGroups.AUDIO,o=Object.keys(a),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=a.main||o.length&&a[o[0]];for(var c in u)if(u[c].default){l={label:c};break}}if(!l)return s;var h=[];for(var f in a)if(a[f][l.label]){var g=a[f][l.label];if(g.playlists&&g.playlists.length)h.push.apply(h,g.playlists);else if(g.uri)h.push(g);else if(i.playlists.length)for(var v=0;v<i.playlists.length;v++){var y=i.playlists[v];y.attributes&&y.attributes.AUDIO&&y.attributes.AUDIO===f&&h.push(y)}}return h.length?h:s},t.setupMasterPlaylistLoaderListeners_=function(){var i=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var s=i.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;mE(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=a,s.endList&&i.tech_.preload()!=="none"&&(i.mainSegmentLoader_.playlist(s,i.requestOptions_),i.mainSegmentLoader_.load()),wbe({sourceType:i.sourceType_,segmentLoaders:{AUDIO:i.audioSegmentLoader_,SUBTITLES:i.subtitleSegmentLoader_,main:i.mainSegmentLoader_},tech:i.tech_,requestOptions:i.requestOptions_,masterPlaylistLoader:i.masterPlaylistLoader_,vhs:i.vhs_,master:i.master(),mediaTypes:i.mediaTypes_,blacklistCurrentPlaylist:i.blacklistCurrentPlaylist.bind(i)}),i.triggerPresenceUsage_(i.master(),s),i.setupFirstPlay(),!i.mediaTypes_.AUDIO.activePlaylistLoader||i.mediaTypes_.AUDIO.activePlaylistLoader.media()?i.trigger("selectedinitialmedia"):i.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){i.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){i.loadOnPlay_&&i.tech_.off("play",i.loadOnPlay_);var s=i.masterPlaylistLoader_.media();if(!s){i.excludeUnsupportedVariants_();var a;if(i.enableLowInitialPlaylist&&(a=i.selectInitialPlaylist()),a||(a=i.selectPlaylist()),!a||!i.shouldSwitchToMedia_(a))return;i.initialMedia_=a,i.switchMedia_(i.initialMedia_,"initial");var o=i.sourceType_==="vhs-json"&&i.initialMedia_.segments;if(!o)return;s=i.initialMedia_}i.handleUpdatedMediaPlaylist(s)}),this.masterPlaylistLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){i.mainSegmentLoader_.abort(),i.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var s=i.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;mE(i.masterPlaylistLoader_.master,i.masterPlaylistLoader_.media())?i.requestOptions_.timeout=0:i.requestOptions_.timeout=a,i.masterPlaylistLoader_.load(),i.mainSegmentLoader_.playlist(s,i.requestOptions_),i.mainSegmentLoader_.load(),i.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var s=i.masterPlaylistLoader_.media();if(s.lastExcludeReason_!=="playlist-unchanged"){var a=i.stuckAtPlaylistEnd_(s);a&&(i.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),i.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){i.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),i.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},t.handleUpdatedMediaPlaylist=function(i){this.useCueTags_&&this.updateAdCues_(i),this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.updateDuration(!i.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},t.triggerPresenceUsage_=function(i,s){var a=i.mediaGroups||{},o=!0,l=Object.keys(a.AUDIO);for(var u in a.AUDIO)for(var c in a.AUDIO[u]){var h=a.AUDIO[u][c];h.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),wc.Playlist.isAes(s)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(a.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},t.shouldSwitchToMedia_=function(i){var s=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return Ibe({buffered:u,currentTime:a,currentPlaylist:s,nextPlaylist:i,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},t.setupSegmentLoaderListeners_=function(){var i=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){i.checkABR_("bandwidthupdate"),i.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){i.experimentalBufferBasedABR&&i.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){i.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){i.blacklistCurrentPlaylist(i.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){i.error=i.mainSegmentLoader_.error_,i.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){i.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),i.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){i.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){i.error=i.audioSegmentLoader_.error_,i.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){i.logger_("main segment loader ended"),i.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){i.experimentalBufferBasedABR||(i.delegateLoaders_("all",["abort"]),i.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},kbe))});var s=function(){if(!i.sourceUpdater_.hasCreatedSourceBuffers())return i.tryToCreateSourceBuffers_();var o=i.getCodecsOrExclude_();o&&i.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",s),this.audioSegmentLoader_.on("trackinfo",s),this.mainSegmentLoader_.on("fmp4",function(){i.triggeredFmp4Usage||(i.tech_.trigger({type:"usage",name:"vhs-fmp4"}),i.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){i.triggeredFmp4Usage||(i.tech_.trigger({type:"usage",name:"vhs-fmp4"}),i.tech_.trigger({type:"usage",name:"hls-fmp4"}),i.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){i.logger_("audioSegmentLoader ended"),i.onEndOfStream()})},t.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},t.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},t.smoothQualityChange_=function(i){i===void 0&&(i=this.selectPlaylist()),this.fastQualityChange_(i)},t.fastQualityChange_=function(i){var s=this;if(i===void 0&&(i=this.selectPlaylist()),i===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(i,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){Oe.browser.IE_VERSION||Oe.browser.IS_EDGE?s.tech_.setCurrentTime(s.tech_.currentTime()+.04):s.tech_.setCurrentTime(s.tech_.currentTime())})},t.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var i=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<i.start(0))return this.tech_.setCurrentTime(i.end(i.length-1))}},t.setupFirstPlay=function(){var i=this,s=this.masterPlaylistLoader_.media();if(!s||this.tech_.paused()||this.hasPlayed_)return!1;if(!s.endList){var a=this.seekable();if(!a.length)return!1;if(Oe.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){i.trigger("firstplay"),i.tech_.setCurrentTime(a.end(0)),i.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},t.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var i=this.tech_.play();typeof i<"u"&&typeof i.then=="function"&&i.then(null,function(s){})}this.trigger("sourceopen")},t.handleSourceEnded_=function(){if(this.inbandTextTracks_.metadataTrack_){var i=this.inbandTextTracks_.metadataTrack_.cues;if(!(!i||!i.length)){var s=this.duration();i[i.length-1].endTime=isNaN(s)||Math.abs(s)===1/0?Number.MAX_VALUE:s}}},t.handleDurationChange_=function(){this.tech_.trigger("durationchange")},t.onEndOfStream=function(){var i=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var s=this.mainSegmentLoader_.getCurrentMediaInfo_();!s||s.hasVideo?i=i&&this.audioSegmentLoader_.ended_:i=this.audioSegmentLoader_.ended_}i&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},t.stuckAtPlaylistEnd_=function(i){var s=this.seekable();if(!s.length)return!1;var a=this.syncController_.getExpiredTime(i,this.duration());if(a===null)return!1;var o=wc.Playlist.playlistEnd(i,a),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=Du;var c=u.end(u.length-1);return c-l<=Du&&o-c<=Du},t.blacklistCurrentPlaylist=function(i,s){i===void 0&&(i={});var a=i.playlist||this.masterPlaylistLoader_.media();if(s=s||i.blacklistDuration||this.blacklistDuration,!a){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(uT),u=l.length===1&&l[0]===a;if(o.length===1&&s!==1/0)return Oe.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var c=!1;o.forEach(function(C){if(C!==a){var k=C.excludeUntil;typeof k<"u"&&k!==1/0&&(c=!0,delete C.excludeUntil)}}),c&&(Oe.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var h;a.playlistErrors_>this.maxPlaylistRetries?h=1/0:h=Date.now()+s*1e3,a.excludeUntil=h,i.reason&&(a.lastExcludeReason_=i.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var f=this.selectPlaylist();if(!f){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var g=i.internal?this.logger_:Oe.log.warn,v=i.message?" "+i.message:"";g((i.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(v+" Switching to playlist "+f.id+".")),f.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),f.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var y=f.targetDuration/2*1e3||5*1e3,_=typeof f.lastRequest=="number"&&Date.now()-f.lastRequest<=y;return this.switchMedia_(f,"exclude",u||_)},t.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},t.delegateLoaders_=function(i,s){var a=this,o=[],l=i==="all";(l||i==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||i==="audio")&&u.push("AUDIO"),(l||i==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(c){var h=a.mediaTypes_[c]&&a.mediaTypes_[c].activePlaylistLoader;h&&o.push(h)}),["main","audio","subtitle"].forEach(function(c){var h=a[c+"SegmentLoader_"];h&&(i===c||i==="all")&&o.push(h)}),o.forEach(function(c){return s.forEach(function(h){typeof c[h]=="function"&&c[h]()})})},t.setCurrentTime=function(i){var s=Tp(this.tech_.buffered(),i);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(s&&s.length)return i;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},t.duration=function(){if(!this.masterPlaylistLoader_)return 0;var i=this.masterPlaylistLoader_.media();return i?i.endList?this.mediaSource?this.mediaSource.duration:wc.Playlist.duration(i):1/0:0},t.seekable=function(){return this.seekable_},t.onSyncInfoUpdate_=function(){var i;if(this.masterPlaylistLoader_){var s=this.masterPlaylistLoader_.media();if(s){var a=this.syncController_.getExpiredTime(s,this.duration());if(a!==null){var o=this.masterPlaylistLoader_.master,l=wc.Playlist.seekable(s,a,wc.Playlist.liveEdgeDelay(o,s));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(s,this.duration()),a===null||(i=wc.Playlist.seekable(s,a,wc.Playlist.liveEdgeDelay(o,s)),i.length===0)))){var u,c;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),c=this.seekable_.start(0)),i?i.start(0)>l.end(0)||l.start(0)>i.end(0)?this.seekable_=l:this.seekable_=Oe.createTimeRanges([[i.start(0)>l.start(0)?i.start(0):l.start(0),i.end(0)<l.end(0)?i.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+j7(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},t.updateDuration=function(i){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,i),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(i){var s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}var a=this.tech_.buffered(),o=wc.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(o=Math.max(o,a.end(a.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},t.dispose=function(){var i=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(s){var a=i.mediaTypes_[s].groups;for(var o in a)a[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},t.master=function(){return this.masterPlaylistLoader_.master},t.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},t.areMediaTypesKnown_=function(){var i=!!this.mediaTypes_.AUDIO.activePlaylistLoader,s=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=i?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!s||!a)},t.getCodecsOrExclude_=function(){var i=this,s={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},a=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();s.video=s.main;var o=x0(this.master(),a),l={},u=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(s.main.hasVideo&&(l.video=o.video||s.main.videoCodec||k0e),s.main.isMuxed&&(l.video+=","+(o.audio||s.main.audioCodec||g3)),(s.main.hasAudio&&!s.main.isMuxed||s.audio.hasAudio||u)&&(l.audio=o.audio||s.main.audioCodec||s.audio.audioCodec||g3,s.audio.isFmp4=s.main.hasAudio&&!s.main.isMuxed?s.main.isFmp4:s.audio.isFmp4),!l.audio&&!l.video){this.blacklistCurrentPlaylist({playlist:a,message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var c=function(C,k){return C?p_(k):QC(k)},h={},f;if(["video","audio"].forEach(function(_){if(l.hasOwnProperty(_)&&!c(s[_].isFmp4,l[_])){var C=s[_].isFmp4?"browser":"muxer";h[C]=h[C]||[],h[C].push(l[_]),_==="audio"&&(f=C)}}),u&&f&&a.attributes.AUDIO){var g=a.attributes.AUDIO;this.master().playlists.forEach(function(_){var C=_.attributes&&_.attributes.AUDIO;C===g&&_!==a&&(_.excludeUntil=1/0)}),this.logger_("excluding audio group "+g+" as "+f+' does not support codec(s): "'+l.audio+'"')}if(Object.keys(h).length){var v=Object.keys(h).reduce(function(_,C){return _&&(_+=", "),_+=C+' does not support codec(s): "'+h[C].join(",")+'"',_},"")+".";this.blacklistCurrentPlaylist({playlist:a,internal:!0,message:v,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var y=[];if(["video","audio"].forEach(function(_){var C=(pu(i.sourceUpdater_.codecs[_]||"")[0]||{}).type,k=(pu(l[_]||"")[0]||{}).type;C&&k&&C.toLowerCase()!==k.toLowerCase()&&y.push('"'+i.sourceUpdater_.codecs[_]+'" -> "'+l[_]+'"')}),y.length){this.blacklistCurrentPlaylist({playlist:a,message:"Codec switching not supported: "+y.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return l},t.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&this.areMediaTypesKnown_()){var i=this.getCodecsOrExclude_();if(i){this.sourceUpdater_.createSourceBuffers(i);var s=[i.video,i.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(s)}}},t.excludeUnsupportedVariants_=function(){var i=this,s=this.master().playlists,a=[];Object.keys(s).forEach(function(o){var l=s[o];if(a.indexOf(l.id)===-1){a.push(l.id);var u=x0(i.master,l),c=[];u.audio&&!QC(u.audio)&&!p_(u.audio)&&c.push("audio codec "+u.audio),u.video&&!QC(u.video)&&!p_(u.video)&&c.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&c.push("text codec "+u.text),c.length&&(l.excludeUntil=1/0,i.logger_("excluding "+l.id+" for unsupported: "+c.join(", ")))}})},t.excludeIncompatibleVariants_=function(i){var s=this,a=[],o=this.master().playlists,l=Mb(pu(i)),u=cF(l),c=l.video&&pu(l.video)[0]||null,h=l.audio&&pu(l.audio)[0]||null;Object.keys(o).forEach(function(f){var g=o[f];if(!(a.indexOf(g.id)!==-1||g.excludeUntil===1/0)){a.push(g.id);var v=[],y=x0(s.masterPlaylistLoader_.master,g),_=cF(y);if(!(!y.audio&&!y.video)){if(_!==u&&v.push('codec count "'+_+'" !== "'+u+'"'),!s.sourceUpdater_.canChangeType()){var C=y.video&&pu(y.video)[0]||null,k=y.audio&&pu(y.audio)[0]||null;C&&c&&C.type.toLowerCase()!==c.type.toLowerCase()&&v.push('video codec "'+C.type+'" !== "'+c.type+'"'),k&&h&&k.type.toLowerCase()!==h.type.toLowerCase()&&v.push('audio codec "'+k.type+'" !== "'+h.type+'"')}v.length&&(g.excludeUntil=1/0,s.logger_("blacklisting "+g.id+": "+v.join(" && ")))}}})},t.updateAdCues_=function(i){var s=0,a=this.seekable();a.length&&(s=a.start(0)),cbe(i,this.cueTagsTrack_,s)},t.goalBufferLength=function(){var i=this.tech_.currentTime(),s=ts.GOAL_BUFFER_LENGTH,a=ts.GOAL_BUFFER_LENGTH_RATE,o=Math.max(s,ts.MAX_GOAL_BUFFER_LENGTH);return Math.min(s+i*a,o)},t.bufferLowWaterLine=function(){var i=this.tech_.currentTime(),s=ts.BUFFER_LOW_WATER_LINE,a=ts.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(s,ts.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(s,ts.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(s+i*a,this.experimentalBufferBasedABR?l:o)},t.bufferHighWaterLine=function(){return ts.BUFFER_HIGH_WATER_LINE},e})(Oe.EventTarget),Rbe=function(e,t,n){return function(i){var s=e.master.playlists[t],a=gD(s),o=uT(s);return typeof i>"u"?o:(i?delete s.disabled:s.disabled=!0,i!==o&&!a&&(n(),i?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),i)}},Lbe=function(e,t,n){var i=e.masterPlaylistController_,s=e.options_.smoothQualityChange,a=s?"smooth":"fast",o=i[a+"QualityChange_"].bind(i);if(t.attributes){var l=t.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}this.codecs=x0(i.master(),t),this.playlist=t,this.id=n,this.enabled=Rbe(e.playlists,t.id,o)},Obe=function(e){e.representations=function(){var t=e.masterPlaylistController_.master(),n=Lv(t)?e.masterPlaylistController_.getAudioTrackPlaylists_():t.playlists;return n?n.filter(function(i){return!gD(i)}).map(function(i,s){return new Lbe(e,i,i.id)}):[]}},SF=["seeking","seeked","pause","playing","error"],Mbe=(function(){function r(t){var n=this;this.masterPlaylistController_=t.masterPlaylistController,this.tech_=t.tech,this.seekable=t.seekable,this.allowSeeksWithinUnsafeLiveWindow=t.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=t.liveRangeSafeTimeDelta,this.media=t.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=Wl("PlaybackWatcher"),this.logger_("initialize");var i=function(){return n.monitorCurrentTime_()},s=function(){return n.monitorCurrentTime_()},a=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],c={};u.forEach(function(f){c[f]={reset:function(){return n.resetSegmentDownloads_(f)},updateend:function(){return n.checkSegmentDownloads_(f)}},l[f+"SegmentLoader_"].on("appendsdone",c[f].updateend),l[f+"SegmentLoader_"].on("playlistupdate",c[f].reset),n.tech_.on(["seeked","seeking"],c[f].reset)});var h=function(g){["main","audio"].forEach(function(v){l[v+"SegmentLoader_"][g]("appended",n.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){n.fixesBadSeeks_()&&(n.consecutiveUpdates=0,n.lastRecordedTime=n.tech_.currentTime(),h("off"))},this.clearSeekingAppendCheck_=function(){return h("off")},this.watchForBadSeeking_=function(){n.clearSeekingAppendCheck_(),h("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(SF,o),this.tech_.on("canplay",s),this.tech_.one("play",i),this.dispose=function(){n.clearSeekingAppendCheck_(),n.logger_("dispose"),n.tech_.off("waiting",a),n.tech_.off(SF,o),n.tech_.off("canplay",s),n.tech_.off("play",i),n.tech_.off("seeking",n.watchForBadSeeking_),n.tech_.off("seeked",n.clearSeekingAppendCheck_),u.forEach(function(f){l[f+"SegmentLoader_"].off("appendsdone",c[f].updateend),l[f+"SegmentLoader_"].off("playlistupdate",c[f].reset),n.tech_.off(["seeked","seeking"],c[f].reset)}),n.checkCurrentTimeTimeout_&&X.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}var e=r.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&X.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=X.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(n){var i=this.masterPlaylistController_[n+"SegmentLoader_"];this[n+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+n+" loader"),this[n+"StalledDownloads_"]=0,this[n+"Buffered_"]=i.buffered_()},e.checkSegmentDownloads_=function(n){var i=this.masterPlaylistController_,s=i[n+"SegmentLoader_"],a=s.buffered_(),o=Exe(this[n+"Buffered_"],a);if(this[n+"Buffered_"]=a,o){this.resetSegmentDownloads_(n);return}this[n+"StalledDownloads_"]++,this.logger_("found #"+this[n+"StalledDownloads_"]+" "+n+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:Yh(a)}),!(this[n+"StalledDownloads_"]<10)&&(this.logger_(n+" loader stalled download exclusion"),this.resetSegmentDownloads_(n),this.tech_.trigger({type:"usage",name:"vhs-"+n+"-download-exclusion"}),n!=="subtitle"&&i.blacklistCurrentPlaylist({message:"Excessive "+n+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var n=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===n&&(!i.length||n+Du>=i.end(i.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&n===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):n===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=n)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var n=this.tech_.seeking();if(!n)return!1;var i=this.seekable(),s=this.tech_.currentTime(),a=this.afterSeekableWindow_(i,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(a){var l=i.end(i.length-1);o=l}if(this.beforeSeekableWindow_(i,s)){var u=i.start(0);o=u+(u===i.end(0)?0:Du)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+s+" with "+("seekable range "+j7(i)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,h=this.tech_.buffered(),f=c.audioBuffer?c.audioBuffered():null,g=c.videoBuffer?c.videoBuffered():null,v=this.media(),y=v.partTargetDuration?v.partTargetDuration:(v.targetDuration-Qd)*2,_=[f,g],C=0;C<_.length;C++)if(_[C]){var k=pD(_[C],s);if(k<y)return!1}var D=ax(h,s);return D.length===0?!1:(o=D.start(0)+Du,this.logger_("Buffered region starts ("+D.start(0)+") "+(" just beyond seek point ("+s+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var n=this.tech_.currentTime(),i=this.tech_.buffered(),s=Tp(i,n);if(s.length&&n+3<=s.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(n),this.logger_("Stopped at "+n+" while inside a buffered region "+("["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var n=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(n,i)){var s=n.end(n.length-1);return this.logger_("Fell out of live window at time "+i+". Seeking to "+("live point (seekable end) "+s)),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:i});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=ax(o,i);if(u.length>0){var c=u.start(0)-i;return this.logger_("Stopped at "+i+", setting timer for "+c+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,i),!0}return!1},e.afterSeekableWindow_=function(n,i,s,a){if(a===void 0&&(a=!1),!n.length)return!1;var o=n.end(n.length-1)+Du,l=!s.endList;return l&&a&&(o=n.end(n.length-1)+s.targetDuration*3),i>o},e.beforeSeekableWindow_=function(n,i){return!!(n.length&&n.start(0)>0&&i<n.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(n){var i=n.videoBuffered,s=n.audioBuffered,a=n.currentTime;if(i){var o;if(i.length&&s.length){var l=Tp(i,a-3),u=Tp(i,a),c=Tp(s,a);c.length&&!u.length&&l.length&&(o={start:l.end(0),end:c.end(0)})}else{var h=ax(i,a);h.length||(o=this.gapFromVideoUnderflow_(i,a))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(n){var i=this.tech_.buffered(),s=this.tech_.currentTime(),a=ax(i,s);this.cancelTimer_(),!(a.length===0||s!==n)&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",n,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+Qd),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(n,i){for(var s=Txe(n),a=0;a<s.length;a++){var o=s.start(a),l=s.end(a);if(i-o<4&&i-o>2)return{start:o,end:l}}return null},r})(),Fbe={errorInterval:30,getSource:function(e){var t=this.tech({IWillNotUseThisInPlugins:!0}),n=t.currentSource_||this.currentSource();return e(n)}},Bbe=function r(e,t){var n=0,i=0,s=Oe.mergeOptions(Fbe,t);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){i&&e.currentTime(i)},o=function(f){f!=null&&(i=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(f),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<s.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){Oe.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),s.getSource.call(e,o)},u=function h(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",h)},c=function(f){u(),r(e,f)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=c},Nbe=function(e){Bbe(this,e)},w9="2.16.3",Ube="6.0.1",$be="0.22.1",jbe="4.8.0",zbe="3.1.3",bs={PlaylistLoader:Cp,Playlist:Na,utils:Qxe,STANDARD_PLAYLIST_SELECTOR:hF,INITIAL_PLAYLIST_SELECTOR:$_e,lastBandwidthSelector:hF,movingAverageBandwidthSelector:N_e,comparePlaylistBandwidth:_D,comparePlaylistResolution:B_e,xhr:r9()};Object.keys(ts).forEach(function(r){Object.defineProperty(bs,r,{get:function(){return Oe.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),ts[r]},set:function(t){if(Oe.log.warn("using Vhs."+r+" is UNSAFE be sure you know what you are doing"),typeof t!="number"||t<0){Oe.log.warn("value of Vhs."+r+" must be greater than or equal to 0");return}ts[r]=t}})});var E9="videojs-vhs",k9=function(e,t){for(var n=t.media(),i=-1,s=0;s<e.length;s++)if(e[s].id===n.id){i=s;break}e.selectedIndex_=i,e.trigger({selectedIndex:i,type:"change"})},Hbe=function(e,t){t.representations().forEach(function(n){e.addQualityLevel(n)}),k9(e,t.playlists)};bs.canPlaySource=function(){return Oe.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Vbe=function(e,t,n){if(!e)return e;var i={};t&&t.attributes&&t.attributes.CODECS&&(i=Mb(pu(t.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);var s=z0(i.video),a=z0(i.audio),o={};for(var l in e)o[l]={},a&&(o[l].audioContentType=a),s&&(o[l].videoContentType=s),t.contentProtection&&t.contentProtection[l]&&t.contentProtection[l].pssh&&(o[l].pssh=t.contentProtection[l].pssh),typeof e[l]=="string"&&(o[l].url=e[l]);return Oe.mergeOptions(e,o)},Wbe=function(e,t){return e.reduce(function(n,i){if(!i.contentProtection)return n;var s=t.reduce(function(a,o){var l=i.contentProtection[o];return l&&l.pssh&&(a[o]={pssh:l.pssh}),a},{});return Object.keys(s).length&&n.push(s),n},[])},qbe=function(e){var t=e.player,n=e.sourceKeySystems,i=e.audioMedia,s=e.mainPlaylists;if(!t.eme.initializeMediaKeys)return Promise.resolve();var a=i?s.concat([i]):s,o=Wbe(a,Object.keys(n)),l=[],u=[];return o.forEach(function(c){u.push(new Promise(function(h,f){t.tech_.one("keysessioncreated",h)})),l.push(new Promise(function(h,f){t.eme.initializeMediaKeys({keySystems:c},function(g){if(g){f(g);return}h()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},Gbe=function(e){var t=e.player,n=e.sourceKeySystems,i=e.media,s=e.audioMedia,a=Vbe(n,i,s);return a?(t.currentSource().keySystems=a,a&&!t.eme?(Oe.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},A9=function(){if(!X.localStorage)return null;var e=X.localStorage.getItem(E9);if(!e)return null;try{return JSON.parse(e)}catch{return null}},Kbe=function(e){if(!X.localStorage)return!1;var t=A9();t=t?Oe.mergeOptions(t,e):e;try{X.localStorage.setItem(E9,JSON.stringify(t))}catch{return!1}return t},Xbe=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};bs.supportsNativeHls=(function(){if(!Be||!Be.createElement)return!1;var r=Be.createElement("video");if(!Oe.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(t){return/maybe|probably/i.test(r.canPlayType(t))})})();bs.supportsNativeDash=(function(){return!Be||!Be.createElement||!Oe.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Be.createElement("video").canPlayType("application/dash+xml"))})();bs.supportsTypeNatively=function(r){return r==="hls"?bs.supportsNativeHls:r==="dash"?bs.supportsNativeDash:!1};bs.isSupported=function(){return Oe.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Ybe=Oe.getComponent("Component"),SD=(function(r){Ht(e,r);function e(n,i,s){var a;if(a=r.call(this,i,Oe.mergeOptions(s.hls,s.vhs))||this,s.hls&&Object.keys(s.hls).length&&Oe.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof s.initialBandwidth=="number"&&(a.options_.bandwidth=s.initialBandwidth),a.logger_=Wl("VhsHandler"),i.options_&&i.options_.playerId){var o=Oe(i.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return Oe.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"hls-player-access"}),We(a)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return Oe.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),i.trigger({type:"usage",name:"vhs-player-access"}),We(a)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return Oe.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),We(a)},configurable:!0}),a.player_=o}if(a.tech_=i,a.source_=n,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(Be,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=Be.fullscreenElement||Be.webkitFullscreenElement||Be.mozFullScreenElement||Be.msFullscreenElement;u&&u.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var t=e.prototype;return t.setOptions_=function(){var i=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=300),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var s=A9();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=ts.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===ts.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof i.source_[a]<"u"&&(i.options_[a]=i.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},t.src=function(i,s){var a=this;if(i){this.setOptions_(),this.options_.src=Xbe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=bs,this.options_.sourceType=_j(s),this.options_.seekTo=function(u){a.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&Oe.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new Pbe(this.options_);var o=Oe.mergeOptions({liveRangeSafeTimeDelta:Du},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new Mbe(o),this.masterPlaylistController_.on("error",function(){var u=Oe.players[a.tech_.options_.playerId],c=a.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),u.error(c)});var l=this.options_.experimentalBufferBasedABR?bs.movingAverageBandwidthSelector(.55):bs.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=bs.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,h=X.navigator.connection||X.navigator.mozConnection||X.navigator.webkitConnection,f=1e7;if(this.options_.useNetworkInformationApi&&h){var g=h.downlink*1e3*1e3;g>=f&&c>=f?c=Math.max(c,g):c=g}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),h;this.throughput>0?h=1/this.throughput:h=0;var f=Math.floor(1/(c+h));return f},set:function(){Oe.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Yh(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Yh(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&Kbe({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){Obe(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=X.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},t.createKeySessions_=function(){var i=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),qbe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){i.logger_("created EME key session"),i.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(a){i.logger_("error while creating EME key session",a),i.player_.error({message:"Failed to initialize media keys for EME",code:3})})},t.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},t.setupEme_=function(){var i=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=Gbe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()});if(this.player_.tech_.on("keystatuschange",function(o){if(o.status==="output-restricted"){var l=i.masterPlaylistController_.master();if(!(!l||!l.playlists)){var u=[];if(l.playlists.forEach(function(h){h&&h.attributes&&h.attributes.RESOLUTION&&h.attributes.RESOLUTION.height>=720&&(!h.excludeUntil||h.excludeUntil<1/0)&&(h.excludeUntil=1/0,u.push(h))}),u.length){var c;(c=Oe.log).warn.apply(c,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(u)),i.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),Oe.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},t.setupQualityLevels_=function(){var i=this,s=Oe.players[this.tech_.options_.playerId];!s||!s.qualityLevels||this.qualityLevels_||(this.qualityLevels_=s.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){Hbe(i.qualityLevels_,i)}),this.playlists.on("mediachange",function(){k9(i.qualityLevels_,i.playlists)}))},e.version=function(){return{"@videojs/http-streaming":w9,"mux.js":Ube,"mpd-parser":$be,"m3u8-parser":jbe,"aes-decrypter":zbe}},t.version=function(){return this.constructor.version()},t.canChangeType=function(){return C9.canChangeType()},t.play=function(){this.masterPlaylistController_.play()},t.setCurrentTime=function(i){this.masterPlaylistController_.setCurrentTime(i)},t.duration=function(){return this.masterPlaylistController_.duration()},t.seekable=function(){return this.masterPlaylistController_.seekable()},t.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&X.URL.revokeObjectURL&&(X.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),r.prototype.dispose.call(this)},t.convertToProgramTime=function(i,s){return i_e({playlist:this.masterPlaylistController_.media(),time:i,callback:s})},t.seekToProgramTime=function(i,s,a,o){return a===void 0&&(a=!0),o===void 0&&(o=2),s_e({programTime:i,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:s})},e})(Ybe),K0={name:"videojs-http-streaming",VERSION:w9,canHandleSource:function(e,t){t===void 0&&(t={});var n=Oe.mergeOptions(Oe.options,t);return K0.canPlayType(e.type,n)},handleSource:function(e,t,n){n===void 0&&(n={});var i=Oe.mergeOptions(Oe.options,n);return t.vhs=new SD(e,t,i),Oe.hasOwnProperty("hls")||Object.defineProperty(t,"hls",{get:function(){return Oe.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),t.vhs},configurable:!0}),t.vhs.xhr=r9(),t.vhs.src(e.src,e.type),t.vhs},canPlayType:function(e,t){var n=_j(e);if(!n)return"";var i=K0.getOverrideNative(t),s=bs.supportsTypeNatively(n),a=!s||i;return a?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var t=e,n=t.vhs,i=n===void 0?{}:n,s=t.hls,a=s===void 0?{}:s,o=!(Oe.browser.IS_ANY_SAFARI||Oe.browser.IS_IOS),l=i.overrideNative,u=l===void 0?o:l,c=a.overrideNative,h=c===void 0?!1:c;return h||u}},Qbe=function(){return p_("avc1.4d400d,mp4a.40.2")};Qbe()&&Oe.getTech("Html5").registerSourceHandler(K0,0);Oe.VhsHandler=SD;Object.defineProperty(Oe,"HlsHandler",{get:function(){return Oe.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),SD},configurable:!0});Oe.VhsSourceHandler=K0;Object.defineProperty(Oe,"HlsSourceHandler",{get:function(){return Oe.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),K0},configurable:!0});Oe.Vhs=bs;Object.defineProperty(Oe,"Hls",{get:function(){return Oe.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),bs},configurable:!0});Oe.use||(Oe.registerComponent("Hls",bs),Oe.registerComponent("Vhs",bs));Oe.options.vhs=Oe.options.vhs||{};Oe.options.hls=Oe.options.hls||{};if(!Oe.getPlugin||!Oe.getPlugin("reloadSourceOnError")){var Jbe=Oe.registerPlugin||Oe.plugin;Jbe("reloadSourceOnError",Nbe)}var Zbe="1.1.6";function D9(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}function TF(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}var eSe=Oe.getComponent("MenuItem"),tSe=Oe.getComponent("Component"),Ub=(function(r){D9(e,r);function e(n,i){return i.selectable=!0,i.multiSelectable=!1,r.call(this,n,i)||this}var t=e.prototype;return t.handleClick=function(){var i=this.options_;console.log("Changing quality to:",i.label),r.prototype.handleClick.call(this);for(var s=this.player().qualityLevels(),a=0;a<s.length;a++)i.index==s.length||i.index==a?s[a].enabled=!0:s[a].enabled=!1},t.update=function(){var i=this.player().qualityLevels().selectedIndex;this.selected(this.options_.index==i)},e})(eSe);tSe.registerComponent("SourceMenuItem",Ub);var ux=Oe.getComponent("MenuButton"),rSe=(function(r){D9(e,r);function e(n,i){var s;s=r.call(this,n,i)||this,ux.apply(TF(s),arguments);var a=s.player().qualityLevels();if(i&&i.default){if(i.default=="low")for(var o=0;o<a.length;o++)a[o].enabled=o==0;else if(i.default="high")for(var o=0;o<a.length;o++)a[o].enabled=o==a.length-1}return s.player().qualityLevels().on(["change","addqualitylevel"],Oe.bind(TF(s),s.update)),s}var t=e.prototype;return t.createEl=function(){return Oe.dom.createEl("div",{className:"vjs-http-source-selector vjs-menu-button vjs-menu-button-popup vjs-control vjs-button"})},t.buildCSSClass=function(){return ux.prototype.buildCSSClass.call(this)+" vjs-icon-cog"},t.update=function(){return ux.prototype.update.call(this)},t.createItems=function(){for(var i=[],s=this.player().qualityLevels(),a=[],o=0;o<s.length;o++){var l=s.length-(o+1),u=l===s.selectedIndex,c=""+l,h=l;s[l].height?(c=s[l].height+"p",h=parseInt(s[l].height,10)):s[l].bitrate&&(c=Math.floor(s[l].bitrate/1e3)+" kbps",h=parseInt(s[l].bitrate,10)),!(a.indexOf(c)>=0)&&(a.push(c),i.push(new Ub(this.player_,{label:c,index:l,selected:u,sortVal:h})))}return s.length>1&&i.push(new Ub(this.player_,{label:"Auto",index:s.length,selected:!1,sortVal:99999})),i.sort(function(f,g){return f.options_.sortVal<g.options_.sortVal?1:f.options_.sortVal>g.options_.sortVal?-1:0}),i},e})(ux),nSe={},iSe=Oe.registerPlugin||Oe.plugin,sSe=function(e,t){if(e.addClass("vjs-http-source-selector"),console.log("videojs-http-source-selector initialized!"),console.log("player.techName_:"+e.techName_),e.techName_!="Html5")return!1;e.on(["loadedmetadata"],function(n){if(e.qualityLevels(),Oe.log("loadmetadata event"),e.videojs_http_source_selector_initialized=="undefined"||e.videojs_http_source_selector_initialized==!0)console.log("player.videojs_http_source_selector_initialized == true");else{console.log("player.videojs_http_source_selector_initialized == false"),e.videojs_http_source_selector_initialized=!0;var i=e.controlBar,s=i.getChild("fullscreenToggle").el();i.el().insertBefore(i.addChild("SourceMenuButton").el(),s)}})},I9=function(e){var t=this;this.ready(function(){sSe(t,Oe.mergeOptions(nSe,e))}),Oe.registerComponent("SourceMenuButton",rSe),Oe.registerComponent("SourceMenuItem",Ub)};iSe("httpSourceSelector",I9);I9.VERSION=Zbe;const P9=r=>{const e=Yr.useRef(null),t=Yr.useRef(null),{options:n,onReady:i,headers:s}=r;return Yr.useEffect(()=>{if(t.current){const a=t.current;typeof a.httpSourceSelector=="function"&&a&&a.httpSourceSelector(),a.autoplay(n.autoplay),a.src(n.sources)}else{const a=document.createElement("video-js");a.classList.add("vjs-big-play-centered"),e.current.appendChild(a),Se.Vhs.xhr.onRequest=l=>{if(l.headers||(l.headers={}),s.length>0)for(let u=0;u<s.length;u++)s[u].key!==""&&s[u].key!=="User-Agent"&&(l.headers[s[u].key]=s[u].value)};const o=t.current=Se(a,n,()=>{Se.log("player is ready"),i&&i(o)});typeof o.httpSourceSelector=="function"&&o&&o.httpSourceSelector()}},[n,e]),Yr.useEffect(()=>{const a=t.current;return()=>{a&&!a.isDisposed()&&(a.dispose(),t.current=null)}},[t]),P.jsx("div",{"data-vjs-player":!0,children:P.jsx("div",{ref:e})})};function aSe(){const{t:r}=Ti(),e=M.useContext(fa);Yu();const[t,n]=M.useState(null),i=H=>{let W=e.settings.playerSource;console.log("os_type",W);let Q={autoplay:!0,controls:!0,responsive:!0,fluid:!0,muted:!0,playsinline:!0,html5:{vhs:{overrideNative:!0}},sources:[{src:H,type:W}]};console.log("data",Q),n(Q)},s=M.useRef(null),[a,o]=M.useState([]),[l,u]=M.useState(""),[c,h]=M.useState(""),[f,g]=M.useState(""),[v,y]=M.useState(!1),[_,C]=M.useState([]);M.useEffect(()=>{let H={},W=new URLSearchParams(window.location.search).entries();for(let[Q,te]of W)H[Q]=te;H.url!==void 0&&(g(H.url),I(H.url))},[]);const k=H=>{g(H.target.value)},D=()=>{i(f),s.current!==null&&s.current.play()},I=H=>{i(H),s.current!==null&&s.current.play()},A=()=>{R()},R=()=>{y(!1)},N=(H,W,Q)=>{C(te=>te.map((oe,de)=>de===W?{...oe,key:Q.target.value}:oe))},U=(H,W,Q)=>{C(te=>te.map((oe,de)=>de===W?{...oe,value:Q.target.value}:oe))},F=H=>{C(W=>W.filter((Q,te)=>te!==H))},w=()=>{C([..._,{key:"",value:""}])},$=H=>{s.current=H,o([H.error()]),H.on("waiting",()=>{console.log("player is waiting")}),H.on("error",W=>{console.log("error",W)}),H.on("dispose",()=>{console.log("player will dispose")})};return P.jsxs(pt,{style:{padding:"0 20px"},children:[P.jsxs(pt,{style:{display:"flex",alignItems:"center"},children:[P.jsx(Nr,{sx:{width:550,margin:"10px"},children:P.jsx(On,{sx:{fontSize:"11px"},label:r("m3u8"),size:"small",id:"standard-multiline-static",value:f,onChange:k})}),f!==""&&!v?P.jsx(mo,{size:"small",onClick:D,variant:"contained",startIcon:P.jsx(Lle,{}),children:r("")}):"",f!==""&&v?P.jsx(mo,{size:"small",onClick:A,variant:"contained",startIcon:P.jsx(Ole,{}),children:r("")}):""]}),P.jsx(pt,{children:P.jsxs(Nr,{sx:{width:550,margin:"10px"},children:[P.jsx(pt,{sx:{marginBottom:"10px"},children:P.jsxs(Sr,{size:"small",onClick:w,variant:"contained",children:["+ ",r("")]})}),_.map((H,W)=>P.jsxs(pt,{sx:{marginBottom:"10px",display:"flex",alignItems:"center"},children:[P.jsx(On,{sx:{fontSize:"11px",marginRight:"5px"},label:"key",size:"small",id:"standard-multiline-static",value:H.key,onChange:N.bind(this,H,W)}),P.jsx(On,{sx:{fontSize:"11px"},label:"value",size:"small",id:"standard-multiline-static",value:H.value,onChange:U.bind(this,H,W)}),P.jsx(qd,{color:"disabled",onClick:()=>F(W)})]},W))]})}),P.jsxs(pt,{sx:{display:"flex",flexDirection:"column"},children:[P.jsxs(pt,{sx:{display:"flex",alignItems:"center"},children:[P.jsx(pt,{sx:{marginLeft:"10px"},children:c!==""?P.jsx("img",{src:c,height:"50"}):""}),P.jsx("h2",{style:{display:"flex",alignItems:"center"},children:l})]}),P.jsx(Nr,{sx:{margin:"10px"},children:t===null?"":P.jsx(P9,{options:t,onReady:$,headers:_})})]})]})}class Gm{constructor(e=""){this.baseUrl=e}async getTaskList(){return(await Cr.get(`${this.baseUrl}/tasks/list?page=1`)).data}async uploadFile(e){const t=await Cr.post(`${this.baseUrl}/media/upload`,e,{headers:{"Content-Type":"multipart/form-data"}});return console.log("response---",t.data),t.data}async getReplaceList(){const e=await Cr.get(`${this.baseUrl}/system/replace`);if(e.status!==200)throw new Error(e.data.msg);return e.data}async updateReplaceList(e){const t=await Cr.post(`${this.baseUrl}/system/replace`,e);if(t.status!==200)throw new Error(t.data.msg);return t.data}async addTask(e){const t=await Cr.post(`${this.baseUrl}/tasks/add`,e);if(t.data.code!=="200")throw new Error(t.data.msg);return t.data}async updateTask(e,t){const n=await Cr.post(`${this.baseUrl}/tasks/update?task_id=${e}`,t);if(n.data.code!=="200")throw new Error(n.data.msg);return n.data}async deleteTask(e){const t=await Cr.delete(`${this.baseUrl}/tasks/delete/${e}`);if(t.data.code!=="200")throw new Error(t.data.msg);return t.data}async runTask(e){return(await Cr.get(`${this.baseUrl}/tasks/run?task_id=${e}`)).data}async getTaskDetail(e){return(await Cr.get(`${this.baseUrl}/tasks/detail`,{params:{task_id:e}})).data}async getSearchConfig(){const e=await Cr.get(`${this.baseUrl}/system/info`);if(e.status!==200)throw new Error(e.data.msg);return e.data}async updateSearchConfig(e){const t=await Cr.post(`${this.baseUrl}/system/global-config`,e);if(t.status!==200)throw new Error(t.data.msg);return t.data}async runSpider(){return(await Cr.post(`${this.baseUrl}/system/spider/run`)).data}async getSpiderStatus(){return(await Cr.get(`${this.baseUrl}/system/spider/status`)).data}async getTodayFiles(){return(await Cr.get(`${this.baseUrl}/system/list-today-files`)).data}async clearSearchFolder(){return(await Cr.get(`${this.baseUrl}/system/clear-search-folder`)).data}async initSearchData(){return(await Cr.get(`${this.baseUrl}/system/init-search-data`)).data}async getFavourite(){return(await Cr.get(`${this.baseUrl}/system/get-favourite`)).data}async saveFavourite(e){return(await Cr.post(`${this.baseUrl}/system/save-favourite`,e)).data}async openUrl(e){return(await Cr.get(e)).data}async getChannelLogos(){return(await Cr.get(`${this.baseUrl}/media/logos`)).data}async getLogosConfig(){return(await Cr.get(`${this.baseUrl}/system/channel-logos`)).data}async uploadLogos(e){return(await Cr.post(`${this.baseUrl}/media/upload-logos`,e,{headers:{"Content-Type":"multipart/form-data"}})).data}async updateLogo(e){return(await Cr.post(`${this.baseUrl}/media/logos/update`,e)).data}async saveChannelLogos(e){return(await Cr.post(`${this.baseUrl}/system/channel-logos`,e)).data}async saveChannelLogosConfig(e){return(await Cr.post(`${this.baseUrl}/media/logos/config`,e)).data}async exportConfig(){return(await Cr.get(`${this.baseUrl}/system/export`)).data}async importConfig(e){return(await Cr.post(`${this.baseUrl}/system/import`,e,{headers:{"Content-Type":"multipart/form-data"}})).data}}function oSe(){M.useContext(fa);const{t:r}=Ti(),[e]=M.useState(()=>new Gm),[t,n]=M.useState(!1),[i,s]=M.useState(null),[a,o]=M.useState([]),[l,u]=M.useState(!1),[c,h]=M.useState(""),[f,g]=M.useState(!1),[v,y]=M.useState({content:"",url:""}),[_,C]=M.useState(!1),[k,D]=M.useState(!1),[I,A]=M.useState(""),[R,N]=M.useState("");M.useEffect(()=>{W()},[]);const U=ie=>{s(ie),n(!0)},F=()=>{n(!1),s(null)},w=async ie=>{try{ie.id===""?await e.addTask($(ie)):await e.updateTask(ie.id,$(ie)),W()}catch(ee){Q(ee.message)}},$=ie=>({urls:ie.original.urls,result_name:ie.original.result_name,md5:"",run_type:ie.original.run_type,keyword_dislike:ie.original.keyword_dislike,keyword_like:ie.original.keyword_like,http_timeout:ie.original.http_timeout,check_timeout:ie.original.check_timeout,sort:ie.original.sort,no_check:ie.original.no_check,concurrent:ie.original.concurrent,rename:ie.original.rename,ffmpeg_check:ie.original.ffmpeg_check,not_http_skip:ie.original.not_http_skip,same_save_num:ie.original.same_save_num}),H=async ie=>{try{await e.deleteTask(ie.id),W()}catch(ee){Q(ee.message)}},W=async()=>{try{let ie=await e.getTaskList();o(ie.list),N(ie.now_id)}catch{o([]),Q(r(""))}},Q=ie=>{h(ie),u(!0)},te=()=>{h(""),u(!1)},oe=async ie=>{try{await e.runTask(ie),W()}catch{Q(r(""))}},de=async ie=>{try{const ee=await e.getTaskDetail(ie);g(!0),y({task_id:ie,check_result:ee.check_result})}catch{Q(r(""))}},le=ie=>{g(ie)},ae=()=>{o([]),W()};return P.jsxs(pt,{style:{padding:"0 20px"},children:[P.jsx(pt,{style:{marginBottom:"10px",display:"flex",justifyContent:"space-between"},children:P.jsxs(pt,{children:[P.jsx(Sr,{variant:"contained",size:"small",startIcon:P.jsx(bf,{}),onClick:()=>U(null),style:{marginRight:"10px"},children:r("")}),P.jsx(Sr,{variant:"outlined",size:"small",startIcon:P.jsx(Yie,{}),onClick:ae,style:{marginRight:"10px"},children:r("")})]})}),P.jsx(sh,{open:l,autoHideDuration:6e3,onClose:te,message:c}),P.jsx(S5,{taskService:e,formValue:i,open:t,onClose:F,handleSave:w,handleDelete:H,checkType:"server"}),P.jsx(C5,{formValue:v,open:f,onClose:le}),P.jsx(Qu,{sx:{overflow:"hidden"},children:P.jsx(h5,{children:P.jsxs(c5,{"aria-label":"simple table",children:[P.jsx(f5,{children:P.jsxs(Pk,{children:[P.jsx(Wd,{children:r("id")}),P.jsx(Wd,{align:"right",children:r("")})]})}),P.jsx(d5,{children:a.map(ie=>P.jsx(T5,{row:ie,doTaskRightNow:oe,showDownloadDialog:de,clickTask:()=>U(ie),source:"task",isNowHandle:ie.id===R},ie.id))})]})})})]})}function lSe(r){const{t:e}=Ti(),{onClose:t,open:n,saveData:i}=r,[s,a]=M.useState(""),o=()=>{t(!1)},l=c=>{a(c.target.value)},u=()=>{i(s)};return P.jsxs(xo,{onClose:o,open:n,children:[P.jsx(eh,{children:e("")}),P.jsxs("div",{style:{padding:"20px",display:"flex",justifyContent:"center",flexDirection:"column"},children:[P.jsx(Nr,{style:{width:"550px"},children:P.jsx(On,{id:"demo-simple-select-standard",value:s,multiline:!0,rows:10,onChange:l})}),P.jsx(Nr,{style:{margin:"10px 0"},children:P.jsx(mo,{onClick:u,variant:"outlined",children:e("")})}),P.jsx(pt,{children:e(",https://xxxx.m3u + ")}),P.jsx(pt,{children:"star movies,http://srtarmovies.m3u8"}),P.jsx(pt,{children:"star plus,https://plus.m3u"})]})]})}function CF(){const r=M.useContext(fa),[e,t]=M.useState(!1),[n,i]=M.useState(8e3),[s,a]=M.useState(1),[o,l]=M.useState("zh"),[u,c]=M.useState([]),[h,f]=M.useState(""),[g,v]=M.useState(""),[y,_]=M.useState(""),[C,k]=M.useState(!1),[D,I]=M.useState(""),{t:A}=Ti();M.useEffect(()=>{let H=r.settings;r.check_version(),r.nowMod===1?I(r.configInfo.app_version):I(r.configInfo.version),H!==null&&(i(H.httpRequestTimeout??1e3),c(H.customLink??[]),a(H.concurrent??1),l(H.language??"zh"),f(H.privateHost??""),_(H.playerSource??"video/mp2t"))},[r]);const R=H=>{const{name:W,value:Q}=H.target;let te=parseInt(H.target.value,10);W==="httpRequestTimeout"?i(te):W==="concurrent"?(te===0&&(te=1),a(te)):W==="language"?l(H.target.value):W==="privateHost"?f(H.target.value):W==="playerSource"&&_(H.target.value)},N=()=>{r.onChangeSettings({httpRequestTimeout:n,customLink:u,concurrent:s,language:o,privateHost:h,playerSource:y}),r.changeLanguage(o),k(!0),v(A(""))},U=H=>{t(H)},F=H=>{let W=u,Q=H.split(`
`);if(Q.length>0){for(let te=0;te<Q.length;te++){let oe=Q[te].split(",");W.push({name:oe[0],url:oe[1]})}c(W)}t(!1)},w=jE.version,$=()=>{k(!1),v("")};return P.jsxs(pt,{style:{padding:"0 20px"},children:[P.jsx(lSe,{open:e,onClose:()=>U(!1),saveData:F}),P.jsx(sh,{open:C,autoHideDuration:3e3,message:g,onClose:$}),P.jsxs(pt,{children:[P.jsxs(pt,{sx:{display:"flex",flexDirection:"column",padding:"20px",width:"400px"},children:[P.jsxs(Nr,{sx:{marginBottom:"20px"},children:[P.jsx(Uu,{id:"demo-row-radio-buttons-group-label",children:A("")}),P.jsx($u,{name:"language",value:o,label:A(""),onChange:R,children:r.languageList.map((H,W)=>P.jsx(Nc,{value:H.code,children:H.name},W))})]}),P.jsx(mo,{onClick:N,variant:"outlined",children:A("")})]}),P.jsxs(Nr,{sx:{marginTop:"20px",paddingLeft:"20px"},children:[P.jsxs(pt,{children:[A(""),": ",w]}),r.showNewVersion?P.jsxs(pt,{style:{color:"green",fontWeight:"bold"},children:[A(""),": ",D]}):""]})]})]})}function uSe(r){const e=M.useContext(fa),{nowPlatform:t}=r,[n,i]=M.useState(!1),[s,a]=M.useState(null),o=_=>{let C=e.settings.playerSource;console.log(C),a({autoplay:!0,controls:!0,responsive:!0,fluid:!0,muted:!0,playsinline:!0,html5:{vhs:{overrideNative:!0}},sources:[{src:_,type:C}]})},l=M.useRef(null),[u,c]=M.useState(""),[h,f]=M.useState([]),g=async()=>{const _=A_();await tv("changeWatchUrl",C=>{C.event==="changeWatchUrl"&&(c(C.payload.data.url),v(C.payload.data.url),_.setTitle(C.payload.data.name))})};M.useEffect(()=>{let _={},C=new URLSearchParams(window.location.search).entries();for(let[k,D]of C)_[k]=D;_.url!==void 0&&(c(_.url),v(_.url)),g()},[]);const v=_=>{o(_),l.current!==null&&l.current.play()},y=_=>{console.log("load video"),l.current=_,_.on("waiting",()=>{console.log("player is waiting"),console.log(l.current)}),_.on("canplay",()=>{console.log("videojs canplay")}),_.on("dispose",()=>{console.log("player will dispose")}),_.on("fullscreenchange",C=>{console.log("full s",C)}),_.on("error",C=>{console.log("videojs error",C)}),_.ready(function(){console.log(_.controlBar);var C=_.controlBar.fullscreenToggle;const k=A_();C.on("click",function(){console.log("user click full"),k.isFullscreen().then(D=>{if(console.log("now fullscreen status",D,window.screen),D){k.setFullscreen(!1),console.log("---exit full screen");const I=_.el().parentElement;I.style.width="",I.style.height="",I.style.alignContent="",I.style.backgroundColor="",_.el().style.width="",_.el().style.height=""}else{k.setFullscreen(!0);const I=_.el().parentElement;I.style.width=window.screen.width+"px",I.style.height=window.screen.height+"px",I.style.alignContent="center",I.style.backgroundColor="#000",_.el().style.width=window.screen.width+"px",_.el().style.height=window.screen.height+"px"}})})})};return P.jsx(P.Fragment,{children:s===null?"":P.jsx("div",{children:P.jsx(P9,{options:s,onReady:y,headers:h})})})}const wF=({values:r,onChange:e,label:t,t:n,placeholder:i,validation:s})=>{const a=(u,c)=>{const h=[...r];h[u]=c,e(h)},o=()=>e([...r,""]),l=u=>e(r.filter((c,h)=>h!==u));return P.jsxs(pt,{sx:{mb:2},children:[P.jsx(mr,{variant:"caption",color:"textSecondary",sx:{mb:1,display:"block"},children:t}),r.map((u,c)=>{const h=s?s(u):null;return P.jsxs(pt,{sx:{display:"flex",gap:1,mb:1,alignItems:"flex-start"},children:[P.jsx(On,{value:u,onChange:f=>a(c,f.target.value),size:"small",fullWidth:!0,placeholder:i,error:!!h,helperText:h}),P.jsx(Ml,{onClick:()=>l(c),size:"small",sx:{mt:.5},children:P.jsx(qd,{fontSize:"small"})})]},c)}),P.jsx(Sr,{startIcon:P.jsx(bf,{}),onClick:o,size:"small",variant:"outlined",children:n("")})]})};function cSe(){const{t:r}=Ti(),[e,t]=M.useState({remote_url2local_images:!1,search:{source:[],search_list:[],interval_hours:24},today_fetch:!1,host:""}),[n]=M.useState(()=>new Gm),[i,s]=M.useState(!1),[a,o]=M.useState(""),[l,u]=M.useState(!1),[c,h]=M.useState(0),[f,g]=M.useState([]),[v,y]=M.useState(!1),_=[".txt",".m3u"];M.useEffect(()=>{C()},[]);const C=async()=>{try{const w=await n.getSearchConfig();w&&t({remote_url2local_images:w.remote_url2local_images??!1,search:{source:(w.search?.source??[]).map($=>({...$,extensions:$.extensions??[]})),search_list:w.search?.search_list??[],interval_hours:w.search?.interval_hours??24},today_fetch:w.today_fetch??!1})}catch(w){console.error("Error fetching search config:",w)}},k=async()=>{y(!0);try{e.today_fetch?(await n.clearSearchFolder(),o(r(""))):(await n.initSearchData(),o(r(""))),s(!0),await C()}catch{o(r("")),s(!0)}finally{y(!1)}},D=async()=>{try{const w=await n.getTodayFiles();g(w||[]),u(!0)}catch(w){console.error("Error fetching results:",w),o(r("")),s(!0)}},I=async()=>{const w={...e,search:{...e.search,source:e.search.source.map($=>({...$,urls:$.urls.filter(H=>H.trim()),include_files:$.include_files.filter(H=>H.trim())})).filter($=>$.urls.length>0)}};try{await n.updateSearchConfig(w),t(w),o(r("")),s(!0)}catch($){console.error("Error saving search config:",$),o(r("")),s(!0)}},A=[{value:"github-home-page",label:r("GitHub ")},{value:"raw-source",label:r("")},{value:"github-sub-page",label:r("GitHub ")}],R=()=>{const w=e.search.source.map(H=>H.parse_type),$=A.find(H=>!w.includes(H.value))?.value||"github-sub-page";t(H=>({...H,search:{...H.search,source:[...H.search.source,{urls:[],include_files:[],parse_type:$,extensions:[]}]}}))},N=w=>{t($=>({...$,search:{...$.search,source:$.search.source.filter((H,W)=>W!==w)}}))},U=(w,$,H)=>{t(W=>{const Q=[...W.search.source],te={...Q[w]};return te[$]=H,Q[w]=te,{...W,search:{...W.search,source:Q}}})},F=w=>{if(!w)return null;try{return new URL(w),null}catch{return r("")||"Invalid URL"}};return P.jsxs(pt,{style:{padding:"0 20px",width:"100%",maxWidth:"1000px"},children:[P.jsx(sh,{open:i,autoHideDuration:3e3,onClose:()=>s(!1),message:a}),P.jsx(pt,{sx:{mb:3,p:2,bgcolor:"#f5f5f5",borderRadius:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:P.jsx(pt,{sx:{display:"flex",alignItems:"center",gap:2},children:e.today_fetch?P.jsxs(pt,{sx:{display:"flex",alignItems:"center",gap:2},children:[v?P.jsx(_f,{size:24}):P.jsx(Sr,{variant:"contained",color:"warning",onClick:k,children:r("")}),P.jsx(Sr,{variant:"outlined",onClick:D,children:r("")})]}):v?P.jsx(_f,{size:24}):P.jsx(Sr,{variant:"contained",onClick:k,children:r("")})})}),P.jsxs(pt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[P.jsx(mr,{variant:"h6",children:r("")}),P.jsx(Sr,{variant:"contained",startIcon:P.jsx(bf,{}),onClick:R,children:r("github")})]}),P.jsx(pt,{sx:{display:"flex",flexDirection:"column",gap:2,mb:4},children:e.search.source.map((w,$)=>P.jsx(Mu,{variant:"outlined",children:P.jsxs(Ud,{children:[P.jsxs(pt,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[P.jsxs(Nr,{size:"small",sx:{width:200},children:[P.jsx(Uu,{children:r("")}),P.jsx($u,{value:w.parse_type,label:r(""),onChange:H=>U($,"parse_type",H.target.value),children:A.map(H=>{const W=e.search.source.some(te=>te.parse_type===H.value),Q=H.value!=="github-sub-page"&&W&&H.value!==w.parse_type;return P.jsx(Nc,{value:H.value,disabled:Q,children:H.label},H.value)})})]}),P.jsx(Ml,{onClick:()=>N($),color:"error",children:P.jsx(qd,{})})]}),P.jsx(wF,{label:r("URL"),values:w.urls||[],placeholder:"http://...",onChange:H=>U($,"urls",H),t:r,validation:F}),w.parse_type==="github-home-page"&&P.jsxs(pt,{sx:{mb:2},children:[P.jsx(mr,{variant:"caption",color:"textSecondary",sx:{mb:1,display:"block"},children:r("")}),P.jsx(o5,{row:!0,children:_.map(H=>P.jsx(Zs,{control:P.jsx(Pp,{checked:(w.extensions||[]).includes(H),onChange:W=>{const te=W.target.checked?[...w.extensions||[],H]:(w.extensions||[]).filter(oe=>oe!==H);U($,"extensions",te)},size:"small"}),label:P.jsx(mr,{variant:"body2",children:H})},H))})]}),w.parse_type==="github-sub-page"&&P.jsx(wF,{label:r(""),values:w.include_files||[],placeholder:"xxx.m3u8",onChange:H=>U($,"include_files",H),t:r})]})},$))}),P.jsx(pt,{sx:{display:"flex",justifyContent:"flex-end",pb:4},children:P.jsx(Sr,{variant:"contained",color:"primary",onClick:I,size:"large",children:r("")})}),P.jsxs(xo,{open:l,onClose:()=>u(!1),maxWidth:"md",fullWidth:!0,children:[P.jsx(eh,{children:r("")}),P.jsxs(vv,{children:[P.jsx(Uk,{value:c,onChange:(w,$)=>h($),sx:{borderBottom:1,borderColor:"divider"},variant:"scrollable",scrollButtons:"auto",children:f.map((w,$)=>P.jsx(Rp,{label:w.name||w.label||`Result ${$+1}`},$))}),P.jsx(pt,{sx:{p:2,height:400,overflow:"auto",whiteSpace:"pre-wrap"},children:f[c]?.content||r("")})]})]})]})}function dSe(){const{t:r}=Ti(),[e,t]=M.useState(!1),[n,i]=M.useState({}),[s,a]=M.useState([]),[o]=M.useState(()=>new Gm),[l,u]=M.useState(!1),[c,h]=M.useState("");M.useEffect(()=>{f()},[]);const f=async()=>{try{const C=await o.getReplaceList();t(C.replace_string??!1),i(C.replace_map??{})}catch(C){console.error("Error fetching data:",C)}};M.useEffect(()=>{if(!n){a([]);return}Array.isArray(n)?a(n.map(C=>({key:C.key??"",value:C.value??""}))):a(typeof n=="object"?Object.entries(n).map(([C,k])=>({key:C,value:k??""})):[])},[n]);const g=(C,k,D)=>{a(I=>{const A=I.map(R=>({...R}));return A[C][k]=D,A})},v=()=>{a(C=>[...C,{key:"",value:""}])},y=C=>{a(k=>k.filter((D,I)=>I!==C))},_=async()=>{const C={};s.forEach(D=>{D.key!==void 0&&D.key!==""&&(C[D.key]=D.value??"")});const k={replace_string:e,replace_map:C};try{await o.updateReplaceList(k),i(C),h(r("")),u(!0)}catch(D){console.error("Error saving replace list:",D),h(r("")),u(!0)}};return P.jsxs(pt,{style:{padding:"0 20px",width:"800px"},children:[P.jsx(sh,{open:l,autoHideDuration:3e3,onClose:()=>u(!1),message:c}),P.jsxs("div",{style:{padding:"0 0 10px",fontSize:"12px",color:"#666"},children:[P.jsx("p",{style:{padding:"0",margin:"0"},children:r("")}),P.jsx("p",{style:{padding:"0",margin:"0"},children:r("[HD][HD]")})]}),P.jsx(pt,{sx:{mb:2},children:P.jsx(Zs,{control:P.jsx(rle,{checked:e,onChange:C=>t(C.target.checked)}),label:r("")})}),P.jsx("div",{style:{padding:"10px 0"},children:P.jsx(Sr,{variant:"contained",onClick:v,children:r("")})}),P.jsx("div",{style:{padding:"10px 0"},children:P.jsxs("div",{style:{overflow:"hidden"},children:[P.jsx("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto",padding:"12px 0"},children:s.length===0?P.jsx("div",{style:{padding:"8px 0",color:"#666"},children:r("")}):s.map((C,k)=>P.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8},children:[P.jsx(On,{label:r(""),value:C.key,onChange:D=>g(k,"key",D.target.value),size:"small",style:{width:220}}),P.jsx(On,{label:r(""),value:C.value,onChange:D=>g(k,"value",D.target.value),size:"small",style:{flex:1}}),P.jsx(Ml,{"aria-label":"delete",onClick:()=>y(k),children:P.jsx(qd,{})})]},k))}),P.jsxs("div",{style:{display:"flex",gap:8,padding:"12px 0",alignItems:"center"},children:[P.jsx("div",{style:{flex:1}}),P.jsx(Sr,{variant:"contained",color:"success",onClick:_,children:r("")})]})]})})]})}function hSe(){const{t:r}=Ti(),[e,t]=M.useState({favorite_rules:[]}),n=new Gm,[i,s]=M.useState(!1),[a,o]=M.useState(""),[l,u]=M.useState(""),[c,h]=M.useState("include"),[f,g]=M.useState(!1),[v,y]=M.useState(""),[_,C]=M.useState("");M.useEffect(()=>{k()},[]);const k=async()=>{try{const $=await n.getFavourite();if($){const H=[];($.like||[]).forEach(W=>H.push({name:W,match_mode:"include"})),($.equal||[]).forEach(W=>H.push({name:W,match_mode:"exact"})),t(W=>({...W,favorite_rules:H,all_channel_url:$.all_channel_url,liked_channel_url:$.liked_channel_url,checked_liked_channel_url:$.checked_liked_channel_url}))}}catch($){console.error("Error fetching config:",$)}},D=()=>{if(!l.trim()){o(r("")),s(!0);return}t($=>({...$,favorite_rules:[{name:l,match_mode:c},...$.favorite_rules]})),u("")},I=$=>{t(H=>({...H,favorite_rules:H.favorite_rules.filter((W,Q)=>Q!==$)}))},A=async($,H)=>{try{const W=await n.openUrl(H);y($),C(typeof W=="string"?W:JSON.stringify(W,null,2)),g(!0)}catch(W){console.error("Error opening file:",W),o(r("")),s(!0)}},R=async()=>{const $=[],H=[];e.favorite_rules.forEach(W=>{!W.name||!W.name.trim()||(W.match_mode==="include"?$.push(W.name.trim()):W.match_mode==="exact"&&H.push(W.name.trim()))});try{await n.saveFavourite({like:$,equal:H}),o(r("")),s(!0)}catch(W){console.error("Error saving config:",W),o(r("")),s(!0)}},N=e.favorite_rules.map(($,H)=>({...$,originalIndex:H})),U=N.filter($=>$.match_mode==="include"),F=N.filter($=>$.match_mode==="exact"),w=($,H)=>P.jsxs(pt,{sx:{mb:4},children:[P.jsxs(mr,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:"bold",borderLeft:"4px solid #1976d2",pl:1},children:[H," (",$.length,")"]}),$.length===0?P.jsx(mr,{variant:"body2",color:"textSecondary",sx:{pl:2},children:r("")}):P.jsx(pt,{sx:{display:"flex",flexDirection:"column",gap:1},children:$.map(W=>P.jsx(Mu,{variant:"outlined",children:P.jsxs(Ud,{sx:{display:"flex",gap:2,alignItems:"center",p:"8px 16px !important"},children:[P.jsx(mr,{sx:{flexGrow:1},children:W.name}),P.jsx(Ml,{onClick:()=>I(W.originalIndex),color:"error",size:"small",children:P.jsx(qd,{})})]})},W.originalIndex))})]});return P.jsxs(pt,{style:{padding:"0 20px",width:"100%",maxWidth:"800px"},children:[P.jsx(sh,{open:i,autoHideDuration:3e3,onClose:()=>s(!1),message:a}),P.jsxs(pt,{sx:{display:"flex",flexDirection:"column",gap:1,mb:4},children:[P.jsxs(pt,{sx:{display:"flex",gap:1,alignItems:"center"},children:[P.jsxs(mr,{children:[r(""),""]}),P.jsx(mr,{component:"span",sx:{cursor:"pointer",color:"primary.main",textDecoration:"underline"},onClick:()=>A(r(""),window.document.location.origin+e.all_channel_url),children:window.document.location.origin+e.all_channel_url||r("")})]}),P.jsxs(pt,{sx:{display:"flex",gap:1,alignItems:"center"},children:[P.jsxs(mr,{children:[r(""),""]}),P.jsx(mr,{component:"span",sx:{cursor:"pointer",color:"primary.main",textDecoration:"underline"},onClick:()=>A(r(""),window.document.location.origin+e.liked_channel_url),children:window.document.location.origin+e.liked_channel_url||r("")})]}),P.jsx(pt,{sx:{fontSize:"12px",color:"text.secondary"},children:r("")}),P.jsx(pt,{sx:{fontSize:"12px",color:"text.secondary"},children:r("")}),P.jsxs(pt,{sx:{fontSize:"12px",color:"text.secondary"},children:[r(""),""]})]}),P.jsxs(pt,{sx:{display:"flex",gap:2,alignItems:"center",mb:4,p:2,bgcolor:"#f5f5f5",borderRadius:1},children:[P.jsx(On,{label:r(""),value:l,onChange:$=>u($.target.value),size:"small",sx:{flexGrow:1,bgcolor:"white"},placeholder:r("")}),P.jsxs(Nr,{size:"small",sx:{minWidth:150,bgcolor:"white"},children:[P.jsx(Uu,{children:r("")}),P.jsxs($u,{value:c,label:r(""),onChange:$=>h($.target.value),children:[P.jsx(Nc,{value:"include",children:r("")}),P.jsx(Nc,{value:"exact",children:r("")})]})]}),P.jsx(Sr,{variant:"contained",color:"success",startIcon:P.jsx(bf,{}),onClick:D,disabled:!l.trim(),children:r("")})]}),w(U,r("")),w(F,r("")),P.jsx(pt,{sx:{display:"flex",justifyContent:"flex-end",pb:4},children:P.jsx(Sr,{variant:"contained",color:"primary",onClick:R,size:"large",children:r("")})}),P.jsxs(xo,{open:f,onClose:()=>g(!1),maxWidth:"lg",fullWidth:!0,children:[P.jsx(eh,{children:v}),P.jsx(vv,{children:P.jsx("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-all",maxHeight:"60vh",overflow:"auto"},children:_})})]})]})}const R9=yr(P.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"})),fSe=yr(P.jsx("path",{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83M6.21 18H5v-1.21l8.66-8.66 1.21 1.21zM11 20l4-4h6v4z"})),pSe=()=>{const{t:r}=Ti(),[e]=M.useState(()=>new Gm),[t,n]=M.useState({host:"",remote_url2local_images:!1,logos:[]}),[i,s]=M.useState(!1),[a,o]=M.useState(""),[l,u]=M.useState({open:!1,text:"",type:"info"}),[c,h]=M.useState(!1),[f,g]=M.useState({open:!1,sourceName:"",sourceUrl:"",currentAliases:[],newAlias:""});M.useEffect(()=>{v()},[]);const v=async()=>{try{const F=await e.getChannelLogos();F&&F.logos?n(F):Array.isArray(F)&&n(w=>({...w,logos:F}))}catch(F){console.error("Error fetching logos:",F)}},y=async F=>{const w=Array.from(F.target.files);if(w.length===0)return;h(!0);const $=new FormData;w.forEach(H=>{$.append("files",H)});try{await e.uploadLogos($),await v(),u({open:!0,text:r(""),type:"success"})}catch(H){console.error("Upload failed",H),u({open:!0,text:r(""),type:"error"})}finally{h(!1),F.target.value=""}},_=(F,w,$)=>{g({open:!0,sourceName:F,sourceUrl:w,currentAliases:$||[],newAlias:""})},C=()=>{g({open:!1,sourceName:"",sourceUrl:"",currentAliases:[],newAlias:""})},k=()=>{const F=f.newAlias.trim();if(F){if(f.currentAliases.includes(F)){u({open:!0,text:r(""),type:"warning"});return}g(w=>({...w,currentAliases:[...w.currentAliases,F],newAlias:""}))}},D=F=>{g(w=>({...w,currentAliases:w.currentAliases.filter($=>$!==F)}))},I=async()=>{try{await e.updateLogo({url:f.sourceUrl,name:f.currentAliases}),await v(),u({open:!0,text:r(""),type:"success"}),C()}catch(F){console.error("Save alias failed",F),u({open:!0,text:r(""),type:"error"})}},A=async()=>{try{await e.saveChannelLogosConfig(t),u({open:!0,text:r(""),type:"success"}),s(!1)}catch(F){console.error("Save config failed",F),u({open:!0,text:r(""),type:"error"})}},R=()=>{u({...l,open:!1})},U=t.logos.reduce((F,w)=>(w.name&&Array.isArray(w.name)&&w.name.forEach($=>{F.push({name:$,url:w.url,allNames:w.name})}),F),[]).filter(F=>F.name.toLowerCase().includes(a.toLowerCase()));return P.jsxs(pt,{sx:{width:"100%",p:2},children:[P.jsx(Mu,{sx:{mb:3,p:2},children:i?P.jsxs(jh,{spacing:2,children:[P.jsx(On,{label:r(" Host ()"),value:t.host||"",onChange:F=>n({...t,host:F.target.value}),size:"small",fullWidth:!0,placeholder:"http://localhost:5173"}),P.jsxs(pt,{sx:{display:"flex",gap:1},children:[P.jsx(Sr,{variant:"contained",onClick:A,size:"small",children:r("")}),P.jsx(Sr,{variant:"outlined",onClick:()=>s(!1),size:"small",children:r("")})]})]}):P.jsxs(pt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-end"},children:[P.jsx(pt,{children:P.jsxs(mr,{variant:"body2",sx:{mb:1},children:[P.jsxs("strong",{children:[r(" Host"),":"]})," ",t.host||r("")]})}),P.jsx(Sr,{variant:"outlined",size:"small",onClick:()=>s(!0),children:r("")})]})}),P.jsx(Mu,{sx:{mb:3,p:2},children:P.jsxs(pt,{sx:{display:"flex",flexDirection:"column",gap:2,alignItems:"flex-start"},children:[P.jsx(mr,{variant:"body2",color:"textSecondary",children:r("")}),P.jsx(pt,{sx:{display:"flex",alignItems:"center",gap:2},children:P.jsxs(Sr,{component:"label",variant:"contained",startIcon:c?P.jsx(_f,{size:20,color:"inherit"}):P.jsx(R9,{}),disabled:c,children:[r(c?"...":""),P.jsx("input",{type:"file",hidden:!0,accept:"image/*",multiple:!0,onChange:y})]})})]})}),P.jsx(pt,{sx:{mb:2},children:P.jsx(On,{fullWidth:!0,placeholder:r(""),value:a,onChange:F=>o(F.target.value),InputProps:{startAdornment:P.jsx(Dae,{position:"start",children:P.jsx(Dk,{})})},size:"small"})}),P.jsxs(Jo,{container:!0,spacing:2,children:[U.map((F,w)=>P.jsx(Jo,{item:!0,xs:6,sm:4,md:3,lg:2,children:P.jsxs(Mu,{sx:{position:"relative",height:"100%",display:"flex",flexDirection:"column"},children:[P.jsx(pt,{sx:{p:1,display:"flex",justifyContent:"center",bgcolor:"#f5f5f5",height:100,alignItems:"center"},children:P.jsx(pt,{component:"img",src:F.url.startsWith("http")?F.url:`${t.host}${F.url}`,alt:F.name,sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"}})}),P.jsxs(Ud,{sx:{p:1.5,flexGrow:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[P.jsx(s4,{title:F.name,children:P.jsx(mr,{variant:"subtitle2",noWrap:!0,sx:{maxWidth:"70%"},children:F.name})}),P.jsx(s4,{title:r(""),children:P.jsx(Ml,{size:"small",color:"primary",onClick:()=>_(F.name,F.url,F.allNames),children:P.jsx(fSe,{fontSize:"small"})})})]})]})},`${F.name}-${w}`)),U.length===0&&P.jsx(Jo,{item:!0,xs:12,children:P.jsx(mr,{align:"center",color:"textSecondary",sx:{py:4},children:r("")})})]}),P.jsxs(xo,{open:f.open,onClose:C,maxWidth:"sm",fullWidth:!0,children:[P.jsx(eh,{children:r("")}),P.jsx(vv,{children:P.jsxs(pt,{sx:{pt:1},children:[P.jsx(pt,{sx:{display:"flex",justifyContent:"center",mb:2},children:P.jsx(pt,{component:"img",src:f.sourceUrl.startsWith("http")?f.sourceUrl:`${t.host}${f.sourceUrl}`,sx:{maxHeight:100,maxWidth:"100%",objectFit:"contain"}})}),P.jsx(mr,{variant:"subtitle2",gutterBottom:!0,children:r("")}),P.jsxs(jh,{direction:"row",spacing:1,useFlexGap:!0,flexWrap:"wrap",sx:{mb:3},children:[f.currentAliases.map(F=>P.jsx(f2,{label:F,onDelete:()=>D(F)},F)),f.currentAliases.length===0&&P.jsx(mr,{variant:"caption",color:"textSecondary",children:r("")})]}),P.jsx(mr,{variant:"subtitle2",gutterBottom:!0,children:r("")}),P.jsxs(pt,{sx:{display:"flex",gap:1},children:[P.jsx(On,{fullWidth:!0,size:"small",label:r(""),value:f.newAlias,onChange:F=>g({...f,newAlias:F.target.value}),onKeyPress:F=>{F.key==="Enter"&&k()}}),P.jsx(Sr,{onClick:k,variant:"contained",size:"small",children:r("")})]})]})}),P.jsxs(Lk,{children:[P.jsx(Sr,{onClick:C,children:r("")}),P.jsx(Sr,{onClick:I,variant:"contained",color:"primary",children:r("")})]})]}),P.jsx(sh,{open:l.open,autoHideDuration:3e3,onClose:R,anchorOrigin:{vertical:"top",horizontal:"center"},children:P.jsx(dse,{onClose:R,severity:l.type,sx:{width:"100%"},children:l.text})})]})};function mSe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return M.useMemo(()=>n=>{e.forEach(i=>i(n))},e)}const cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Km(r){const e=Object.prototype.toString.call(r);return e==="[object Window]"||e==="[object global]"}function TD(r){return"nodeType"in r}function pa(r){var e,t;return r?Km(r)?r:TD(r)&&(e=(t=r.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function CD(r){const{Document:e}=pa(r);return r instanceof e}function Ov(r){return Km(r)?!1:r instanceof pa(r).HTMLElement}function L9(r){return r instanceof pa(r).SVGElement}function Xm(r){return r?Km(r)?r.document:TD(r)?CD(r)?r:Ov(r)||L9(r)?r.ownerDocument:document:document:document}const ul=cT?M.useLayoutEffect:M.useEffect;function dT(r){const e=M.useRef(r);return ul(()=>{e.current=r}),M.useCallback(function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function gSe(){const r=M.useRef(null),e=M.useCallback((n,i)=>{r.current=setInterval(n,i)},[]),t=M.useCallback(()=>{r.current!==null&&(clearInterval(r.current),r.current=null)},[]);return[e,t]}function X0(r,e){e===void 0&&(e=[r]);const t=M.useRef(r);return ul(()=>{t.current!==r&&(t.current=r)},e),t}function Mv(r,e){const t=M.useRef();return M.useMemo(()=>{const n=r(t.current);return t.current=n,n},[...e])}function $b(r){const e=dT(r),t=M.useRef(null),n=M.useCallback(i=>{i!==t.current&&e?.(i,t.current),t.current=i},[]);return[t,n]}function jb(r){const e=M.useRef();return M.useEffect(()=>{e.current=r},[r]),e.current}let yw={};function Fv(r,e){return M.useMemo(()=>{if(e)return e;const t=yw[r]==null?0:yw[r]+1;return yw[r]=t,r+"-"+t},[r,e])}function O9(r){return function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((s,a)=>{const o=Object.entries(a);for(const[l,u]of o){const c=s[l];c!=null&&(s[l]=c+r*u)}return s},{...e})}}const Gp=O9(1),Y0=O9(-1);function vSe(r){return"clientX"in r&&"clientY"in r}function hT(r){if(!r)return!1;const{KeyboardEvent:e}=pa(r.target);return e&&r instanceof e}function ySe(r){if(!r)return!1;const{TouchEvent:e}=pa(r.target);return e&&r instanceof e}function zb(r){if(ySe(r)){if(r.touches&&r.touches.length){const{clientX:e,clientY:t}=r.touches[0];return{x:e,y:t}}else if(r.changedTouches&&r.changedTouches.length){const{clientX:e,clientY:t}=r.changedTouches[0];return{x:e,y:t}}}return vSe(r)?{x:r.clientX,y:r.clientY}:null}const Jd=Object.freeze({Translate:{toString(r){if(!r)return;const{x:e,y:t}=r;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(r){if(!r)return;const{scaleX:e,scaleY:t}=r;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(r){if(r)return[Jd.Translate.toString(r),Jd.Scale.toString(r)].join(" ")}},Transition:{toString(r){let{property:e,duration:t,easing:n}=r;return e+" "+t+"ms "+n}}}),EF="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function xSe(r){return r.matches(EF)?r:r.querySelector(EF)}const _Se={display:"none"};function bSe(r){let{id:e,value:t}=r;return Yr.createElement("div",{id:e,style:_Se},t)}function SSe(r){let{id:e,announcement:t,ariaLiveType:n="assertive"}=r;const i={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Yr.createElement("div",{id:e,style:i,role:"status","aria-live":n,"aria-atomic":!0},t)}function TSe(){const[r,e]=M.useState("");return{announce:M.useCallback(n=>{n!=null&&e(n)},[]),announcement:r}}const M9=M.createContext(null);function CSe(r){const e=M.useContext(M9);M.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(r)},[r,e])}function wSe(){const[r]=M.useState(()=>new Set),e=M.useCallback(n=>(r.add(n),()=>r.delete(n)),[r]);return[M.useCallback(n=>{let{type:i,event:s}=n;r.forEach(a=>{var o;return(o=a[i])==null?void 0:o.call(a,s)})},[r]),e]}const ESe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},kSe={onDragStart(r){let{active:e}=r;return"Picked up draggable item "+e.id+"."},onDragOver(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(r){let{active:e,over:t}=r;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(r){let{active:e}=r;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ASe(r){let{announcements:e=kSe,container:t,hiddenTextDescribedById:n,screenReaderInstructions:i=ESe}=r;const{announce:s,announcement:a}=TSe(),o=Fv("DndLiveRegion"),[l,u]=M.useState(!1);if(M.useEffect(()=>{u(!0)},[]),CSe(M.useMemo(()=>({onDragStart(h){let{active:f}=h;s(e.onDragStart({active:f}))},onDragMove(h){let{active:f,over:g}=h;e.onDragMove&&s(e.onDragMove({active:f,over:g}))},onDragOver(h){let{active:f,over:g}=h;s(e.onDragOver({active:f,over:g}))},onDragEnd(h){let{active:f,over:g}=h;s(e.onDragEnd({active:f,over:g}))},onDragCancel(h){let{active:f,over:g}=h;s(e.onDragCancel({active:f,over:g}))}}),[s,e])),!l)return null;const c=Yr.createElement(Yr.Fragment,null,Yr.createElement(bSe,{id:n,value:i.draggable}),Yr.createElement(SSe,{id:o,announcement:a}));return t?Qo.createPortal(c,t):c}var Ui;(function(r){r.DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable"})(Ui||(Ui={}));function Hb(){}function kF(r,e){return M.useMemo(()=>({sensor:r,options:e??{}}),[r,e])}function DSe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return M.useMemo(()=>[...e].filter(n=>n!=null),[...e])}const $l=Object.freeze({x:0,y:0});function ISe(r,e){return Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2))}function PSe(r,e){const t=zb(r);if(!t)return"0 0";const n={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return n.x+"% "+n.y+"%"}function RSe(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return t-n}function LSe(r,e){let{data:{value:t}}=r,{data:{value:n}}=e;return n-t}function AF(r){let{left:e,top:t,height:n,width:i}=r;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+n},{x:e+i,y:t+n}]}function F9(r,e){if(!r||r.length===0)return null;const[t]=r;return t[e]}const OSe=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=AF(e),s=[];for(const a of n){const{id:o}=a,l=t.get(o);if(l){const u=AF(l),c=i.reduce((f,g,v)=>f+ISe(u[v],g),0),h=Number((c/4).toFixed(4));s.push({id:o,data:{droppableContainer:a,value:h}})}}return s.sort(RSe)};function MSe(r,e){const t=Math.max(e.top,r.top),n=Math.max(e.left,r.left),i=Math.min(e.left+e.width,r.left+r.width),s=Math.min(e.top+e.height,r.top+r.height),a=i-n,o=s-t;if(n<i&&t<s){const l=e.width*e.height,u=r.width*r.height,c=a*o,h=c/(l+u-c);return Number(h.toFixed(4))}return 0}const FSe=r=>{let{collisionRect:e,droppableRects:t,droppableContainers:n}=r;const i=[];for(const s of n){const{id:a}=s,o=t.get(a);if(o){const l=MSe(o,e);l>0&&i.push({id:a,data:{droppableContainer:s,value:l}})}}return i.sort(LSe)};function BSe(r,e,t){return{...r,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function B9(r,e){return r&&e?{x:r.left-e.left,y:r.top-e.top}:$l}function NSe(r){return function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return i.reduce((a,o)=>({...a,top:a.top+r*o.y,bottom:a.bottom+r*o.y,left:a.left+r*o.x,right:a.right+r*o.x}),{...t})}}const USe=NSe(1);function N9(r){if(r.startsWith("matrix3d(")){const e=r.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(r.startsWith("matrix(")){const e=r.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function $Se(r,e,t){const n=N9(e);if(!n)return r;const{scaleX:i,scaleY:s,x:a,y:o}=n,l=r.left-a-(1-i)*parseFloat(t),u=r.top-o-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),c=i?r.width/i:r.width,h=s?r.height/s:r.height;return{width:c,height:h,top:u,right:l+c,bottom:u+h,left:l}}const jSe={ignoreTransform:!1};function Ym(r,e){e===void 0&&(e=jSe);let t=r.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:c}=pa(r).getComputedStyle(r);u&&(t=$Se(t,u,c))}const{top:n,left:i,width:s,height:a,bottom:o,right:l}=t;return{top:n,left:i,width:s,height:a,bottom:o,right:l}}function DF(r){return Ym(r,{ignoreTransform:!0})}function zSe(r){const e=r.innerWidth,t=r.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function HSe(r,e){return e===void 0&&(e=pa(r).getComputedStyle(r)),e.position==="fixed"}function VSe(r,e){e===void 0&&(e=pa(r).getComputedStyle(r));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function fT(r,e){const t=[];function n(i){if(e!=null&&t.length>=e||!i)return t;if(CD(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!Ov(i)||L9(i)||t.includes(i))return t;const s=pa(r).getComputedStyle(i);return i!==r&&VSe(i,s)&&t.push(i),HSe(i,s)?t:n(i.parentNode)}return r?n(r):t}function U9(r){const[e]=fT(r,1);return e??null}function xw(r){return!cT||!r?null:Km(r)?r:TD(r)?CD(r)||r===Xm(r).scrollingElement?window:Ov(r)?r:null:null}function $9(r){return Km(r)?r.scrollX:r.scrollLeft}function j9(r){return Km(r)?r.scrollY:r.scrollTop}function wE(r){return{x:$9(r),y:j9(r)}}var rs;(function(r){r[r.Forward=1]="Forward",r[r.Backward=-1]="Backward"})(rs||(rs={}));function z9(r){return!cT||!r?!1:r===document.scrollingElement}function H9(r){const e={x:0,y:0},t=z9(r)?{height:window.innerHeight,width:window.innerWidth}:{height:r.clientHeight,width:r.clientWidth},n={x:r.scrollWidth-t.width,y:r.scrollHeight-t.height},i=r.scrollTop<=e.y,s=r.scrollLeft<=e.x,a=r.scrollTop>=n.y,o=r.scrollLeft>=n.x;return{isTop:i,isLeft:s,isBottom:a,isRight:o,maxScroll:n,minScroll:e}}const WSe={x:.2,y:.2};function qSe(r,e,t,n,i){let{top:s,left:a,right:o,bottom:l}=t;n===void 0&&(n=10),i===void 0&&(i=WSe);const{isTop:u,isBottom:c,isLeft:h,isRight:f}=H9(r),g={x:0,y:0},v={x:0,y:0},y={height:e.height*i.y,width:e.width*i.x};return!u&&s<=e.top+y.height?(g.y=rs.Backward,v.y=n*Math.abs((e.top+y.height-s)/y.height)):!c&&l>=e.bottom-y.height&&(g.y=rs.Forward,v.y=n*Math.abs((e.bottom-y.height-l)/y.height)),!f&&o>=e.right-y.width?(g.x=rs.Forward,v.x=n*Math.abs((e.right-y.width-o)/y.width)):!h&&a<=e.left+y.width&&(g.x=rs.Backward,v.x=n*Math.abs((e.left+y.width-a)/y.width)),{direction:g,speed:v}}function GSe(r){if(r===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:t,right:n,bottom:i}=r.getBoundingClientRect();return{top:e,left:t,right:n,bottom:i,width:r.clientWidth,height:r.clientHeight}}function V9(r){return r.reduce((e,t)=>Gp(e,wE(t)),$l)}function KSe(r){return r.reduce((e,t)=>e+$9(t),0)}function XSe(r){return r.reduce((e,t)=>e+j9(t),0)}function W9(r,e){if(e===void 0&&(e=Ym),!r)return;const{top:t,left:n,bottom:i,right:s}=e(r);U9(r)&&(i<=0||s<=0||t>=window.innerHeight||n>=window.innerWidth)&&r.scrollIntoView({block:"center",inline:"center"})}const YSe=[["x",["left","right"],KSe],["y",["top","bottom"],XSe]];class wD{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=fT(t),i=V9(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,o]of YSe)for(const l of a)Object.defineProperty(this,l,{get:()=>{const u=o(n),c=i[s]-u;return this.rect[l]+c},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class _0{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...t)})},this.target=e}add(e,t,n){var i;(i=this.target)==null||i.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function QSe(r){const{EventTarget:e}=pa(r);return r instanceof e?r:Xm(r)}function _w(r,e){const t=Math.abs(r.x),n=Math.abs(r.y);return typeof e=="number"?Math.sqrt(t**2+n**2)>e:"x"in e&&"y"in e?t>e.x&&n>e.y:"x"in e?t>e.x:"y"in e?n>e.y:!1}var Ko;(function(r){r.Click="click",r.DragStart="dragstart",r.Keydown="keydown",r.ContextMenu="contextmenu",r.Resize="resize",r.SelectionChange="selectionchange",r.VisibilityChange="visibilitychange"})(Ko||(Ko={}));function IF(r){r.preventDefault()}function JSe(r){r.stopPropagation()}var hn;(function(r){r.Space="Space",r.Down="ArrowDown",r.Right="ArrowRight",r.Left="ArrowLeft",r.Up="ArrowUp",r.Esc="Escape",r.Enter="Enter"})(hn||(hn={}));const q9={start:[hn.Space,hn.Enter],cancel:[hn.Esc],end:[hn.Space,hn.Enter]},ZSe=(r,e)=>{let{currentCoordinates:t}=e;switch(r.code){case hn.Right:return{...t,x:t.x+25};case hn.Left:return{...t,x:t.x-25};case hn.Down:return{...t,y:t.y+25};case hn.Up:return{...t,y:t.y-25}}};class ED{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new _0(Xm(t)),this.windowListeners=new _0(pa(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ko.Resize,this.handleCancel),this.windowListeners.add(Ko.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ko.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&W9(n),t($l)}handleKeyDown(e){if(hT(e)){const{active:t,context:n,options:i}=this.props,{keyboardCodes:s=q9,coordinateGetter:a=ZSe,scrollBehavior:o="smooth"}=i,{code:l}=e;if(s.end.includes(l)){this.handleEnd(e);return}if(s.cancel.includes(l)){this.handleCancel(e);return}const{collisionRect:u}=n.current,c=u?{x:u.left,y:u.top}:$l;this.referenceCoordinates||(this.referenceCoordinates=c);const h=a(e,{active:t,context:n.current,currentCoordinates:c});if(h){const f=Y0(h,c),g={x:0,y:0},{scrollableAncestors:v}=n.current;for(const y of v){const _=e.code,{isTop:C,isRight:k,isLeft:D,isBottom:I,maxScroll:A,minScroll:R}=H9(y),N=GSe(y),U={x:Math.min(_===hn.Right?N.right-N.width/2:N.right,Math.max(_===hn.Right?N.left:N.left+N.width/2,h.x)),y:Math.min(_===hn.Down?N.bottom-N.height/2:N.bottom,Math.max(_===hn.Down?N.top:N.top+N.height/2,h.y))},F=_===hn.Right&&!k||_===hn.Left&&!D,w=_===hn.Down&&!I||_===hn.Up&&!C;if(F&&U.x!==h.x){const $=y.scrollLeft+f.x,H=_===hn.Right&&$<=A.x||_===hn.Left&&$>=R.x;if(H&&!f.y){y.scrollTo({left:$,behavior:o});return}H?g.x=y.scrollLeft-$:g.x=_===hn.Right?y.scrollLeft-A.x:y.scrollLeft-R.x,g.x&&y.scrollBy({left:-g.x,behavior:o});break}else if(w&&U.y!==h.y){const $=y.scrollTop+f.y,H=_===hn.Down&&$<=A.y||_===hn.Up&&$>=R.y;if(H&&!f.x){y.scrollTo({top:$,behavior:o});return}H?g.y=y.scrollTop-$:g.y=_===hn.Down?y.scrollTop-A.y:y.scrollTop-R.y,g.y&&y.scrollBy({top:-g.y,behavior:o});break}}this.handleMove(e,Gp(Y0(h,this.referenceCoordinates),g))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}ED.activators=[{eventName:"onKeyDown",handler:(r,e,t)=>{let{keyboardCodes:n=q9,onActivation:i}=e,{active:s}=t;const{code:a}=r.nativeEvent;if(n.start.includes(a)){const o=s.activatorNode.current;return o&&r.target!==o?!1:(r.preventDefault(),i?.({event:r.nativeEvent}),!0)}return!1}}];function PF(r){return!!(r&&"distance"in r)}function RF(r){return!!(r&&"delay"in r)}class kD{constructor(e,t,n){var i;n===void 0&&(n=QSe(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:a}=s;this.props=e,this.events=t,this.document=Xm(a),this.documentListeners=new _0(this.document),this.listeners=new _0(n),this.windowListeners=new _0(pa(a)),this.initialCoordinates=(i=zb(s))!=null?i:$l,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(Ko.Resize,this.handleCancel),this.windowListeners.add(Ko.DragStart,IF),this.windowListeners.add(Ko.VisibilityChange,this.handleCancel),this.windowListeners.add(Ko.ContextMenu,IF),this.documentListeners.add(Ko.Keydown,this.handleKeydown),t){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(RF(t)){this.timeoutId=setTimeout(this.handleStart,t.delay);return}if(PF(t))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Ko.Click,JSe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ko.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:i,props:s}=this,{onMove:a,options:{activationConstraint:o}}=s;if(!i)return;const l=(t=zb(e))!=null?t:$l,u=Y0(i,l);if(!n&&o){if(PF(o)){if(o.tolerance!=null&&_w(u,o.tolerance))return this.handleCancel();if(_w(u,o.distance))return this.handleStart()}return RF(o)&&_w(u,o.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(l)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===hn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const eTe={move:{name:"pointermove"},end:{name:"pointerup"}};class AD extends kD{constructor(e){const{event:t}=e,n=Xm(t.target);super(e,eTe,n)}}AD.activators=[{eventName:"onPointerDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return!t.isPrimary||t.button!==0?!1:(n?.({event:t}),!0)}}];const tTe={move:{name:"mousemove"},end:{name:"mouseup"}};var EE;(function(r){r[r.RightClick=2]="RightClick"})(EE||(EE={}));class rTe extends kD{constructor(e){super(e,tTe,Xm(e.event.target))}}rTe.activators=[{eventName:"onMouseDown",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;return t.button===EE.RightClick?!1:(n?.({event:t}),!0)}}];const bw={move:{name:"touchmove"},end:{name:"touchend"}};class nTe extends kD{constructor(e){super(e,bw)}static setup(){return window.addEventListener(bw.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(bw.move.name,e)};function e(){}}}nTe.activators=[{eventName:"onTouchStart",handler:(r,e)=>{let{nativeEvent:t}=r,{onActivation:n}=e;const{touches:i}=t;return i.length>1?!1:(n?.({event:t}),!0)}}];var b0;(function(r){r[r.Pointer=0]="Pointer",r[r.DraggableRect=1]="DraggableRect"})(b0||(b0={}));var Vb;(function(r){r[r.TreeOrder=0]="TreeOrder",r[r.ReversedTreeOrder=1]="ReversedTreeOrder"})(Vb||(Vb={}));function iTe(r){let{acceleration:e,activator:t=b0.Pointer,canScroll:n,draggingRect:i,enabled:s,interval:a=5,order:o=Vb.TreeOrder,pointerCoordinates:l,scrollableAncestors:u,scrollableAncestorRects:c,delta:h,threshold:f}=r;const g=aTe({delta:h,disabled:!s}),[v,y]=gSe(),_=M.useRef({x:0,y:0}),C=M.useRef({x:0,y:0}),k=M.useMemo(()=>{switch(t){case b0.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case b0.DraggableRect:return i}},[t,i,l]),D=M.useRef(null),I=M.useCallback(()=>{const R=D.current;if(!R)return;const N=_.current.x*C.current.x,U=_.current.y*C.current.y;R.scrollBy(N,U)},[]),A=M.useMemo(()=>o===Vb.TreeOrder?[...u].reverse():u,[o,u]);M.useEffect(()=>{if(!s||!u.length||!k){y();return}for(const R of A){if(n?.(R)===!1)continue;const N=u.indexOf(R),U=c[N];if(!U)continue;const{direction:F,speed:w}=qSe(R,U,k,e,f);for(const $ of["x","y"])g[$][F[$]]||(w[$]=0,F[$]=0);if(w.x>0||w.y>0){y(),D.current=R,v(I,a),_.current=w,C.current=F;return}}_.current={x:0,y:0},C.current={x:0,y:0},y()},[e,I,n,y,s,a,JSON.stringify(k),JSON.stringify(g),v,u,A,c,JSON.stringify(f)])}const sTe={x:{[rs.Backward]:!1,[rs.Forward]:!1},y:{[rs.Backward]:!1,[rs.Forward]:!1}};function aTe(r){let{delta:e,disabled:t}=r;const n=jb(e);return Mv(i=>{if(t||!n||!i)return sTe;const s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[rs.Backward]:i.x[rs.Backward]||s.x===-1,[rs.Forward]:i.x[rs.Forward]||s.x===1},y:{[rs.Backward]:i.y[rs.Backward]||s.y===-1,[rs.Forward]:i.y[rs.Forward]||s.y===1}}},[t,e,n])}function oTe(r,e){const t=e!==null?r.get(e):void 0,n=t?t.node.current:null;return Mv(i=>{var s;return e===null?null:(s=n??i)!=null?s:null},[n,e])}function lTe(r,e){return M.useMemo(()=>r.reduce((t,n)=>{const{sensor:i}=n,s=i.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,n)}));return[...t,...s]},[]),[r,e])}var Q0;(function(r){r[r.Always=0]="Always",r[r.BeforeDragging=1]="BeforeDragging",r[r.WhileDragging=2]="WhileDragging"})(Q0||(Q0={}));var kE;(function(r){r.Optimized="optimized"})(kE||(kE={}));const LF=new Map;function uTe(r,e){let{dragging:t,dependencies:n,config:i}=e;const[s,a]=M.useState(null),{frequency:o,measure:l,strategy:u}=i,c=M.useRef(r),h=_(),f=X0(h),g=M.useCallback(function(C){C===void 0&&(C=[]),!f.current&&a(k=>k===null?C:k.concat(C.filter(D=>!k.includes(D))))},[f]),v=M.useRef(null),y=Mv(C=>{if(h&&!t)return LF;if(!C||C===LF||c.current!==r||s!=null){const k=new Map;for(let D of r){if(!D)continue;if(s&&s.length>0&&!s.includes(D.id)&&D.rect.current){k.set(D.id,D.rect.current);continue}const I=D.node.current,A=I?new wD(l(I),I):null;D.rect.current=A,A&&k.set(D.id,A)}return k}return C},[r,s,t,h,l]);return M.useEffect(()=>{c.current=r},[r]),M.useEffect(()=>{h||g()},[t,h]),M.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),M.useEffect(()=>{h||typeof o!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},o))},[o,h,g,...n]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:s!=null};function _(){switch(u){case Q0.Always:return!1;case Q0.BeforeDragging:return t;default:return!t}}}function DD(r,e){return Mv(t=>r?t||(typeof e=="function"?e(r):r):null,[e,r])}function cTe(r,e){return DD(r,e)}function dTe(r){let{callback:e,disabled:t}=r;const n=dT(e),i=M.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(n)},[n,t]);return M.useEffect(()=>()=>i?.disconnect(),[i]),i}function pT(r){let{callback:e,disabled:t}=r;const n=dT(e),i=M.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(n)},[t]);return M.useEffect(()=>()=>i?.disconnect(),[i]),i}function hTe(r){return new wD(Ym(r),r)}function OF(r,e,t){e===void 0&&(e=hTe);const[n,i]=M.useReducer(o,null),s=dTe({callback(l){if(r)for(const u of l){const{type:c,target:h}=u;if(c==="childList"&&h instanceof HTMLElement&&h.contains(r)){i();break}}}}),a=pT({callback:i});return ul(()=>{i(),r?(a?.observe(r),s?.observe(document.body,{childList:!0,subtree:!0})):(a?.disconnect(),s?.disconnect())},[r]),n;function o(l){if(!r)return null;if(r.isConnected===!1){var u;return(u=l??t)!=null?u:null}const c=e(r);return JSON.stringify(l)===JSON.stringify(c)?l:c}}function fTe(r){const e=DD(r);return B9(r,e)}const MF=[];function pTe(r){const e=M.useRef(r),t=Mv(n=>r?n&&n!==MF&&r&&e.current&&r.parentNode===e.current.parentNode?n:fT(r):MF,[r]);return M.useEffect(()=>{e.current=r},[r]),t}function mTe(r){const[e,t]=M.useState(null),n=M.useRef(r),i=M.useCallback(s=>{const a=xw(s.target);a&&t(o=>o?(o.set(a,wE(a)),new Map(o)):null)},[]);return M.useEffect(()=>{const s=n.current;if(r!==s){a(s);const o=r.map(l=>{const u=xw(l);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,wE(u)]):null}).filter(l=>l!=null);t(o.length?new Map(o):null),n.current=r}return()=>{a(r),a(s)};function a(o){o.forEach(l=>{const u=xw(l);u?.removeEventListener("scroll",i)})}},[i,r]),M.useMemo(()=>r.length?e?Array.from(e.values()).reduce((s,a)=>Gp(s,a),$l):V9(r):$l,[r,e])}function FF(r,e){e===void 0&&(e=[]);const t=M.useRef(null);return M.useEffect(()=>{t.current=null},e),M.useEffect(()=>{const n=r!==$l;n&&!t.current&&(t.current=r),!n&&t.current&&(t.current=null)},[r]),t.current?Y0(r,t.current):$l}function gTe(r){M.useEffect(()=>{if(!cT)return;const e=r.map(t=>{let{sensor:n}=t;return n.setup==null?void 0:n.setup()});return()=>{for(const t of e)t?.()}},r.map(e=>{let{sensor:t}=e;return t}))}function vTe(r,e){return M.useMemo(()=>r.reduce((t,n)=>{let{eventName:i,handler:s}=n;return t[i]=a=>{s(a,e)},t},{}),[r,e])}function G9(r){return M.useMemo(()=>r?zSe(r):null,[r])}const Sw=[];function yTe(r,e){e===void 0&&(e=Ym);const[t]=r,n=G9(t?pa(t):null),[i,s]=M.useReducer(o,Sw),a=pT({callback:s});return r.length>0&&i===Sw&&s(),ul(()=>{r.length?r.forEach(l=>a?.observe(l)):(a?.disconnect(),s())},[r]),i;function o(){return r.length?r.map(l=>z9(l)?n:new wD(e(l),l)):Sw}}function K9(r){if(!r)return null;if(r.children.length>1)return r;const e=r.children[0];return Ov(e)?e:r}function xTe(r){let{measure:e}=r;const[t,n]=M.useState(null),i=M.useCallback(u=>{for(const{target:c}of u)if(Ov(c)){n(h=>{const f=e(c);return h?{...h,width:f.width,height:f.height}:f});break}},[e]),s=pT({callback:i}),a=M.useCallback(u=>{const c=K9(u);s?.disconnect(),c&&s?.observe(c),n(c?e(c):null)},[e,s]),[o,l]=$b(a);return M.useMemo(()=>({nodeRef:o,rect:t,setRef:l}),[t,o,l])}const _Te=[{sensor:AD,options:{}},{sensor:ED,options:{}}],bTe={current:{}},x_={draggable:{measure:DF},droppable:{measure:DF,strategy:Q0.WhileDragging,frequency:kE.Optimized},dragOverlay:{measure:Ym}};class S0 extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return(t=(n=this.get(e))==null?void 0:n.node.current)!=null?t:void 0}}const STe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new S0,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Hb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:x_,measureDroppableContainers:Hb,windowRect:null,measuringScheduled:!1},X9={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Hb,draggableNodes:new Map,over:null,measureDroppableContainers:Hb},Bv=M.createContext(X9),Y9=M.createContext(STe);function TTe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new S0}}}function CTe(r,e){switch(e.type){case Ui.DragStart:return{...r,draggable:{...r.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ui.DragMove:return r.draggable.active?{...r,draggable:{...r.draggable,translate:{x:e.coordinates.x-r.draggable.initialCoordinates.x,y:e.coordinates.y-r.draggable.initialCoordinates.y}}}:r;case Ui.DragEnd:case Ui.DragCancel:return{...r,draggable:{...r.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ui.RegisterDroppable:{const{element:t}=e,{id:n}=t,i=new S0(r.droppable.containers);return i.set(n,t),{...r,droppable:{...r.droppable,containers:i}}}case Ui.SetDroppableDisabled:{const{id:t,key:n,disabled:i}=e,s=r.droppable.containers.get(t);if(!s||n!==s.key)return r;const a=new S0(r.droppable.containers);return a.set(t,{...s,disabled:i}),{...r,droppable:{...r.droppable,containers:a}}}case Ui.UnregisterDroppable:{const{id:t,key:n}=e,i=r.droppable.containers.get(t);if(!i||n!==i.key)return r;const s=new S0(r.droppable.containers);return s.delete(t),{...r,droppable:{...r.droppable,containers:s}}}default:return r}}function wTe(r){let{disabled:e}=r;const{active:t,activatorEvent:n,draggableNodes:i}=M.useContext(Bv),s=jb(n),a=jb(t?.id);return M.useEffect(()=>{if(!e&&!n&&s&&a!=null){if(!hT(s)||document.activeElement===s.target)return;const o=i.get(a);if(!o)return;const{activatorNode:l,node:u}=o;if(!l.current&&!u.current)return;requestAnimationFrame(()=>{for(const c of[l.current,u.current]){if(!c)continue;const h=xSe(c);if(h){h.focus();break}}})}},[n,e,i,a,s]),null}function Q9(r,e){let{transform:t,...n}=e;return r!=null&&r.length?r.reduce((i,s)=>s({transform:i,...n}),t):t}function ETe(r){return M.useMemo(()=>({draggable:{...x_.draggable,...r?.draggable},droppable:{...x_.droppable,...r?.droppable},dragOverlay:{...x_.dragOverlay,...r?.dragOverlay}}),[r?.draggable,r?.droppable,r?.dragOverlay])}function kTe(r){let{activeNode:e,measure:t,initialRect:n,config:i=!0}=r;const s=M.useRef(!1),{x:a,y:o}=typeof i=="boolean"?{x:i,y:i}:i;ul(()=>{if(!a&&!o||!e){s.current=!1;return}if(s.current||!n)return;const u=e?.node.current;if(!u||u.isConnected===!1)return;const c=t(u),h=B9(c,n);if(a||(h.x=0),o||(h.y=0),s.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const f=U9(u);f&&f.scrollBy({top:h.y,left:h.x})}},[e,a,o,n,t])}const mT=M.createContext({...$l,scaleX:1,scaleY:1});var Pd;(function(r){r[r.Uninitialized=0]="Uninitialized",r[r.Initializing=1]="Initializing",r[r.Initialized=2]="Initialized"})(Pd||(Pd={}));const ATe=M.memo(function(e){var t,n,i,s;let{id:a,accessibility:o,autoScroll:l=!0,children:u,sensors:c=_Te,collisionDetection:h=FSe,measuring:f,modifiers:g,...v}=e;const y=M.useReducer(CTe,void 0,TTe),[_,C]=y,[k,D]=wSe(),[I,A]=M.useState(Pd.Uninitialized),R=I===Pd.Initialized,{draggable:{active:N,nodes:U,translate:F},droppable:{containers:w}}=_,$=N?U.get(N):null,H=M.useRef({initial:null,translated:null}),W=M.useMemo(()=>{var Fr;return N!=null?{id:N,data:(Fr=$?.data)!=null?Fr:bTe,rect:H}:null},[N,$]),Q=M.useRef(null),[te,oe]=M.useState(null),[de,le]=M.useState(null),ae=X0(v,Object.values(v)),ie=Fv("DndDescribedBy",a),ee=M.useMemo(()=>w.getEnabled(),[w]),pe=ETe(f),{droppableRects:ve,measureDroppableContainers:_e,measuringScheduled:Le}=uTe(ee,{dragging:R,dependencies:[F.x,F.y],config:pe.droppable}),Re=oTe(U,N),ot=M.useMemo(()=>de?zb(de):null,[de]),ze=wn(),mt=cTe(Re,pe.draggable.measure);kTe({activeNode:N?U.get(N):null,config:ze.layoutShiftCompensation,initialRect:mt,measure:pe.draggable.measure});const Je=OF(Re,pe.draggable.measure,mt),Pt=OF(Re?Re.parentElement:null),Rt=M.useRef({activatorEvent:null,active:null,activeNode:Re,collisionRect:null,collisions:null,droppableRects:ve,draggableNodes:U,draggingNode:null,draggingNodeRect:null,droppableContainers:w,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ve=w.getNodeFor((t=Rt.current.over)==null?void 0:t.id),Ne=xTe({measure:pe.dragOverlay.measure}),et=(n=Ne.nodeRef.current)!=null?n:Re,at=R?(i=Ne.rect)!=null?i:Je:null,Me=!!(Ne.nodeRef.current&&Ne.rect),$e=fTe(Me?null:Je),qe=G9(et?pa(et):null),Ye=pTe(R?Ve??Re:null),vt=yTe(Ye),ut=Q9(g,{transform:{x:F.x-$e.x,y:F.y-$e.y,scaleX:1,scaleY:1},activatorEvent:de,active:W,activeNodeRect:Je,containerNodeRect:Pt,draggingNodeRect:at,over:Rt.current.over,overlayNodeRect:Ne.rect,scrollableAncestors:Ye,scrollableAncestorRects:vt,windowRect:qe}),gr=ot?Gp(ot,F):null,hr=mTe(Ye),Rr=FF(hr),nr=FF(hr,[Je]),qt=Gp(ut,Rr),fr=at?USe(at,ut):null,xr=W&&fr?h({active:W,collisionRect:fr,droppableRects:ve,droppableContainers:ee,pointerCoordinates:gr}):null,Lr=F9(xr,"id"),[xt,Ut]=M.useState(null),rn=Me?ut:Gp(ut,nr),jt=BSe(rn,(s=xt?.rect)!=null?s:null,Je),Tr=M.useCallback((Fr,se)=>{let{sensor:fe,options:Te}=se;if(Q.current==null)return;const je=U.get(Q.current);if(!je)return;const gt=Fr.nativeEvent,Tt=new fe({active:Q.current,activeNode:je,event:gt,options:Te,context:Rt,onStart(ye){const Ae=Q.current;if(Ae==null)return;const Xe=U.get(Ae);if(!Xe)return;const{onDragStart:Qe}=ae.current,St={active:{id:Ae,data:Xe.data,rect:H}};Qo.unstable_batchedUpdates(()=>{Qe?.(St),A(Pd.Initializing),C({type:Ui.DragStart,initialCoordinates:ye,active:Ae}),k({type:"onDragStart",event:St})})},onMove(ye){C({type:Ui.DragMove,coordinates:ye})},onEnd:be(Ui.DragEnd),onCancel:be(Ui.DragCancel)});Qo.unstable_batchedUpdates(()=>{oe(Tt),le(Fr.nativeEvent)});function be(ye){return async function(){const{active:Xe,collisions:Qe,over:St,scrollAdjustedTranslate:Lt}=Rt.current;let dt=null;if(Xe&&Lt){const{cancelDrop:_t}=ae.current;dt={activatorEvent:gt,active:Xe,collisions:Qe,delta:Lt,over:St},ye===Ui.DragEnd&&typeof _t=="function"&&await Promise.resolve(_t(dt))&&(ye=Ui.DragCancel)}Q.current=null,Qo.unstable_batchedUpdates(()=>{C({type:ye}),A(Pd.Uninitialized),Ut(null),oe(null),le(null);const _t=ye===Ui.DragEnd?"onDragEnd":"onDragCancel";if(dt){const Vt=ae.current[_t];Vt?.(dt),k({type:_t,event:dt})}})}}},[U]),Or=M.useCallback((Fr,se)=>(fe,Te)=>{const je=fe.nativeEvent,gt=U.get(Te);if(Q.current!==null||!gt||je.dndKit||je.defaultPrevented)return;const Tt={active:gt};Fr(fe,se.options,Tt)===!0&&(je.dndKit={capturedBy:se.sensor},Q.current=Te,Tr(fe,se))},[U,Tr]),Hr=lTe(c,Or);gTe(c),ul(()=>{Je&&I===Pd.Initializing&&A(Pd.Initialized)},[Je,I]),M.useEffect(()=>{const{onDragMove:Fr}=ae.current,{active:se,activatorEvent:fe,collisions:Te,over:je}=Rt.current;if(!se||!fe)return;const gt={active:se,activatorEvent:fe,collisions:Te,delta:{x:qt.x,y:qt.y},over:je};Qo.unstable_batchedUpdates(()=>{Fr?.(gt),k({type:"onDragMove",event:gt})})},[qt.x,qt.y]),M.useEffect(()=>{const{active:Fr,activatorEvent:se,collisions:fe,droppableContainers:Te,scrollAdjustedTranslate:je}=Rt.current;if(!Fr||Q.current==null||!se||!je)return;const{onDragOver:gt}=ae.current,Tt=Te.get(Lr),be=Tt&&Tt.rect.current?{id:Tt.id,rect:Tt.rect.current,data:Tt.data,disabled:Tt.disabled}:null,ye={active:Fr,activatorEvent:se,collisions:fe,delta:{x:je.x,y:je.y},over:be};Qo.unstable_batchedUpdates(()=>{Ut(be),gt?.(ye),k({type:"onDragOver",event:ye})})},[Lr]),ul(()=>{Rt.current={activatorEvent:de,active:W,activeNode:Re,collisionRect:fr,collisions:xr,droppableRects:ve,draggableNodes:U,draggingNode:et,draggingNodeRect:at,droppableContainers:w,over:xt,scrollableAncestors:Ye,scrollAdjustedTranslate:qt},H.current={initial:at,translated:fr}},[W,Re,xr,fr,U,et,at,ve,w,xt,Ye,qt]),iTe({...ze,delta:F,draggingRect:fr,pointerCoordinates:gr,scrollableAncestors:Ye,scrollableAncestorRects:vt});const ln=M.useMemo(()=>({active:W,activeNode:Re,activeNodeRect:Je,activatorEvent:de,collisions:xr,containerNodeRect:Pt,dragOverlay:Ne,draggableNodes:U,droppableContainers:w,droppableRects:ve,over:xt,measureDroppableContainers:_e,scrollableAncestors:Ye,scrollableAncestorRects:vt,measuringConfiguration:pe,measuringScheduled:Le,windowRect:qe}),[W,Re,Je,de,xr,Pt,Ne,U,w,ve,xt,_e,Ye,vt,pe,Le,qe]),Cn=M.useMemo(()=>({activatorEvent:de,activators:Hr,active:W,activeNodeRect:Je,ariaDescribedById:{draggable:ie},dispatch:C,draggableNodes:U,over:xt,measureDroppableContainers:_e}),[de,Hr,W,Je,C,ie,U,xt,_e]);return Yr.createElement(M9.Provider,{value:D},Yr.createElement(Bv.Provider,{value:Cn},Yr.createElement(Y9.Provider,{value:ln},Yr.createElement(mT.Provider,{value:jt},u)),Yr.createElement(wTe,{disabled:o?.restoreFocus===!1})),Yr.createElement(ASe,{...o,hiddenTextDescribedById:ie}));function wn(){const Fr=te?.autoScrollEnabled===!1,se=typeof l=="object"?l.enabled===!1:l===!1,fe=R&&!Fr&&!se;return typeof l=="object"?{...l,enabled:fe}:{enabled:fe}}}),DTe=M.createContext(null),BF="button",ITe="Droppable";function PTe(r){let{id:e,data:t,disabled:n=!1,attributes:i}=r;const s=Fv(ITe),{activators:a,activatorEvent:o,active:l,activeNodeRect:u,ariaDescribedById:c,draggableNodes:h,over:f}=M.useContext(Bv),{role:g=BF,roleDescription:v="draggable",tabIndex:y=0}=i??{},_=l?.id===e,C=M.useContext(_?mT:DTe),[k,D]=$b(),[I,A]=$b(),R=vTe(a,e),N=X0(t);ul(()=>(h.set(e,{id:e,key:s,node:k,activatorNode:I,data:N}),()=>{const F=h.get(e);F&&F.key===s&&h.delete(e)}),[h,e]);const U=M.useMemo(()=>({role:g,tabIndex:y,"aria-disabled":n,"aria-pressed":_&&g===BF?!0:void 0,"aria-roledescription":v,"aria-describedby":c.draggable}),[n,g,y,_,v,c.draggable]);return{active:l,activatorEvent:o,activeNodeRect:u,attributes:U,isDragging:_,listeners:n?void 0:R,node:k,over:f,setNodeRef:D,setActivatorNodeRef:A,transform:C}}function J9(){return M.useContext(Y9)}const RTe="Droppable",LTe={timeout:25};function OTe(r){let{data:e,disabled:t=!1,id:n,resizeObserverConfig:i}=r;const s=Fv(RTe),{active:a,dispatch:o,over:l,measureDroppableContainers:u}=M.useContext(Bv),c=M.useRef({disabled:t}),h=M.useRef(!1),f=M.useRef(null),g=M.useRef(null),{disabled:v,updateMeasurementsFor:y,timeout:_}={...LTe,...i},C=X0(y??n),k=M.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(C.current)?C.current:[C.current]),g.current=null},_)},[_]),D=pT({callback:k,disabled:v||!a}),I=M.useCallback((U,F)=>{D&&(F&&(D.unobserve(F),h.current=!1),U&&D.observe(U))},[D]),[A,R]=$b(I),N=X0(e);return M.useEffect(()=>{!D||!A.current||(D.disconnect(),h.current=!1,D.observe(A.current))},[A,D]),ul(()=>(o({type:Ui.RegisterDroppable,element:{id:n,key:s,disabled:t,node:A,rect:f,data:N}}),()=>o({type:Ui.UnregisterDroppable,key:s,id:n})),[n]),M.useEffect(()=>{t!==c.current.disabled&&(o({type:Ui.SetDroppableDisabled,id:n,key:s,disabled:t}),c.current.disabled=t)},[n,s,t,o]),{active:a,rect:f,isOver:l?.id===n,node:A,over:l,setNodeRef:R}}function MTe(r){let{animation:e,children:t}=r;const[n,i]=M.useState(null),[s,a]=M.useState(null),o=jb(t);return!t&&!n&&o&&i(o),ul(()=>{if(!s)return;const l=n?.key,u=n?.props.id;if(l==null||u==null){i(null);return}Promise.resolve(e(u,s)).then(()=>{i(null)})},[e,n,s]),Yr.createElement(Yr.Fragment,null,t,n?M.cloneElement(n,{ref:a}):null)}const FTe={x:0,y:0,scaleX:1,scaleY:1};function BTe(r){let{children:e}=r;return Yr.createElement(Bv.Provider,{value:X9},Yr.createElement(mT.Provider,{value:FTe},e))}const NTe={position:"fixed",touchAction:"none"},UTe=r=>hT(r)?"transform 250ms ease":void 0,$Te=M.forwardRef((r,e)=>{let{as:t,activatorEvent:n,adjustScale:i,children:s,className:a,rect:o,style:l,transform:u,transition:c=UTe}=r;if(!o)return null;const h=i?u:{...u,scaleX:1,scaleY:1},f={...NTe,width:o.width,height:o.height,top:o.top,left:o.left,transform:Jd.Transform.toString(h),transformOrigin:i&&n?PSe(n,o):void 0,transition:typeof c=="function"?c(n):c,...l};return Yr.createElement(t,{className:a,style:f,ref:e},s)}),jTe=r=>e=>{let{active:t,dragOverlay:n}=e;const i={},{styles:s,className:a}=r;if(s!=null&&s.active)for(const[o,l]of Object.entries(s.active))l!==void 0&&(i[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,l));if(s!=null&&s.dragOverlay)for(const[o,l]of Object.entries(s.dragOverlay))l!==void 0&&n.node.style.setProperty(o,l);return a!=null&&a.active&&t.node.classList.add(a.active),a!=null&&a.dragOverlay&&n.node.classList.add(a.dragOverlay),function(){for(const[l,u]of Object.entries(i))t.node.style.setProperty(l,u);a!=null&&a.active&&t.node.classList.remove(a.active)}},zTe=r=>{let{transform:{initial:e,final:t}}=r;return[{transform:Jd.Transform.toString(e)},{transform:Jd.Transform.toString(t)}]},HTe={duration:250,easing:"ease",keyframes:zTe,sideEffects:jTe({styles:{active:{opacity:"0"}}})};function VTe(r){let{config:e,draggableNodes:t,droppableContainers:n,measuringConfiguration:i}=r;return dT((s,a)=>{if(e===null)return;const o=t.get(s);if(!o)return;const l=o.node.current;if(!l)return;const u=K9(a);if(!u)return;const{transform:c}=pa(a).getComputedStyle(a),h=N9(c);if(!h)return;const f=typeof e=="function"?e:WTe(e);return W9(l,i.draggable.measure),f({active:{id:s,data:o.data,node:l,rect:i.draggable.measure(l)},draggableNodes:t,dragOverlay:{node:a,rect:i.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:i,transform:h})})}function WTe(r){const{duration:e,easing:t,sideEffects:n,keyframes:i}={...HTe,...r};return s=>{let{active:a,dragOverlay:o,transform:l,...u}=s;if(!e)return;const c={x:o.rect.left-a.rect.left,y:o.rect.top-a.rect.top},h={scaleX:l.scaleX!==1?a.rect.width*l.scaleX/o.rect.width:1,scaleY:l.scaleY!==1?a.rect.height*l.scaleY/o.rect.height:1},f={x:l.x-c.x,y:l.y-c.y,...h},g=i({...u,active:a,dragOverlay:o,transform:{initial:l,final:f}}),[v]=g,y=g[g.length-1];if(JSON.stringify(v)===JSON.stringify(y))return;const _=n?.({active:a,dragOverlay:o,...u}),C=o.node.animate(g,{duration:e,easing:t,fill:"forwards"});return new Promise(k=>{C.onfinish=()=>{_?.(),k()}})}}let NF=0;function qTe(r){return M.useMemo(()=>{if(r!=null)return NF++,NF},[r])}const GTe=Yr.memo(r=>{let{adjustScale:e=!1,children:t,dropAnimation:n,style:i,transition:s,modifiers:a,wrapperElement:o="div",className:l,zIndex:u=999}=r;const{activatorEvent:c,active:h,activeNodeRect:f,containerNodeRect:g,draggableNodes:v,droppableContainers:y,dragOverlay:_,over:C,measuringConfiguration:k,scrollableAncestors:D,scrollableAncestorRects:I,windowRect:A}=J9(),R=M.useContext(mT),N=qTe(h?.id),U=Q9(a,{activatorEvent:c,active:h,activeNodeRect:f,containerNodeRect:g,draggingNodeRect:_.rect,over:C,overlayNodeRect:_.rect,scrollableAncestors:D,scrollableAncestorRects:I,transform:R,windowRect:A}),F=DD(f),w=VTe({config:n,draggableNodes:v,droppableContainers:y,measuringConfiguration:k}),$=F?_.setRef:void 0;return Yr.createElement(BTe,null,Yr.createElement(MTe,{animation:w},h&&N?Yr.createElement($Te,{key:N,id:h.id,ref:$,as:o,activatorEvent:c,adjustScale:e,className:l,transition:s,rect:F,style:{zIndex:u,...i},transform:U},t):null))});function ID(r,e,t){const n=r.slice();return n.splice(t<0?n.length+t:t,0,n.splice(e,1)[0]),n}function KTe(r,e){return r.reduce((t,n,i)=>{const s=e.get(n);return s&&(t[i]=s),t},Array(r.length))}function cx(r){return r!==null&&r>=0}function XTe(r,e){if(r===e)return!0;if(r.length!==e.length)return!1;for(let t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function YTe(r){return typeof r=="boolean"?{draggable:r,droppable:r}:r}const Z9=r=>{let{rects:e,activeIndex:t,overIndex:n,index:i}=r;const s=ID(e,n,t),a=e[i],o=s[i];return!o||!a?null:{x:o.left-a.left,y:o.top-a.top,scaleX:o.width/a.width,scaleY:o.height/a.height}},ez="Sortable",tz=Yr.createContext({activeIndex:-1,containerId:ez,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Z9,disabled:{draggable:!1,droppable:!1}});function QTe(r){let{children:e,id:t,items:n,strategy:i=Z9,disabled:s=!1}=r;const{active:a,dragOverlay:o,droppableRects:l,over:u,measureDroppableContainers:c}=J9(),h=Fv(ez,t),f=o.rect!==null,g=M.useMemo(()=>n.map(R=>typeof R=="object"&&"id"in R?R.id:R),[n]),v=a!=null,y=a?g.indexOf(a.id):-1,_=u?g.indexOf(u.id):-1,C=M.useRef(g),k=!XTe(g,C.current),D=_!==-1&&y===-1||k,I=YTe(s);ul(()=>{k&&v&&c(g)},[k,g,v,c]),M.useEffect(()=>{C.current=g},[g]);const A=M.useMemo(()=>({activeIndex:y,containerId:h,disabled:I,disableTransforms:D,items:g,overIndex:_,useDragOverlay:f,sortedRects:KTe(g,l),strategy:i}),[y,h,I.draggable,I.droppable,D,g,_,l,f,i]);return Yr.createElement(tz.Provider,{value:A},e)}const JTe=r=>{let{id:e,items:t,activeIndex:n,overIndex:i}=r;return ID(t,n,i).indexOf(e)},ZTe=r=>{let{containerId:e,isSorting:t,wasDragging:n,index:i,items:s,newIndex:a,previousItems:o,previousContainerId:l,transition:u}=r;return!u||!n||o!==s&&i===a?!1:t?!0:a!==i&&e===l},e1e={duration:200,easing:"ease"},rz="transform",t1e=Jd.Transition.toString({property:rz,duration:0,easing:"linear"}),r1e={roleDescription:"sortable"};function n1e(r){let{disabled:e,index:t,node:n,rect:i}=r;const[s,a]=M.useState(null),o=M.useRef(t);return ul(()=>{if(!e&&t!==o.current&&n.current){const l=i.current;if(l){const u=Ym(n.current,{ignoreTransform:!0}),c={x:l.left-u.left,y:l.top-u.top,scaleX:l.width/u.width,scaleY:l.height/u.height};(c.x||c.y)&&a(c)}}t!==o.current&&(o.current=t)},[e,t,n,i]),M.useEffect(()=>{s&&a(null)},[s]),s}function i1e(r){let{animateLayoutChanges:e=ZTe,attributes:t,disabled:n,data:i,getNewIndex:s=JTe,id:a,strategy:o,resizeObserverConfig:l,transition:u=e1e}=r;const{items:c,containerId:h,activeIndex:f,disabled:g,disableTransforms:v,sortedRects:y,overIndex:_,useDragOverlay:C,strategy:k}=M.useContext(tz),D=s1e(n,g),I=c.indexOf(a),A=M.useMemo(()=>({sortable:{containerId:h,index:I,items:c},...i}),[h,i,I,c]),R=M.useMemo(()=>c.slice(c.indexOf(a)),[c,a]),{rect:N,node:U,isOver:F,setNodeRef:w}=OTe({id:a,data:A,disabled:D.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...l}}),{active:$,activatorEvent:H,activeNodeRect:W,attributes:Q,setNodeRef:te,listeners:oe,isDragging:de,over:le,setActivatorNodeRef:ae,transform:ie}=PTe({id:a,data:A,attributes:{...r1e,...t},disabled:D.draggable}),ee=mSe(w,te),pe=!!$,ve=pe&&!v&&cx(f)&&cx(_),_e=!C&&de,Le=_e&&ve?ie:null,ot=ve?Le??(o??k)({rects:y,activeNodeRect:W,activeIndex:f,overIndex:_,index:I}):null,ze=cx(f)&&cx(_)?s({id:a,items:c,activeIndex:f,overIndex:_}):I,mt=$?.id,Je=M.useRef({activeId:mt,items:c,newIndex:ze,containerId:h}),Pt=c!==Je.current.items,Rt=e({active:$,containerId:h,isDragging:de,isSorting:pe,id:a,index:I,items:c,newIndex:Je.current.newIndex,previousItems:Je.current.items,previousContainerId:Je.current.containerId,transition:u,wasDragging:Je.current.activeId!=null}),Ve=n1e({disabled:!Rt,index:I,node:U,rect:N});return M.useEffect(()=>{pe&&Je.current.newIndex!==ze&&(Je.current.newIndex=ze),h!==Je.current.containerId&&(Je.current.containerId=h),c!==Je.current.items&&(Je.current.items=c)},[pe,ze,h,c]),M.useEffect(()=>{if(mt===Je.current.activeId)return;if(mt&&!Je.current.activeId){Je.current.activeId=mt;return}const et=setTimeout(()=>{Je.current.activeId=mt},50);return()=>clearTimeout(et)},[mt]),{active:$,activeIndex:f,attributes:Q,data:A,rect:N,index:I,newIndex:ze,items:c,isOver:F,isSorting:pe,isDragging:de,listeners:oe,node:U,overIndex:_,over:le,setNodeRef:ee,setActivatorNodeRef:ae,setDroppableNodeRef:w,setDraggableNodeRef:te,transform:Ve??ot,transition:Ne()};function Ne(){if(Ve||Pt&&Je.current.newIndex===I)return t1e;if(!(_e&&!hT(H)||!u)&&(pe||Rt))return Jd.Transition.toString({...u,property:rz})}}function s1e(r,e){var t,n;return typeof r=="boolean"?{draggable:r,droppable:!1}:{draggable:(t=r?.draggable)!=null?t:e.draggable,droppable:(n=r?.droppable)!=null?n:e.droppable}}function Wb(r){if(!r)return!1;const e=r.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const a1e=[hn.Down,hn.Right,hn.Up,hn.Left],o1e=(r,e)=>{let{context:{active:t,collisionRect:n,droppableRects:i,droppableContainers:s,over:a,scrollableAncestors:o}}=e;if(a1e.includes(r.code)){if(r.preventDefault(),!t||!n)return;const l=[];s.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const f=i.get(h.id);if(f)switch(r.code){case hn.Down:n.top<f.top&&l.push(h);break;case hn.Up:n.top>f.top&&l.push(h);break;case hn.Left:n.left>f.left&&l.push(h);break;case hn.Right:n.left<f.left&&l.push(h);break}});const u=OSe({collisionRect:n,droppableRects:i,droppableContainers:l});let c=F9(u,"id");if(c===a?.id&&u.length>1&&(c=u[1].id),c!=null){const h=s.get(t.id),f=s.get(c),g=f?i.get(f.id):null,v=f?.node.current;if(v&&g&&h&&f){const _=fT(v).some((R,N)=>o[N]!==R),C=nz(h,f),k=l1e(h,f),D=_||!C?{x:0,y:0}:{x:k?n.width-g.width:0,y:k?n.height-g.height:0},I={x:g.left,y:g.top};return D.x&&D.y?I:Y0(I,D)}}}};function nz(r,e){return!Wb(r)||!Wb(e)?!1:r.data.current.sortable.containerId===e.data.current.sortable.containerId}function l1e(r,e){return!Wb(r)||!Wb(e)||!nz(r,e)?!1:r.data.current.sortable.index<e.data.current.sortable.index}const iz=M.createContext({attributes:{},listeners:void 0,ref(){}});function u1e(){const{attributes:r,listeners:e,ref:t}=M.useContext(iz);return P.jsx("button",{className:"DragHandle",...r,...e,ref:t,children:P.jsx("svg",{viewBox:"0 0 20 20",width:"12",children:P.jsx("path",{d:"M7 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 2zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 7 14zm6-8a2 2 0 1 0-.001-4.001A2 2 0 0 0 13 6zm0 2a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 8zm0 6a2 2 0 1 0 .001 4.001A2 2 0 0 0 13 14z"})})})}function c1e(r){const{children:e,id:t}=r,{attributes:n,isDragging:i,listeners:s,setNodeRef:a,setActivatorNodeRef:o,transform:l,transition:u}=i1e({id:t}),c=M.useMemo(()=>({attributes:n,listeners:s,ref:o}),[n,s,o]),h={opacity:i?.4:void 0,transform:Jd.Translate.toString(l),transition:u};return P.jsx(iz.Provider,{value:c,children:P.jsx("li",{className:"SortableItem",ref:a,style:h,children:e})})}function T0(r){const{items:e,onChange:t,renderItem:n}=r,[i,s]=M.useState(null),a=M.useMemo(()=>e.find(l=>l.index===i?.id),[i,e]),o=DSe(kF(AD),kF(ED,{coordinateGetter:o1e}));return P.jsxs(ATe,{sensors:o,onDragStart:({active:l})=>{s(l)},onDragEnd:({active:l,over:u})=>{if(u&&l.id!==u?.id){const c=e.findIndex(({index:f})=>f===l.id),h=e.findIndex(({index:f})=>f===u.id);t(ID(e,c,h))}s(null)},onDragCancel:()=>{s(null)},children:[P.jsx(QTe,{items:e,children:P.jsx("ul",{className:"SortableList",role:"application",children:e.map(l=>P.jsx(Yr.Fragment,{children:n(l)},l.index))})}),P.jsx(d1e,{children:a?n(a):null})]})}function d1e({children:r}){return P.jsx(GTe,{children:r})}T0.Item=c1e;T0.DragHandle=u1e;function h1e(r){const e=M.useContext(fa);return P.jsx(T0,{items:e.detailList,onChange:e.onChangeExportData,renderItem:t=>P.jsxs(T0.Item,{id:t.index,children:[t.name,P.jsx(T0.DragHandle,{})]})})}const f1e=yr(P.jsx("path",{d:"m6 18 8.5-6L6 6zM16 6v12h2V6z"})),p1e=yr(P.jsx("path",{d:"M6 6h2v12H6zm3.5 6 8.5 6V6z"}));function UF(r){const{children:e,value:t,index:n,...i}=r;return P.jsx("div",{role:"tabpanel",hidden:t!==n,id:`simple-tabpanel-${n}`,"aria-labelledby":`simple-tab-${n}`,...i,children:t===n&&P.jsx(pt,{sx:{p:3},children:P.jsx(mr,{children:e})})})}function sz(r){const{t:e}=Ti(),t=M.useContext(fa),{onClose:n,open:i,mod:s,clearSelectedArrFunc:a,setDialogMod:o,selectedArr:l}=r,[u,c]=M.useState(""),[h,f]=M.useState(""),[g,v]=M.useState(0),[y,_]=M.useState("");M.useEffect(()=>{v(0),f(""),s===1?c(e("m3u")):s===2?c(e("")):s===3?c(e("")):s===4?c(e("(,,)")):s===5&&c(e(""))},[s]);const C=()=>{n()},k=()=>{t.nowMod===1?t.clientSaveFile(t.detailList,"m3u"):t.webSaveFile(t.detailList,"m3u")},D=()=>{o(1),t.onChangeExportStr()},I=()=>{o(4)},A=w=>{f(w.target.value)},R=()=>{g===0?(t.batchChangeGroupName(l,h),n()):(t.addGroupName(y),v(0))},N=(w,$)=>{v($)},U=w=>{_(w.target.value)},F=()=>{t.nowMod===1?t.clientSaveFile(t.detailList,"txt"):t.webSaveFile(t.detailList,"txt")};return P.jsxs(xo,{onClose:C,open:i,children:[P.jsx(pt,{style:{minWidth:s!==3?"800px":"",paddingTop:"10px",overflow:"hidden"},children:P.jsx("span",{style:{paddingLeft:"10px"},children:u})}),s===1||s===2?P.jsx(Nr,{sx:{width:550,margin:"10px"},children:P.jsx(On,{multiline:!0,sx:{fontSize:"11px"},size:"small",id:"standard-multiline-static",rows:4,value:t.exportDataStr})}):"",s===4?P.jsxs(pt,{style:{padding:"5px"},children:[P.jsx(h1e,{}),P.jsx(pt,{children:P.jsx(Nr,{sx:{width:550,margin:"10px",display:"flex",flexDirection:"revert"},children:P.jsx(mo,{size:"small",onClick:D,variant:"outlined",style:{marginRight:"10px"},startIcon:P.jsx(f1e,{}),children:e("")})})})]}):"",s===1?P.jsxs(Nr,{sx:{width:550,margin:"10px",display:"flex",flexDirection:"revert"},children:[P.jsx(mo,{size:"small",onClick:I,variant:"outlined",style:{marginRight:"10px"},startIcon:P.jsx(p1e,{}),children:e("")}),P.jsx(mo,{size:"small",onClick:k,variant:"contained",style:{marginRight:"10px"},startIcon:P.jsx(UO,{}),children:e("m3u")}),P.jsx(mo,{size:"small",onClick:F,variant:"outlined",style:{marginRight:"10px"},startIcon:P.jsx(UO,{}),children:e("txt")})]}):"",s===5?P.jsxs(pt,{sx:{width:550,margin:"10px"},children:[P.jsx(pt,{sx:{borderBottom:1,borderColor:"divider"},children:P.jsxs(Uk,{value:g,onChange:N,"aria-label":"basic tabs example",children:[P.jsx(Rp,{label:e("")}),P.jsx(Rp,{label:e("")})]})}),P.jsx(UF,{value:g,index:0,children:P.jsxs(Nr,{fullWidth:!0,children:[P.jsx(Uu,{id:"demo-simple-select-label",children:e("")}),P.jsx($u,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,label:e(""),onChange:A,children:t.detailMenu.groups.map((w,$)=>P.jsx(Nc,{value:w,children:w},$))})]})}),P.jsx(UF,{value:g,index:1,children:P.jsx(Nr,{fullWidth:!0,children:P.jsx(On,{id:"standard-basic",label:e(""),value:y,variant:"standard",onChange:U})})}),P.jsx(pt,{sx:{display:"flex",justifyContent:"flex-end",marginTop:"5px"},children:P.jsx(Sr,{variant:"outlined",onClick:R,children:e(g===0?"":"")})})]}):""]})}sz.propTypes={onClose:Il.func.isRequired,open:Il.bool.isRequired,mod:Il.number.isRequired};const m1e=yr(P.jsx("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),g1e=yr(P.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m.06 17v-2.01H12c-1.28 0-2.56-.49-3.54-1.46-1.71-1.71-1.92-4.35-.64-6.29l1.1 1.1c-.71 1.33-.53 3.01.59 4.13.7.7 1.62 1.03 2.54 1.01v-2.14l2.83 2.83zm4.11-4.24-1.1-1.1c.71-1.33.53-3.01-.59-4.13C13.79 8.84 12.9 8.5 12 8.5h-.06v2.15L9.11 7.83 11.94 5v2.02c1.3-.02 2.61.45 3.6 1.45 1.7 1.7 1.91 4.35.63 6.29"}));it("li")(({theme:r})=>({margin:r.spacing(.5),listStyle:"none",display:"initial"}));const v1e=40,$F={PaperProps:{style:{maxHeight:v1e*5,width:200}}};function y1e(r){iv();const{t:e}=Ti(),t=M.useContext(fa),{selectedArr:n,setSelectedArr:i,showMultiSelect:s,changeShowMultiSelect:a}=r,[o,l]=M.useState([]),[u,c]=M.useState(""),[h,f]=M.useState([]),[g,v]=M.useState(1),[y,_]=M.useState(!1),[C,k]=M.useState([]),D=Q=>{k(Q.target.value);let te={};for(let de=0;de<Q.target.value.length;de++)te[Q.target.value[de]]=Q.target.value[de];let oe=t.videoResolution;for(let de=0;de<oe.length;de++){let le=!1;te[oe[de].value]!==void 0&&(le=!0),oe[de].checked=le}t.changeVideoResolution(oe)};M.useEffect(()=>{I()},[]);const I=()=>{let Q=an.getVideoResolutionList(),te=[];for(let oe=0;oe<Q.length;oe++)te.push({...Q[oe],checked:!1});t.changeVideoResolution(te)},A=Q=>{c(Q.target.value)},R=()=>{let Q=[];u!==""&&Q.push(u),t.filterM3u(Q,o,C)},N=()=>{t.onExportValidM3uData(),v(4),_(!0)},U=Q=>{_(!1)},F=()=>{i([])},w=Q=>{l(Q.target.value)},$=()=>{v(5),_(!0)},H=()=>{console.log("selectedArr---",n),t.deleteShowM3uRow(n),i([])},W=Q=>{a(Q.target.checked)};return P.jsxs(pt,{sx:{border:"1px solid #868686",padding:"8px",borderRadius:"5px"},children:[P.jsx(sz,{open:y,onClose:U,clearSelectedArrFunc:F,setDialogMod:v,selectedArr:n,mod:g}),P.jsx(pt,{sx:{display:"flex",justifyContent:"space-between"},children:P.jsxs(pt,{children:[P.jsxs(pt,{sx:{marginBottom:"10px"},children:[P.jsx(Zs,{control:P.jsx(Pp,{}),onChange:W,label:""}),n.length>0?P.jsx(Nr,{sx:{marginRight:"5px"},children:P.jsx(mo,{size:"small",color:"error",onClick:H,variant:"outlined",startIcon:P.jsx(qd,{}),children:e("")})}):"",n.length>0?P.jsx(Nr,{sx:{marginRight:"5px"},children:P.jsx(mo,{size:"small",onClick:$,variant:"outlined",startIcon:P.jsx(g1e,{}),children:e("")})}):"",s?"":P.jsx(Nr,{sx:{marginRight:"5px"},children:P.jsx(mo,{size:"small",onClick:N,variant:"contained",startIcon:P.jsx(m1e,{}),children:e("()")})})]}),s?P.jsx("div",{children:P.jsx(pt,{sx:{display:"flex"},children:P.jsxs(pt,{component:"form",sx:{marginBottom:"5px",display:"flex",alignItems:"flex-end"},children:[P.jsx(Nr,{sx:{marginRight:"5px",width:200},children:P.jsx(On,{id:"outlined-name",variant:"outlined",size:"small",value:u,onChange:A,label:e("")})}),P.jsxs(Nr,{sx:{width:200,margin:0,marginRight:"5px"},size:"small",children:[P.jsx(Uu,{id:"demo-select-small",size:"small",children:e("")}),P.jsx($u,{labelId:"demo-select-small",id:"demo-select-small",size:"small",multiple:!0,value:o,onChange:w,input:P.jsx(rm,{size:"small",label:e("")}),renderValue:Q=>Q.join(", "),MenuProps:$F,children:t.detailMenu.groups&&t.detailMenu.groups.map((Q,te)=>P.jsxs(Nc,{value:Q,children:[P.jsx(Pp,{checked:o.indexOf(Q)!==-1}),P.jsx(H_,{primary:Q})]},te))})]}),t.detailMenu.videoRevolution&&t.detailMenu.videoRevolution.length>0?P.jsxs(Nr,{sx:{width:200,margin:0,marginRight:"5px"},size:"small",children:[P.jsx(Uu,{id:"demo-select-small",size:"small",children:e("")}),P.jsx($u,{labelId:"demo-select-small",id:"demo-select-small",size:"small",multiple:!0,value:C,onChange:D,input:P.jsx(rm,{size:"small",label:e("")}),renderValue:Q=>Q.join(", "),MenuProps:$F,children:t.detailMenu.videoRevolution.map((Q,te)=>P.jsxs(Nc,{value:Q.value,children:[P.jsx(Pp,{checked:Q.checked}),P.jsx(H_,{primary:Q.name})]},te))})]}):"",P.jsx(Nr,{sx:{marginRight:"5px"},children:P.jsx(mo,{size:"small",onClick:R,variant:"contained",color:"success",startIcon:P.jsx(Dk,{}),children:e("")})})]})})}):""]})})]})}const x1e=yr(P.jsx("path",{fillRule:"evenodd",d:"M4 11h16v2H4z"}));function zi(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function _m(r){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(r)}function _1e(r,e){if(_m(r)!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var n=t.call(r,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function az(r){var e=_1e(r,"string");return _m(e)=="symbol"?e:e+""}function jF(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,az(n.key),n)}}function os(r,e,t){return e&&jF(r.prototype,e),t&&jF(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}function Co(r,e){if(e&&(_m(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return We(r)}function Ze(r,e,t){return(e=az(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function oz(){var r=this.constructor.getDerivedStateFromProps(this.props,this.state);r!=null&&this.setState(r)}function lz(r){function e(t){var n=this.constructor.getDerivedStateFromProps(r,t);return n??null}this.setState(e.bind(this))}function uz(r,e){try{var t=this.props,n=this.state;this.props=r,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(t,n)}finally{this.props=t,this.state=n}}oz.__suppressDeprecationWarning=!0;lz.__suppressDeprecationWarning=!0;uz.__suppressDeprecationWarning=!0;function Nv(r){var e=r.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof r.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return r;var t=null,n=null,i=null;if(typeof e.componentWillMount=="function"?t="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(t="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),t!==null||n!==null||i!==null){var s=r.displayName||r.name,a=typeof r.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+a+" but also contains the following legacy lifecycles:"+(t!==null?`
  `+t:"")+(n!==null?`
  `+n:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof r.getDerivedStateFromProps=="function"&&(e.componentWillMount=oz,e.componentWillReceiveProps=lz),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=uz;var o=e.componentDidUpdate;e.componentDidUpdate=function(u,c,h){var f=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:h;o.call(this,u,c,f)}}return r}function cz(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r))for(e=0;e<r.length;e++)r[e]&&(t=cz(r[e]))&&(n&&(n+=" "),n+=t);else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function Rl(){for(var r,e,t=0,n="";t<arguments.length;)(r=arguments[t++])&&(e=cz(r))&&(n&&(n+=" "),n+=e);return n}function zF(r){var e=r.cellCount,t=r.cellSize,n=r.computeMetadataCallback,i=r.computeMetadataCallbackProps,s=r.nextCellsCount,a=r.nextCellSize,o=r.nextScrollToIndex,l=r.scrollToIndex,u=r.updateScrollOffsetForScrollToIndex;(e!==s||(typeof t=="number"||typeof a=="number")&&t!==a)&&(n(i),l>=0&&l===o&&u())}function e0(r,e){if(r==null)return{};var t,n,i=xS(r,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);for(n=0;n<s.length;n++)t=s[n],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(r,t)&&(i[t]=r[t])}return i}var b1e=(function(){function r(e){var t=e.cellCount,n=e.cellSizeGetter,i=e.estimatedCellSize;zi(this,r),Ze(this,"_cellSizeAndPositionData",{}),Ze(this,"_lastMeasuredIndex",-1),Ze(this,"_lastBatchedIndex",-1),Ze(this,"_cellCount",void 0),Ze(this,"_cellSizeGetter",void 0),Ze(this,"_estimatedCellSize",void 0),this._cellSizeGetter=n,this._cellCount=t,this._estimatedCellSize=i}return os(r,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(t){var n=t.cellCount,i=t.estimatedCellSize,s=t.cellSizeGetter;this._cellCount=n,this._estimatedCellSize=i,this._cellSizeGetter=s}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(t){if(t<0||t>=this._cellCount)throw Error("Requested index ".concat(t," is outside of range 0..").concat(this._cellCount));if(t>this._lastMeasuredIndex)for(var n=this.getSizeAndPositionOfLastMeasuredCell(),i=n.offset+n.size,s=this._lastMeasuredIndex+1;s<=t;s++){var a=this._cellSizeGetter({index:s});if(a===void 0||isNaN(a))throw Error("Invalid size returned for cell ".concat(s," of value ").concat(a));a===null?(this._cellSizeAndPositionData[s]={offset:i,size:0},this._lastBatchedIndex=t):(this._cellSizeAndPositionData[s]={offset:i,size:a},i+=a,this._lastMeasuredIndex=t)}return this._cellSizeAndPositionData[t]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,i=this._cellCount-this._lastMeasuredIndex-1,s=i*this._estimatedCellSize;return n+s}},{key:"getUpdatedOffsetForIndex",value:function(t){var n=t.align,i=n===void 0?"auto":n,s=t.containerSize,a=t.currentOffset,o=t.targetIndex;if(s<=0)return 0;var l=this.getSizeAndPositionOfCell(o),u=l.offset,c=u-s+l.size,h;switch(i){case"start":h=u;break;case"end":h=c;break;case"center":h=u-(s-l.size)/2;break;default:h=Math.max(c,Math.min(u,a));break}var f=this.getTotalSize();return Math.max(0,Math.min(f-s,h))}},{key:"getVisibleCellRange",value:function(t){var n=t.containerSize,i=t.offset,s=this.getTotalSize();if(s===0)return{};var a=i+n,o=this._findNearestCell(i),l=this.getSizeAndPositionOfCell(o);i=l.offset+l.size;for(var u=o;i<a&&u<this._cellCount-1;)u++,i+=this.getSizeAndPositionOfCell(u).size;return{start:o,stop:u}}},{key:"resetCell",value:function(t){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,t-1)}},{key:"_binarySearch",value:function(t,n,i){for(;n<=t;){var s=n+Math.floor((t-n)/2),a=this.getSizeAndPositionOfCell(s).offset;if(a===i)return s;a<i?n=s+1:a>i&&(t=s-1)}return n>0?n-1:0}},{key:"_exponentialSearch",value:function(t,n){for(var i=1;t<this._cellCount&&this.getSizeAndPositionOfCell(t).offset<n;)t+=i,i*=2;return this._binarySearch(Math.min(t,this._cellCount-1),Math.floor(t/2),n)}},{key:"_findNearestCell",value:function(t){if(isNaN(t))throw Error("Invalid offset ".concat(t," specified"));t=Math.max(0,t);var n=this.getSizeAndPositionOfLastMeasuredCell(),i=Math.max(0,this._lastMeasuredIndex);return n.offset>=t?this._binarySearch(i,0,t):this._exponentialSearch(i,t)}}]),r})(),S1e=15e5,T1e=16777100,C1e=function(){return typeof window<"u"},w1e=function(){return!!window.chrome},E1e=function(){return C1e()&&w1e()?T1e:S1e},HF=(function(){function r(e){var t=e.maxScrollSize,n=t===void 0?E1e():t,i=e0(e,["maxScrollSize"]);zi(this,r),Ze(this,"_cellSizeAndPositionManager",void 0),Ze(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new b1e(i),this._maxScrollSize=n}return os(r,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(t){this._cellSizeAndPositionManager.configure(t)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(t){var n=t.containerSize,i=t.offset,s=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize(),o=this._getOffsetPercentage({containerSize:n,offset:i,totalSize:a});return Math.round(o*(a-s))}},{key:"getSizeAndPositionOfCell",value:function(t){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(t)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(t){var n=t.align,i=n===void 0?"auto":n,s=t.containerSize,a=t.currentOffset,o=t.targetIndex;a=this._safeOffsetToOffset({containerSize:s,offset:a});var l=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:i,containerSize:s,currentOffset:a,targetIndex:o});return this._offsetToSafeOffset({containerSize:s,offset:l})}},{key:"getVisibleCellRange",value:function(t){var n=t.containerSize,i=t.offset;return i=this._safeOffsetToOffset({containerSize:n,offset:i}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:n,offset:i})}},{key:"resetCell",value:function(t){this._cellSizeAndPositionManager.resetCell(t)}},{key:"_getOffsetPercentage",value:function(t){var n=t.containerSize,i=t.offset,s=t.totalSize;return s<=n?0:i/(s-n)}},{key:"_offsetToSafeOffset",value:function(t){var n=t.containerSize,i=t.offset,s=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(s===a)return i;var o=this._getOffsetPercentage({containerSize:n,offset:i,totalSize:s});return Math.round(o*(a-n))}},{key:"_safeOffsetToOffset",value:function(t){var n=t.containerSize,i=t.offset,s=this._cellSizeAndPositionManager.getTotalSize(),a=this.getTotalSize();if(s===a)return i;var o=this._getOffsetPercentage({containerSize:n,offset:i,totalSize:a});return Math.round(o*(s-n))}}]),r})();function bm(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,e={};return function(t){var n=t.callback,i=t.indices,s=Object.keys(i),a=!r||s.every(function(l){var u=i[l];return Array.isArray(u)?u.length>0:u>=0}),o=s.length!==Object.keys(e).length||s.some(function(l){var u=e[l],c=i[l];return Array.isArray(c)?u.join(",")!==c.join(","):u!==c});e=i,a&&o&&n(i)}}var dx=-1,Ec=1;function k1e(r){var e=r.cellCount,t=r.overscanCellsCount,n=r.scrollDirection,i=r.startIndex,s=r.stopIndex;return n===Ec?{overscanStartIndex:Math.max(0,i),overscanStopIndex:Math.min(e-1,s+t)}:{overscanStartIndex:Math.max(0,i-t),overscanStopIndex:Math.min(e-1,s)}}function VF(r){var e=r.cellSize,t=r.cellSizeAndPositionManager,n=r.previousCellsCount,i=r.previousCellSize,s=r.previousScrollToAlignment,a=r.previousScrollToIndex,o=r.previousSize,l=r.scrollOffset,u=r.scrollToAlignment,c=r.scrollToIndex,h=r.size,f=r.sizeJustIncreasedFromZero,g=r.updateScrollIndexCallback,v=t.getCellCount(),y=c>=0&&c<v,_=h!==o||f||!i||typeof e=="number"&&e!==i;y&&(_||u!==s||c!==a)?g(c):!y&&v>0&&(h<o||v<n)&&l>t.getTotalSize()-h&&g(v-1)}function A1e(r){for(var e=r.cellCache,t=r.cellRenderer,n=r.columnSizeAndPositionManager,i=r.columnStartIndex,s=r.columnStopIndex,a=r.deferredMeasurementCache,o=r.horizontalOffsetAdjustment,l=r.isScrolling,u=r.isScrollingOptOut,c=r.parent,h=r.rowSizeAndPositionManager,f=r.rowStartIndex,g=r.rowStopIndex,v=r.styleCache,y=r.verticalOffsetAdjustment,_=r.visibleColumnIndices,C=r.visibleRowIndices,k=[],D=n.areOffsetsAdjusted()||h.areOffsetsAdjusted(),I=!l&&!D,A=f;A<=g;A++)for(var R=h.getSizeAndPositionOfCell(A),N=i;N<=s;N++){var U=n.getSizeAndPositionOfCell(N),F=N>=_.start&&N<=_.stop&&A>=C.start&&A<=C.stop,w="".concat(A,"-").concat(N),$=void 0;I&&v[w]?$=v[w]:a&&!a.has(A,N)?$={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:($={height:R.size,left:U.offset+o,position:"absolute",top:R.offset+y,width:U.size},v[w]=$);var H={columnIndex:N,isScrolling:l,isVisible:F,key:w,parent:c,rowIndex:A,style:$},W=void 0;(u||l)&&!o&&!y?(e[w]||(e[w]=t(H)),W=e[w]):W=t(H),!(W==null||W===!1)&&k.push(W)}return k}const D1e=!!(typeof window<"u"&&window.document&&window.document.createElement);var hx;function AE(r){if((!hx&&hx!==0||r)&&D1e){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),hx=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return hx}var ia;typeof window<"u"?ia=window:typeof self<"u"?ia=self:ia={};var I1e=ia.requestAnimationFrame||ia.webkitRequestAnimationFrame||ia.mozRequestAnimationFrame||ia.oRequestAnimationFrame||ia.msRequestAnimationFrame||function(r){return ia.setTimeout(r,1e3/60)},P1e=ia.cancelAnimationFrame||ia.webkitCancelAnimationFrame||ia.mozCancelAnimationFrame||ia.oCancelAnimationFrame||ia.msCancelAnimationFrame||function(r){ia.clearTimeout(r)},WF=I1e,R1e=P1e,Sm=function(e){return R1e(e.id)},PD=function(e,t){var n;Promise.resolve().then(function(){n=Date.now()});var i=function a(){Date.now()-n>=t?e.call():s.id=WF(a)},s={id:WF(i)};return s},qF,GF;function KF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Oh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KF(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):KF(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var L1e=150,Tw={OBSERVED:"observed",REQUESTED:"requested"},O1e=function(){return null},Bd=(GF=qF=(function(r){Wa(e,r);function e(t){var n;zi(this,e),n=Co(this,Hs(e).call(this,t)),Ze(We(n),"_onGridRenderedMemoizer",bm()),Ze(We(n),"_onScrollMemoizer",bm(!1)),Ze(We(n),"_deferredInvalidateColumnIndex",null),Ze(We(n),"_deferredInvalidateRowIndex",null),Ze(We(n),"_recomputeScrollLeftFlag",!1),Ze(We(n),"_recomputeScrollTopFlag",!1),Ze(We(n),"_horizontalScrollBarSize",0),Ze(We(n),"_verticalScrollBarSize",0),Ze(We(n),"_scrollbarPresenceChanged",!1),Ze(We(n),"_scrollingContainer",void 0),Ze(We(n),"_childrenToDisplay",void 0),Ze(We(n),"_columnStartIndex",void 0),Ze(We(n),"_columnStopIndex",void 0),Ze(We(n),"_rowStartIndex",void 0),Ze(We(n),"_rowStopIndex",void 0),Ze(We(n),"_renderedColumnStartIndex",0),Ze(We(n),"_renderedColumnStopIndex",0),Ze(We(n),"_renderedRowStartIndex",0),Ze(We(n),"_renderedRowStopIndex",0),Ze(We(n),"_initialScrollTop",void 0),Ze(We(n),"_initialScrollLeft",void 0),Ze(We(n),"_disablePointerEventsTimeoutId",void 0),Ze(We(n),"_styleCache",{}),Ze(We(n),"_cellCache",{}),Ze(We(n),"_debounceScrollEndedCallback",function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})}),Ze(We(n),"_invokeOnGridRenderedHelper",function(){var a=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:a,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})}),Ze(We(n),"_setScrollingContainerRef",function(a){n._scrollingContainer=a}),Ze(We(n),"_onScroll",function(a){a.target===n._scrollingContainer&&n.handleScrollEvent(a.target)});var i=new HF({cellCount:t.columnCount,cellSizeGetter:function(o){return e._wrapSizeGetter(t.columnWidth)(o)},estimatedCellSize:e._getEstimatedColumnSize(t)}),s=new HF({cellCount:t.rowCount,cellSizeGetter:function(o){return e._wrapSizeGetter(t.rowHeight)(o)},estimatedCellSize:e._getEstimatedRowSize(t)});return n.state={instanceProps:{columnSizeAndPositionManager:i,rowSizeAndPositionManager:s,prevColumnWidth:t.columnWidth,prevRowHeight:t.rowHeight,prevColumnCount:t.columnCount,prevRowCount:t.rowCount,prevIsScrolling:t.isScrolling===!0,prevScrollToColumn:t.scrollToColumn,prevScrollToRow:t.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:Ec,scrollDirectionVertical:Ec,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},t.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(t,n.state)),t.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(t,n.state)),n}return os(e,[{key:"getOffsetForCell",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.alignment,s=i===void 0?this.props.scrollToAlignment:i,a=n.columnIndex,o=a===void 0?this.props.scrollToColumn:a,l=n.rowIndex,u=l===void 0?this.props.scrollToRow:l,c=Oh({},this.props,{scrollToAlignment:s,scrollToColumn:o,scrollToRow:u});return{scrollLeft:this._getCalculatedScrollLeft(c),scrollTop:this._getCalculatedScrollTop(c)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(n){var i=n.scrollLeft,s=i===void 0?0:i,a=n.scrollTop,o=a===void 0?0:a;if(!(o<0)){this._debounceScrollEnded();var l=this.props,u=l.autoHeight,c=l.autoWidth,h=l.height,f=l.width,g=this.state.instanceProps,v=g.scrollbarSize,y=g.rowSizeAndPositionManager.getTotalSize(),_=g.columnSizeAndPositionManager.getTotalSize(),C=Math.min(Math.max(0,_-f+v),s),k=Math.min(Math.max(0,y-h+v),o);if(this.state.scrollLeft!==C||this.state.scrollTop!==k){var D=C!==this.state.scrollLeft?C>this.state.scrollLeft?Ec:dx:this.state.scrollDirectionHorizontal,I=k!==this.state.scrollTop?k>this.state.scrollTop?Ec:dx:this.state.scrollDirectionVertical,A={isScrolling:!0,scrollDirectionHorizontal:D,scrollDirectionVertical:I,scrollPositionChangeReason:Tw.OBSERVED};u||(A.scrollTop=k),c||(A.scrollLeft=C),A.needToResetStyleCache=!1,this.setState(A)}this._invokeOnScrollMemoizer({scrollLeft:C,scrollTop:k,totalColumnsWidth:_,totalRowsHeight:y})}}},{key:"invalidateCellSizeAfterRender",value:function(n){var i=n.columnIndex,s=n.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,i):i,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,s):s}},{key:"measureAllCells",value:function(){var n=this.props,i=n.columnCount,s=n.rowCount,a=this.state.instanceProps;a.columnSizeAndPositionManager.getSizeAndPositionOfCell(i-1),a.rowSizeAndPositionManager.getSizeAndPositionOfCell(s-1)}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.columnIndex,s=i===void 0?0:i,a=n.rowIndex,o=a===void 0?0:a,l=this.props,u=l.scrollToColumn,c=l.scrollToRow,h=this.state.instanceProps;h.columnSizeAndPositionManager.resetCell(s),h.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=u>=0&&(this.state.scrollDirectionHorizontal===Ec?s<=u:s>=u),this._recomputeScrollTopFlag=c>=0&&(this.state.scrollDirectionVertical===Ec?o<=c:o>=c),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(n){var i=n.columnIndex,s=n.rowIndex,a=this.props.columnCount,o=this.props;a>1&&i!==void 0&&this._updateScrollLeftForScrollToColumn(Oh({},o,{scrollToColumn:i})),s!==void 0&&this._updateScrollTopForScrollToRow(Oh({},o,{scrollToRow:s}))}},{key:"componentDidMount",value:function(){var n=this.props,i=n.getScrollbarSize,s=n.height,a=n.scrollLeft,o=n.scrollToColumn,l=n.scrollTop,u=n.scrollToRow,c=n.width,h=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),h.scrollbarSizeMeasured||this.setState(function(v){var y=Oh({},v,{needToResetStyleCache:!1});return y.instanceProps.scrollbarSize=i(),y.instanceProps.scrollbarSizeMeasured=!0,y}),typeof a=="number"&&a>=0||typeof l=="number"&&l>=0){var f=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:l});f&&(f.needToResetStyleCache=!1,this.setState(f))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var g=s>0&&c>0;o>=0&&g&&this._updateScrollLeftForScrollToColumn(),u>=0&&g&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:a||0,scrollTop:l||0,totalColumnsWidth:h.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:h.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(n,i){var s=this,a=this.props,o=a.autoHeight,l=a.autoWidth,u=a.columnCount,c=a.height,h=a.rowCount,f=a.scrollToAlignment,g=a.scrollToColumn,v=a.scrollToRow,y=a.width,_=this.state,C=_.scrollLeft,k=_.scrollPositionChangeReason,D=_.scrollTop,I=_.instanceProps;this._handleInvalidatedGridSize();var A=u>0&&n.columnCount===0||h>0&&n.rowCount===0;k===Tw.REQUESTED&&(!l&&C>=0&&(C!==this._scrollingContainer.scrollLeft||A)&&(this._scrollingContainer.scrollLeft=C),!o&&D>=0&&(D!==this._scrollingContainer.scrollTop||A)&&(this._scrollingContainer.scrollTop=D));var R=(n.width===0||n.height===0)&&c>0&&y>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):VF({cellSizeAndPositionManager:I.columnSizeAndPositionManager,previousCellsCount:n.columnCount,previousCellSize:n.columnWidth,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToColumn,previousSize:n.width,scrollOffset:C,scrollToAlignment:f,scrollToIndex:g,size:y,sizeJustIncreasedFromZero:R,updateScrollIndexCallback:function(){return s._updateScrollLeftForScrollToColumn(s.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):VF({cellSizeAndPositionManager:I.rowSizeAndPositionManager,previousCellsCount:n.rowCount,previousCellSize:n.rowHeight,previousScrollToAlignment:n.scrollToAlignment,previousScrollToIndex:n.scrollToRow,previousSize:n.height,scrollOffset:D,scrollToAlignment:f,scrollToIndex:v,size:c,sizeJustIncreasedFromZero:R,updateScrollIndexCallback:function(){return s._updateScrollTopForScrollToRow(s.props)}}),this._invokeOnGridRenderedHelper(),C!==i.scrollLeft||D!==i.scrollTop){var N=I.rowSizeAndPositionManager.getTotalSize(),U=I.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:C,scrollTop:D,totalColumnsWidth:U,totalRowsHeight:N})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Sm(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,i=n.autoContainerWidth,s=n.autoHeight,a=n.autoWidth,o=n.className,l=n.containerProps,u=n.containerRole,c=n.containerStyle,h=n.height,f=n.id,g=n.noContentRenderer,v=n.role,y=n.style,_=n.tabIndex,C=n.width,k=this.state,D=k.instanceProps,I=k.needToResetStyleCache,A=this._isScrolling(),R={boxSizing:"border-box",direction:"ltr",height:s?"auto":h,position:"relative",width:a?"auto":C,WebkitOverflowScrolling:"touch",willChange:"transform"};I&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var N=D.columnSizeAndPositionManager.getTotalSize(),U=D.rowSizeAndPositionManager.getTotalSize(),F=U>h?D.scrollbarSize:0,w=N>C?D.scrollbarSize:0;(w!==this._horizontalScrollBarSize||F!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=w,this._verticalScrollBarSize=F,this._scrollbarPresenceChanged=!0),R.overflowX=N+F<=C?"hidden":"auto",R.overflowY=U+w<=h?"hidden":"auto";var $=this._childrenToDisplay,H=$.length===0&&h>0&&C>0;return M.createElement("div",sr({ref:this._setScrollingContainerRef},l,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:Rl("ReactVirtualized__Grid",o),id:f,onScroll:this._onScroll,role:v,style:Oh({},R,{},y),tabIndex:_}),$.length>0&&M.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:u,style:Oh({width:i?"auto":N,height:U,maxWidth:N,maxHeight:U,overflow:"hidden",pointerEvents:A?"none":"",position:"relative"},c)},$),H&&g())}},{key:"_calculateChildrenToRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,s=n.cellRenderer,a=n.cellRangeRenderer,o=n.columnCount,l=n.deferredMeasurementCache,u=n.height,c=n.overscanColumnCount,h=n.overscanIndicesGetter,f=n.overscanRowCount,g=n.rowCount,v=n.width,y=n.isScrollingOptOut,_=i.scrollDirectionHorizontal,C=i.scrollDirectionVertical,k=i.instanceProps,D=this._initialScrollTop>0?this._initialScrollTop:i.scrollTop,I=this._initialScrollLeft>0?this._initialScrollLeft:i.scrollLeft,A=this._isScrolling(n,i);if(this._childrenToDisplay=[],u>0&&v>0){var R=k.columnSizeAndPositionManager.getVisibleCellRange({containerSize:v,offset:I}),N=k.rowSizeAndPositionManager.getVisibleCellRange({containerSize:u,offset:D}),U=k.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:v,offset:I}),F=k.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:u,offset:D});this._renderedColumnStartIndex=R.start,this._renderedColumnStopIndex=R.stop,this._renderedRowStartIndex=N.start,this._renderedRowStopIndex=N.stop;var w=h({direction:"horizontal",cellCount:o,overscanCellsCount:c,scrollDirection:_,startIndex:typeof R.start=="number"?R.start:0,stopIndex:typeof R.stop=="number"?R.stop:-1}),$=h({direction:"vertical",cellCount:g,overscanCellsCount:f,scrollDirection:C,startIndex:typeof N.start=="number"?N.start:0,stopIndex:typeof N.stop=="number"?N.stop:-1}),H=w.overscanStartIndex,W=w.overscanStopIndex,Q=$.overscanStartIndex,te=$.overscanStopIndex;if(l){if(!l.hasFixedHeight()){for(var oe=Q;oe<=te;oe++)if(!l.has(oe,0)){H=0,W=o-1;break}}if(!l.hasFixedWidth()){for(var de=H;de<=W;de++)if(!l.has(0,de)){Q=0,te=g-1;break}}}this._childrenToDisplay=a({cellCache:this._cellCache,cellRenderer:s,columnSizeAndPositionManager:k.columnSizeAndPositionManager,columnStartIndex:H,columnStopIndex:W,deferredMeasurementCache:l,horizontalOffsetAdjustment:U,isScrolling:A,isScrollingOptOut:y,parent:this,rowSizeAndPositionManager:k.rowSizeAndPositionManager,rowStartIndex:Q,rowStopIndex:te,scrollLeft:I,scrollTop:D,styleCache:this._styleCache,verticalOffsetAdjustment:F,visibleColumnIndices:R,visibleRowIndices:N}),this._columnStartIndex=H,this._columnStopIndex=W,this._rowStartIndex=Q,this._rowStopIndex=te}}},{key:"_debounceScrollEnded",value:function(){var n=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Sm(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=PD(this._debounceScrollEndedCallback,n)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var n=this._deferredInvalidateColumnIndex,i=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:i})}}},{key:"_invokeOnScrollMemoizer",value:function(n){var i=this,s=n.scrollLeft,a=n.scrollTop,o=n.totalColumnsWidth,l=n.totalRowsHeight;this._onScrollMemoizer({callback:function(c){var h=c.scrollLeft,f=c.scrollTop,g=i.props,v=g.height,y=g.onScroll,_=g.width;y({clientHeight:v,clientWidth:_,scrollHeight:l,scrollLeft:h,scrollTop:f,scrollWidth:o})},indices:{scrollLeft:s,scrollTop:a}})}},{key:"_isScrolling",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(n,"isScrolling")?!!n.isScrolling:!!i.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var n=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,n({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(n){var i=n.scrollLeft,s=n.scrollTop,a=e._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:i,scrollTop:s});a&&(a.needToResetStyleCache=!1,this.setState(a))}},{key:"_getCalculatedScrollLeft",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollLeft(n,i)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,s=e._getScrollLeftForScrollToColumnStateUpdate(n,i);s&&(s.needToResetStyleCache=!1,this.setState(s))}},{key:"_getCalculatedScrollTop",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return e._getCalculatedScrollTop(n,i)}},{key:"_resetStyleCache",value:function(){var n=this._styleCache,i=this._cellCache,s=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var a=this._rowStartIndex;a<=this._rowStopIndex;a++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var l="".concat(a,"-").concat(o);this._styleCache[l]=n[l],s&&(this._cellCache[l]=i[l])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,s=e._getScrollTopForScrollToRowStateUpdate(n,i);s&&(s.needToResetStyleCache=!1,this.setState(s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){var s={};n.columnCount===0&&i.scrollLeft!==0||n.rowCount===0&&i.scrollTop!==0?(s.scrollLeft=0,s.scrollTop=0):(n.scrollLeft!==i.scrollLeft&&n.scrollToColumn<0||n.scrollTop!==i.scrollTop&&n.scrollToRow<0)&&Object.assign(s,e._getScrollToPositionStateUpdate({prevState:i,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}));var a=i.instanceProps;s.needToResetStyleCache=!1,(n.columnWidth!==a.prevColumnWidth||n.rowHeight!==a.prevRowHeight)&&(s.needToResetStyleCache=!0),a.columnSizeAndPositionManager.configure({cellCount:n.columnCount,estimatedCellSize:e._getEstimatedColumnSize(n),cellSizeGetter:e._wrapSizeGetter(n.columnWidth)}),a.rowSizeAndPositionManager.configure({cellCount:n.rowCount,estimatedCellSize:e._getEstimatedRowSize(n),cellSizeGetter:e._wrapSizeGetter(n.rowHeight)}),(a.prevColumnCount===0||a.prevRowCount===0)&&(a.prevColumnCount=0,a.prevRowCount=0),n.autoHeight&&n.isScrolling===!1&&a.prevIsScrolling===!0&&Object.assign(s,{isScrolling:!1});var o,l;return zF({cellCount:a.prevColumnCount,cellSize:typeof a.prevColumnWidth=="number"?a.prevColumnWidth:null,computeMetadataCallback:function(){return a.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.columnCount,nextCellSize:typeof n.columnWidth=="number"?n.columnWidth:null,nextScrollToIndex:n.scrollToColumn,scrollToIndex:a.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){o=e._getScrollLeftForScrollToColumnStateUpdate(n,i)}}),zF({cellCount:a.prevRowCount,cellSize:typeof a.prevRowHeight=="number"?a.prevRowHeight:null,computeMetadataCallback:function(){return a.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:n,nextCellsCount:n.rowCount,nextCellSize:typeof n.rowHeight=="number"?n.rowHeight:null,nextScrollToIndex:n.scrollToRow,scrollToIndex:a.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){l=e._getScrollTopForScrollToRowStateUpdate(n,i)}}),a.prevColumnCount=n.columnCount,a.prevColumnWidth=n.columnWidth,a.prevIsScrolling=n.isScrolling===!0,a.prevRowCount=n.rowCount,a.prevRowHeight=n.rowHeight,a.prevScrollToColumn=n.scrollToColumn,a.prevScrollToRow=n.scrollToRow,a.scrollbarSize=n.getScrollbarSize(),a.scrollbarSize===void 0?(a.scrollbarSizeMeasured=!1,a.scrollbarSize=0):a.scrollbarSizeMeasured=!0,s.instanceProps=a,Oh({},s,{},o,{},l)}},{key:"_getEstimatedColumnSize",value:function(n){return typeof n.columnWidth=="number"?n.columnWidth:n.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(n){return typeof n.rowHeight=="number"?n.rowHeight:n.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(n){var i=n.prevState,s=n.scrollLeft,a=n.scrollTop,o={scrollPositionChangeReason:Tw.REQUESTED};return typeof s=="number"&&s>=0&&(o.scrollDirectionHorizontal=s>i.scrollLeft?Ec:dx,o.scrollLeft=s),typeof a=="number"&&a>=0&&(o.scrollDirectionVertical=a>i.scrollTop?Ec:dx,o.scrollTop=a),typeof s=="number"&&s>=0&&s!==i.scrollLeft||typeof a=="number"&&a>=0&&a!==i.scrollTop?o:{}}},{key:"_wrapSizeGetter",value:function(n){return typeof n=="function"?n:function(){return n}}},{key:"_getCalculatedScrollLeft",value:function(n,i){var s=n.columnCount,a=n.height,o=n.scrollToAlignment,l=n.scrollToColumn,u=n.width,c=i.scrollLeft,h=i.instanceProps;if(s>0){var f=s-1,g=l<0?f:Math.min(f,l),v=h.rowSizeAndPositionManager.getTotalSize(),y=h.scrollbarSizeMeasured&&v>a?h.scrollbarSize:0;return h.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:u-y,currentOffset:c,targetIndex:g})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(n,i){var s=i.scrollLeft,a=e._getCalculatedScrollLeft(n,i);return typeof a=="number"&&a>=0&&s!==a?e._getScrollToPositionStateUpdate({prevState:i,scrollLeft:a,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(n,i){var s=n.height,a=n.rowCount,o=n.scrollToAlignment,l=n.scrollToRow,u=n.width,c=i.scrollTop,h=i.instanceProps;if(a>0){var f=a-1,g=l<0?f:Math.min(f,l),v=h.columnSizeAndPositionManager.getTotalSize(),y=h.scrollbarSizeMeasured&&v>u?h.scrollbarSize:0;return h.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:s-y,currentOffset:c,targetIndex:g})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(n,i){var s=i.scrollTop,a=e._getCalculatedScrollTop(n,i);return typeof a=="number"&&a>=0&&s!==a?e._getScrollToPositionStateUpdate({prevState:i,scrollLeft:-1,scrollTop:a}):{}}}]),e})(M.PureComponent),Ze(qF,"propTypes",null),GF);Ze(Bd,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:A1e,containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:AE,noContentRenderer:O1e,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:k1e,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:L1e,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1});Nv(Bd);var M1e=1;function dz(r){var e=r.cellCount,t=r.overscanCellsCount,n=r.scrollDirection,i=r.startIndex,s=r.stopIndex;return t=Math.max(1,t),n===M1e?{overscanStartIndex:Math.max(0,i-1),overscanStopIndex:Math.min(e-1,s+t)}:{overscanStartIndex:Math.max(0,i-t),overscanStopIndex:Math.min(e-1,s+1)}}var XF,YF;function QF(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function F1e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QF(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):QF(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var hz=(YF=XF=(function(r){Wa(e,r);function e(){var t,n;zi(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Co(this,(t=Hs(e)).call.apply(t,[this].concat(s))),Ze(We(n),"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),Ze(We(n),"_columnStartIndex",0),Ze(We(n),"_columnStopIndex",0),Ze(We(n),"_rowStartIndex",0),Ze(We(n),"_rowStopIndex",0),Ze(We(n),"_onKeyDown",function(o){var l=n.props,u=l.columnCount,c=l.disabled,h=l.mode,f=l.rowCount;if(!c){var g=n._getScrollState(),v=g.scrollToColumn,y=g.scrollToRow,_=n._getScrollState(),C=_.scrollToColumn,k=_.scrollToRow;switch(o.key){case"ArrowDown":k=Math.min(h==="cells"?k+1:n._rowStopIndex+1,f-1);break;case"ArrowLeft":C=Math.max(h==="cells"?C-1:n._columnStartIndex-1,0);break;case"ArrowRight":C=Math.min(h==="cells"?C+1:n._columnStopIndex+1,u-1);break;case"ArrowUp":k=Math.max(h==="cells"?k-1:n._rowStartIndex-1,0);break}(C!==v||k!==y)&&(o.preventDefault(),n._updateScrollState({scrollToColumn:C,scrollToRow:k}))}}),Ze(We(n),"_onSectionRendered",function(o){var l=o.columnStartIndex,u=o.columnStopIndex,c=o.rowStartIndex,h=o.rowStopIndex;n._columnStartIndex=l,n._columnStopIndex=u,n._rowStartIndex=c,n._rowStopIndex=h}),n}return os(e,[{key:"setScrollIndexes",value:function(n){var i=n.scrollToColumn,s=n.scrollToRow;this.setState({scrollToRow:s,scrollToColumn:i})}},{key:"render",value:function(){var n=this.props,i=n.className,s=n.children,a=this._getScrollState(),o=a.scrollToColumn,l=a.scrollToRow;return M.createElement("div",{className:i,onKeyDown:this._onKeyDown},s({onSectionRendered:this._onSectionRendered,scrollToColumn:o,scrollToRow:l}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(n){var i=n.scrollToColumn,s=n.scrollToRow,a=this.props,o=a.isControlled,l=a.onScrollToChange;typeof l=="function"&&l({scrollToColumn:i,scrollToRow:s}),o||this.setState({scrollToColumn:i,scrollToRow:s})}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.isControlled?{}:n.scrollToColumn!==i.instanceProps.prevScrollToColumn||n.scrollToRow!==i.instanceProps.prevScrollToRow?F1e({},i,{scrollToColumn:n.scrollToColumn,scrollToRow:n.scrollToRow,instanceProps:{prevScrollToColumn:n.scrollToColumn,prevScrollToRow:n.scrollToRow}}):{}}}]),e})(M.PureComponent),Ze(XF,"propTypes",null),YF);Ze(hz,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0});Nv(hz);function fz(r,e){var t;typeof e<"u"?t=e:typeof window<"u"?t=window:typeof self<"u"?t=self:t=global;var n=typeof t.document<"u"&&t.document.attachEvent;if(!n){var i=(function(){var N=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||function(U){return t.setTimeout(U,20)};return function(U){return N(U)}})(),s=(function(){var N=t.cancelAnimationFrame||t.mozCancelAnimationFrame||t.webkitCancelAnimationFrame||t.clearTimeout;return function(U){return N(U)}})(),a=function(U){var F=U.__resizeTriggers__,w=F.firstElementChild,$=F.lastElementChild,H=w.firstElementChild;$.scrollLeft=$.scrollWidth,$.scrollTop=$.scrollHeight,H.style.width=w.offsetWidth+1+"px",H.style.height=w.offsetHeight+1+"px",w.scrollLeft=w.scrollWidth,w.scrollTop=w.scrollHeight},o=function(U){return U.offsetWidth!=U.__resizeLast__.width||U.offsetHeight!=U.__resizeLast__.height},l=function(U){if(!(U.target.className&&typeof U.target.className.indexOf=="function"&&U.target.className.indexOf("contract-trigger")<0&&U.target.className.indexOf("expand-trigger")<0)){var F=this;a(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=i(function(){o(F)&&(F.__resizeLast__.width=F.offsetWidth,F.__resizeLast__.height=F.offsetHeight,F.__resizeListeners__.forEach(function(w){w.call(F,U)}))})}},u=!1,c="",h="animationstart",f="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v="";{var y=t.document.createElement("fakeelement");if(y.style.animationName!==void 0&&(u=!0),u===!1){for(var _=0;_<f.length;_++)if(y.style[f[_]+"AnimationName"]!==void 0){v=f[_],c="-"+v.toLowerCase()+"-",h=g[_],u=!0;break}}}var C="resizeanim",k="@"+c+"keyframes "+C+" { from { opacity: 0; } to { opacity: 0; } } ",D=c+"animation: 1ms "+C+"; "}var I=function(U){if(!U.getElementById("detectElementResize")){var F=(k||"")+".resize-triggers { "+(D||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',w=U.head||U.getElementsByTagName("head")[0],$=U.createElement("style");$.id="detectElementResize",$.type="text/css",r!=null&&$.setAttribute("nonce",r),$.styleSheet?$.styleSheet.cssText=F:$.appendChild(U.createTextNode(F)),w.appendChild($)}},A=function(U,F){if(n)U.attachEvent("onresize",F);else{if(!U.__resizeTriggers__){var w=U.ownerDocument,$=t.getComputedStyle(U);$&&$.position=="static"&&(U.style.position="relative"),I(w),U.__resizeLast__={},U.__resizeListeners__=[],(U.__resizeTriggers__=w.createElement("div")).className="resize-triggers";var H='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>';if(window.trustedTypes){var W=trustedTypes.createPolicy("react-virtualized-auto-sizer",{createHTML:function(){return H}});U.__resizeTriggers__.innerHTML=W.createHTML("")}else U.__resizeTriggers__.innerHTML=H;U.appendChild(U.__resizeTriggers__),a(U),U.addEventListener("scroll",l,!0),h&&(U.__resizeTriggers__.__animationListener__=function(te){te.animationName==C&&a(U)},U.__resizeTriggers__.addEventListener(h,U.__resizeTriggers__.__animationListener__))}U.__resizeListeners__.push(F)}},R=function(U,F){if(n)U.detachEvent("onresize",F);else if(U.__resizeListeners__.splice(U.__resizeListeners__.indexOf(F),1),!U.__resizeListeners__.length){U.removeEventListener("scroll",l,!0),U.__resizeTriggers__.__animationListener__&&(U.__resizeTriggers__.removeEventListener(h,U.__resizeTriggers__.__animationListener__),U.__resizeTriggers__.__animationListener__=null);try{U.__resizeTriggers__=!U.removeChild(U.__resizeTriggers__)}catch{}}};return{addResizeListener:A,removeResizeListener:R}}var JF,ZF;function eB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function B1e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eB(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):eB(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var pz=(ZF=JF=(function(r){Wa(e,r);function e(){var t,n;zi(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Co(this,(t=Hs(e)).call.apply(t,[this].concat(s))),Ze(We(n),"state",{height:n.props.defaultHeight||0,width:n.props.defaultWidth||0}),Ze(We(n),"_parentNode",void 0),Ze(We(n),"_autoSizer",void 0),Ze(We(n),"_window",void 0),Ze(We(n),"_detectElementResize",void 0),Ze(We(n),"_onResize",function(){var o=n.props,l=o.disableHeight,u=o.disableWidth,c=o.onResize;if(n._parentNode){var h=n._parentNode.offsetHeight||0,f=n._parentNode.offsetWidth||0,g=n._window||window,v=g.getComputedStyle(n._parentNode)||{},y=parseInt(v.paddingLeft,10)||0,_=parseInt(v.paddingRight,10)||0,C=parseInt(v.paddingTop,10)||0,k=parseInt(v.paddingBottom,10)||0,D=h-C-k,I=f-y-_;(!l&&n.state.height!==D||!u&&n.state.width!==I)&&(n.setState({height:h-C-k,width:f-y-_}),c({height:h,width:f}))}}),Ze(We(n),"_setRef",function(o){n._autoSizer=o}),n}return os(e,[{key:"componentDidMount",value:function(){var n=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=fz(n,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var n=this.props,i=n.children,s=n.className,a=n.disableHeight,o=n.disableWidth,l=n.style,u=this.state,c=u.height,h=u.width,f={overflow:"visible"},g={};return a||(f.height=0,g.height=c),o||(f.width=0,g.width=h),M.createElement("div",{className:s,ref:this._setRef,style:B1e({},f,{},l)},i(g))}}]),e})(M.Component),Ze(JF,"propTypes",null),ZF);Ze(pz,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});var tB,rB,N1e=(rB=tB=(function(r){Wa(e,r);function e(){var t,n;zi(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Co(this,(t=Hs(e)).call.apply(t,[this].concat(s))),Ze(We(n),"_child",void 0),Ze(We(n),"_measure",function(){var o=n.props,l=o.cache,u=o.columnIndex,c=u===void 0?0:u,h=o.parent,f=o.rowIndex,g=f===void 0?n.props.index||0:f,v=n._getCellMeasurements(),y=v.height,_=v.width;(y!==l.getHeight(g,c)||_!==l.getWidth(g,c))&&(l.set(g,c,_,y),h&&typeof h.recomputeGridSize=="function"&&h.recomputeGridSize({columnIndex:c,rowIndex:g}))}),Ze(We(n),"_registerChild",function(o){o&&!(o instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),n._child=o,o&&n._maybeMeasureCell()}),n}return os(e,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var n=this.props.children;return typeof n=="function"?n({measure:this._measure,registerChild:this._registerChild}):n}},{key:"_getCellMeasurements",value:function(){var n=this.props.cache,i=this._child||Qo.findDOMNode(this);if(i&&i.ownerDocument&&i.ownerDocument.defaultView&&i instanceof i.ownerDocument.defaultView.HTMLElement){var s=i.style.width,a=i.style.height;n.hasFixedWidth()||(i.style.width="auto"),n.hasFixedHeight()||(i.style.height="auto");var o=Math.ceil(i.offsetHeight),l=Math.ceil(i.offsetWidth);return s&&(i.style.width=s),a&&(i.style.height=a),{height:o,width:l}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var n=this.props,i=n.cache,s=n.columnIndex,a=s===void 0?0:s,o=n.parent,l=n.rowIndex,u=l===void 0?this.props.index||0:l;if(!i.has(u,a)){var c=this._getCellMeasurements(),h=c.height,f=c.width;i.set(u,a,f,h),o&&typeof o.invalidateCellSizeAfterRender=="function"&&o.invalidateCellSizeAfterRender({columnIndex:a,rowIndex:u})}}}]),e})(M.PureComponent),Ze(tB,"propTypes",null),rB);Ze(N1e,"__internalCellMeasurerFlag",!1);function nB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function U1e(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nB(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nB(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var $1e=150,lp={OBSERVED:"observed",REQUESTED:"requested"},gT=(function(r){Wa(e,r);function e(){var t,n;zi(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Co(this,(t=Hs(e)).call.apply(t,[this].concat(s))),Ze(We(n),"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),Ze(We(n),"_calculateSizeAndPositionDataOnNextUpdate",!1),Ze(We(n),"_onSectionRenderedMemoizer",bm()),Ze(We(n),"_onScrollMemoizer",bm(!1)),Ze(We(n),"_invokeOnSectionRenderedHelper",function(){var o=n.props,l=o.cellLayoutManager,u=o.onSectionRendered;n._onSectionRenderedMemoizer({callback:u,indices:{indices:l.getLastRenderedIndices()}})}),Ze(We(n),"_setScrollingContainerRef",function(o){n._scrollingContainer=o}),Ze(We(n),"_updateScrollPositionForScrollToCell",function(){var o=n.props,l=o.cellLayoutManager,u=o.height,c=o.scrollToAlignment,h=o.scrollToCell,f=o.width,g=n.state,v=g.scrollLeft,y=g.scrollTop;if(h>=0){var _=l.getScrollPositionForCell({align:c,cellIndex:h,height:u,scrollLeft:v,scrollTop:y,width:f});(_.scrollLeft!==v||_.scrollTop!==y)&&n._setScrollPosition(_)}}),Ze(We(n),"_onScroll",function(o){if(o.target===n._scrollingContainer){n._enablePointerEventsAfterDelay();var l=n.props,u=l.cellLayoutManager,c=l.height,h=l.isScrollingChange,f=l.width,g=n._scrollbarSize,v=u.getTotalSize(),y=v.height,_=v.width,C=Math.max(0,Math.min(_-f+g,o.target.scrollLeft)),k=Math.max(0,Math.min(y-c+g,o.target.scrollTop));if(n.state.scrollLeft!==C||n.state.scrollTop!==k){var D=o.cancelable?lp.OBSERVED:lp.REQUESTED;n.state.isScrolling||h(!0),n.setState({isScrolling:!0,scrollLeft:C,scrollPositionChangeReason:D,scrollTop:k})}n._invokeOnScrollMemoizer({scrollLeft:C,scrollTop:k,totalWidth:_,totalHeight:y})}}),n._scrollbarSize=AE(),n._scrollbarSize===void 0?(n._scrollbarSizeMeasured=!1,n._scrollbarSize=0):n._scrollbarSizeMeasured=!0,n}return os(e,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var n=this.props,i=n.cellLayoutManager,s=n.scrollLeft,a=n.scrollToCell,o=n.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=AE(),this._scrollbarSizeMeasured=!0,this.setState({})),a>=0?this._updateScrollPositionForScrollToCell():(s>=0||o>=0)&&this._setScrollPosition({scrollLeft:s,scrollTop:o}),this._invokeOnSectionRenderedHelper();var l=i.getTotalSize(),u=l.height,c=l.width;this._invokeOnScrollMemoizer({scrollLeft:s||0,scrollTop:o||0,totalHeight:u,totalWidth:c})}},{key:"componentDidUpdate",value:function(n,i){var s=this.props,a=s.height,o=s.scrollToAlignment,l=s.scrollToCell,u=s.width,c=this.state,h=c.scrollLeft,f=c.scrollPositionChangeReason,g=c.scrollTop;f===lp.REQUESTED&&(h>=0&&h!==i.scrollLeft&&h!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=h),g>=0&&g!==i.scrollTop&&g!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=g)),(a!==n.height||o!==n.scrollToAlignment||l!==n.scrollToCell||u!==n.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var n=this.props,i=n.autoHeight,s=n.cellCount,a=n.cellLayoutManager,o=n.className,l=n.height,u=n.horizontalOverscanSize,c=n.id,h=n.noContentRenderer,f=n.style,g=n.verticalOverscanSize,v=n.width,y=this.state,_=y.isScrolling,C=y.scrollLeft,k=y.scrollTop;(this._lastRenderedCellCount!==s||this._lastRenderedCellLayoutManager!==a||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=s,this._lastRenderedCellLayoutManager=a,this._calculateSizeAndPositionDataOnNextUpdate=!1,a.calculateSizeAndPositionData());var D=a.getTotalSize(),I=D.height,A=D.width,R=Math.max(0,C-u),N=Math.max(0,k-g),U=Math.min(A,C+v+u),F=Math.min(I,k+l+g),w=l>0&&v>0?a.cellRenderers({height:F-N,isScrolling:_,width:U-R,x:R,y:N}):[],$={boxSizing:"border-box",direction:"ltr",height:i?"auto":l,position:"relative",WebkitOverflowScrolling:"touch",width:v,willChange:"transform"},H=I>l?this._scrollbarSize:0,W=A>v?this._scrollbarSize:0;return $.overflowX=A+H<=v?"hidden":"auto",$.overflowY=I+W<=l?"hidden":"auto",M.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Rl("ReactVirtualized__Collection",o),id:c,onScroll:this._onScroll,role:"grid",style:U1e({},$,{},f),tabIndex:0},s>0&&M.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:I,maxHeight:I,maxWidth:A,overflow:"hidden",pointerEvents:_?"none":"",width:A}},w),s===0&&h())}},{key:"_enablePointerEventsAfterDelay",value:function(){var n=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var i=n.props.isScrollingChange;i(!1),n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1})},$1e)}},{key:"_invokeOnScrollMemoizer",value:function(n){var i=this,s=n.scrollLeft,a=n.scrollTop,o=n.totalHeight,l=n.totalWidth;this._onScrollMemoizer({callback:function(c){var h=c.scrollLeft,f=c.scrollTop,g=i.props,v=g.height,y=g.onScroll,_=g.width;y({clientHeight:v,clientWidth:_,scrollHeight:o,scrollLeft:h,scrollTop:f,scrollWidth:l})},indices:{scrollLeft:s,scrollTop:a}})}},{key:"_setScrollPosition",value:function(n){var i=n.scrollLeft,s=n.scrollTop,a={scrollPositionChangeReason:lp.REQUESTED};i>=0&&(a.scrollLeft=i),s>=0&&(a.scrollTop=s),(i>=0&&i!==this.state.scrollLeft||s>=0&&s!==this.state.scrollTop)&&this.setState(a)}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.cellCount===0&&(i.scrollLeft!==0||i.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:lp.REQUESTED}:n.scrollLeft!==i.scrollLeft||n.scrollTop!==i.scrollTop?{scrollLeft:n.scrollLeft!=null?n.scrollLeft:i.scrollLeft,scrollTop:n.scrollTop!=null?n.scrollTop:i.scrollTop,scrollPositionChangeReason:lp.REQUESTED}:null}}]),e})(M.PureComponent);Ze(gT,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0});gT.propTypes={};Nv(gT);var j1e=(function(){function r(e){var t=e.height,n=e.width,i=e.x,s=e.y;zi(this,r),this.height=t,this.width=n,this.x=i,this.y=s,this._indexMap={},this._indices=[]}return os(r,[{key:"addCellIndex",value:function(t){var n=t.index;this._indexMap[n]||(this._indexMap[n]=!0,this._indices.push(n))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}]),r})(),z1e=100,H1e=(function(){function r(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:z1e;zi(this,r),this._sectionSize=e,this._cellMetadata=[],this._sections={}}return os(r,[{key:"getCellIndices",value:function(t){var n=t.height,i=t.width,s=t.x,a=t.y,o={};return this.getSections({height:n,width:i,x:s,y:a}).forEach(function(l){return l.getCellIndices().forEach(function(u){o[u]=u})}),Object.keys(o).map(function(l){return o[l]})}},{key:"getCellMetadata",value:function(t){var n=t.index;return this._cellMetadata[n]}},{key:"getSections",value:function(t){for(var n=t.height,i=t.width,s=t.x,a=t.y,o=Math.floor(s/this._sectionSize),l=Math.floor((s+i-1)/this._sectionSize),u=Math.floor(a/this._sectionSize),c=Math.floor((a+n-1)/this._sectionSize),h=[],f=o;f<=l;f++)for(var g=u;g<=c;g++){var v="".concat(f,".").concat(g);this._sections[v]||(this._sections[v]=new j1e({height:this._sectionSize,width:this._sectionSize,x:f*this._sectionSize,y:g*this._sectionSize})),h.push(this._sections[v])}return h}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var t=this;return Object.keys(this._sections).map(function(n){return t._sections[n].toString()})}},{key:"registerCell",value:function(t){var n=t.cellMetadatum,i=t.index;this._cellMetadata[i]=n,this.getSections(n).forEach(function(s){return s.addCellIndex({index:i})})}}]),r})();function V1e(r){for(var e=r.cellCount,t=r.cellSizeAndPositionGetter,n=r.sectionSize,i=[],s=new H1e(n),a=0,o=0,l=0;l<e;l++){var u=t({index:l});if(u.height==null||isNaN(u.height)||u.width==null||isNaN(u.width)||u.x==null||isNaN(u.x)||u.y==null||isNaN(u.y))throw Error("Invalid metadata returned for cell ".concat(l,`:
        x:`).concat(u.x,", y:").concat(u.y,", width:").concat(u.width,", height:").concat(u.height));a=Math.max(a,u.y+u.height),o=Math.max(o,u.x+u.width),i[l]=u,s.registerCell({cellMetadatum:u,index:l})}return{cellMetadata:i,height:a,sectionManager:s,width:o}}function iB(r){var e=r.align,t=e===void 0?"auto":e,n=r.cellOffset,i=r.cellSize,s=r.containerSize,a=r.currentOffset,o=n,l=o-s+i;switch(t){case"start":return o;case"end":return l;case"center":return o-(s-i)/2;default:return Math.max(l,Math.min(o,a))}}var mz=(function(r){Wa(e,r);function e(t,n){var i;return zi(this,e),i=Co(this,Hs(e).call(this,t,n)),i._cellMetadata=[],i._lastRenderedCellIndices=[],i._cellCache=[],i._isScrollingChange=i._isScrollingChange.bind(We(i)),i._setCollectionViewRef=i._setCollectionViewRef.bind(We(i)),i}return os(e,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var n=sr({},this.props);return M.createElement(gT,sr({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},n))}},{key:"calculateSizeAndPositionData",value:function(){var n=this.props,i=n.cellCount,s=n.cellSizeAndPositionGetter,a=n.sectionSize,o=V1e({cellCount:i,cellSizeAndPositionGetter:s,sectionSize:a});this._cellMetadata=o.cellMetadata,this._sectionManager=o.sectionManager,this._height=o.height,this._width=o.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(n){var i=n.align,s=n.cellIndex,a=n.height,o=n.scrollLeft,l=n.scrollTop,u=n.width,c=this.props.cellCount;if(s>=0&&s<c){var h=this._cellMetadata[s];o=iB({align:i,cellOffset:h.x,cellSize:h.width,containerSize:u,currentOffset:o}),l=iB({align:i,cellOffset:h.y,cellSize:h.height,containerSize:a,currentOffset:l})}return{scrollLeft:o,scrollTop:l}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(n){var i=this,s=n.height,a=n.isScrolling,o=n.width,l=n.x,u=n.y,c=this.props,h=c.cellGroupRenderer,f=c.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:s,width:o,x:l,y:u}),h({cellCache:this._cellCache,cellRenderer:f,cellSizeAndPositionGetter:function(v){var y=v.index;return i._sectionManager.getCellMetadata({index:y})},indices:this._lastRenderedCellIndices,isScrolling:a})}},{key:"_isScrollingChange",value:function(n){n||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(n){this._collectionView=n}}]),e})(M.PureComponent);Ze(mz,"defaultProps",{"aria-label":"grid",cellGroupRenderer:W1e});mz.propTypes={};function W1e(r){var e=r.cellCache,t=r.cellRenderer,n=r.cellSizeAndPositionGetter,i=r.indices,s=r.isScrolling;return i.map(function(a){var o=n({index:a}),l={index:a,isScrolling:s,key:a,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return s?(a in e||(e[a]=t(l)),e[a]):t(l)}).filter(function(a){return!!a})}function DE(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function q1e(r){if(Array.isArray(r))return DE(r)}function G1e(r){if(typeof Symbol<"u"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}function gz(r,e){if(r){if(typeof r=="string")return DE(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?DE(r,e):void 0}}function K1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X1e(r){return q1e(r)||G1e(r)||gz(r)||K1e()}var vz=(function(r){Wa(e,r);function e(t,n){var i;return zi(this,e),i=Co(this,Hs(e).call(this,t,n)),i._loadMoreRowsMemoizer=bm(),i._onRowsRendered=i._onRowsRendered.bind(We(i)),i._registerChild=i._registerChild.bind(We(i)),i}return os(e,[{key:"resetLoadMoreRowsCache",value:function(n){this._loadMoreRowsMemoizer=bm(),n&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var n=this.props.children;return n({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(n){var i=this,s=this.props.loadMoreRows;n.forEach(function(a){var o=s(a);o&&o.then(function(){Y1e({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:a.startIndex,stopIndex:a.stopIndex})&&i._registeredChild&&J1e(i._registeredChild,i._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(n){var i=n.startIndex,s=n.stopIndex;this._lastRenderedStartIndex=i,this._lastRenderedStopIndex=s,this._doStuff(i,s)}},{key:"_doStuff",value:function(n,i){var s,a=this,o=this.props,l=o.isRowLoaded,u=o.minimumBatchSize,c=o.rowCount,h=o.threshold,f=Q1e({isRowLoaded:l,minimumBatchSize:u,rowCount:c,startIndex:Math.max(0,n-h),stopIndex:Math.min(c-1,i+h)}),g=(s=[]).concat.apply(s,X1e(f.map(function(v){var y=v.startIndex,_=v.stopIndex;return[y,_]})));this._loadMoreRowsMemoizer({callback:function(){a._loadUnloadedRanges(f)},indices:{squashedUnloadedRanges:g}})}},{key:"_registerChild",value:function(n){this._registeredChild=n}}]),e})(M.PureComponent);Ze(vz,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15});vz.propTypes={};function Y1e(r){var e=r.lastRenderedStartIndex,t=r.lastRenderedStopIndex,n=r.startIndex,i=r.stopIndex;return!(n>t||i<e)}function Q1e(r){for(var e=r.isRowLoaded,t=r.minimumBatchSize,n=r.rowCount,i=r.startIndex,s=r.stopIndex,a=[],o=null,l=null,u=i;u<=s;u++){var c=e({index:u});c?l!==null&&(a.push({startIndex:o,stopIndex:l}),o=l=null):(l=u,o===null&&(o=u))}if(l!==null){for(var h=Math.min(Math.max(l,o+t-1),n-1),f=l+1;f<=h&&!e({index:f});f++)l=f;a.push({startIndex:o,stopIndex:l})}if(a.length)for(var g=a[0];g.stopIndex-g.startIndex+1<t&&g.startIndex>0;){var v=g.startIndex-1;if(!e({index:v}))g.startIndex=v;else break}return a}function J1e(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=typeof r.recomputeGridSize=="function"?r.recomputeGridSize:r.recomputeRowHeights;t?t.call(r,e):r.forceUpdate()}var sB,aB,Z1e=(aB=sB=(function(r){Wa(e,r);function e(){var t,n;zi(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Co(this,(t=Hs(e)).call.apply(t,[this].concat(s))),Ze(We(n),"Grid",void 0),Ze(We(n),"_cellRenderer",function(o){var l=o.parent,u=o.rowIndex,c=o.style,h=o.isScrolling,f=o.isVisible,g=o.key,v=n.props.rowRenderer,y=Object.getOwnPropertyDescriptor(c,"width");return y&&y.writable&&(c.width="100%"),v({index:u,style:c,isScrolling:h,isVisible:f,key:g,parent:l})}),Ze(We(n),"_setRef",function(o){n.Grid=o}),Ze(We(n),"_onScroll",function(o){var l=o.clientHeight,u=o.scrollHeight,c=o.scrollTop,h=n.props.onScroll;h({clientHeight:l,scrollHeight:u,scrollTop:c})}),Ze(We(n),"_onSectionRendered",function(o){var l=o.rowOverscanStartIndex,u=o.rowOverscanStopIndex,c=o.rowStartIndex,h=o.rowStopIndex,f=n.props.onRowsRendered;f({overscanStartIndex:l,overscanStopIndex:u,startIndex:c,stopIndex:h})}),n}return os(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var i=n.alignment,s=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:i,rowIndex:s,columnIndex:0}),o=a.scrollTop;return o}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var i=n.columnIndex,s=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:s,columnIndex:i})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.columnIndex,s=i===void 0?0:i,a=n.rowIndex,o=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:s})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n,columnIndex:0})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"render",value:function(){var n=this.props,i=n.className,s=n.noRowsRenderer,a=n.scrollToIndex,o=n.width,l=Rl("ReactVirtualized__List",i);return M.createElement(Bd,sr({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:l,columnWidth:o,columnCount:1,noContentRenderer:s,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:a}))}}]),e})(M.PureComponent),Ze(sB,"propTypes",null),aB);Ze(Z1e,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:dz,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function eCe(r){if(Array.isArray(r))return r}function tCe(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(r)).next,e!==0)for(;!(l=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function rCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nCe(r,e){return eCe(r)||tCe(r,e)||gz(r,e)||rCe()}function iCe(r,e,t,n){for(var i=t+1;e<=t;){var s=e+t>>>1,a=r[s];a>=n?(i=s,t=s-1):e=s+1}return i}function sCe(r,e,t,n,i){for(var s=t+1;e<=t;){var a=e+t>>>1,o=r[a];i(o,n)>=0?(s=a,t=a-1):e=a+1}return s}function aCe(r,e,t,n,i){return typeof t=="function"?sCe(r,n===void 0?0:n|0,i===void 0?r.length-1:i|0,e,t):iCe(r,t===void 0?0:t|0,n===void 0?r.length-1:n|0,e)}function oCe(r,e,t,n){for(var i=t+1;e<=t;){var s=e+t>>>1,a=r[s];a>n?(i=s,t=s-1):e=s+1}return i}function lCe(r,e,t,n,i){for(var s=t+1;e<=t;){var a=e+t>>>1,o=r[a];i(o,n)>0?(s=a,t=a-1):e=a+1}return s}function uCe(r,e,t,n,i){return typeof t=="function"?lCe(r,n===void 0?0:n|0,i===void 0?r.length-1:i|0,e,t):oCe(r,t===void 0?0:t|0,n===void 0?r.length-1:n|0,e)}function cCe(r,e,t,n){for(var i=e-1;e<=t;){var s=e+t>>>1,a=r[s];a<n?(i=s,e=s+1):t=s-1}return i}function dCe(r,e,t,n,i){for(var s=e-1;e<=t;){var a=e+t>>>1,o=r[a];i(o,n)<0?(s=a,e=a+1):t=a-1}return s}function hCe(r,e,t,n,i){return typeof t=="function"?dCe(r,n===void 0?0:n|0,i===void 0?r.length-1:i|0,e,t):cCe(r,t===void 0?0:t|0,n===void 0?r.length-1:n|0,e)}function fCe(r,e,t,n){for(var i=e-1;e<=t;){var s=e+t>>>1,a=r[s];a<=n?(i=s,e=s+1):t=s-1}return i}function pCe(r,e,t,n,i){for(var s=e-1;e<=t;){var a=e+t>>>1,o=r[a];i(o,n)<=0?(s=a,e=a+1):t=a-1}return s}function mCe(r,e,t,n,i){return typeof t=="function"?pCe(r,n===void 0?0:n|0,i===void 0?r.length-1:i|0,e,t):fCe(r,t===void 0?0:t|0,n===void 0?r.length-1:n|0,e)}function gCe(r,e,t,n){for(;e<=t;){var i=e+t>>>1,s=r[i];if(s===n)return i;s<=n?e=i+1:t=i-1}return-1}function vCe(r,e,t,n,i){for(;e<=t;){var s=e+t>>>1,a=r[s],o=i(a,n);if(o===0)return s;o<=0?e=s+1:t=s-1}return-1}function yCe(r,e,t,n,i){return typeof t=="function"?vCe(r,n===void 0?0:n|0,i===void 0?r.length-1:i|0,e,t):gCe(r,t===void 0?0:t|0,n===void 0?r.length-1:n|0,e)}const qb={ge:aCe,gt:uCe,lt:hCe,le:mCe,eq:yCe};var wp=0,Uh=1,__=2;function RD(r,e,t,n,i){this.mid=r,this.left=e,this.right=t,this.leftPoints=n,this.rightPoints=i,this.count=(e?e.count:0)+(t?t.count:0)+n.length}var Uv=RD.prototype;function Cw(r,e){r.mid=e.mid,r.left=e.left,r.right=e.right,r.leftPoints=e.leftPoints,r.rightPoints=e.rightPoints,r.count=e.count}function yz(r,e){var t=J0(e);r.mid=t.mid,r.left=t.left,r.right=t.right,r.leftPoints=t.leftPoints,r.rightPoints=t.rightPoints,r.count=t.count}function oB(r,e){var t=r.intervals([]);t.push(e),yz(r,t)}function lB(r,e){var t=r.intervals([]),n=t.indexOf(e);return n<0?wp:(t.splice(n,1),yz(r,t),Uh)}Uv.intervals=function(r){return r.push.apply(r,this.leftPoints),this.left&&this.left.intervals(r),this.right&&this.right.intervals(r),r};Uv.insert=function(r){var e=this.count-this.leftPoints.length;if(this.count+=1,r[1]<this.mid)this.left?4*(this.left.count+1)>3*(e+1)?oB(this,r):this.left.insert(r):this.left=J0([r]);else if(r[0]>this.mid)this.right?4*(this.right.count+1)>3*(e+1)?oB(this,r):this.right.insert(r):this.right=J0([r]);else{var t=qb.ge(this.leftPoints,r,LD),n=qb.ge(this.rightPoints,r,OD);this.leftPoints.splice(t,0,r),this.rightPoints.splice(n,0,r)}};Uv.remove=function(r){var e=this.count-this.leftPoints;if(r[1]<this.mid){if(!this.left)return wp;var t=this.right?this.right.count:0;if(4*t>3*(e-1))return lB(this,r);var n=this.left.remove(r);return n===__?(this.left=null,this.count-=1,Uh):(n===Uh&&(this.count-=1),n)}else if(r[0]>this.mid){if(!this.right)return wp;var i=this.left?this.left.count:0;if(4*i>3*(e-1))return lB(this,r);var n=this.right.remove(r);return n===__?(this.right=null,this.count-=1,Uh):(n===Uh&&(this.count-=1),n)}else{if(this.count===1)return this.leftPoints[0]===r?__:wp;if(this.leftPoints.length===1&&this.leftPoints[0]===r){if(this.left&&this.right){for(var s=this,a=this.left;a.right;)s=a,a=a.right;if(s===this)a.right=this.right;else{var o=this.left,n=this.right;s.count-=a.count,s.right=a.left,a.left=o,a.right=n}Cw(this,a),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?Cw(this,this.left):Cw(this,this.right);return Uh}for(var o=qb.ge(this.leftPoints,r,LD);o<this.leftPoints.length&&this.leftPoints[o][0]===r[0];++o)if(this.leftPoints[o]===r){this.count-=1,this.leftPoints.splice(o,1);for(var n=qb.ge(this.rightPoints,r,OD);n<this.rightPoints.length&&this.rightPoints[n][1]===r[1];++n)if(this.rightPoints[n]===r)return this.rightPoints.splice(n,1),Uh}return wp}};function xz(r,e,t){for(var n=0;n<r.length&&r[n][0]<=e;++n){var i=t(r[n]);if(i)return i}}function _z(r,e,t){for(var n=r.length-1;n>=0&&r[n][1]>=e;--n){var i=t(r[n]);if(i)return i}}function bz(r,e){for(var t=0;t<r.length;++t){var n=e(r[t]);if(n)return n}}Uv.queryPoint=function(r,e){if(r<this.mid){if(this.left){var t=this.left.queryPoint(r,e);if(t)return t}return xz(this.leftPoints,r,e)}else if(r>this.mid){if(this.right){var t=this.right.queryPoint(r,e);if(t)return t}return _z(this.rightPoints,r,e)}else return bz(this.leftPoints,e)};Uv.queryInterval=function(r,e,t){if(r<this.mid&&this.left){var n=this.left.queryInterval(r,e,t);if(n)return n}if(e>this.mid&&this.right){var n=this.right.queryInterval(r,e,t);if(n)return n}return e<this.mid?xz(this.leftPoints,e,t):r>this.mid?_z(this.rightPoints,r,t):bz(this.leftPoints,t)};function xCe(r,e){return r-e}function LD(r,e){var t=r[0]-e[0];return t||r[1]-e[1]}function OD(r,e){var t=r[1]-e[1];return t||r[0]-e[0]}function J0(r){if(r.length===0)return null;for(var e=[],t=0;t<r.length;++t)e.push(r[t][0],r[t][1]);e.sort(xCe);for(var n=e[e.length>>1],i=[],s=[],a=[],t=0;t<r.length;++t){var o=r[t];o[1]<n?i.push(o):n<o[0]?s.push(o):a.push(o)}var l=a,u=a.slice();return l.sort(LD),u.sort(OD),new RD(n,J0(i),J0(s),l,u)}function Sz(r){this.root=r}var Qm=Sz.prototype;Qm.insert=function(r){this.root?this.root.insert(r):this.root=new RD(r[0],null,null,[r],[r])};Qm.remove=function(r){if(this.root){var e=this.root.remove(r);return e===__&&(this.root=null),e!==wp}return!1};Qm.queryPoint=function(r,e){if(this.root)return this.root.queryPoint(r,e)};Qm.queryInterval=function(r,e,t){if(r<=e&&this.root)return this.root.queryInterval(r,e,t)};Object.defineProperty(Qm,"count",{get:function(){return this.root?this.root.count:0}});Object.defineProperty(Qm,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function _Ce(r){return new Sz(null)}var ww=(function(){function r(){zi(this,r),Ze(this,"_columnSizeMap",{}),Ze(this,"_intervalTree",_Ce()),Ze(this,"_leftMap",{})}return os(r,[{key:"estimateTotalHeight",value:function(t,n,i){var s=t-this.count;return this.tallestColumnSize+Math.ceil(s/n)*i}},{key:"range",value:function(t,n,i){var s=this;this._intervalTree.queryInterval(t,t+n,function(a){var o=nCe(a,3),l=o[0];o[1];var u=o[2];return i(u,s._leftMap[u],l)})}},{key:"setPosition",value:function(t,n,i,s){this._intervalTree.insert([i,i+s,t]),this._leftMap[t]=n;var a=this._columnSizeMap,o=a[n];o===void 0?a[n]=i+s:a[n]=Math.max(o,i+s)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var t=this._columnSizeMap,n=0;for(var i in t){var s=t[i];n=n===0?s:Math.min(n,s)}return n}},{key:"tallestColumnSize",get:function(){var t=this._columnSizeMap,n=0;for(var i in t){var s=t[i];n=Math.max(n,s)}return n}}]),r})(),uB,cB;function dB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function bCe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dB(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):dB(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var SCe={},TCe=150,Tz=(cB=uB=(function(r){Wa(e,r);function e(){var t,n;zi(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Co(this,(t=Hs(e)).call.apply(t,[this].concat(s))),Ze(We(n),"state",{isScrolling:!1,scrollTop:0}),Ze(We(n),"_debounceResetIsScrollingId",void 0),Ze(We(n),"_invalidateOnUpdateStartIndex",null),Ze(We(n),"_invalidateOnUpdateStopIndex",null),Ze(We(n),"_positionCache",new ww),Ze(We(n),"_startIndex",null),Ze(We(n),"_startIndexMemoized",null),Ze(We(n),"_stopIndex",null),Ze(We(n),"_stopIndexMemoized",null),Ze(We(n),"_debounceResetIsScrollingCallback",function(){n.setState({isScrolling:!1})}),Ze(We(n),"_setScrollingContainerRef",function(o){n._scrollingContainer=o}),Ze(We(n),"_onScroll",function(o){var l=n.props.height,u=o.currentTarget.scrollTop,c=Math.min(Math.max(0,n._getEstimatedTotalHeight()-l),u);u===c&&(n._debounceResetIsScrolling(),n.state.scrollTop!==c&&n.setState({isScrolling:!0,scrollTop:c}))}),n}return os(e,[{key:"clearCellPositions",value:function(){this._positionCache=new ww,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(n){var i=n.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=i,this._invalidateOnUpdateStopIndex=i):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,i),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,i))}},{key:"recomputeCellPositions",value:function(){var n=this._positionCache.count-1;this._positionCache=new ww,this._populatePositionCache(0,n),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(n,i){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==n.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Sm(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var n=this,i=this.props,s=i.autoHeight,a=i.cellCount,o=i.cellMeasurerCache,l=i.cellRenderer,u=i.className,c=i.height,h=i.id,f=i.keyMapper,g=i.overscanByPixels,v=i.role,y=i.style,_=i.tabIndex,C=i.width,k=i.rowDirection,D=this.state,I=D.isScrolling,A=D.scrollTop,R=[],N=this._getEstimatedTotalHeight(),U=this._positionCache.shortestColumnSize,F=this._positionCache.count,w=0,$;if(this._positionCache.range(Math.max(0,A-g),c+g*2,function(Q,te,oe){var de;typeof $>"u"?(w=Q,$=Q):(w=Math.min(w,Q),$=Math.max($,Q)),R.push(l({index:Q,isScrolling:I,key:f(Q),parent:n,style:(de={height:o.getHeight(Q)},Ze(de,k==="ltr"?"left":"right",te),Ze(de,"position","absolute"),Ze(de,"top",oe),Ze(de,"width",o.getWidth(Q)),de)}))}),U<A+c+g&&F<a)for(var H=Math.min(a-F,Math.ceil((A+c+g-U)/o.defaultHeight*C/o.defaultWidth)),W=F;W<F+H;W++)$=W,R.push(l({index:W,isScrolling:I,key:f(W),parent:this,style:{width:o.getWidth(W)}}));return this._startIndex=w,this._stopIndex=$,M.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:Rl("ReactVirtualized__Masonry",u),id:h,onScroll:this._onScroll,role:v,style:bCe({boxSizing:"border-box",direction:"ltr",height:s?"auto":c,overflowX:"hidden",overflowY:N<c?"hidden":"auto",position:"relative",width:C,WebkitOverflowScrolling:"touch",willChange:"transform"},y),tabIndex:_},M.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:N,maxWidth:"100%",maxHeight:N,overflow:"hidden",pointerEvents:I?"none":"",position:"relative"}},R))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var n=this._invalidateOnUpdateStartIndex,i=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(n,i),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var n=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Sm(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=PD(this._debounceResetIsScrollingCallback,n)}},{key:"_getEstimatedTotalHeight",value:function(){var n=this.props,i=n.cellCount,s=n.cellMeasurerCache,a=n.width,o=Math.max(1,Math.floor(a/s.defaultWidth));return this._positionCache.estimateTotalHeight(i,o,s.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var n=this.props,i=n.height,s=n.onScroll,a=this.state.scrollTop;this._onScrollMemoized!==a&&(s({clientHeight:i,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:a}),this._onScrollMemoized=a)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var n=this.props.onCellsRendered;n({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(n,i){for(var s=this.props,a=s.cellMeasurerCache,o=s.cellPositioner,l=n;l<=i;l++){var u=o(l),c=u.left,h=u.top;this._positionCache.setPosition(l,c,h,a.getHeight(l))}}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.scrollTop!==void 0&&i.scrollTop!==n.scrollTop?{isScrolling:!0,scrollTop:n.scrollTop}:null}}]),e})(M.PureComponent),Ze(uB,"propTypes",null),cB);Ze(Tz,"defaultProps",{autoHeight:!1,keyMapper:CCe,onCellsRendered:hB,onScroll:hB,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:TCe,style:SCe,tabIndex:0,rowDirection:"ltr"});function CCe(r){return r}function hB(){}Nv(Tz);var Ew=(function(){function r(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zi(this,r),Ze(this,"_cellMeasurerCache",void 0),Ze(this,"_columnIndexOffset",void 0),Ze(this,"_rowIndexOffset",void 0),Ze(this,"columnWidth",function(l){var u=l.index;e._cellMeasurerCache.columnWidth({index:u+e._columnIndexOffset})}),Ze(this,"rowHeight",function(l){var u=l.index;e._cellMeasurerCache.rowHeight({index:u+e._rowIndexOffset})});var n=t.cellMeasurerCache,i=t.columnIndexOffset,s=i===void 0?0:i,a=t.rowIndexOffset,o=a===void 0?0:a;this._cellMeasurerCache=n,this._columnIndexOffset=s,this._rowIndexOffset=o}return os(r,[{key:"clear",value:function(t,n){this._cellMeasurerCache.clear(t+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(t+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"getWidth",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(t+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"has",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(t+this._rowIndexOffset,n+this._columnIndexOffset)}},{key:"set",value:function(t,n,i,s){this._cellMeasurerCache.set(t+this._rowIndexOffset,n+this._columnIndexOffset,i,s)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),r})();function fB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function Fs(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fB(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):fB(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var pB=20,MD=(function(r){Wa(e,r);function e(t,n){var i;zi(this,e),i=Co(this,Hs(e).call(this,t,n)),Ze(We(i),"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),Ze(We(i),"_deferredInvalidateColumnIndex",null),Ze(We(i),"_deferredInvalidateRowIndex",null),Ze(We(i),"_bottomLeftGridRef",function(l){i._bottomLeftGrid=l}),Ze(We(i),"_bottomRightGridRef",function(l){i._bottomRightGrid=l}),Ze(We(i),"_cellRendererBottomLeftGrid",function(l){var u=l.rowIndex,c=e0(l,["rowIndex"]),h=i.props,f=h.cellRenderer,g=h.fixedRowCount,v=h.rowCount;return u===v-g?M.createElement("div",{key:c.key,style:Fs({},c.style,{height:pB})}):f(Fs({},c,{parent:We(i),rowIndex:u+g}))}),Ze(We(i),"_cellRendererBottomRightGrid",function(l){var u=l.columnIndex,c=l.rowIndex,h=e0(l,["columnIndex","rowIndex"]),f=i.props,g=f.cellRenderer,v=f.fixedColumnCount,y=f.fixedRowCount;return g(Fs({},h,{columnIndex:u+v,parent:We(i),rowIndex:c+y}))}),Ze(We(i),"_cellRendererTopRightGrid",function(l){var u=l.columnIndex,c=e0(l,["columnIndex"]),h=i.props,f=h.cellRenderer,g=h.columnCount,v=h.fixedColumnCount;return u===g-v?M.createElement("div",{key:c.key,style:Fs({},c.style,{width:pB})}):f(Fs({},c,{columnIndex:u+v,parent:We(i)}))}),Ze(We(i),"_columnWidthRightGrid",function(l){var u=l.index,c=i.props,h=c.columnCount,f=c.fixedColumnCount,g=c.columnWidth,v=i.state,y=v.scrollbarSize,_=v.showHorizontalScrollbar;return _&&u===h-f?y:typeof g=="function"?g({index:u+f}):g}),Ze(We(i),"_onScroll",function(l){var u=l.scrollLeft,c=l.scrollTop;i.setState({scrollLeft:u,scrollTop:c});var h=i.props.onScroll;h&&h(l)}),Ze(We(i),"_onScrollbarPresenceChange",function(l){var u=l.horizontal,c=l.size,h=l.vertical,f=i.state,g=f.showHorizontalScrollbar,v=f.showVerticalScrollbar;if(u!==g||h!==v){i.setState({scrollbarSize:c,showHorizontalScrollbar:u,showVerticalScrollbar:h});var y=i.props.onScrollbarPresenceChange;typeof y=="function"&&y({horizontal:u,size:c,vertical:h})}}),Ze(We(i),"_onScrollLeft",function(l){var u=l.scrollLeft;i._onScroll({scrollLeft:u,scrollTop:i.state.scrollTop})}),Ze(We(i),"_onScrollTop",function(l){var u=l.scrollTop;i._onScroll({scrollTop:u,scrollLeft:i.state.scrollLeft})}),Ze(We(i),"_rowHeightBottomGrid",function(l){var u=l.index,c=i.props,h=c.fixedRowCount,f=c.rowCount,g=c.rowHeight,v=i.state,y=v.scrollbarSize,_=v.showVerticalScrollbar;return _&&u===f-h?y:typeof g=="function"?g({index:u+h}):g}),Ze(We(i),"_topLeftGridRef",function(l){i._topLeftGrid=l}),Ze(We(i),"_topRightGridRef",function(l){i._topRightGrid=l});var s=t.deferredMeasurementCache,a=t.fixedColumnCount,o=t.fixedRowCount;return i._maybeCalculateCachedStyles(!0),s&&(i._deferredMeasurementCacheBottomLeftGrid=o>0?new Ew({cellMeasurerCache:s,columnIndexOffset:0,rowIndexOffset:o}):s,i._deferredMeasurementCacheBottomRightGrid=a>0||o>0?new Ew({cellMeasurerCache:s,columnIndexOffset:a,rowIndexOffset:o}):s,i._deferredMeasurementCacheTopRightGrid=a>0?new Ew({cellMeasurerCache:s,columnIndexOffset:a,rowIndexOffset:0}):s),i}return os(e,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.columnIndex,s=i===void 0?0:i,a=n.rowIndex,o=a===void 0?0:a;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,s):s,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.columnIndex,s=i===void 0?0:i,a=n.rowIndex,o=a===void 0?0:a,l=this.props,u=l.fixedColumnCount,c=l.fixedRowCount,h=Math.max(0,s-u),f=Math.max(0,o-c);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:s,rowIndex:f}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:h,rowIndex:f}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:s,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:h,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var n=this.props,i=n.scrollLeft,s=n.scrollTop;if(i>0||s>0){var a={};i>0&&(a.scrollLeft=i),s>0&&(a.scrollTop=s),this.setState(a)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var n=this.props,i=n.onScroll,s=n.onSectionRendered;n.onScrollbarPresenceChange,n.scrollLeft;var a=n.scrollToColumn;n.scrollTop;var o=n.scrollToRow,l=e0(n,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var u=this.state,c=u.scrollLeft,h=u.scrollTop;return M.createElement("div",{style:this._containerOuterStyle},M.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(l),this._renderTopRightGrid(Fs({},l,{onScroll:i,scrollLeft:c}))),M.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Fs({},l,{onScroll:i,scrollTop:h})),this._renderBottomRightGrid(Fs({},l,{onScroll:i,onSectionRendered:s,scrollLeft:c,scrollToColumn:a,scrollToRow:o,scrollTop:h}))))}},{key:"_getBottomGridHeight",value:function(n){var i=n.height,s=this._getTopGridHeight(n);return i-s}},{key:"_getLeftGridWidth",value:function(n){var i=n.fixedColumnCount,s=n.columnWidth;if(this._leftGridWidth==null)if(typeof s=="function"){for(var a=0,o=0;o<i;o++)a+=s({index:o});this._leftGridWidth=a}else this._leftGridWidth=s*i;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(n){var i=n.width,s=this._getLeftGridWidth(n);return i-s}},{key:"_getTopGridHeight",value:function(n){var i=n.fixedRowCount,s=n.rowHeight;if(this._topGridHeight==null)if(typeof s=="function"){for(var a=0,o=0;o<i;o++)a+=s({index:o});this._topGridHeight=a}else this._topGridHeight=s*i;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var n=this._deferredInvalidateColumnIndex,i=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:n,rowIndex:i}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(n){var i=this.props,s=i.columnWidth,a=i.enableFixedColumnScroll,o=i.enableFixedRowScroll,l=i.height,u=i.fixedColumnCount,c=i.fixedRowCount,h=i.rowHeight,f=i.style,g=i.styleBottomLeftGrid,v=i.styleBottomRightGrid,y=i.styleTopLeftGrid,_=i.styleTopRightGrid,C=i.width,k=n||l!==this._lastRenderedHeight||C!==this._lastRenderedWidth,D=n||s!==this._lastRenderedColumnWidth||u!==this._lastRenderedFixedColumnCount,I=n||c!==this._lastRenderedFixedRowCount||h!==this._lastRenderedRowHeight;(n||k||f!==this._lastRenderedStyle)&&(this._containerOuterStyle=Fs({height:l,overflow:"visible",width:C},f)),(n||k||I)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:C},this._containerBottomStyle={height:l-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:C}),(n||g!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Fs({left:0,overflowX:"hidden",overflowY:a?"auto":"hidden",position:"absolute"},g)),(n||D||v!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Fs({left:this._getLeftGridWidth(this.props),position:"absolute"},v)),(n||y!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Fs({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},y)),(n||D||_!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Fs({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},_)),this._lastRenderedColumnWidth=s,this._lastRenderedFixedColumnCount=u,this._lastRenderedFixedRowCount=c,this._lastRenderedHeight=l,this._lastRenderedRowHeight=h,this._lastRenderedStyle=f,this._lastRenderedStyleBottomLeftGrid=g,this._lastRenderedStyleBottomRightGrid=v,this._lastRenderedStyleTopLeftGrid=y,this._lastRenderedStyleTopRightGrid=_,this._lastRenderedWidth=C}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(n){var i=n.enableFixedColumnScroll,s=n.fixedColumnCount,a=n.fixedRowCount,o=n.rowCount,l=n.hideBottomLeftGridScrollbar,u=this.state.showVerticalScrollbar;if(!s)return null;var c=u?1:0,h=this._getBottomGridHeight(n),f=this._getLeftGridWidth(n),g=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,v=l?f+g:f,y=M.createElement(Bd,sr({},n,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:s,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:h,onScroll:i?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,o-a)+c,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:v}));return l?M.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Fs({},this._bottomLeftGridStyle,{height:h,width:f,overflowY:"hidden"})},y):y}},{key:"_renderBottomRightGrid",value:function(n){var i=n.columnCount,s=n.fixedColumnCount,a=n.fixedRowCount,o=n.rowCount,l=n.scrollToColumn,u=n.scrollToRow;return M.createElement(Bd,sr({},n,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,i-s),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(n),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,o-a),rowHeight:this._rowHeightBottomGrid,scrollToColumn:l-s,scrollToRow:u-a,style:this._bottomRightGridStyle,width:this._getRightGridWidth(n)}))}},{key:"_renderTopLeftGrid",value:function(n){var i=n.fixedColumnCount,s=n.fixedRowCount;return!i||!s?null:M.createElement(Bd,sr({},n,{className:this.props.classNameTopLeftGrid,columnCount:i,height:this._getTopGridHeight(n),ref:this._topLeftGridRef,rowCount:s,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(n)}))}},{key:"_renderTopRightGrid",value:function(n){var i=n.columnCount,s=n.enableFixedRowScroll,a=n.fixedColumnCount,o=n.fixedRowCount,l=n.scrollLeft,u=n.hideTopRightGridScrollbar,c=this.state,h=c.showHorizontalScrollbar,f=c.scrollbarSize;if(!o)return null;var g=h?1:0,v=this._getTopGridHeight(n),y=this._getRightGridWidth(n),_=h?f:0,C=v,k=this._topRightGridStyle;u&&(C=v+_,k=Fs({},this._topRightGridStyle,{left:0}));var D=M.createElement(Bd,sr({},n,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,i-a)+g,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:C,onScroll:s?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:o,scrollLeft:l,style:k,tabIndex:null,width:y}));return u?M.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Fs({},this._topRightGridStyle,{height:v,width:y,overflowX:"hidden"})},D):D}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.scrollLeft!==i.scrollLeft||n.scrollTop!==i.scrollTop?{scrollLeft:n.scrollLeft!=null&&n.scrollLeft>=0?n.scrollLeft:i.scrollLeft,scrollTop:n.scrollTop!=null&&n.scrollTop>=0?n.scrollTop:i.scrollTop}:null}}]),e})(M.PureComponent);Ze(MD,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1});MD.propTypes={};Nv(MD);function wCe(r){var e=r.dataKey,t=r.rowData;return typeof t.get=="function"?t.get(e):t[e]}function ECe(r){var e=r.cellData;return e==null?"":String(e)}function Cz(r){var e=r.className,t=r.columns,n=r.style;return M.createElement("div",{className:e,role:"row",style:n},t)}Cz.propTypes=null;var Nd={ASC:"ASC",DESC:"DESC"};function wz(r){var e=r.sortDirection,t=Rl("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":e===Nd.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":e===Nd.DESC});return M.createElement("svg",{className:t,width:18,height:18,viewBox:"0 0 24 24"},e===Nd.ASC?M.createElement("path",{d:"M7 14l5-5 5 5z"}):M.createElement("path",{d:"M7 10l5 5 5-5z"}),M.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}wz.propTypes={};function Ez(r){var e=r.dataKey,t=r.label,n=r.sortBy,i=r.sortDirection,s=n===e,a=[M.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof t=="string"?t:null},t)];return s&&a.push(M.createElement(wz,{key:"SortIndicator",sortDirection:i})),a}Ez.propTypes=null;function kz(r){var e=r.className,t=r.columns,n=r.index,i=r.key,s=r.onRowClick,a=r.onRowDoubleClick,o=r.onRowMouseOut,l=r.onRowMouseOver,u=r.onRowRightClick,c=r.rowData,h=r.style,f={"aria-rowindex":n+1};return(s||a||o||l||u)&&(f["aria-label"]="row",f.tabIndex=0,s&&(f.onClick=function(g){return s({event:g,index:n,rowData:c})}),a&&(f.onDoubleClick=function(g){return a({event:g,index:n,rowData:c})}),o&&(f.onMouseOut=function(g){return o({event:g,index:n,rowData:c})}),l&&(f.onMouseOver=function(g){return l({event:g,index:n,rowData:c})}),u&&(f.onContextMenu=function(g){return u({event:g,index:n,rowData:c})})),M.createElement("div",sr({},f,{className:e,key:i,role:"row",style:h}),t)}kz.propTypes=null;var FD=(function(r){Wa(e,r);function e(){return zi(this,e),Co(this,Hs(e).apply(this,arguments))}return e})(M.Component);Ze(FD,"defaultProps",{cellDataGetter:wCe,cellRenderer:ECe,defaultSortDirection:Nd.ASC,flexGrow:0,flexShrink:1,headerRenderer:Ez,style:{}});FD.propTypes={};function mB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function up(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mB(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):mB(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var BD=(function(r){Wa(e,r);function e(t){var n;return zi(this,e),n=Co(this,Hs(e).call(this,t)),n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(We(n)),n._createRow=n._createRow.bind(We(n)),n._onScroll=n._onScroll.bind(We(n)),n._onSectionRendered=n._onSectionRendered.bind(We(n)),n._setRef=n._setRef.bind(We(n)),n}return os(e,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(n){var i=n.alignment,s=n.index;if(this.Grid){var a=this.Grid.getOffsetForCell({alignment:i,rowIndex:s}),o=a.scrollTop;return o}return 0}},{key:"invalidateCellSizeAfterRender",value:function(n){var i=n.columnIndex,s=n.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:s,columnIndex:i})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.columnIndex,s=i===void 0?0:i,a=n.rowIndex,o=a===void 0?0:a;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:s})}},{key:"recomputeRowHeights",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:n})}},{key:"scrollToPosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:n})}},{key:"scrollToRow",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:n})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var n=Qo.findDOMNode(this.Grid),i=n.clientWidth||0,s=n.offsetWidth||0;return s-i}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var n=this,i=this.props,s=i.children,a=i.className,o=i.disableHeader,l=i.gridClassName,u=i.gridStyle,c=i.headerHeight,h=i.headerRowRenderer,f=i.height,g=i.id,v=i.noRowsRenderer,y=i.rowClassName,_=i.rowStyle,C=i.scrollToIndex,k=i.style,D=i.width,I=this.state.scrollbarWidth,A=o?f:f-c,R=typeof y=="function"?y({index:-1}):y,N=typeof _=="function"?_({index:-1}):_;return this._cachedColumnStyles=[],M.Children.toArray(s).forEach(function(U,F){var w=n._getFlexStyleForColumn(U,U.props.style);n._cachedColumnStyles[F]=up({overflow:"hidden"},w)}),M.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":M.Children.toArray(s).length,"aria-rowcount":this.props.rowCount,className:Rl("ReactVirtualized__Table",a),id:g,role:"grid",style:k},!o&&h({className:Rl("ReactVirtualized__Table__headerRow",R),columns:this._getHeaderColumns(),style:up({height:c,overflow:"hidden",paddingRight:I,width:D},N)}),M.createElement(Bd,sr({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:Rl("ReactVirtualized__Table__Grid",l),cellRenderer:this._createRow,columnWidth:D,columnCount:1,height:A,id:void 0,noContentRenderer:v,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:I,scrollToRow:C,style:up({},u,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(n){var i=n.column,s=n.columnIndex,a=n.isScrolling,o=n.parent,l=n.rowData,u=n.rowIndex,c=this.props.onColumnClick,h=i.props,f=h.cellDataGetter,g=h.cellRenderer,v=h.className,y=h.columnData,_=h.dataKey,C=h.id,k=f({columnData:y,dataKey:_,rowData:l}),D=g({cellData:k,columnData:y,columnIndex:s,dataKey:_,isScrolling:a,parent:o,rowData:l,rowIndex:u}),I=function(U){c&&c({columnData:y,dataKey:_,event:U})},A=this._cachedColumnStyles[s],R=typeof D=="string"?D:null;return M.createElement("div",{"aria-colindex":s+1,"aria-describedby":C,className:Rl("ReactVirtualized__Table__rowColumn",v),key:"Row"+u+"-Col"+s,onClick:I,role:"gridcell",style:A,title:R},D)}},{key:"_createHeader",value:function(n){var i=n.column,s=n.index,a=this.props,o=a.headerClassName,l=a.headerStyle,u=a.onHeaderClick,c=a.sort,h=a.sortBy,f=a.sortDirection,g=i.props,v=g.columnData,y=g.dataKey,_=g.defaultSortDirection,C=g.disableSort,k=g.headerRenderer,D=g.id,I=g.label,A=!C&&c,R=Rl("ReactVirtualized__Table__headerColumn",o,i.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:A}),N=this._getFlexStyleForColumn(i,up({},l,{},i.props.headerStyle)),U=k({columnData:v,dataKey:y,disableSort:C,label:I,sortBy:h,sortDirection:f}),F,w,$,H,W;if(A||u){var Q=h!==y,te=Q?_:f===Nd.DESC?Nd.ASC:Nd.DESC,oe=function(ae){A&&c({defaultSortDirection:_,event:ae,sortBy:y,sortDirection:te}),u&&u({columnData:v,dataKey:y,event:ae})},de=function(ae){(ae.key==="Enter"||ae.key===" ")&&oe(ae)};W=i.props["aria-label"]||I||y,H="none",$=0,F=oe,w=de}return h===y&&(H=f===Nd.ASC?"ascending":"descending"),M.createElement("div",{"aria-label":W,"aria-sort":H,className:R,id:D,key:"Header-Col"+s,onClick:F,onKeyDown:w,role:"columnheader",style:N,tabIndex:$},U)}},{key:"_createRow",value:function(n){var i=this,s=n.rowIndex,a=n.isScrolling,o=n.key,l=n.parent,u=n.style,c=this.props,h=c.children,f=c.onRowClick,g=c.onRowDoubleClick,v=c.onRowRightClick,y=c.onRowMouseOver,_=c.onRowMouseOut,C=c.rowClassName,k=c.rowGetter,D=c.rowRenderer,I=c.rowStyle,A=this.state.scrollbarWidth,R=typeof C=="function"?C({index:s}):C,N=typeof I=="function"?I({index:s}):I,U=k({index:s}),F=M.Children.toArray(h).map(function(H,W){return i._createColumn({column:H,columnIndex:W,isScrolling:a,parent:l,rowData:U,rowIndex:s,scrollbarWidth:A})}),w=Rl("ReactVirtualized__Table__row",R),$=up({},u,{height:this._getRowHeight(s),overflow:"hidden",paddingRight:A},N);return D({className:w,columns:F,index:s,isScrolling:a,key:o,onRowClick:f,onRowDoubleClick:g,onRowRightClick:v,onRowMouseOver:y,onRowMouseOut:_,rowData:U,style:$})}},{key:"_getFlexStyleForColumn",value:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s="".concat(n.props.flexGrow," ").concat(n.props.flexShrink," ").concat(n.props.width,"px"),a=up({},i,{flex:s,msFlex:s,WebkitFlex:s});return n.props.maxWidth&&(a.maxWidth=n.props.maxWidth),n.props.minWidth&&(a.minWidth=n.props.minWidth),a}},{key:"_getHeaderColumns",value:function(){var n=this,i=this.props,s=i.children,a=i.disableHeader,o=a?[]:M.Children.toArray(s);return o.map(function(l,u){return n._createHeader({column:l,index:u})})}},{key:"_getRowHeight",value:function(n){var i=this.props.rowHeight;return typeof i=="function"?i({index:n}):i}},{key:"_onScroll",value:function(n){var i=n.clientHeight,s=n.scrollHeight,a=n.scrollTop,o=this.props.onScroll;o({clientHeight:i,scrollHeight:s,scrollTop:a})}},{key:"_onSectionRendered",value:function(n){var i=n.rowOverscanStartIndex,s=n.rowOverscanStopIndex,a=n.rowStartIndex,o=n.rowStopIndex,l=this.props.onRowsRendered;l({overscanStartIndex:i,overscanStopIndex:s,startIndex:a,stopIndex:o})}},{key:"_setRef",value:function(n){this.Grid=n}},{key:"_setScrollbarWidth",value:function(){var n=this.getScrollbarWidth();this.setState({scrollbarWidth:n})}}]),e})(M.PureComponent);Ze(BD,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:dz,overscanRowCount:10,rowRenderer:kz,headerRowRenderer:Cz,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}});BD.propTypes={};var $d=[],C0=null,hf=null;function Az(){hf&&(hf=null,document.body&&C0!=null&&(document.body.style.pointerEvents=C0),C0=null)}function kCe(){Az(),$d.forEach(function(r){return r.__resetIsScrolling()})}function ACe(){hf&&Sm(hf);var r=0;$d.forEach(function(e){r=Math.max(r,e.props.scrollingResetTimeInterval)}),hf=PD(kCe,r)}function Dz(r){r.currentTarget===window&&C0==null&&document.body&&(C0=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),ACe(),$d.forEach(function(e){e.props.scrollElement===r.currentTarget&&e.__handleWindowScrollEvent()})}function gB(r,e){$d.some(function(t){return t.props.scrollElement===e})||e.addEventListener("scroll",Dz),$d.push(r)}function vB(r,e){$d=$d.filter(function(t){return t!==r}),$d.length||(e.removeEventListener("scroll",Dz),hf&&(Sm(hf),Az()))}var ND=function(e){return e===window},t0=function(e){return e.getBoundingClientRect()};function yB(r,e){if(r)if(ND(r)){var t=window,n=t.innerHeight,i=t.innerWidth;return{height:typeof n=="number"?n:0,width:typeof i=="number"?i:0}}else return t0(r);else return{height:e.serverHeight,width:e.serverWidth}}function DCe(r,e){if(ND(e)&&document.documentElement){var t=document.documentElement,n=t0(r),i=t0(t);return{top:n.top-i.top,left:n.left-i.left}}else{var s=Iz(e),a=t0(r),o=t0(e);return{top:a.top+s.top-o.top,left:a.left+s.left-o.left}}}function Iz(r){return ND(r)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:r.scrollTop,left:r.scrollLeft}}var xB,_B;function bB(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(r,i).enumerable})),t.push.apply(t,n)}return t}function ICe(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bB(t,!0).forEach(function(n){Ze(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):bB(t).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var PCe=150,Pz=function(){return typeof window<"u"?window:void 0},RCe=(_B=xB=(function(r){Wa(e,r);function e(){var t,n;zi(this,e);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n=Co(this,(t=Hs(e)).call.apply(t,[this].concat(s))),Ze(We(n),"_window",Pz()),Ze(We(n),"_isMounted",!1),Ze(We(n),"_positionFromTop",0),Ze(We(n),"_positionFromLeft",0),Ze(We(n),"_detectElementResize",void 0),Ze(We(n),"_child",void 0),Ze(We(n),"state",ICe({},yB(n.props.scrollElement,n.props),{isScrolling:!1,scrollLeft:0,scrollTop:0})),Ze(We(n),"_registerChild",function(o){o&&!(o instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),n._child=o,n.updatePosition()}),Ze(We(n),"_onChildScroll",function(o){var l=o.scrollTop;if(n.state.scrollTop!==l){var u=n.props.scrollElement;u&&(typeof u.scrollTo=="function"?u.scrollTo(0,l+n._positionFromTop):u.scrollTop=l+n._positionFromTop)}}),Ze(We(n),"_registerResizeListener",function(o){o===window?window.addEventListener("resize",n._onResize,!1):n._detectElementResize.addResizeListener(o,n._onResize)}),Ze(We(n),"_unregisterResizeListener",function(o){o===window?window.removeEventListener("resize",n._onResize,!1):o&&n._detectElementResize.removeResizeListener(o,n._onResize)}),Ze(We(n),"_onResize",function(){n.updatePosition()}),Ze(We(n),"__handleWindowScrollEvent",function(){if(n._isMounted){var o=n.props.onScroll,l=n.props.scrollElement;if(l){var u=Iz(l),c=Math.max(0,u.left-n._positionFromLeft),h=Math.max(0,u.top-n._positionFromTop);n.setState({isScrolling:!0,scrollLeft:c,scrollTop:h}),o({scrollLeft:c,scrollTop:h})}}}),Ze(We(n),"__resetIsScrolling",function(){n.setState({isScrolling:!1})}),n}return os(e,[{key:"updatePosition",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,i=this.props.onResize,s=this.state,a=s.height,o=s.width,l=this._child||Qo.findDOMNode(this);if(l instanceof Element&&n){var u=DCe(l,n);this._positionFromTop=u.top,this._positionFromLeft=u.left}var c=yB(n,this.props);(a!==c.height||o!==c.width)&&(this.setState({height:c.height,width:c.width}),i({height:c.height,width:c.width}))}},{key:"componentDidMount",value:function(){var n=this.props.scrollElement;this._detectElementResize=fz(),this.updatePosition(n),n&&(gB(this,n),this._registerResizeListener(n)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(n,i){var s=this.props.scrollElement,a=n.scrollElement;a!==s&&a!=null&&s!=null&&(this.updatePosition(s),vB(this,a),gB(this,s),this._unregisterResizeListener(a),this._registerResizeListener(s))}},{key:"componentWillUnmount",value:function(){var n=this.props.scrollElement;n&&(vB(this,n),this._unregisterResizeListener(n)),this._isMounted=!1}},{key:"render",value:function(){var n=this.props.children,i=this.state,s=i.isScrolling,a=i.scrollTop,o=i.scrollLeft,l=i.height,u=i.width;return n({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:l,isScrolling:s,scrollLeft:o,scrollTop:a,width:u})}}]),e})(M.PureComponent),Ze(xB,"propTypes",null),_B);Ze(RCe,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:PCe,scrollElement:Pz(),serverHeight:0,serverWidth:0});const LCe=yr(P.jsx("path",{d:"M21 6h-7.59l3.29-3.29L16 2l-4 4-4-4-.71.71L10.59 6H3c-1.1 0-2 .89-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V8c0-1.11-.9-2-2-2m0 14H3V8h18zM9 10v8l7-4z"})),OCe=yr([P.jsx("circle",{cx:"15.5",cy:"9.5",r:"1.5"},"0"),P.jsx("circle",{cx:"8.5",cy:"9.5",r:"1.5"},"1"),P.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m0-6c-2.33 0-4.32 1.45-5.12 3.5h1.67c.69-1.19 1.97-2 3.45-2s2.75.81 3.45 2h1.67c-.8-2.05-2.79-3.5-5.12-3.5"},"2")]),MCe=yr(P.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5m-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11m3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5"})),ta={flexContainer:"ReactVirtualizedDemo-flexContainer",tableRow:"ReactVirtualizedDemo-tableRow",tableRowHover:"ReactVirtualizedDemo-tableRowHover",tableCell:"ReactVirtualizedDemo-tableCell",noClick:"ReactVirtualizedDemo-noClick"},FCe=({theme:r})=>({"& .ReactVirtualized__Table__headerRow":{...r.direction==="rtl"&&{paddingLeft:"0 !important"},...r.direction!=="rtl"&&{paddingRight:void 0}},[`& .${ta.flexContainer}`]:{display:"flex",alignItems:"center",boxSizing:"border-box"},[`& .${ta.tableRow}`]:{cursor:"pointer"},[`& .${ta.tableRowHover}`]:{"&:hover":{backgroundColor:r.palette.grey[200]}},[`& .${ta.tableCell}`]:{flex:1},[`& .${ta.noClick}`]:{cursor:"initial"}});class Rz extends M.PureComponent{static defaultProps={headerHeight:48,rowHeight:80};getRowClassName=({index:e})=>{const{onRowClick:t}=this.props;return Et(ta.tableRow,ta.flexContainer,{[ta.tableRowHover]:e!==-1&&t!=null})};getObjectIndexIndex=e=>{const{originalData:t}=this.props;for(let n=0;n<t.length;n++)if(t[n].index===e)return n;return 0};cellRenderer=({cellData:e,columnIndex:t})=>{const{t:n,rowHeight:i,onRowClick:s,showMultiSelect:a,selectRow:o,watchRow:l,originalData:u,columns:c,seeDetail:h,nowMod:f}=this.props;return P.jsxs(Wd,{component:"div",className:Et(ta.tableCell,ta.flexContainer,{[ta.noClick]:s==null}),variant:"body",style:{height:i,width:c[t].width+" !important",flex:"auto"},children:[t===0?a?P.jsx(Pp,{color:"primary",checked:u[this.getObjectIndexIndex(e)].checked,onClick:()=>o(e),inputProps:{"aria-labelledby":t}}):P.jsx(P.Fragment,{}):"",t===1?P.jsxs("div",{children:[P.jsxs("div",{style:{fontWeight:"600",cursor:"pointer"},children:[e," - ",P.jsx("span",{onClick:()=>h(u[this.getObjectIndexIndex(e)]),children:u[this.getObjectIndexIndex(e)].name}),f===1?P.jsx(Ml,{size:"small",onClick:()=>l(u[this.getObjectIndexIndex(e)]),children:P.jsx(LCe,{fontSize:"small",sx:{color:Ad[400]}})}):""]}),P.jsx("div",{style:{fontSize:"12px",color:"#7a7a7a",overflow:"hidden",height:"16px"},children:P.jsx("i",{children:u[this.getObjectIndexIndex(e)].url})}),P.jsxs("div",{style:{fontSize:"12px",color:"#7a7a7a"},children:[u[this.getObjectIndexIndex(e)].video?""+u[this.getObjectIndexIndex(e)].video.width+"x"+u[this.getObjectIndexIndex(e)].video.height+"-"+u[this.getObjectIndexIndex(e)].video.codec:"","-",u[this.getObjectIndexIndex(e)].audio?""+u[this.getObjectIndexIndex(e)].audio.codec+"-"+u[this.getObjectIndexIndex(e)].audio.channels+" audio channels":""]})]}):"",t===2?P.jsxs(pt,{children:[u[this.getObjectIndexIndex(e)].status===0?P.jsx(tC,{sx:{width:24,height:24},children:P.jsx(x1e,{})}):"",u[this.getObjectIndexIndex(e)].status===1?f===0?P.jsxs("div",{style:{color:u[this.getObjectIndexIndex(e)].delay<500?"green":"red",fontWeight:"bold"},children:[u[this.getObjectIndexIndex(e)].delay,"ms"]}):P.jsx(tC,{sx:{bgcolor:Ad[500],width:24,height:24},children:P.jsx(MCe,{})}):"",u[this.getObjectIndexIndex(e)].status===2?P.jsx(tC,{sx:{bgcolor:Zie[500],width:24,height:24},children:P.jsx(OCe,{})}):""]}):""]})};headerRenderer=({label:e,columnIndex:t})=>{const{selectedArr:n,originalData:i,showMultiSelect:s,selectAll:a,columns:o}=this.props;return P.jsxs(Wd,{component:"div",className:Et(ta.tableCell,ta.flexContainer,ta.noClick),variant:"head",style:{width:o[t].width+" !important",flex:"auto"},children:[t===0?s?P.jsx(Pp,{color:"primary",checked:n.length>0&&n.length===i.length,onClick:a,indeterminate:n.length>0&&n.length!==i.length,inputProps:{"aria-labelledby":-1}}):P.jsx("div",{children:""}):"",t!==0?P.jsx("span",{children:e}):""]})};render(){const{columns:e,rowHeight:t,headerHeight:n,...i}=this.props;return P.jsx(pz,{children:({height:s,width:a})=>P.jsx(BD,{height:s,width:a,rowHeight:t,gridStyle:{direction:"inherit"},headerHeight:n,...i,rowClassName:this.getRowClassName,children:e.map(({dataKey:o,...l},u)=>P.jsx(FD,{headerRenderer:c=>this.headerRenderer({...c,columnIndex:u}),className:ta.flexContainer,cellRenderer:this.cellRenderer,dataKey:o,...l},o))})})}}Rz.propTypes={columns:Il.arrayOf(Il.shape({dataKey:Il.string.isRequired,label:Il.string.isRequired,width:Il.number.isRequired})).isRequired,headerHeight:Il.number,onRowClick:Il.func,rowHeight:Il.number};const BCe=it(Rz)(FCe);function NCe(){const{t:r}=Ti(),e=Yu(),t=M.useContext(fa),[n,i]=M.useState(550);iv();const[s,a]=M.useState([]),[o,l]=M.useState(0),[u,c]=M.useState(null),[h,f]=M.useState(!1),g=N=>{const{name:U,value:F}=N.target;c(w=>({...w,[U]:F}))},v=(N,U)=>new URLSearchParams(N.search).get(U);M.useEffect(()=>{let N=v(e,"md5");e.pathname==="/detail"&&t.updateDetailMd5(N),console.log("-----",e)},[e]);const y=()=>{t.updateDataByIndex([u.index],{name:u.name,tvgLogo:u.tvgLogo,url:u.url,groupTitle:u.groupTitle}),l(1)};M.useEffect(()=>{i(window.innerHeight-t.headerHeight-50),window.addEventListener("resize",N=>{i(N.currentTarget.innerHeight-t.headerHeight-50)})},[]);const _=async N=>{let U=t.nowPlatform;if(t.nowMod===1){let F="watch";if(await pf.getByLabel(F)!==null){BE("changeWatchUrl",{data:N});return}const $=new pf(F,{url:"/watch/single?platform="+U+"&url="+N.url,x:0,y:0,width:1024,height:600,title:N.name,center:!0,maximizable:!1});console.log("webview",$),$.once("tauri://created",function(){}),$.once("tauri://error",function(H){console.log("traui error ",H)})}else console.log("-------22222"),window.open("/watch/single?platform="+U+"&url="+N.url)},C=()=>{let N=1;s.length>0&&(N=0);let U=[];if(N===1)for(let F=0;F<t.detailList.length;F++)U.push(t.detailList[F].index);t.onSelectedOrNotAll(N),a(U)},k=N=>{t.onSelectedRow(N);let U=1;for(let F=0;F<s.length;F++)s[F]===N&&(U=0);a(U===1?F=>[...F,N]:F=>F.filter(w=>w!==N))},D=N=>{if(o!==0&&u!==null&&N.index===u.index){l(0);return}l(1),c(N)},I=()=>{l(0)},A=()=>{l(2)},R=N=>{f(N)};return P.jsxs(pt,{style:{padding:"0 20px"},children:[P.jsx(y1e,{setSelectedArr:a,showMultiSelect:h,selectedArr:s,changeShowMultiSelect:R}),P.jsx(Qu,{style:{height:n,marginTop:"10px"},children:P.jsx(BCe,{rowCount:t.detailList.length,rowGetter:({index:N})=>t.detailList[N],originalData:t.detailList,selectAllRow:C,showMultiSelect:h,selectRow:k,seeDetail:D,watchRow:_,nowMod:t.nowMod,t:()=>r,selectedArr:s,selectAll:C,columns:[{width:80,label:"checkBox",dataKey:"index"},{width:600,label:r(""),dataKey:"index"},{width:100,label:r(""),dataKey:"index"}]})}),o!==0?P.jsx(pt,{sx:{backgroundColor:"#fff",borderRadius:"10px"},children:P.jsx(pt,{children:P.jsxs(pt,{sx:{display:"flex",flexDirection:"column"},children:[P.jsx(Nr,{sx:{marginBottom:"25px",marginTop:"10px"},fullWidth:!0,children:P.jsx(On,{disabled:o===1,sx:{fontSize:"11px"},label:r(""),name:"name",size:"small",id:"standard-multiline-static",value:u.name,onChange:g})}),P.jsx(Nr,{sx:{marginBottom:"25px"},fullWidth:!0,children:P.jsx(On,{disabled:o===1,sx:{fontSize:"11px"},label:r("m3u8"),name:"url",size:"small",id:"standard-multiline-static",value:u.url,onChange:g})}),P.jsx(Nr,{sx:{marginBottom:"25px"},fullWidth:!0,children:P.jsx(On,{disabled:o===1,sx:{fontSize:"11px"},label:r("logoUrl"),name:"tvgLogo",size:"small",id:"standard-multiline-static",value:u.tvgLogo,onChange:g})}),P.jsx(Nr,{sx:{marginBottom:"15px"},fullWidth:!0,children:P.jsx(On,{disabled:o===1,sx:{fontSize:"11px"},label:r(""),name:"groupTitle",size:"small",id:"standard-multiline-static",value:u.groupTitle,onChange:g})}),P.jsxs(pt,{sx:{display:"flex",justifyContent:"flex-end"},children:[o===2?P.jsx(Sr,{size:"small",onClick:y,variant:"contained",sx:{marginRight:"5px"},children:r("")}):"",o===1?P.jsx(Sr,{size:"small",onClick:A,variant:"contained",sx:{marginRight:"5px"},children:r("")}):"",P.jsx(Sr,{size:"small",onClick:I,variant:"contained",children:r("/")})]})]})})}):""]})}const UCe=()=>{const{t:r}=Ti(),e=iv();return P.jsxs(pt,{sx:{p:3},children:[P.jsx(mr,{variant:"h4",gutterBottom:!0,children:r(" iptv-checker")}),P.jsx(mr,{variant:"subtitle1",gutterBottom:!0,color:"textSecondary",children:r(" IPTV  Web ")}),P.jsxs(Jo,{container:!0,spacing:3,sx:{mt:2},children:[P.jsx(Jo,{item:!0,xs:12,md:4,children:P.jsx(Mu,{children:P.jsxs(Ud,{children:[P.jsx(mr,{variant:"h6",component:"div",gutterBottom:!0,children:r("")}),P.jsx(mr,{variant:"body2",color:"textSecondary",sx:{mb:2},children:r("")}),P.jsx(Sr,{variant:"outlined",onClick:()=>e("/task"),children:r("")})]})})}),P.jsx(Jo,{item:!0,xs:12,md:4,children:P.jsx(Mu,{children:P.jsxs(Ud,{children:[P.jsx(mr,{variant:"h6",component:"div",gutterBottom:!0,children:r("")}),P.jsx(mr,{variant:"body2",color:"textSecondary",sx:{mb:2},children:r("")}),P.jsx(Sr,{variant:"outlined",onClick:()=>e("/favorite"),children:r("")})]})})}),P.jsx(Jo,{item:!0,xs:12,md:4,children:P.jsx(Mu,{children:P.jsxs(Ud,{children:[P.jsx(mr,{variant:"h6",component:"div",gutterBottom:!0,children:r("")}),P.jsx(mr,{variant:"body2",color:"textSecondary",sx:{mb:2},children:r("")}),P.jsx(Sr,{variant:"outlined",onClick:()=>e("/settings"),children:r("")})]})})})]})]})},SB=yr(P.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2m4.24 16L12 15.45 7.77 18l1.12-4.81-3.73-3.23 4.92-.42L12 5l1.92 4.53 4.92.42-3.73 3.23z"})),$Ce=yr(P.jsx("path",{d:"M20 3H4v10c0 2.21 1.79 4 4 4h6c2.21 0 4-1.79 4-4v-3h2c1.11 0 2-.9 2-2V5c0-1.11-.89-2-2-2m0 5h-2V5h2zM4 19h16v2H4z"})),jCe="/assets/howtostar-CrDptf5J.png",zCe=()=>{const{t:r}=Ti(),t=M.useContext(fa).configInfo.sponsor||[],[n,i]=M.useState(0),[s,a]=M.useState(null),[o,l]=M.useState(null),u=()=>{i(1)},c=y=>{a(y),i(2)},h=()=>{i(1),a(null)},f=y=>{l(y)},g=()=>{l(null)},v=()=>{window.open(jE.homepage_url,"_blank")};return P.jsxs(pt,{sx:{p:4,display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[n===0&&P.jsxs(P.Fragment,{children:[P.jsx(mr,{variant:"h5",gutterBottom:!0,children:r("")}),P.jsx(pt,{sx:{mt:4},children:P.jsx(Sr,{variant:"contained",color:"primary",size:"large",onClick:u,children:r("")})})]}),n===1&&P.jsxs(P.Fragment,{children:[P.jsx(mr,{variant:"h5",gutterBottom:!0,children:r("")}),P.jsx(mr,{variant:"body1",sx:{mb:4},children:r("")}),P.jsxs(Jo,{container:!0,spacing:4,justifyContent:"center",children:[P.jsx(Jo,{item:!0,children:P.jsx(Mu,{sx:{maxWidth:345,minWidth:200},children:P.jsxs(qO,{onClick:()=>c("money"),sx:{p:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[P.jsx($Ce,{sx:{fontSize:60,color:"primary.main",mb:2}}),P.jsx(Ud,{children:P.jsx(mr,{gutterBottom:!0,variant:"h6",component:"div",children:r("")})})]})})}),P.jsx(Jo,{item:!0,children:P.jsx(Mu,{sx:{maxWidth:345,minWidth:200},children:P.jsxs(qO,{onClick:()=>c("star"),sx:{p:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[P.jsx(SB,{sx:{fontSize:60,color:"warning.main",mb:2}}),P.jsx(Ud,{children:P.jsx(mr,{gutterBottom:!0,variant:"h6",component:"div",children:r("")})})]})})})]})]}),n===2&&s==="money"&&P.jsxs(P.Fragment,{children:[P.jsx(mr,{variant:"h5",gutterBottom:!0,children:r("")}),P.jsx(Jo,{container:!0,spacing:2,justifyContent:"center",sx:{mb:4,mt:2},children:t.map((y,_)=>P.jsx(Jo,{item:!0,children:P.jsx(Sr,{variant:"outlined",size:"large",onClick:()=>f(y),children:y.name})},_))}),t.length===0&&P.jsx(mr,{variant:"body1",color:"textSecondary",sx:{mb:2},children:r("")}),P.jsx(Sr,{variant:"text",onClick:h,children:r("")})]}),n===2&&s==="star"&&P.jsxs(P.Fragment,{children:[P.jsx(SB,{sx:{fontSize:80,color:"warning.main",mb:2}}),P.jsx(mr,{variant:"h5",gutterBottom:!0,children:r(" Star ")}),P.jsx(pt,{sx:{mt:4,mb:2},children:P.jsx(Sr,{variant:"contained",color:"primary",size:"large",onClick:v,children:r(" GitHub  Star")})}),P.jsx("img",{src:jCe,alt:"how to star",style:{width:"100%",maxWidth:"800px",objectFit:"contain"}}),P.jsx(Sr,{variant:"text",onClick:h,children:r("")})]}),P.jsxs(xo,{open:!!o,onClose:g,maxWidth:"md",children:[P.jsx(eh,{children:o?.name}),P.jsx(vv,{children:P.jsx(pt,{sx:{display:"flex",justifyContent:"center",p:2},children:o?.url&&P.jsx("img",{src:o.url,alt:o.name,style:{maxWidth:"100%",maxHeight:"500px",objectFit:"contain"}})})})]})]})};function HCe(){const{t:r}=Ti(),e=M.useContext(fa),[t,n]=M.useState(!1),[i,s]=M.useState(!1),[a,o]=M.useState(!1),[l,u]=M.useState(""),[c,h]=M.useState(!1),[f,g]=M.useState(null),v=Yr.useRef(null),[y]=M.useState(()=>new Gm),_=async()=>{n(!0);try{const A=await y.exportConfig();if(A&&A.file){const R=A.file.startsWith("http")?A.file:`${e.settings.privateHost||""}${A.file}`;window.open(R),u(r(""))}else u(r(""))}catch(A){console.error("Export failed:",A),u(r(""))}finally{n(!1),o(!0)}},C=()=>{h(!0)},k=()=>{h(!1),setTimeout(()=>{v.current?.click()},100)},D=()=>{h(!1)},I=async A=>{const R=A.target.files[0];if(!R)return;s(!0);const N=new FormData;N.append("file",R);try{await y.importConfig(N),u(r(""))}catch(U){console.error("Import failed:",U),u(r(""))}finally{s(!1),o(!0),A.target.value=""}};return P.jsxs(pt,{sx:{padding:"20px"},children:[P.jsx(sh,{open:a,autoHideDuration:3e3,onClose:()=>o(!1),message:l}),P.jsx(mr,{variant:"h6",gutterBottom:!0,children:r("")}),P.jsx(mr,{variant:"body2",color:"textSecondary",sx:{mb:3},children:r("")}),P.jsxs(pt,{sx:{display:"flex",gap:2},children:[P.jsx(mo,{variant:"contained",loading:t,startIcon:P.jsx(p2,{}),onClick:_,children:r("")}),P.jsx(Sr,{variant:"outlined",startIcon:i?P.jsx(_f,{size:20}):P.jsx(R9,{}),disabled:i,onClick:C,children:r(i?"...":"")}),P.jsx("input",{ref:v,type:"file",hidden:!0,accept:".zip",onChange:I})]}),P.jsxs(xo,{open:c,onClose:D,"aria-labelledby":"import-confirm-dialog-title","aria-describedby":"import-confirm-dialog-description",children:[P.jsx(eh,{id:"import-confirm-dialog-title",children:r("")}),P.jsx(vv,{children:P.jsxs(mae,{id:"import-confirm-dialog-description",children:[r(""),P.jsx("br",{}),P.jsx("strong",{children:r("")})]})}),P.jsxs(Lk,{children:[P.jsx(Sr,{onClick:D,color:"inherit",children:r("")}),P.jsx(Sr,{onClick:k,color:"error",variant:"contained",autoFocus:!0,children:r("")})]})]})]})}const Lz=[{path:"/",name:"",icon:"HomeOutlinedIcon",element:P.jsx(UCe,{}),handle:{showMod:[0,1],showHeader:!0,showSidebar:!0}},{path:"/local",name:"",icon:"LaptopIcon",element:P.jsx(Rle,{}),handle:{showMod:[1],showHeader:!0,showSidebar:!0}},{path:"/watch",name:"",icon:"RemoveRedEyeIcon",element:P.jsx(aSe,{}),handle:{showMod:[1],showHeader:!0,showSidebar:!0}},{path:"/task",name:"",icon:"CloudQueueIcon",element:P.jsx(oSe,{}),handle:{showMod:[0],showHeader:!0,showSidebar:!0}},{path:"/favorite",name:"",icon:"FavoriteBorderIcon",element:P.jsx(hSe,{}),handle:{showMod:[0],showHeader:!0,showSidebar:!0}},{path:"/settings",name:"",icon:"SettingsOutlinedIcon",handle:{showMod:[0,1],showHeader:!0,showSidebar:!0},children:[{path:"/settings",index:!0,element:P.jsx(CF,{}),hideInMenu:!0,handle:{showHeader:!0,showSidebar:!0}},{path:"/settings/basic",name:"",icon:"PublicIcon",element:P.jsx(CF,{}),handle:{showHeader:!0,showSidebar:!0}},{path:"/settings/keywords",name:"",icon:"StickyNote2Icon",element:P.jsx(dSe,{}),handle:{showHeader:!0,showSidebar:!0}},{path:"/settings/search",name:"",icon:"SearchIcon",element:P.jsx(cSe,{}),handle:{showHeader:!0,showSidebar:!0}},{path:"/settings/logos",name:"",icon:"PhotoLibraryIcon",element:P.jsx(pSe,{}),handle:{showHeader:!0,showSidebar:!0}},{path:"/settings/backup",name:"",icon:"SettingsBackupRestoreIcon",element:P.jsx(HCe,{}),handle:{showHeader:!0,showSidebar:!0}},{path:"/settings/donate",name:"",icon:"VolunteerActivismIcon",element:P.jsx(zCe,{}),handle:{showHeader:!0,showSidebar:!0}}]},{path:"/detail",element:P.jsx(NCe,{}),hideInMenu:!0,handle:{showHeader:!1,showSidebar:!0}},{path:"/watch/single",element:P.jsx(uSe,{}),hideInMenu:!0,handle:{showHeader:!1,showSidebar:!1}}],jg="/detail",TB=240,Wo=Lz.filter(r=>!r.hideInMenu);function VCe(){const{t:r}=Ti();let e=Yu();const t=yK(),n=M.useContext(fa),i=iv(),[s,a]=M.useState(Wo[0]),[o,l]=M.useState(!1),[u,c]=M.useState(!1),[h,f]=M.useState(null),[g,v]=M.useState(!1),[y,_]=M.useState(!0),[C,k]=M.useState(!1),[D,I]=M.useState(""),[A,R]=M.useState(null),U=(t.find(te=>te.handle?.showHeader!==void 0)||t[t.length-1])?.handle||{showHeader:!0,showSidebar:!0};M.useEffect(()=>{if(e.pathname!=jg){n.updateDetailMd5("");for(let te=0;te<Wo.length;te++)if((e.pathname==Wo[te].path||e.pathname==Wo[te].uri)&&a(Wo[te]),Wo[te].children)for(let oe=0;oe<Wo[te].children.length;oe++){const de=Wo[te].children[oe].path||Wo[te].children[oe].uri;e.pathname==de&&(a(Wo[te].children[oe]),c(!0))}}},[e,Wo]);const F=te=>{const oe=te.path||te.uri;oe===jg?l(!o):te.children?c(!u):(a(te),i(oe))},w=te=>()=>{_(te)},$=()=>{k(!1)},H=Dne("(prefers-color-scheme: dark)"),W=M.useMemo(()=>yS({palette:{mode:H?"dark":"light",sideBarBgColor:{dark:"#021d2a",light:"antiquewhite"}}}),[H]),Q=P.jsx(pt,{className:"side-bar",style:{backgroundColor:W.palette.sideBarBgColor[H?"dark":"light"]},sx:{width:TB},role:"presentation",children:P.jsxs(s2,{children:[P.jsx(pt,{className:"side-bar-logo",children:P.jsxs(pt,{className:"side-bar-logo-item",children:[P.jsx("img",{src:are,height:"60"}),P.jsxs(pt,{className:"go-github",children:["iptv-checker",n.showNewVersion?P.jsx("a",{href:"/#/settings",style:{color:"green"},children:r("")}):""]})]})}),Wo.map((te,oe)=>te.handle?.showMod?.includes(n.nowMod)?P.jsx(pt,{children:te.path!==jg||te.path===jg&&n.subCheckMenuList.length>0?P.jsxs(P.Fragment,{children:[P.jsx(Cre,{disablePadding:!0,onClick:()=>F(te),children:P.jsxs(yO,{children:[P.jsxs(_O,{children:[te.icon==="LaptopIcon"?P.jsx(lee,{}):"",te.icon==="SettingsIcon"?P.jsx(bO,{}):"",te.icon==="AdjustIcon"?P.jsx(Rre,{}):"",te.icon==="CloudQueueIcon"?P.jsx(Lre,{}):"",te.icon==="RemoveRedEyeIcon"?P.jsx(JN,{}):"",te.icon==="BoltIcon"?P.jsx(Pre,{}):"",te.icon==="PublicIcon"?P.jsx(i2,{}):"",te.icon==="StickyNote2Icon"?P.jsx(vO,{}):"",te.icon==="FavoriteIcon"?P.jsx(SO,{}):"",te.icon==="FavoriteBorderIcon"?P.jsx(Fre,{}):"",te.icon==="HomeIcon"?P.jsx(Vre,{}):"",te.icon==="HomeOutlinedIcon"?P.jsx(Wre,{}):"",te.icon==="SettingsOutlinedIcon"?P.jsx(zre,{}):"",te.icon==="SettingsBackupRestoreIcon"?P.jsx(TO,{}):""]}),P.jsx(H_,{primary:r(te.name)}),te.path===jg?o?P.jsx(AO,{}):P.jsx(DO,{}):"",te.children?u?P.jsx(AO,{}):P.jsx(DO,{}):""]})},oe),te.children?P.jsx(a2,{in:u,timeout:"auto",unmountOnExit:!0,children:P.jsx(s2,{component:"div",disablePadding:!0,children:te.children.map((de,le)=>!de.hideInMenu&&P.jsxs(yO,{sx:{pl:4},onClick:()=>F(de),children:[P.jsxs(_O,{children:[de.icon==="PublicIcon"?P.jsx(i2,{}):"",de.icon==="StickyNote2Icon"?P.jsx(vO,{}):"",de.icon==="SettingsIcon"?P.jsx(bO,{}):"",de.icon==="SearchIcon"?P.jsx(Dk,{}):"",de.icon==="ManageSearchIcon"?P.jsx(Ore,{}):"",de.icon==="PhotoLibraryIcon"?P.jsx(Mre,{}):"",de.icon==="FavoriteIcon"?P.jsx(SO,{}):"",de.icon==="VolunteerActivismIcon"?P.jsx(Hre,{}):"",de.icon==="SettingsBackupRestoreIcon"?P.jsx(TO,{}):""]}),P.jsx(H_,{primary:r(de.name)})]},le))})}):""]}):""},oe):"")]})});return P.jsxs(Tte,{theme:W,children:[P.jsx(One,{}),P.jsx(WCe,{open:C,sponsorInfo:A,onClose:$}),P.jsxs(pt,{className:"layout",children:[U.showSidebar&&P.jsx(Tne,{sx:{".MuiPaper-root":{borderTopLeftRadius:"12px",borderBottomLeftRadius:"12px",backgroundColor:"transparent"}},open:y,anchor:"left",variant:y?"permanent":"temporary",children:Q}),P.jsxs(pt,{className:"container-inner",style:{marginLeft:U.showSidebar&&y?TB+"px":""},children:[P.jsx(pt,{"data-tauri-drag-region":!0,style:{width:"100%",height:"20px"}}),U.showHeader&&P.jsx(pt,{style:{padding:"0 20px",display:"flex",justifyContent:"space-between",height:"60px"},children:P.jsxs(pt,{style:{display:"flex",justifyContent:"space-between",height:"60px",width:"100%"},children:[P.jsxs(pt,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:[U.showSidebar&&P.jsx(pt,{children:P.jsx(Ml,{"aria-label":"delete",size:"small",onClick:w(!y),children:P.jsx(Ane,{})})}),P.jsx(pt,{style:{fontWeight:"bold",fontSize:"20px"},children:s.name!==null&&s.name!==void 0?r(s.name):n.detailMd5})]}),P.jsxs(pt,{"data-tauri-drag-region":!0,style:{display:n.nowMod===1?"flex":"none",justifyContent:"center",alignItems:"center"},children:[P.jsx(pt,{className:"titlebar-button",id:"titlebar-minimize",children:P.jsx("img",{src:"https://api.iconify.design/mdi:window-minimize.svg",alt:"minimize"})}),P.jsx(pt,{className:"titlebar-button",id:"titlebar-close",children:P.jsx("img",{src:"https://api.iconify.design/mdi:close.svg",alt:"close"})})]})]})}),P.jsx(pt,{style:{width:"100%",height:"20px"}}),P.jsx(u2,{style:{marginBottom:"10px"}}),P.jsx(kK,{})]})]})]})}function WCe(r){const{t:e}=Ti(),{onClose:t,sponsorInfo:n,open:i}=r,s=()=>{t()};return P.jsxs(xo,{onClose:s,open:i,children:[P.jsx(eh,{children:e("")}),n!==null&&n.url!==""?P.jsx(pt,{sx:{display:"flex",justifyContent:"center"},children:P.jsx("img",{src:n.url,height:"400"})}):""]})}const qCe={"Welcome to React":"iptv-checker","System Setting":"","menu source check":"","menu public source":"","menu watch online":"","menu background task":"","menu system settings":"","Please enter the data to be checked":"",:"",:"",:"",:"","":"",:"",:"",:"","URL":"URL","":"","":"",:"","GitHub ":"GitHub ",:"","GitHub ":"GitHub ",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",URL:"URL",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"","URL":"URL"," IPTV Checker Web":" IPTV Checker Web"," IPTV  Web ":" IPTV  Web ",:"",:"",:"","":"","":"","":"",:"",:""," ":" ",:"","":"","":"","":""," ":" ",:"",:"",:""," Star ":" Star "," GitHub  Star":" GitHub  Star",:"",:"",:"",:"",:"","...":"...",:"",:"",:"",:"",:"",:"",:"",:"","":"",:"",:"",:"",:"",:"",:"",:"",Logo:"Logo",:""},GCe={translation:qCe},KCe=JSON.parse(`{"ffmpeg":"ffmpeg check","":"Support developers to develop and continue to maintain the project","":"Run Time Info","":"Task Info","":"Output files","":"donate",".txt":"Download the results .txt format",".m3u":"Download the results .m3u format","":"edit data","":"Checking","":"records","":"total","":"Local Tasks","":"status","":"create time","":"File Type","":"And","":"New Version","":"Only Support","":"Check","Github":"Github link","":"Now version","STAR":" If you think the project is good, please open the link above and give it a STAR","":"Public Source","":"Check Again","":"Detection history","":"Data Check","":"Data preparation","":"Needs to be checked?",",.m3u.txt":"Please enter the link, only .m3u and .txt suffix links are supported","":"Please select a detection file","":"Local","":"Network","":"File Type","":"Buy me a drink","":"Fast Check","":"Please enter the data you want to check","m3u":"M3U information of your choice","":"raw data","":"Settings","":"Previous","csv":"Download CSV","":"Deal with it again","":"There are already groups","":"A new group has been added","m3u":"Download m3u","":"change","":"Or","":"Filter groups","":"Only the grouping is displayed","":"Resume checks","":"data","":"Filter video clarity","":"And","":"keyword","":"Start checking","":"Search","":"The save was successful","":"Multi-keyword search","":"Pause the check","":"The link is empty","":"After refreshing, you will be redirected to the home page","":"Valid links","":"Delay","":"Replaces the selected group","":"The channel name contains","":"Invalid link","":"Invalid","":"Check the progress","":"You need to click the [Search] button to filter","()":"Export (next step)","":"Select the source with the lowest latency","":"Edit","":"Delete the selection","/":"Cancel/Close","":"Watch","":"Custom source additions","m3u8":"m3u8 link","":"The name of the channel","":"Invalid","":"Valid","":"Save and close","":"Group name","":"Enter a new group name","":"System Settings","(,,)":"Sorting (If there is a large amount of data, the performance of the sorted list may be affected, so it is recommended to operate in batches)","":"Change the grouping","":"Check configuration","":"Previous","":"Next","":"Checking methods","http":"http fast check","http":"If it's a non-http link, skip it","(\\"[HD]CCTV1\\"\\"[HD]\\")":"Should the extra characters in the channel name be removed (for example, \\"[HD]CCTV1\\" will remove the \\"[HD]\\" characters)","(0 0)":"Number of channels to save with the same name (default 0 means save all; if set greater than 0, it will save the specified number of channels)","":"Basic configuration","":"Output file name","":"online link","":"local file","":"every day","":"Add","":"Waiting","":"Checking","":"Completed","":"Stopped","":"Operation failed","":"Channel Name Replacement Configuration","":"Character Replacement Configuration","":"Search Value","":"Replace Value","":"Cancel","":"Add a line","":"There are often some special characters before and after the channel name on the Internet. You can add this configuration to replace these characters and improve the tidiness of the channel name.","[HD][HD]":"For example, if \\"[HD]\\" appears in the channel name and you need to remove this character, add a line: fill in \\"[HD]\\" for the search value and leave the replacement value blank.","":"Basic configuration is empty","":"Favorite Channel Name","":"Dislike channel Name","":"Favorite Channel","":"Dislike channel","":"every hour","":"Timed check time","":"Add keywords","":"The name of the resulting file","":"Add not to see","":"No","":"Check the number of concurrent transactions","":"Yes","":"Execute it now","(ms)":"Check timeout (millisecond)","http(ms)":"HTTP Timeout (millisecond)","":"Add just look","":"Check the list of files","":"Need Sort","":"No need to check","":"Just look at the channel keywords","":"Subscribe link","":"Click Download","":"The operation failed","":"Don't look at channel keywords","":"If the fetch task fails, check whether the service starts normally","":"Not yet generated","id":"Task ID","":"Creation time","":"Run type","":"Love keywords","":"Play","":"Stop","":"Request header","m3u8":"Please enter the M3U8 playback address","":"Don't like keywords","m3u":"Upload the m3u file locally","":"Last run time","":"Next run time","":"Personalized configuration","":"Operational status","":"System configuration","":"Source Check","":"Public Source","":"Watch Online","":"Background Tasks","":"Please enter the data to be checked","":"New","":"Language","":"Remove","":"Example","":"name","":"Custom network source","":"Check concurrency","":"Check timeout (milliseconds)","":"Save","":"Player platform","":"Failed to fetch","":"Save failed","":"invalid parameters","":"Import tasks","":"Export tasks","":"Refetch Data","":"detail","":"Continue","":"Check Again","":"Refresh","":"last run time","":"Next Step","":"The input box supports the following formats","m3u,":"Supports standard format m3u links, if there are multiple, please use a comma as the separator, for example","":"Support similar","m3u":"Support original content of m3u files, similar to","":"Please select the source","githubiptv-org":"The current source is from iptv-org on GitHub. If you have relevant source links, please add them in the settings.","server":"The current setting for Background check server domain is","server":"Background check server domain","server":"I'm sorry, you haven't set the Background check server domain yet. Please go to the settings page to set it up before checking again.","":"Remote URL to Local Images","":"Extensions","":"Extensions (One per line)","":"Search Sources","":"Add Source","":"Parse Type","URL":"URLs (One per line)","":"Include Files (One per line)","":"Optional: Filter specific files","":"Save Configuration","GitHub ":"GitHub Home Page","":"Raw Source","GitHub ":"GitHub Sub Page","":"Spider Config","":"No Data","":"My Favorite Config","":"Add Rule","":"Match Logic","":"Include","":"Exact Match","":"No rules yet, please add from top right","":"Please enter channel name","":"Enter favorite channel name","":"Include Match","":"Exact Match","":"Add Favorite Channel Name","":"Subscription URL","":"All Crawled Channels","":"Favorite Channels","":"Checked Favorite Channels","":"Failed to open file","":"No link available","":"Special Character Replacement","":"Favorite Channels","":"Clear Results","":"Cleared Successfully","":"Start Crawling","":"Failed to fetch results","URL":"URLs","":"Include Files","":"Crawl Now","":"View Results","":"Crawl Results","":"No Content","":"Basic Settings","":"Spider Config","":"Don't forget to save","":"The content of the above link has been converted from Traditional to Simplified Chinese and special characters have been replaced","":"The following keywords can be directly input in simplified Chinese, and there is no need to worry about the problem of in the original source and the inability to search","":"Channel Logo Config","":"Channel Logo","":"Upload Logo","":"Logo Exists","":"No Logo","":"Welcome","":"Search Channel","":"Save All","":"Please enter channel name first","":"Please upload or select an image","":"Are you sure you want to delete?","":"Deleted successfully","":"Added successfully","":"Updated successfully","":"Image URL","":"Preview","URL":"Upload failed, no URL returned"," iptv-checker":"Welcome to iptv-checker"," IPTV  Web ":"This is a Web application for managing and checking IPTV channels.","":"Go to Tasks","":"Go to Favorites","":"Go to Settings","":"Configure scheduled tasks to automatically check channel validity.","":"Manage your favorite channels and view crawl results.","":"Configure crawler sources, keyword replacement, and other system settings.","":"Donate","":"Support Developer"," ":"If this project helps you, please consider buying the developer a coffee ","":"No donation info available","":"Do you like this project?","":"Yes, I like it!","":"Thank you for your support!"," ":"Please choose a way to support the developer ","":"Please choose a way to support the developer","":"Monetary Support","":"Mental Support"," Star ":"Your Star is our greatest motivation!"," GitHub  Star":"Go to GitHub and give a Star","":"Select Donation Method","":"Back","":"The uploaded filename is the channel name","":"Batch Upload Images","":"Upload Completed","...":"Uploading...","":"Success","":"Failed","":"All files failed to upload","":"Add Alias","":"Please enter alias","":"Alias added successfully","":"Original Channel","":"Alias","":"Support multiple aliases, separated by comma","":"Edit Alias","":"Existing Aliases","":"Add New Alias","":"Enter Alias","":"Alias already exists","":"No Aliases","Logo":"Local Logo Links"}`),XCe={translation:KCe},YCe={en:XCe,zh:GCe};Ts.use(ine).init({resources:YCe,lng:"zh",interpolation:{escapeValue:!1}});const QCe=JK([{element:P.jsx(VCe,{}),children:Lz}]);wH.createRoot(document.getElementById("root")).render(P.jsx(Yr.StrictMode,{children:P.jsx(nG,{children:P.jsx(mie,{children:P.jsx(cX,{router:QCe})})})}));
